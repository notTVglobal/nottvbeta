"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7343],{55398:(e,t,n)=>{n.d(t,{m:()=>o});var o=(0,n(69876).Q_)("newsStore",{state:function(){return{newsArticleIdTiptop:"",newsArticleTitleTiptop:"",newsArticleContentTiptop:[]}},actions:{}})},84874:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(94015),r=n.n(o),i=n(23645),l=n.n(i)()(r());l.push([e.id,"p[data-v-c45f9334]{margin-bottom:1em;margin-top:.75em}ol[data-v-c45f9334],ul[data-v-c45f9334]{padding:0 1rem}","",{version:3,sources:["webpack://./resources/js/Components/TextEditor/TiptapNewsPostCreate.vue"],names:[],mappings:"AAsFA,mBAEI,iBAAkB,CADlB,gBAEJ,CACA,wCAEI,cACJ",sourcesContent:['<template>\n    <TiptapButtons :editor="editor" />\n\x3c!--    <button--\x3e\n\x3c!--        @click="editor.chain().focus().undo().run()"--\x3e\n\x3c!--        :disabled="!editor.can().undo()"--\x3e\n\x3c!--    >--\x3e\n\x3c!--        undo--\x3e\n\x3c!--    </button>--\x3e\n\x3c!--    <button--\x3e\n\x3c!--        @click="editor.chain().focus().redo().run()"--\x3e\n\x3c!--        :disabled="!editor.can().redo()"--\x3e\n\x3c!--    >--\x3e\n\x3c!--        redo--\x3e\n\x3c!--    </button>--\x3e\n\x3c!--    <button @click.prevent="editor.chain().focus().toggleBulletList().run()"  class="ProseMirror py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg">--\x3e\n\x3c!--        Bullets--\x3e\n\x3c!--    </button>--\x3e\n\x3c!--    <button @click.prevent="editor.chain().focus().toggleList().run()" class="py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg">--\x3e\n\x3c!--        List--\x3e\n\x3c!--    </button>--\x3e\n\x3c!--    <button @click.prevent="editor.chain().focus().toggleBlockquote().run()" class="py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg">--\x3e\n\x3c!--        Block--\x3e\n\x3c!--    </button>--\x3e\n\x3c!--    <button @click.prevent="editor.chain().focus().toggleCode().run()" class="py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg">--\x3e\n\x3c!--        Code--\x3e\n\x3c!--    </button>--\x3e\n\x3c!--    <tabbable-textarea :editor="editor" class="element" />--\x3e\n    <div class="overflow-y-scroll min-h-[13rem] max-h-[13rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 ">\n        <editor-content :editor="editor" class=""/>\n    </div>\n</template>\n\n<script setup>\nimport {useNewsStore} from "@/Stores/NewsStore"\nimport { Editor, EditorContent } from \'@tiptap/vue-3\'\nimport StarterKit from \'@tiptap/starter-kit\'\n\n// import {onBeforeUnmount} from "vue";\nimport {Inertia} from "@inertiajs/inertia";\nimport throttle from "lodash/throttle"\nimport axios from "axios";\nimport TabbableTextarea from "@/Components/TabbableTextarea.vue";\nimport TiptapButtons from "@/Components/News/TiptapButtons.vue";\n\nlet newsStore = useNewsStore();\n\nconst editor = new Editor({\n    content: newsStore.newsArticleContentTiptop,\n    extensions: [\n        StarterKit,\n    ],\n    // triggered on every change\n    onUpdate: ({ editor }) => {\n        newsStore.newsArticleContentTiptop = editor.getHTML()\n        // const value = editor.getJSON()\n    },\n    autofocus: true,\n    editorProps: {\n        attributes: {\n            class: \'min-h-[12rem] max-h-[12rem] block w-full p-2.5 focus:outline-none\'\n        }\n    }\n})\n\n// editor.commands.setContent({\n//     "type": "doc",\n//     "content": newsStore.newsArticleTiptop,\n// })\n\n// const json = editor.getJSON()\n// newsStore.newsArticleTiptop = editor.getHTML()\n\n\n// onBeforeUnmount(() => {\n//     // this isn\'t working, I think it\'s\n//     // needed for the history extension.\n//     editor.destroy()\n// })\n\n// History.configure({\n//     depth: 10,\n// })\n\n<\/script>\n\n<style scoped>\np {\n    margin-top: 0.75em;\n    margin-bottom: 1em;\n}\nul,\nol {\n    padding: 0 1rem;\n}\n</style>\n'],sourceRoot:""}]);const a=l},57083:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(70821),r=["disabled"],i=["disabled"];const l={__name:"TiptapButtons",props:{editor:Object},setup:function(e){return function(t,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("button",{onClick:n[0]||(n[0]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleBold().run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-bold",{"bg-gray-600 text-white":e.editor.isActive("bold")}])}," B ",2),(0,o.createElementVNode)("button",{onClick:n[1]||(n[1]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleItalic().run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("italic")}])}," i ",2),(0,o.createElementVNode)("button",{onClick:n[2]||(n[2]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleHeading({level:1}).run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("heading",{level:1})}])}," h1 ",2),(0,o.createElementVNode)("button",{onClick:n[3]||(n[3]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleHeading({level:2}).run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("heading",{level:2})}])}," h2 ",2),(0,o.createElementVNode)("button",{onClick:n[4]||(n[4]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleHeading({level:3}).run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("heading",{level:3})}])}," h3 ",2),(0,o.createElementVNode)("button",{onClick:n[5]||(n[5]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleBulletList().run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("bulletList")}])}," bullet list ",2),(0,o.createElementVNode)("button",{onClick:n[6]||(n[6]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleOrderedList().run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("orderedList")}])}," ordered list ",2),(0,o.createElementVNode)("button",{onClick:n[7]||(n[7]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleCodeBlock().run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("codeBlock")}])}," code block ",2),(0,o.createElementVNode)("button",{onClick:n[8]||(n[8]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().toggleBlockquote().run()}),["prevent"])),class:(0,o.normalizeClass)(["py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic",{"bg-gray-600 text-white":e.editor.isActive("blockquote")}])}," blockquote ",2),(0,o.createElementVNode)("button",{onClick:n[9]||(n[9]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().setHorizontalRule().run()}),["prevent"])),class:"py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 rounded-lg font-italic"}," horizontal rule "),(0,o.createElementVNode)("button",{onClick:n[10]||(n[10]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().undo().run()}),["prevent"])),class:"py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 disabled:hover:bg-gray-200 disabled:cursor-not-allowed disabled:text-black rounded-lg font-italic",disabled:!e.editor.can().chain().focus().undo().run()}," undo ",8,r),(0,o.createElementVNode)("button",{onClick:n[11]||(n[11]=(0,o.withModifiers)((function(t){return e.editor.chain().focus().redo().run()}),["prevent"])),class:"py-1 px-3 ml-2 mb-2 text-black hover:text-white bg-gray-200 hover:bg-gray-600 disabled:hover:bg-gray-200 disabled:cursor-not-allowed disabled:text-black rounded-lg font-italic",disabled:!e.editor.can().chain().focus().redo().run()}," redo ",8,i)])}}}},36414:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(70821),r=["onKeydown","textContent"];const i={__name:"TabbableTextarea",props:{modelValue:String},emits:["update:modelValue"],setup:function(e,t){var n=t.emit;function i(e){var t=e.target,n=t.value,o=t.selectionStart,r=t.selectionEnd;t.value=n.substring(0,o)+"\t"+n.substring(r),t.selectionStart=t.selectionEnd=o+1}return function(t,l){return(0,o.openBlock)(),(0,o.createElementBlock)("textarea",{onKeydown:(0,o.withKeys)((0,o.withModifiers)(i,["prevent"]),["tab"]),onKeyup:l[0]||(l[0]=function(e){return(0,o.unref)(n)("update:modelValue",e.target.value)}),textContent:(0,o.toDisplayString)(e.modelValue)},null,40,r)}}}},30131:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(70821),r=n(39038),i={key:0},l=(0,o.createElementVNode)("div",{class:"font-medium text-red-600"}," Whoops! Something went wrong. ",-1),a={class:"mt-3 list-disc list-inside text-sm text-red-600"};const c={__name:"ValidationErrors",setup:function(e){var t=(0,o.computed)((function(){return(0,r.qt)().props.value.errors})),n=(0,o.computed)((function(){return Object.keys(t.value).length>0}));return function(e,r){return n.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[l,(0,o.createElementVNode)("ul",a,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(t.value,(function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{key:t},(0,o.toDisplayString)(e),1)})),128))])])):(0,o.createCommentVNode)("",!0)}}}},17343:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var o=n(70821),r=n(39038),i=n(40191),l=n(90771),a=n(55398),c=n(30131),s=n(95404),d=n(90173),u=n(9680),m=(n(23493),n(9669),n(36414),n(57083)),g={class:"overflow-y-scroll min-h-[13rem] max-h-[13rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500"};const b={__name:"TiptapNewsPostCreate",setup:function(e){var t=(0,a.m)(),n=new s.ML({content:t.newsArticleContentTiptop,extensions:[d.Z],onUpdate:function(e){var n=e.editor;t.newsArticleContentTiptop=n.getHTML()},autofocus:!0,editorProps:{attributes:{class:"min-h-[12rem] max-h-[12rem] block w-full p-2.5 focus:outline-none"}}});return function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(m.Z,{editor:(0,o.unref)(n)},null,8,["editor"]),(0,o.createElementVNode)("div",g,[(0,o.createVNode)((0,o.unref)(s.kg),{editor:(0,o.unref)(n),class:""},null,8,["editor"])])],64)}}};var p=n(93379),f=n.n(p),x=n(84874),h={insert:"head",singleton:!1};f()(x.Z,h);x.Z.locals;const v=(0,n(83744).Z)(b,[["__scopeId","data-v-c45f9334"]]);var y=n(664),w={class:"place-self-center flex flex-col gap-y-3"},k={id:"topDiv",class:"bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10"},C={class:"flex flex-row justify-between mt-6"},N=(0,o.createElementVNode)("h2",{class:"text-xl font-semibold leading-tight"}," Create News Post ",-1),E={class:"flex justify-end space-x-2"},V={class:"p-6 border-b border-gray-200"},B={class:"mb-6"},A=(0,o.createElementVNode)("label",{for:"Title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Title",-1),T={key:0,class:"text-sm text-red-600"},M={class:"mb-6"},S=(0,o.createElementVNode)("label",{for:"content_json",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Content",-1),_={key:1,class:"text-sm text-red-600"},L={class:"flex justify-start"},j=["disabled"],z=(0,o.createElementVNode)("button",{class:"h-fit ml-2 px-4 py-2 text-white bg-blue-500 hover:bg-blue-300 rounded-lg"},"Cancel",-1);const I={__name:"Create",props:{can:Object},setup:function(e){var t=(0,i.q)(),n=(0,l.L)(),s=(0,a.m)(),d=e,m=(0,r.cI)({title:"",body:"",content_json:[]}),g=function(){m.body=s.newsArticleContentTiptop,m.post(route("news.store"))};function b(){s.newsArticleContentTiptop="",u.Inertia.visit(n.prevUrl)}return n.currentPage="newsCreate",n.showFlashMessage=!0,(0,o.onBeforeMount)((function(){s.newsArticleContentTiptop=[]})),(0,o.onMounted)((function(){t.makeVideoTopRight(),n.isMobile&&(t.ottClass="ottClose",t.ott=0),document.getElementById("topDiv").scrollIntoView()})),function(e,t){var r=(0,o.resolveComponent)("Head"),i=(0,o.resolveComponent)("Link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(r,{title:"Create News Post"}),(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("div",k,[(0,o.unref)(n).showFlashMessage?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(y.Z),{key:0,flash:e.$page.props.flash},null,8,["flash"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",C,[N,(0,o.createElementVNode)("div",E,[(0,o.createElementVNode)("div",null,[(0,o.unref)(d).can.viewNewsroom?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=function(e){return(0,o.unref)(n).btnRedirect("/newsroom")}),class:"px-4 py-2 text-white bg-yellow-600 hover:bg-yellow-500 rounded-lg disabled:bg-gray-400"},"Newsroom")):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("button",{onClick:b,class:"px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg"},"Cancel ")])])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("form",{onSubmit:t[2]||(t[2]=(0,o.withModifiers)((function(){return(0,o.unref)(g)&&(0,o.unref)(g).apply(void 0,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",B,[A,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,o.unref)(m).title=e}),name:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:""},null,512),[[o.vModelText,(0,o.unref)(m).title]]),(0,o.unref)(m).errors.title?((0,o.openBlock)(),(0,o.createElementBlock)("div",T,(0,o.toDisplayString)((0,o.unref)(m).errors.title),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",M,[S,"newsCreate"===(0,o.unref)(n).currentPage?((0,o.openBlock)(),(0,o.createBlock)(v,{key:0})):(0,o.createCommentVNode)("",!0),(0,o.unref)(m).errors.content_json?((0,o.openBlock)(),(0,o.createElementBlock)("div",_,(0,o.toDisplayString)((0,o.unref)(m).errors.content_json),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("button",{type:"submit",class:(0,o.normalizeClass)(["h-fit text-white bg-blue-700 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5",{"opacity-25":(0,o.unref)(m).processing}]),disabled:(0,o.unref)(m).processing}," Submit ",10,j),(0,o.createVNode)(i,{href:"/news"},{default:(0,o.withCtx)((function(){return[z]})),_:1}),(0,o.createVNode)(c.Z,{class:"ml-4"})])],32)])])])],64)}}}}}]);
//# sourceMappingURL=7343.js.map