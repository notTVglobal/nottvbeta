{"version":3,"file":"js/7979.js","mappings":"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","sources":["webpack:///./resources/js/Stores/TeamStore.js","webpack:///./resources/js/Components/Multimedia/SingleImage.vue","webpack:///./resources/js/Components/Pagination.vue?9c0c","webpack:///./resources/js/Components/Pagination.vue","webpack:///./resources/js/Components/Teams/TeamShowsList.vue","webpack:///./resources/js/Pages/Teams/{$id}/Index.vue?c445","webpack:///./resources/js/Pages/Teams/{$id}/Index.vue"],"sourcesContent":["import {defineStore} from \"pinia\";\nimport {Inertia} from \"@inertiajs/inertia\";\n\nexport let useTeamStore = defineStore('teamStore', {\n    state: () => ({\n        id: 0,\n        name: '',\n        description: '',\n        slug: '',\n        totalSpots: '',\n        memberSpots: '',\n        teamLeader: [],\n        members: [],\n        managers: [],\n        activeShow: [],\n        activeEpisode: [],\n        creators: [],\n        showModal: Boolean,\n        confirmDialog: false,\n        confirmManagerDialog: false,\n        selectedManagerName: '',\n        selectedManagerId: 0,\n        addManager: false,\n        removeManager: false,\n        deleteMemberName: '',\n        deleteMemberId: 0,\n        noteEdit: 0,\n        note: '',\n        saveNoteProcessing: Boolean,\n            // on the show episode manage page\n            // turn on the go live div\n            goLiveDisplay: false,\n        can: [],\n    }),\n\n    actions: {\n        // async fill() {\n        //     let r = await import('@/Json/team.json');\n        //     this.$state = r.default;\n        // },\n        setActiveTeam(team) {\n            this.id = team.id;\n            this.name = team.name;\n            this.description = team.description;\n            this.slug = team.slug;\n            this.totalSpots = team.totalSpots;\n            this.memberSpots = team.memberSpots;\n        },\n        setActiveShow(show) {\n            this.activeShow = show;\n        },\n        setActiveEpisode(episode) {\n            this.activeShow = episode;\n        },\n        // getCreators() {\n        //     Inertia.reload({ only: ['creators'] })\n        // },\n        deleteTeamMemberCancel() {\n            this.confirmDialog = false;\n        },\n        confirmTeamManagerCancel() {\n            this.confirmManagerDialog = false;\n        },\n        // loadTeamMembers(members){\n        //     this.members = members;\n        // }\n        deleteTeamMember() {\n            Inertia.visit(route('teams.removeTeamMember'), {\n                method: 'post',\n                data: {\n                    user_id: this.deleteMemberId,\n                    team_id: this.id,\n                    team_slug: this.slug\n                },\n            })\n        },\n        addTeamManager() {\n            Inertia.visit(route('teams.addTeamManager'), {\n                method: 'post',\n                data: {\n                    user_id: this.selectedManagerId,\n                    team_id: this.id,\n                    team_slug: this.slug\n                },\n            })\n            this.confirmManagerDialog = false;\n        },\n        removeTeamManager() {\n            Inertia.visit(route('teams.removeTeamManager'), {\n                method: 'post',\n                data: {\n                    user_id: this.selectedManagerId,\n                    team_id: this.id,\n                    team_slug: this.slug\n                },\n            })\n            this.confirmManagerDialog = false;\n        },\n        toggleGoLiveDisplay() {\n            this.goLiveDisplay = ! this.goLiveDisplay;\n        }\n    },\n\n    getters: {\n        spotsRemaining() {\n            if (this.totalSpots - this.memberSpots < 1){\n                return 0\n            }\n            return this.totalSpots - this.memberSpots;\n        },\n    }\n});\n\n\n// Another option for declaring specific data to return:\n// let data = r.default;\n//\n// import('@/Json/team.json').then(r => {\n// this.$patch({\n//     name: data.name,\n//     spots: data.spots,\n//     members: data.members\n// });\n// });\n","import script from \"./SingleImage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SingleImage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div v-if=\"data.last_page >  1\" class=\"flex flex-wrap justify-center my-4 space-x-2 md:space-x-4 space-y-2\">\n        <div></div>\n        <Component\n            :is=\"link.url ? 'Link' : 'span'\"\n            :id=\"id\"\n            v-for=\"(link, key) in filteredLinks\"\n            :key=\"key\"\n            :href=\"link.url\"\n            v-html=\"link.label\"\n            class=\"px-2 md:px-4 py-3 text-sm leading-4 h-fit\"\n            :class=\"{ 'text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400': link.active,\n                      'rounded mt-2 mr-0.5 bg-gray-100 light:bg-gray-100 light:hover:bg-gray-100 light:text-gray-300 dark:bg-gray-900 dark:hover:bg-gray-900 dark:text-gray-700': ! link.url,\n                      'rounded bg-gray-200 light:bg-gray-200 light:hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 light:text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow': link.url }\"\n            @scroll.prevent/>\n    </div>\n</template>\n\n\n<script setup>\nimport { ref, computed } from 'vue';\n\nconst { data, id } = defineProps(['data', 'id']);\nconst currentPage = ref(1); // Current page number (adjust as needed)\nconst itemsPerPage = 5; // Number of items per page (adjust as needed)\n\nconst filteredLinks = computed(() => {\n    const startIndex = Math.max(currentPage.value - 1, 0) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n\n    // Select the first, second, active (adjusted), second-to-last, and last links from the prop data\n    const firstLink = data.links[startIndex];\n    const secondLink = data.links[startIndex + 1];\n    const activeLink = getAdjustedActiveLink(data.links, startIndex, endIndex);\n    const secondToLastLink = data.links[data.links.length - 2];\n    const lastLink = data.links[data.links.length - 1];\n\n    // Return the selected links in an array\n    return [firstLink, secondLink, activeLink, secondToLastLink, lastLink].filter(Boolean);\n});\n\nfunction getAdjustedActiveLink(links, startIndex, endIndex) {\n    const activeIndex = links.findIndex(link => link.active);\n\n    if (activeIndex === startIndex + 1 && links[startIndex + 1].active) {\n        // If the second link is active, make it the third link\n        return links[startIndex + 2];\n    } else if (activeIndex === links.length - 2 && links[links.length - 2].active) {\n        // If the second-to-last link is active, make it the third-to-last link\n        return links[links.length - 3];\n    }\n\n    return links[activeIndex];\n}\n</script>\n\n<!--class=\"px-1 text-gray-800 dark:text-gray-50 dark:hover:text-blue-400 hover:text-blue-400\"-->\n<!--:class=\"{ 'text-gray-300 dark:text-gray-700 dark:hover:text-gray-700 hover:text-gray-300': ! link.url, 'font-bold' : link.active }\"-->\n","import script from \"./TeamShowsList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TeamShowsList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./Index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n    <Head :title=\"props.team.name\" />\n\n    <div class=\"place-self-center flex flex-col gap-y-3 overflow-x-hidden\">\n        <div id=\"topDiv\" class=\"bg-white text-black dark:bg-gray-800 dark:text-gray-50 rounded p-5 mb-10\">\n\n            <Message v-if=\"userStore.showFlashMessage\" :flash=\"$page.props.flash\"/>\n\n            <header class=\"flex justify-between mb-3 pt-6\">\n                <div>\n                    <h3 class=\"dark:text-gray-50 inline-flex items-center text-3xl font-semibold relative uppercase\">\n\n                        <SingleImage :image=\"image\" :alt=\"'team logo'\" :class=\"'w-20 mr-2'\"/>\n                        {{ props.team.name }}\n\n                    </h3>\n\n                </div>\n                <div class=\"flex flex-wrap-reverse justify-end gap-2\">\n                    <Link\n                        v-if=\"props.can.editTeam\" :href=\"`/teams/${props.team.slug}/edit`\"><button\n                        class=\"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg\"\n                    >Edit</button>\n                    </Link>\n                    <Link\n                        v-if=\"props.can.manageTeam\" :href=\"`/teams/${props.team.slug}/manage`\"><button\n                        class=\"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg\"\n                    >Manage Team</button>\n                    </Link>\n                    <Link v-if=\"props.user.role_id === 4\" :href=\"`/dashboard`\"><button\n                        class=\"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg\"\n                        hidden\n                    >Dashboard</button>\n                    </Link>\n                </div>\n            </header>\n\n            <p class=\"mb-6 p-5\">\n                {{ props.team.description }}\n            </p>\n\n            <div class=\"flex flex-col\">\n                <div class=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n                    <div class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n\n                    <div class=\"w-full bg-gray-300 dark:bg-gray-900 text-black dark:text-gray-50 text-2xl p-4 mb-8\">SHOWS</div>\n\n                        <TeamShowsList :shows=\"props.shows\" />\n\n                    <div class=\"w-full bg-gray-300 dark:bg-gray-900 text-black dark:text-gray-50 text-2xl p-4 mb-8\">CREATORS</div>\n\n                        <div class=\"flex flex-row flex-wrap\">\n                            <div v-for=\"creator in props.creators.data\"\n                                 :key=\"creator.id\"\n                                 class=\"pb-8 dark:bg-gray-800 bg-white\">\n\n                                <div class=\"flex flex-col min-w-[8rem] px-6 py-4 font-medium break-words grow-0\">\n                                    <img :src=\"'/storage/' + creator.profile_photo_path\" class=\"pb-2 rounded-full h-32 w-32 object-cover mb-2\">\n                                    <span class=\"text-gray-800 dark:text-gray-50 w-full text-center\">{{ creator.name }}</span>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!--                            For now, we are just displaying the team members here.\n                                                        This will make a good component that can be re-used across\n                                                        the Show and Episode Index pages. Just pass in the creators prop.\n\n                                                        We will add this when we have our Creators model setup\n                                                        and creators attached to the credits table for this\n                                                        show.                                                       -->\n\n                        <!--                            <ShowCreatorsList />-->\n\n                        <!--  <TeamFooter />  -->\n\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n</template>\n\n\n<script setup>\nimport { onBeforeMount, onMounted, ref } from \"vue\"\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore.js\"\nimport { useTeamStore } from \"@/Stores/TeamStore.js\"\nimport { useUserStore } from \"@/Stores/UserStore\";\nimport TeamShowsList from \"@/Components/Teams/TeamShowsList.vue\";\nimport Message from \"@/Components/Modals/Messages\";\nimport SingleImage from \"@/Components/Multimedia/SingleImage\";\n\nlet videoPlayerStore = useVideoPlayerStore();\nlet teamStore = useTeamStore();\nlet userStore = useUserStore()\n\nuserStore.currentPage = 'teams'\nuserStore.showFlashMessage = true;\n\nonMounted(() => {\n    videoPlayerStore.makeVideoTopRight();\n    if (userStore.isMobile) {\n        videoPlayerStore.ottClass = 'ottClose'\n        videoPlayerStore.ott = 0\n    }\n    document.getElementById(\"topDiv\").scrollIntoView()\n});\n\nlet props = defineProps({\n    user: Object,\n    team: Object,\n    logo: String,\n    image: Object,\n    shows: Object,\n    creators: Object,\n    filters: Object,\n    can: Object,\n});\n\nteamStore.setActiveTeam(props.team);\nteamStore.can = props.can;\n\n</script>\n"],"names":["useTeamStore","defineStore","state","id","name","description","slug","totalSpots","memberSpots","teamLeader","members","managers","activeShow","activeEpisode","creators","showModal","Boolean","confirmDialog","confirmManagerDialog","selectedManagerName","selectedManagerId","addManager","removeManager","deleteMemberName","deleteMemberId","noteEdit","note","saveNoteProcessing","goLiveDisplay","can","actions","setActiveTeam","team","this","setActiveShow","show","setActiveEpisode","episode","deleteTeamMemberCancel","confirmTeamManagerCancel","deleteTeamMember","Inertia","visit","route","method","data","user_id","team_id","team_slug","addTeamManager","removeTeamManager","toggleGoLiveDisplay","getters","spotsRemaining","currentPage","ref","filteredLinks","computed","startIndex","Math","max","value","firstLink","links","secondLink","activeLink","endIndex","activeIndex","findIndex","link","active","length","getAdjustedActiveLink","filter","videoPlayerStore","useVideoPlayerStore","teamStore","userStore","useUserStore","showFlashMessage","onMounted","makeVideoTopRight","isMobile","ottClass","ott","document","getElementById","scrollIntoView","props"],"sourceRoot":""}