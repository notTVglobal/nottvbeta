{"version":3,"file":"js/7343.js","mappings":"0GAIWA,GAAeC,E,SAAAA,IAAY,YAAa,CAC/CC,MAAK,WACD,MAAO,CACHC,oBAAqB,GACrBC,uBAAwB,GACxBC,yBAA0B,GAElC,EAEAC,QAAS,CACL,G,sECXJC,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,gHAAiH,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2EAA2E,MAAQ,GAAG,SAAW,iDAAiD,eAAiB,CAAC,qnGAA8gG,WAAa,MAEp3G,S,sFCFA,E,kjJCAA,E,yGCOIC,E,OAEJ,SAASC,EAAWC,GAChB,IAAIC,EAAWD,EAAEE,OAGbC,EAAMF,EAASG,MACfC,EAAQJ,EAASK,eACjBC,EAAMN,EAASO,aAGnBP,EAASG,MAAQD,EAAIM,UAAU,EAAGJ,GAAS,KAAOF,EAAIM,UAAUF,GAGhEN,EAASK,eAAiBL,EAASO,aAAeH,EAAQ,CAC9D,C,miBCtBA,E,6CCDA,IAAMK,GAASC,EAAAA,EAAAA,WAAS,kBAAMC,EAAAA,EAAAA,MAAUC,MAAMT,MAAMM,MAAM,IACpDI,GAAYH,EAAAA,EAAAA,WAAS,kBAAMI,OAAOC,KAAKN,EAAON,OAAOa,OAAS,CAAC,I,+yBCuCrE,IAAIC,GAAY/B,EAAAA,EAAAA,KAEVgC,EAAS,IAAIC,EAAAA,GAAO,CACtBC,QAASH,EAAU1B,yBACnB8B,WAAY,CACRC,EAAAA,GAGJC,SAAU,SAAAC,GAAgB,IAAbN,EAAMM,EAANN,OACTD,EAAU1B,yBAA2B2B,EAAOO,SAEhD,EACAC,WAAW,EACXC,YAAa,CACTC,WAAY,CACRC,MAAO,wE,+TCxDfC,EAAU,CAEdA,OAAiB,OACjBA,WAAoB,GAEP,IAAI,IAASA,GAIX,IAAQC,OCNvB,MAEA,GAFiC,E,SAAA,GAAgB,EAAQ,CAAC,CAAC,YAAY,qB,27BCDvE,E,sDC2GA,IAAIC,GAAmBC,EAAAA,EAAAA,KACnBC,GAAYC,EAAAA,EAAAA,KACZlB,GAAY/B,EAAAA,EAAAA,KAEZ0B,EAAQwB,EAIRC,GAAOC,EAAAA,EAAAA,IAAQ,CACfC,MAAO,GACPC,KAAM,GACNC,aAAc,KAGdC,EAAS,WACTL,EAAKG,KAAOvB,EAAU1B,yBACtB8C,EAAKM,KAAKC,MAAM,cACpB,EAwBA,SAASC,IACL5B,EAAU1B,yBAA2B,GACrCuD,EAAAA,QAAQC,MAAMb,EAAUc,QAC5B,C,OAzBAd,EAAUe,YAAc,aACxBf,EAAUgB,kBAAmB,GAE7BC,EAAAA,EAAAA,gBAAc,WAEVlC,EAAU1B,yBAA2B,EACzC,KAEA6D,EAAAA,EAAAA,YAAU,WACNpB,EAAiBqB,oBACbnB,EAAUoB,WACVtB,EAAiBuB,SAAW,WAC5BvB,EAAiBwB,IAAM,GAE3BC,SAASC,eAAe,UAAUC,gBAKtC,I","sources":["webpack:///./resources/js/Stores/NewsStore.js","webpack:///./resources/js/Components/TextEditor/TiptapNewsPostCreate.vue?c5c9","webpack:///./resources/js/Components/News/TiptapButtons.vue","webpack:///./resources/js/Components/TabbableTextarea.vue?5ddb","webpack:///./resources/js/Components/TabbableTextarea.vue","webpack:///./resources/js/Jetstream/ValidationErrors.vue?5fdc","webpack:///./resources/js/Jetstream/ValidationErrors.vue","webpack:///./resources/js/Components/TextEditor/TiptapNewsPostCreate.vue","webpack:///./resources/js/Components/TextEditor/TiptapNewsPostCreate.vue?63a8","webpack:///./resources/js/Components/TextEditor/TiptapNewsPostCreate.vue?571e","webpack:///./resources/js/Pages/News/Create.vue?d2e1","webpack:///./resources/js/Pages/News/Create.vue"],"sourcesContent":["import { defineStore } from \"pinia\";\n\n\n\nexport let useNewsStore = defineStore('newsStore', {\n    state() {\n        return {\n            newsArticleIdTiptop: '',\n            newsArticleTitleTiptop: '',\n            newsArticleContentTiptop: [],\n        };\n    },\n\n    actions: {\n        //\n    },\n\n})\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"p[data-v-c45f9334]{margin-bottom:1em;margin-top:.75em}ol[data-v-c45f9334],ul[data-v-c45f9334]{padding:0 1rem}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/Components/TextEditor/TiptapNewsPostCreate.vue\"],\"names\":[],\"mappings\":\"AAsFA,mBAEI,iBAAkB,CADlB,gBAEJ,CACA,wCAEI,cACJ\",\"sourcesContent\":[\"<template>\\n    <TiptapButtons :editor=\\\"editor\\\" />\\n<!--    <button-->\\n<!--        @click=\\\"editor.chain().focus().undo().run()\\\"-->\\n<!--        :disabled=\\\"!editor.can().undo()\\\"-->\\n<!--    >-->\\n<!--        undo-->\\n<!--    </button>-->\\n<!--    <button-->\\n<!--        @click=\\\"editor.chain().focus().redo().run()\\\"-->\\n<!--        :disabled=\\\"!editor.can().redo()\\\"-->\\n<!--    >-->\\n<!--        redo-->\\n<!--    </button>-->\\n<!--    <button @click.prevent=\\\"editor.chain().focus().toggleBulletList().run()\\\"  class=\\\"ProseMirror py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\\\">-->\\n<!--        Bullets-->\\n<!--    </button>-->\\n<!--    <button @click.prevent=\\\"editor.chain().focus().toggleList().run()\\\" class=\\\"py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\\\">-->\\n<!--        List-->\\n<!--    </button>-->\\n<!--    <button @click.prevent=\\\"editor.chain().focus().toggleBlockquote().run()\\\" class=\\\"py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\\\">-->\\n<!--        Block-->\\n<!--    </button>-->\\n<!--    <button @click.prevent=\\\"editor.chain().focus().toggleCode().run()\\\" class=\\\"py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\\\">-->\\n<!--        Code-->\\n<!--    </button>-->\\n<!--    <tabbable-textarea :editor=\\\"editor\\\" class=\\\"element\\\" />-->\\n    <div class=\\\"overflow-y-scroll min-h-[13rem] max-h-[13rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 \\\">\\n        <editor-content :editor=\\\"editor\\\" class=\\\"\\\"/>\\n    </div>\\n</template>\\n\\n<script setup>\\nimport {useNewsStore} from \\\"@/Stores/NewsStore\\\"\\nimport { Editor, EditorContent } from '@tiptap/vue-3'\\nimport StarterKit from '@tiptap/starter-kit'\\n\\n// import {onBeforeUnmount} from \\\"vue\\\";\\nimport {Inertia} from \\\"@inertiajs/inertia\\\";\\nimport throttle from \\\"lodash/throttle\\\"\\nimport axios from \\\"axios\\\";\\nimport TabbableTextarea from \\\"@/Components/TabbableTextarea.vue\\\";\\nimport TiptapButtons from \\\"@/Components/News/TiptapButtons.vue\\\";\\n\\nlet newsStore = useNewsStore();\\n\\nconst editor = new Editor({\\n    content: newsStore.newsArticleContentTiptop,\\n    extensions: [\\n        StarterKit,\\n    ],\\n    // triggered on every change\\n    onUpdate: ({ editor }) => {\\n        newsStore.newsArticleContentTiptop = editor.getHTML()\\n        // const value = editor.getJSON()\\n    },\\n    autofocus: true,\\n    editorProps: {\\n        attributes: {\\n            class: 'min-h-[12rem] max-h-[12rem] block w-full p-2.5 focus:outline-none'\\n        }\\n    }\\n})\\n\\n// editor.commands.setContent({\\n//     \\\"type\\\": \\\"doc\\\",\\n//     \\\"content\\\": newsStore.newsArticleTiptop,\\n// })\\n\\n// const json = editor.getJSON()\\n// newsStore.newsArticleTiptop = editor.getHTML()\\n\\n\\n// onBeforeUnmount(() => {\\n//     // this isn't working, I think it's\\n//     // needed for the history extension.\\n//     editor.destroy()\\n// })\\n\\n// History.configure({\\n//     depth: 10,\\n// })\\n\\n</script>\\n\\n<style scoped>\\np {\\n    margin-top: 0.75em;\\n    margin-bottom: 1em;\\n}\\nul,\\nol {\\n    padding: 0 1rem;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import script from \"./TiptapButtons.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TiptapButtons.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./TabbableTextarea.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TabbableTextarea.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <textarea\n        @keydown.tab.prevent=\"onTabPress\"\n        @keyup=\"emit('update:modelValue', $event.target.value)\"\n        v-text=\"modelValue\" />\n</template>\n\n<script setup>\ndefineProps ({\n    modelValue: String\n});\n\nlet emit = defineEmits(['update:modelValue']);\n\nfunction onTabPress(e) {\n    let textarea = e.target;\n\n    // get caret position/selection\n    let val = textarea.value,\n        start = textarea.selectionStart,\n        end = textarea.selectionEnd;\n\n    // set textarea value to: text before caret + tab + text after caret\n    textarea.value = val.substring(0, start) + \"\\t\" + val.substring(end);\n\n    // put caret at right position again\n    textarea.selectionStart = textarea.selectionEnd = start + 1;\n}\n\n</script>\n","import script from \"./ValidationErrors.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ValidationErrors.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { computed } from 'vue';\nimport { usePage } from '@inertiajs/inertia-vue3';\n\nconst errors = computed(() => usePage().props.value.errors);\nconst hasErrors = computed(() => Object.keys(errors.value).length > 0);\n</script>\n\n<template>\n    <div v-if=\"hasErrors\">\n        <div class=\"font-medium text-red-600\">\n            Whoops! Something went wrong.\n        </div>\n\n        <ul class=\"mt-3 list-disc list-inside text-sm text-red-600\">\n            <li v-for=\"(error, key) in errors\" :key=\"key\">\n                {{ error }}\n            </li>\n        </ul>\n    </div>\n</template>\n","<template>\n    <TiptapButtons :editor=\"editor\" />\n<!--    <button-->\n<!--        @click=\"editor.chain().focus().undo().run()\"-->\n<!--        :disabled=\"!editor.can().undo()\"-->\n<!--    >-->\n<!--        undo-->\n<!--    </button>-->\n<!--    <button-->\n<!--        @click=\"editor.chain().focus().redo().run()\"-->\n<!--        :disabled=\"!editor.can().redo()\"-->\n<!--    >-->\n<!--        redo-->\n<!--    </button>-->\n<!--    <button @click.prevent=\"editor.chain().focus().toggleBulletList().run()\"  class=\"ProseMirror py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\">-->\n<!--        Bullets-->\n<!--    </button>-->\n<!--    <button @click.prevent=\"editor.chain().focus().toggleList().run()\" class=\"py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\">-->\n<!--        List-->\n<!--    </button>-->\n<!--    <button @click.prevent=\"editor.chain().focus().toggleBlockquote().run()\" class=\"py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\">-->\n<!--        Block-->\n<!--    </button>-->\n<!--    <button @click.prevent=\"editor.chain().focus().toggleCode().run()\" class=\"py-1 px-3 ml-2 mb-2 bg-gray-200 rounded-lg\">-->\n<!--        Code-->\n<!--    </button>-->\n<!--    <tabbable-textarea :editor=\"editor\" class=\"element\" />-->\n    <div class=\"overflow-y-scroll min-h-[13rem] max-h-[13rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 \">\n        <editor-content :editor=\"editor\" class=\"\"/>\n    </div>\n</template>\n\n<script setup>\nimport {useNewsStore} from \"@/Stores/NewsStore\"\nimport { Editor, EditorContent } from '@tiptap/vue-3'\nimport StarterKit from '@tiptap/starter-kit'\n\n// import {onBeforeUnmount} from \"vue\";\nimport {Inertia} from \"@inertiajs/inertia\";\nimport throttle from \"lodash/throttle\"\nimport axios from \"axios\";\nimport TabbableTextarea from \"@/Components/TabbableTextarea.vue\";\nimport TiptapButtons from \"@/Components/News/TiptapButtons.vue\";\n\nlet newsStore = useNewsStore();\n\nconst editor = new Editor({\n    content: newsStore.newsArticleContentTiptop,\n    extensions: [\n        StarterKit,\n    ],\n    // triggered on every change\n    onUpdate: ({ editor }) => {\n        newsStore.newsArticleContentTiptop = editor.getHTML()\n        // const value = editor.getJSON()\n    },\n    autofocus: true,\n    editorProps: {\n        attributes: {\n            class: 'min-h-[12rem] max-h-[12rem] block w-full p-2.5 focus:outline-none'\n        }\n    }\n})\n\n// editor.commands.setContent({\n//     \"type\": \"doc\",\n//     \"content\": newsStore.newsArticleTiptop,\n// })\n\n// const json = editor.getJSON()\n// newsStore.newsArticleTiptop = editor.getHTML()\n\n\n// onBeforeUnmount(() => {\n//     // this isn't working, I think it's\n//     // needed for the history extension.\n//     editor.destroy()\n// })\n\n// History.configure({\n//     depth: 10,\n// })\n\n</script>\n\n<style scoped>\np {\n    margin-top: 0.75em;\n    margin-bottom: 1em;\n}\nul,\nol {\n    padding: 0 1rem;\n}\n</style>\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9.use[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./TiptapNewsPostCreate.vue?vue&type=style&index=0&id=c45f9334&scoped=true&lang=css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import script from \"./TiptapNewsPostCreate.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TiptapNewsPostCreate.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TiptapNewsPostCreate.vue?vue&type=style&index=0&id=c45f9334&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c45f9334\"]])\n\nexport default __exports__","import script from \"./Create.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Create.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n    <Head title=\"Create News Post\" />\n\n    <div class=\"place-self-center flex flex-col gap-y-3\">\n        <div id=\"topDiv\" class=\"bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10\">\n\n            <Message v-if=\"userStore.showFlashMessage\" :flash=\"$page.props.flash\"/>\n\n            <div class=\"flex flex-row justify-between mt-6\">\n                <h2 class=\"text-xl font-semibold leading-tight\">\n                    Create News Post\n                </h2>\n                <div class=\"flex justify-end space-x-2\">\n                    <div>\n                        <button\n                            v-if=\"props.can.viewNewsroom\"\n                            @click=\"userStore.btnRedirect(`/newsroom`)\"\n                            class=\"px-4 py-2 text-white bg-yellow-600 hover:bg-yellow-500 rounded-lg disabled:bg-gray-400\"\n                        >Newsroom</button>\n                    </div>\n                    <div>\n                        <button\n                            @click=\"back\"\n                            class=\"px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg\"\n                        >Cancel\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"p-6 border-b border-gray-200\">\n                <form @submit.prevent=\"submit\">\n                    <div class=\"mb-6\">\n                        <label\n                            for=\"Title\"\n                            class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\"\n                        >Title</label\n                        >\n                        <input\n                            type=\"text\"\n                            v-model=\"form.title\"\n                            name=\"title\"\n                            class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n                            placeholder=\"\"\n                        />\n                        <div\n                            v-if=\"form.errors.title\"\n                            class=\"text-sm text-red-600\"\n                        >\n                            {{ form.errors.title }}\n                        </div>\n                    </div>\n                    <div class=\"mb-6\">\n                        <label\n                            for=\"content_json\"\n                            class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\"\n                        >Content</label>\n                        <tiptap v-if=\"videoPlayerStore.currentPage === 'newsCreate'\" />\n<!--                        <textarea-->\n<!--                            type=\"text\"-->\n<!--                            v-model=\"form.content_json\"-->\n<!--                            id=\"\"-->\n<!--                            name=\"content_json\"-->\n<!--                            rows=10-->\n<!--                            class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"-->\n<!--                        ></textarea>-->\n\n                        <div\n                            v-if=\"form.errors.content_json\"\n                            class=\"text-sm text-red-600\"\n                        >\n                            {{ form.errors.content_json }}\n                        </div>\n                    </div>\n                    <div class=\" flex justify-start\">\n                    <button\n                        type=\"submit\"\n                        class=\"h-fit text-white bg-blue-700  focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 \"\n                        :disabled=\"form.processing\"\n                        :class=\"{ 'opacity-25': form.processing }\"\n                    >\n                        Submit\n                    </button>\n                    <Link :href=\"`/news`\"><button\n                        class=\"h-fit ml-2 px-4 py-2 text-white bg-blue-500 hover:bg-blue-300 rounded-lg\"\n                    >Cancel</button>\n                    </Link>\n                    <JetValidationErrors class=\"ml-4\" />\n                    </div>\n                </form>\n            </div>\n\n\n        </div>\n\n    </div>\n\n</template>\n\n<script setup>\nimport { onBeforeMount, onMounted, ref } from \"vue\";\nimport {useForm, usePage} from '@inertiajs/inertia-vue3'\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore.js\"\nimport { useUserStore } from \"@/Stores/UserStore\";\nimport { useNewsStore } from \"@/Stores/NewsStore\"\nimport JetValidationErrors from '@/Jetstream/ValidationErrors.vue';\n// import TabbableTextarea from \"@/Components/TabbableTextarea.vue\";\nimport Tiptap from \"@/Components/TextEditor/TiptapNewsPostCreate.vue\";\nimport Message from \"@/Components/Modals/Messages\";\nimport {Inertia} from \"@inertiajs/inertia\";\n\nlet videoPlayerStore = useVideoPlayerStore()\nlet userStore = useUserStore()\nlet newsStore = useNewsStore()\n\nlet props = defineProps({\n    can: Object,\n});\n\nlet form = useForm({\n    title: '',\n    body: '',\n    content_json: [],\n});\n\nlet submit = () => {\n    form.body = newsStore.newsArticleContentTiptop;\n    form.post(route(\"news.store\"));\n};\n\nuserStore.currentPage = 'newsCreate'\nuserStore.showFlashMessage = true;\n\nonBeforeMount(() => {\n    // userStore.scrollToTopCounter = 0;\n    newsStore.newsArticleContentTiptop = [];\n})\n\nonMounted(() => {\n    videoPlayerStore.makeVideoTopRight();\n    if (userStore.isMobile) {\n        videoPlayerStore.ottClass = 'ottClose'\n        videoPlayerStore.ott = 0\n    }\n    document.getElementById(\"topDiv\").scrollIntoView()\n    // if (userStore.scrollToTopCounter === 0 ) {\n    //\n    //     userStore.scrollToTopCounter ++;\n    // }\n});\n\n\nfunction back() {\n    newsStore.newsArticleContentTiptop = '';\n    Inertia.visit(userStore.prevUrl)\n}\n\n</script>\n"],"names":["useNewsStore","defineStore","state","newsArticleIdTiptop","newsArticleTitleTiptop","newsArticleContentTiptop","actions","___CSS_LOADER_EXPORT___","push","module","id","emit","onTabPress","e","textarea","target","val","value","start","selectionStart","end","selectionEnd","substring","errors","computed","usePage","props","hasErrors","Object","keys","length","newsStore","editor","Editor","content","extensions","StarterKit","onUpdate","_ref","getHTML","autofocus","editorProps","attributes","class","options","locals","videoPlayerStore","useVideoPlayerStore","userStore","useUserStore","__props","form","useForm","title","body","content_json","submit","post","route","back","Inertia","visit","prevUrl","currentPage","showFlashMessage","onBeforeMount","onMounted","makeVideoTopRight","isMobile","ottClass","ott","document","getElementById","scrollIntoView"],"sourceRoot":""}