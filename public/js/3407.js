/*! For license information please see 3407.js.LICENSE.txt */
"use strict";(self.webpackChunknottvbeta=self.webpackChunknottvbeta||[]).push([[3407,6815,3107,5128,1712],{46815:(e,t,n)=>{n.r(t),n.d(t,{useNewsStore:()=>f});var r=n(38839),o=n(92995),i=n(7447);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:L(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function x(){}var k={};d(k,c,(function(){return this}));var C=Object.getPrototypeOf,A=C&&C(C(P([])));A&&A!==n&&r.call(A,c)&&(k=A);var E=x.prototype=b.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,c,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=h;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=B(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:v,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function B(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,B(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,o(E,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(N.prototype),d(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),d(E,u,"Generator"),d(E,c,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}var p=function(){return{id:null,slug:"",title:"",content:"",newsPerson:[],category:{},subCategory:{},city:{},province:{},federalElectoralDistrict:{},subnationalElectoralDistrict:{},country:[],image:{},status:[],video:{},created_at:"",published_at:"",cachedContent:{},categories:[],subCategories:[],type:"",displayText:"",newsPersons:[],citySearchItems:[],showEditor:!1,showNewsPersonSelector:!1,showCategoryCitySelector:!1,citySelectDropdownVisible:!1,showSaveMessage:!1,focusedIndex:0,searchQuery:"",filters:[],search:"",errors:[],newsStoryStatuses:{},newsStoryId:"",isLoadingCategoryCityData:!1,isLoading:!0,processing:!1,latestStories:[],newsStories:[],currentPage:1,totalPages:1,selectedSubCategoryId:"",selectedSubCategoryName:"",selectedSubCategoryDescription:"",selectedCategoryId:null,selectedCityId:null,selectedFederalDistrictId:null,selectedSubnationalDistrictId:null}},f=(0,r.nY)("newsStore",{state:p,actions:{reset:function(){Object.assign(this,{id:null,slug:"",title:"",content:"",newsPerson:[],category:{},subCategory:{},city:{},province:{},federalElectoralDistrict:{},subnationalElectoralDistrict:{},country:[],image:{},status:[],video:{},created_at:"",published_at:"",cachedContent:{},categories:[],subCategories:[],type:"",displayText:"",newsPersons:[],citySearchItems:[],showEditor:!1,showNewsPersonSelector:!1,showCategoryCitySelector:!1,citySelectDropdownVisible:!1,showSaveMessage:!1,focusedIndex:0,searchQuery:"",filters:[],search:"",errors:[],newsStoryStatuses:{},newsStoryId:"",isLoadingCategoryCityData:!1,isLoading:!0,processing:!1,latestStories:[],newsStories:[],currentPage:1,totalPages:1,selectedSubCategoryId:"",selectedSubCategoryName:"",selectedSubCategoryDescription:"",selectedCategoryId:null,selectedCityId:null,selectedFederalDistrictId:null,selectedSubnationalDistrictId:null})},initializeNewsStore:function(e){this.id=e.id,this.slug=e.slug,this.title=e.title,this.status=e.status,this.content=e.content,this.newsPerson=e.newsPerson,this.category=e.category,this.subCategory=e.subCategory,this.city=e.city,this.province=e.province,this.federalElectoralDistrict=e.federalElectoralDistrict,this.subnationalElectoralDistrict=e.subnationalElectoralDistrict,this.image=e.image,this.video=e.video,this.created_at=e.created_at,this.published_at=e.published_at,this.cachedContent=e.cachedContent},toggleCategoryCitySelector:function(){this.showCategoryCitySelector=!this.showCategoryCitySelector},toggleNewsPersonSelector:function(){this.showNewsPersonSelector=!this.showNewsPersonSelector},setSelectedCategory:function(){var e=this,t=this.categories.find((function(t){return t.id===e.news_category_id}));this.selectedCategory=t||null,this.news_category_sub_id,3===this.news_category_id?this.setSelectedLocation():this.resetLocationIds()},fetchCategories:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoadingCityData=!0,t.prev=1,t.next=4,fetch("/api/news/categories");case 4:if(!(n=t.sent).ok){t.next=11;break}return t.next=8,n.json();case 8:e.categories=t.sent,t.next=12;break;case 11:console.error("Failed to fetch categories:",n.statusText);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.error("Error fetching categories:",t.t0);case 17:return t.prev=17,e.isLoadingCityData=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})))()},fetchCitiesForSearch:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/news/cities");case 3:if(!(n=t.sent).ok){t.next=10;break}return t.next=7,n.json();case 7:e.citySearchItems=t.sent,t.next=11;break;case 10:console.error("Failed to fetch locations:",n.statusText);case 11:e.isLoadingCityData=!1,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("Error fetching locations:",t.t0),e.isLoadingCityData=!1;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},setSelectedLocation:function(){var e=this;this.city={},this.province={},this.federalElectoralDistrict={},this.subnationalElectoralDistrict={};var t=null;if(this.city.id?t=this.citySearchItems.find((function(t){return t.id===e.city.id&&("city"===t.type||"town"===t.type)})):this.province.id?t=this.citySearchItems.find((function(t){return t.id===e.province.id&&"province"===t.type})):this.federalElectoralDistrict.id?t=this.citySearchItems.find((function(t){return t.id===e.federalElectoralDistrict.id&&"federalElectoralDistrict"===t.type})):this.subnationalElectoralDistrict.id&&(t=this.citySearchItems.find((function(t){return t.id===e.subnationalElectoralDistrict.id&&"subnationalElectoralDistrict"===t.type}))),t)switch(t.type){case"city":case"town":this.city={id:t.id,name:t.name,type:t.type},this.province={id:t.province.id,name:t.province.name},this.displayText="".concat(t.name,", ").concat(t.province.name);break;case"province":this.province={id:t.id,name:t.name,type:t.type},this.displayText=t.name;break;case"federalElectoralDistrict":this.federalElectoralDistrict={id:t.id,name:t.name,type:t.type},this.displayText=t.name;break;case"subnationalElectoralDistrict":this.subnationalElectoralDistrict={id:t.id,name:t.name,type:t.type},this.displayText=t.name;break;default:this.displayText=""}else this.displayText=""},fetchCitiesAndCategories:function(){var e=this;return d(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCitiesForSearch();case 2:e.setSelectedLocation();case 3:case"end":return t.stop()}}),t)})))()},updateSelectedLocation:function(e){if(!e)return this.city={},this.province={},this.federalElectoralDistrict={},this.subnationalElectoralDistrict={},void(this.displayText="");switch(this.selectedLocation=e,this.displayText=this.getDisplayTextForType(e.type),this.city={},this.province={},this.federalElectoralDistrict={},this.subnationalElectoralDistrict={},this.displayText=this.getDisplayTextForType(e.type),e.type){case"city":case"town":this.city={id:e.id,name:e.name,province:e.province},this.province={id:e.province.id,name:e.province.name},this.displayText="".concat(e.name,", ").concat(e.province.name);break;case"province":case"territory":this.province={id:e.id,name:e.name,type:e.type},this.displayText=e.name;break;case"federalElectoralDistrict":this.federalElectoralDistrict={id:e.id,name:e.name,type:e.type},this.displayText=e.name;break;case"subnationalElectoralDistrict":this.subnationalElectoralDistrict={id:e.id,name:e.name,type:e.type},this.displayText=e.name;break;default:this.displayText=""}},getDisplayTextForType:function(e){switch(e){case"city":return this.type="city","City";case"town":return this.type="town","Town";case"province":return this.type="province","Province";case"territory":return this.type="territory","Territory";case"federalElectoralDistrict":return this.type="federalElectoralDistrict","Federal Electoral District";case"subnationalElectoralDistrict":return this.type="subnationalElectoralDistrict","Subnational Electoral District";default:return""}},setSearchInput:function(e){this.search=e},resetLocationIds:function(e){if(this.city_id=null,this.province_id=null,this.federal_electoral_district_id=null,this.subnational_electoral_district_id=null,e)switch(e.type){case"city":this.city_id=e.city_id,this.province_id=e.province_id;break;case"province":case"territory":this.province_id=e.province_id;break;case"federalElectoralDistrict":this.federal_electoral_district_id=e.federal_electoral_district_id;break;case"subnationalElectoralDistrict":this.subnational_electoral_district_id=e.subnational_electoral_district_id}},updateSearch:function(e){this.search=e},fetchNewsPersons:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("get news persons"),t.prev=1,t.next=4,fetch("/api/news/persons");case 4:return n=t.sent,t.next=7,n.json();case 7:e.newsPersons=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("Failed to fetch news persons:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},setNewsPerson:function(e){this.newsPerson=e},submit:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.processing=!0,n={id:e.id,title:e.title,status:e.status.id,content:e.content,news_category_id:e.category.id,news_category_sub_id:e.subCategory.id,city_id:e.city.id,province_id:e.province.id,federal_electoral_district_id:e.federalElectoralDistrict.id,subnational_electoral_district_id:e.subnationalElectoralDistrict.id,type:e.type,news_person_id:e.newsPerson.id},t.prev=2,!e.id){t.next=8;break}return t.next=6,o.QB.patch(route("newsStory.update",e.slug),n,{onError:function(t){e.errors=t,e.processing=!1},onSuccess:function(){e.processing=!1}});case 6:t.next=10;break;case 8:return t.next=10,o.QB.post(route("newsStory.store"),n,{onError:function(t){e.errors=t,e.processing=!1},onSuccess:function(){e.processing=!1}});case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error("An unexpected error occurred:",t.t0),e.processing=!1;case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))()},publish:function(e){var t=this;return d(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.QB.patch(route("newsroom.publish",e),{onError:function(e){t.errors=e,t.processing=!1,notificationStore.setToastNotification(e,"error")},onSuccess:function(){t.processing=!1,(0,i.useNotificationStore)().setToastNotification("News story published successfully.","success")}});case 2:case"end":return n.stop()}}),n)})))()},changeNewsStoryStatus:function(e){document.getElementById("newsStoryStatusChangeModal").close(),o.QB.patch(route("news.story.changeStatus"),{newsStory_id:this.newsStoryId,new_status_id:e},{onError:function(e){console.error("Error changing status:",e)}})},fetchNewsStories:function(){var e=arguments,t=this;return d(l().mark((function n(){var r,o,i,a,s,u,d,p;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:null,o=e.length>1&&void 0!==e[1]?e[1]:null,i=e.length>2&&void 0!==e[2]?e[2]:null,a=e.length>3&&void 0!==e[3]?e[3]:null,s=e.length>4&&void 0!==e[4]?e[4]:null,u=e.length>5&&void 0!==e[5]?e[5]:1,n.prev=6,n.next=9,axios.get("/news-stories",{params:{news_category_id:r,news_category_sub_id:o,city_id:i,federal_district_id:a,subnational_district_id:s,page:u}});case 9:d=n.sent,p=d.data,t.newsStories=1===u?p.data:[].concat(c(t.newsStories),c(p.data)),t.currentPage=p.current_page,t.totalPages=p.last_page,n.next=19;break;case 16:n.prev=16,n.t0=n.catch(6),console.error("Failed to fetch news stories:",n.t0);case 19:case"end":return n.stop()}}),n,null,[[6,16]])})))()},filterStoriesBySubCategory:function(e,t,n){this.selectedSubCategoryId=e,this.selectedSubCategoryName=t,this.selectedSubCategoryDescription=n,this.fetchNewsStories(this.selectedCategoryId,e,this.selectedCityId,this.selectedFederalDistrictId,this.selectedSubnationalDistrictId,1)},resetFilter:function(){this.selectedSubCategoryId=null,this.selectedSubCategoryName="",this.selectedSubCategoryDescription=""},updateSelectedSubCategory:function(e){this.selectedSubCategoryId=e},initializeLatestStories:function(e,t,n){this.latestStories=e,this.selectedCategoryId=t,this.selectedCityId=n}},getters:{filteredNewsStories:function(e){return e.selectedSubCategoryId?e.newsStories:e.latestStories},filteredCitySearchItems:function(e){return e.search?e.citySearchItems.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())})):e.citySearchItems},searchInput:function(e){return e.city.id?"".concat(e.city.name,", ").concat(e.province.name):e.province.id?e.province.name:e.federalElectoralDistrict.id?e.federalElectoralDistrict.name:e.subnationalElectoralDistrict.id?e.subnationalElectoralDistrict.name:e.search},locationType:function(e){if(!e.selectedLocation)return e.type="",e.displayText="","location type is not set";switch(e.selectedLocation.type){case"city":e.type="city",e.displayText="City";break;case"town":e.type="town",e.displayText="Town";break;case"province":e.displayText="Province",e.type="province";break;case"territory":e.displayText="Territory",e.type="territory";break;case"federalElectoralDistrict":e.displayText="Federal Electoral District",e.type="federalElectoralDistrict";break;case"subnationalElectoralDistrict":e.displayText="Subnational Electoral District",e.type="subnationalElectoralDistrict";break;default:e.displayText=""}return"location type is set"}}})},2435:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(29726),o=n(20715),i=n(20973),a=n(58088),c=n(92995);function s(e){var t=(0,o.useUserStore)(),n=(0,i.useAppSettingStore)(),s=(0,a.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(0===n.ott&&(n.ott=4),n.showOttButtons=!0),s.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,n.pageWasReloaded=!0,window.location.reload()),c.QB.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:0===n.ott&&(n.ott=4),""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1,(0,r.watch)((function(){return n.isSmallScreen}),(function(e){n.ott=e?0:4}),{immediate:!0})}},34282:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".overlay[data-v-60d35359]{background:#00000080;height:100%;left:0;position:fixed;top:0;width:100%;z-index:999}.color-picker-dialog[data-v-60d35359]{background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;left:50%;padding:20px;position:fixed;top:50%;transform:translate(-50%,-50%);z-index:1000}.btn-primary[data-v-60d35359]{background-color:#4a5568;border:none;border-radius:4px;color:#fff;cursor:pointer;padding:8px 12px}.btn-primary[data-v-60d35359]:hover{background-color:#2d3748}","",{version:3,sources:["webpack://./resources/js/Components/Global/Text/ColorPicker.vue"],names:[],mappings:"AAkDA,0BAME,oBAA8B,CAD9B,WAAY,CAFZ,MAAO,CAFP,cAAe,CACf,KAAM,CAEN,UAAW,CAGX,WACF,CAEA,sCAKE,eAAiB,CAEjB,iBAAkB,CAClB,+BAAyC,CALzC,QAAS,CAGT,YAAa,CALb,cAAe,CACf,OAAQ,CAER,8BAAgC,CAKhC,YACF,CAEA,8BACE,wBAAyB,CAGzB,WAAY,CACZ,iBAAkB,CAHlB,UAAY,CAIZ,cAAe,CAHf,gBAIF,CAEA,oCACE,wBACF",sourcesContent:["<template>\n  <div>\n    <div class=\"overlay\" v-if=\"visible\" @click=\"hide\"></div>\n    <div class=\"color-picker-dialog\" v-if=\"visible\">\n      <Chrome v-model=\"localColor\" />\n      <button class=\"btn btn-primary mt-2\" @click=\"applyColor\">Apply</button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { Chrome } from '@ckpack/vue-color'\n\nconst props = defineProps({\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  color: {\n    type: String,\n    default: '#000000'\n  }\n})\n\nconst emit = defineEmits(['close', 'apply', 'update:color'])\n\nconst localColor = ref(props.color)\n//\n// watch(() => props.color, (newColor) => {\n//   localColor.value = newColor\n// })\n\n// const updateColor = (newColor) => {\n//   localColor.value = newColor.hex\n//   emit('update:color', newColor.hex)\n// }\n\nconst applyColor = () => {\n  console.log(localColor.value.hex)\n  emit('apply', localColor.value.hex)\n  hide()\n}\n\nconst hide = () => {\n  emit('close')\n}\n<\/script>\n\n<style scoped>\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n}\n\n.color-picker-dialog {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n}\n\n.btn-primary {\n  background-color: #4a5568;\n  color: white;\n  padding: 8px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-primary:hover {\n  background-color: #2d3748;\n}\n</style>\n"],sourceRoot:""}]);const c=a},11926:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".toolbar[data-v-51ee9b05]{display:flex;flex-wrap:wrap;gap:8px}.button-group[data-v-51ee9b05]{display:flex;gap:8px;margin-right:16px}.icon-btn[data-v-51ee9b05]{align-items:center;background-color:#4a5568;border:none;border-radius:4px;color:#fff;cursor:pointer;display:flex;height:40px;justify-content:center;padding:8px;transition:background-color .3s,transform .3s;width:40px}.icon-btn.active[data-v-51ee9b05],.icon-btn[data-v-51ee9b05]:hover{background-color:#2d3748}.icon-btn[data-v-51ee9b05]:hover{transform:scale(1.1)}.icon-btn.disabled[data-v-51ee9b05]{background-color:#a0aec0;cursor:not-allowed}.icon-btn i[data-v-51ee9b05]{font-size:16px}","",{version:3,sources:["webpack://./resources/js/Components/Global/TextEditor/TipTapNewsStoryButtons.vue"],names:[],mappings:"AAmSA,0BACE,YAAa,CAEb,cAAe,CADf,OAEF,CAEA,+BACE,YAAa,CACb,OAAQ,CACR,iBACF,CAEA,2BAQE,kBAAmB,CAPnB,wBAAyB,CAGzB,WAAY,CACZ,iBAAkB,CAHlB,UAAY,CAIZ,cAAe,CACf,YAAa,CAIb,WAAY,CAFZ,sBAAuB,CANvB,WAAY,CASZ,6CAAiD,CAFjD,UAGF,CAMA,mEAHE,wBAMF,CAHA,iCAEE,oBACF,CAEA,oCACE,wBAAyB,CACzB,kBACF,CAEA,6BACE,cACF",sourcesContent:['<template>\n  <div>\n    <div class="toolbar mb-2">\n      <div class="flex flex-wrap gap-1 mb-2">\n        \x3c!-- Text formatting buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleBold" class="icon-btn" :class="{ \'active\': isBoldActive }">\n            <font-awesome-icon :icon="[\'fas\', \'bold\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleItalic" class="icon-btn" :class="{ \'active\': isItalicActive }">\n            <font-awesome-icon :icon="[\'fas\', \'italic\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleUnderline" class="icon-btn" :class="{ \'active\': isUnderlineActive }">\n            <font-awesome-icon :icon="[\'fas\', \'underline\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleStrike" class="icon-btn" :class="{ \'active\': isStrikeActive }">\n            <font-awesome-icon :icon="[\'fas\', \'strikethrough\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleSuperscript" class="icon-btn" :class="{ \'active\': isSuperscriptActive }">\n            <font-awesome-icon :icon="[\'fas\', \'superscript\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleSubscript" class="icon-btn" :class="{ \'active\': isSubscriptActive }">\n            <font-awesome-icon :icon="[\'fas\', \'subscript\']" />\n          </button>\n        </div>\n\n        \x3c!-- Heading buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleHeading(1)" class="icon-btn" :class="{ \'active\': isHeadingActive(1) }">\n            H1\n          </button>\n          <button tabindex="-1" @click.prevent="toggleHeading(2)" class="icon-btn" :class="{ \'active\': isHeadingActive(2) }">\n            H2\n          </button>\n          <button tabindex="-1" @click.prevent="toggleHeading(3)" class="icon-btn" :class="{ \'active\': isHeadingActive(3) }">\n            H3\n          </button>\n        </div>\n\n        \x3c!-- List buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleBulletList" class="icon-btn" :class="{ \'active\': isBulletListActive }">\n            <font-awesome-icon :icon="[\'fas\', \'list-ul\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleOrderedList" class="icon-btn" :class="{ \'active\': isOrderedListActive }">\n            <font-awesome-icon :icon="[\'fas\', \'list-ol\']" />\n          </button>\n        </div>\n\n        \x3c!-- Link buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="setLink" class="icon-btn" :class="{ \'active\': isLinkActive }">\n            <font-awesome-icon :icon="[\'fas\', \'link\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="unsetLink" class="icon-btn" :class="{ \'disabled\': !isLinkActive }" :disabled="!isLinkActive">\n            <font-awesome-icon :icon="[\'fas\', \'unlink\']" />\n          </button>\n        </div>\n\n        \x3c!-- Code and blockquote buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleCodeBlock" class="icon-btn" :class="{ \'active\': isCodeBlockActive }">\n            <font-awesome-icon :icon="[\'fas\', \'code\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleBlockquote" class="icon-btn" :class="{ \'active\': isBlockquoteActive }">\n            <font-awesome-icon :icon="[\'fas\', \'quote-right\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setHorizontalRule" class="icon-btn">\n            <font-awesome-icon :icon="[\'fas\', \'minus\']" />\n          </button>\n        </div>\n\n        \x3c!-- Undo/redo buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="undo" class="icon-btn" :class="{ \'disabled\': !canUndo }" :disabled="!canUndo">\n            <font-awesome-icon :icon="[\'fas\', \'undo\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="redo" class="icon-btn" :class="{ \'disabled\': !canRedo }" :disabled="!canRedo">\n            <font-awesome-icon :icon="[\'fas\', \'redo\']" />\n          </button>\n        </div>\n\n        \x3c!-- Alignment buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="setTextAlign(\'left\')" class="icon-btn" :class="{ \'active\': isTextAlignLeft }">\n            <font-awesome-icon :icon="[\'fas\', \'align-left\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setTextAlign(\'center\')" class="icon-btn" :class="{ \'active\': isTextAlignCenter }">\n            <font-awesome-icon :icon="[\'fas\', \'align-center\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setTextAlign(\'right\')" class="icon-btn" :class="{ \'active\': isTextAlignRight }">\n            <font-awesome-icon :icon="[\'fas\', \'align-right\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setTextAlign(\'justify\')" class="icon-btn" :class="{ \'active\': isTextAlignJustify }">\n            <font-awesome-icon :icon="[\'fas\', \'align-justify\']" />\n          </button>\n        </div>\n\n        \x3c!-- Color and font buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="showColorPicker" class="icon-btn">\n            <font-awesome-icon :icon="[\'fas\', \'palette\']" />\n          </button>\n\n          <button tabindex="-1" @click.prevent="toggleFontFamily" class="icon-btn">\n            <font-awesome-icon :icon="[\'fas\', \'font\']" />\n          </button>\n        </div>\n      </div>\n    </div>\n    <ColorPicker\n        :visible="colorPickerVisible"\n        :color="currentColor"\n        @close="hideColorPicker"\n        @apply="applyColor"\n        @update:color="currentColor = $event"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \'vue\'\nimport ColorPicker from \'@/Components/Global/Text/ColorPicker.vue\'\n\nconst props = defineProps({\n  editor: Object,\n})\n\nconst colorPickerVisible = ref(false)\nconst currentColor = ref(\'#000000\')\n\nconst showColorPicker = () => {\n  colorPickerVisible.value = true\n}\n\nconst hideColorPicker = () => {\n  colorPickerVisible.value = false\n}\n\nconst applyColor = (color) => {\n  console.log(color)\n  currentColor.value = color\n  if (props.editor) {\n    props.editor.chain().focus().setColor(color).run()\n  }\n}\n\nconst toggleBold = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleBold().run()\n  }\n}\n\nconst toggleItalic = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleItalic().run()\n  }\n}\n\nconst toggleUnderline = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleUnderline().run()\n  }\n}\n\nconst toggleSuperscript = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleSuperscript().run()\n  }\n}\n\nconst toggleSubscript = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleSubscript().run()\n  }\n}\n\nconst toggleBulletList = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleBulletList().run()\n  }\n}\n\nconst toggleOrderedList = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleOrderedList().run()\n  }\n}\n\nconst toggleCodeBlock = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleCodeBlock().run()\n  }\n}\n\nconst toggleBlockquote = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleBlockquote().run()\n  }\n}\n\nconst setHorizontalRule = () => {\n  if (props.editor) {\n    props.editor.chain().focus().setHorizontalRule().run()\n  }\n}\n\nconst toggleStrike = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleStrike().run()\n  }\n}\n\nconst undo = () => {\n  if (props.editor) {\n    props.editor.chain().focus().undo().run()\n  }\n}\n\nconst redo = () => {\n  if (props.editor) {\n    props.editor.chain().focus().redo().run()\n  }\n}\n\nconst setTextAlign = (alignment) => {\n  if (props.editor) {\n    props.editor.chain().focus().setTextAlign(alignment).run()\n  }\n}\n\nconst toggleFontFamily = () => {\n  // This is where you can implement the logic for changing font family\n  // You can use a dropdown menu or a predefined set of fonts\n  const fontOptions = [\n    \'Comic Sans MS, Comic Sans\',\n    \'monospace\',\n    \'Lucida Handwriting, Pacifico, Brush Script MT, cursive\',\n    \'unset\'\n  ];\n  const currentFont = props.editor.getAttributes(\'textStyle\').fontFamily\n  const nextFont = fontOptions[(fontOptions.indexOf(currentFont) + 1) % fontOptions.length]\n\n  if (nextFont === \'unset\') {\n    props.editor.chain().focus().unsetFontFamily().run()\n  } else {\n    props.editor.chain().focus().setFontFamily(nextFont).run()\n  }\n}\n\nconst toggleHeading = (level) => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleHeading({ level }).run()\n  }\n}\n\nconst isBoldActive = computed(() => props.editor && props.editor.isActive(\'bold\'))\nconst isItalicActive = computed(() => props.editor && props.editor.isActive(\'italic\'))\nconst isUnderlineActive = computed(() => props.editor && props.editor.isActive(\'underline\'))\nconst isSuperscriptActive = computed(() => props.editor && props.editor.isActive(\'superscript\'))\nconst isSubscriptActive = computed(() => props.editor && props.editor.isActive(\'subscript\'))\nconst isBulletListActive = computed(() => props.editor && props.editor.isActive(\'bulletList\'))\nconst isOrderedListActive = computed(() => props.editor && props.editor.isActive(\'orderedList\'))\nconst isLinkActive = computed(() => props.editor && props.editor.isActive(\'link\'))\nconst isCodeBlockActive = computed(() => props.editor && props.editor.isActive(\'codeBlock\'))\nconst isBlockquoteActive = computed(() => props.editor && props.editor.isActive(\'blockquote\'))\nconst isStrikeActive = computed(() => props.editor && props.editor.isActive(\'strike\'))\nconst canUndo = computed(() => props.editor && props.editor.can().undo())\nconst canRedo = computed(() => props.editor && props.editor.can().redo())\nconst isTextAlignLeft = computed(() => props.editor && props.editor.isActive({ textAlign: \'left\' }))\nconst isTextAlignCenter = computed(() => props.editor && props.editor.isActive({ textAlign: \'center\' }))\nconst isTextAlignRight = computed(() => props.editor && props.editor.isActive({ textAlign: \'right\' }))\nconst isTextAlignJustify = computed(() => props.editor && props.editor.isActive({ textAlign: \'justify\' }))\nconst isHeadingActive = (level) => computed(() => props.editor && props.editor.isActive(\'heading\', { level }))\n\nconst setLink = () => {\n  if (props.editor) {\n    const previousUrl = props.editor.getAttributes(\'link\').href\n    const url = window.prompt(\'URL\', previousUrl)\n    if (url === null) return\n\n    if (url === \'\') {\n      props.editor.chain().focus().extendMarkRange(\'link\').unsetLink().run()\n    } else {\n      props.editor.chain().focus().extendMarkRange(\'link\').setLink({ href: url }).run()\n    }\n  }\n}\n<\/script>\n\n<style scoped>\n.toolbar {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.button-group {\n  display: flex;\n  gap: 8px;\n  margin-right: 16px;\n}\n\n.icon-btn {\n  background-color: #4a5568;\n  color: white;\n  padding: 8px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  transition: background-color 0.3s, transform 0.3s;\n}\n\n.icon-btn.active {\n  background-color: #2d3748;\n}\n\n.icon-btn:hover {\n  background-color: #2d3748;\n  transform: scale(1.1);\n}\n\n.icon-btn.disabled {\n  background-color: #a0aec0;\n  cursor: not-allowed;\n}\n\n.icon-btn i {\n  font-size: 16px;\n}\n</style>\n'],sourceRoot:""}]);const c=a},77245:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".tiptap[data-v-48cf0b44]{>*[data-v-48cf0b44]+*{margin-top:.75em}}.character-count[data-v-48cf0b44]{color:#868e96;margin-left:1rem;margin-top:1rem}.tiptap p.is-editor-empty[data-v-48cf0b44]:first-child:before{color:#adb5bd;content:attr(data-placeholder);float:left;height:0;pointer-events:none}.fade-enter-active[data-v-48cf0b44],.fade-leave-active[data-v-48cf0b44]{transition:opacity .5s}.fade-enter[data-v-48cf0b44],.fade-leave-to[data-v-48cf0b44]{opacity:0}.save-message[data-v-48cf0b44]{font-size:1.5rem}","",{version:3,sources:["webpack://./resources/js/Components/Global/TextEditor/TipTapNewsStoryEditor.vue"],names:[],mappings:"AAoIA,yBACE,sBACE,gBACF,CACF,CAEA,kCAGE,aAAc,CADd,gBAAiB,CADjB,eAGF,CAGA,8DAGE,aAAc,CAFd,8BAA+B,CAC/B,UAAW,CAGX,QAAS,CADT,mBAEF,CAEA,wEACE,sBACF,CAEA,6DACE,SACF,CAEA,+BACE,gBACF",sourcesContent:["<template>\n  <TipTapButtons :editor=\"editor\"/>\n  <div class=\"relative\">\n    <div\n        class=\"tiptap hide-scrollbar h-auto overflow-y-auto min-h-[13rem] max-h-[96rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500\">\n      <editor-content :editor=\"editor\" class=\"news-story\"/>\n      <div class=\"character-count\" v-if=\"editor\">\n        {{ editor.storage.characterCount.characters() }} characters\n        <br>\n        {{ editor.storage.characterCount.words() }} words\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport { onBeforeUnmount, onMounted, ref } from 'vue'\nimport { useNewsStore } from '@/Stores/NewsStore'\nimport { useNotificationStore } from '@/Stores/NotificationStore'\nimport { Editor, EditorContent } from '@tiptap/vue-3'\nimport StarterKit from '@tiptap/starter-kit'\nimport TipTapButtons from '@/Components/Global/TextEditor/TipTapNewsStoryButtons'\nimport { TextStyle } from '@tiptap/extension-text-style'\nimport { Color } from '@tiptap/extension-color'\nimport Typography from '@tiptap/extension-typography'\nimport CharacterCount from '@tiptap/extension-character-count'\nimport Placeholder from '@tiptap/extension-placeholder'\nimport { FontFamily } from '@tiptap/extension-font-family'\nimport { TextAlign } from '@tiptap/extension-text-align'\nimport { Underline } from '@tiptap/extension-underline'\nimport { Subscript } from '@tiptap/extension-subscript'\nimport { Superscript } from '@tiptap/extension-superscript'\nimport Link from '@tiptap/extension-link'\nimport { throttle } from 'lodash'\n\nconst newsStore = useNewsStore()\nconst notificationStore = useNotificationStore()\n\nconst limit = 5000\nconst editor = ref(null)\nconst hasShownSaveMessage = ref(false)\nconst isUnmounting = ref(false)\n\nconst saveContent = throttle(async () => {\n  if (isUnmounting.value) return // Skip saving if the component is unmounting\n\n  if (!newsStore.id) {\n    if (!hasShownSaveMessage.value) {\n      console.log('Please save the story and go to editing mode to enable automatic saving.')\n      notificationStore.setGeneralServiceNotification('Save Required', 'Please save the story and go to editing mode to enable automatic saving.')\n      hasShownSaveMessage.value = true\n    }\n    return\n  }\n  try {\n    await axios.post('/newsStory/cache', {\n      id: newsStore.id,\n      slug: newsStore.slug,\n      status: newsStore.status,\n      title: newsStore.title,\n      content: newsStore.content,\n      newsPerson: newsStore.newsPerson,\n      category: newsStore.category,\n      subCategory: newsStore.subCategory,\n      city: newsStore.city,\n      province: newsStore.province,\n      federalElectoralDistrict: newsStore.federalElectoralDistrict,\n      subnationalElectoralDistrict: newsStore.subnationalElectoralDistrict\n    })\n    newsStore.showSaveMessage = true\n    setTimeout(() => {\n      newsStore.showSaveMessage = false\n    }, 2000)  // Show the save message for 2 seconds\n  } catch (error) {\n    console.error('Error caching content:', error)\n  }\n}, 5000) // Throttle delay set to 5 seconds\n\nconst editorInstance = new Editor({\n  content: newsStore.content,\n  extensions: [\n    StarterKit,\n    TextStyle,\n    FontFamily,\n    Color,\n    Typography,\n    Underline,\n    Subscript,\n    Superscript,\n    TextAlign.configure({\n      types: ['heading', 'paragraph'],\n    }),\n    Link.configure({\n      openOnClick: true,\n    }),\n    Placeholder.configure({\n      placeholder: 'Write something …',\n    }),\n    CharacterCount.configure({\n      limit: null,\n    })\n  ],\n  onUpdate: ({ editor }) => {\n    newsStore.content = editor.getHTML()\n    saveContent()\n  },\n  autofocus: true,\n  editorProps: {\n    attributes: {\n      class: 'h-auto min-h-[12rem] max-h-[96rem] overflow-y-auto block w-full p-2.5 focus:outline-none',\n    },\n  },\n})\n\neditor.value = editorInstance\n\nonMounted(() => {\n  editor.value.commands.setContent(newsStore.content)\n\n})\n\n// Ensure editor is destroyed properly on component unmount\nonBeforeUnmount(() => {\n  isUnmounting.value = true\n  if (editor.value) {\n    editor.value.destroy()\n  }\n})\n<\/script>\n\n<style scoped>\n.tiptap {\n  > * + * {\n    margin-top: 0.75em;\n  }\n}\n\n.character-count {\n  margin-top: 1rem;\n  margin-left: 1rem;\n  color: #868e96;\n}\n\n/* Placeholder (at the top) */\n.tiptap p.is-editor-empty:first-child::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: #adb5bd;\n  pointer-events: none;\n  height: 0;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s;\n}\n\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n.save-message {\n  font-size: 1.5rem;\n}\n\n\n/* Placeholder (on every new line) */\n/*.tiptap p.is-empty::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: #adb5bd;\n  pointer-events: none;\n  height: 0;\n}*/\n</style>\n"],sourceRoot:""}]);const c=a},68028:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const c=a},88106:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(29726),o=n(92995),i=n(20973),a=n(20715);const c={__name:"CancelButton",props:{url:String},setup:function(e){var t=(0,i.useAppSettingStore)(),n=(0,a.useUserStore)(),c=e;function s(){if(t.prevUrl)c.url?o.QB.visit(c.url):o.QB.visit(t.prevUrl);else if(c.url)o.QB.visit(c.url);else{var e=n.isCreator?"/dashboard":"/";o.QB.visit(e)}}return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(s,["prevent"]),class:"ml-2 px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg"},"Cancel ")])}}}},47212:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(29726),o=n(92995),i=n(20973);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:L(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function x(){}var k={};d(k,s,(function(){return this}));var C=Object.getPrototypeOf,A=C&&C(C(P([])));A&&A!==n&&r.call(A,s)&&(k=A);var E=x.prototype=b.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,c,s){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=h;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=B(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:v,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function B(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,B(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,o(E,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(N.prototype),d(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),d(E,u,"Generator"),d(E,s,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function s(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:1,class:"alert alert-success mt-4 mx-3"},f=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),h={key:2,class:"alert alert-warning mt-4 mx-3"},v=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),m={key:3,class:"alert alert-error mt-4 mx-3"},g=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const y={__name:"Messages",props:{flash:Object},setup:function(e){(0,i.useAppSettingStore)().showFlashMessage=!0;var t=e,n=((0,r.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.QB.post(route("flash.clear"));case 2:o.QB.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.unref)(t).flash.message?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.message),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.success?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,[f,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.success),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.warning?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,[v,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.warning),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[g,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.error),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0)])}}}},3107:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(29726),o=n(46815),i={class:"py-4 px-6 mb-6 bg-white shadow rounded-lg"},a={class:"mb-2"},c=(0,r.createElementVNode)("div",{class:"font-semibold text-xs uppercase text-gray-700"},"Category",-1),s={class:"text-gray-900 font-semibold"},l={class:"mb-2"},u=(0,r.createElementVNode)("div",{class:"font-semibold text-xs uppercase text-gray-700"},"Subcategory",-1),d={class:"text-gray-900 font-semibold"},p={key:0,class:"mb-2"},f=(0,r.createElementVNode)("div",{class:"font-semibold text-xs uppercase text-gray-700"},"Location",-1),h={class:"text-gray-900 font-semibold"};const v={__name:"NewsCategoryCityContainer",setup:function(e){var t=(0,r.defineAsyncComponent)({loader:function(){return n.e(4112).then(n.bind(n,74112))},loadingComponent:{template:"<p>Loading...</p>"},errorComponent:{template:"<p>Error loading component</p>"}}),v=(0,o.useNewsStore)();(0,r.watch)((function(){return[v.news_category_id,v.news_category_sub_id]}),(function(){v.setSelectedCategory()}));var m=(0,r.computed)((function(){var e,t,n,r,o;return null!==(e=v.city)&&void 0!==e&&e.name?null!==(o=v.province)&&void 0!==o&&o.name?"".concat(v.city.name,", ").concat(v.province.name):v.city.name:null!==(t=v.province)&&void 0!==t&&t.name?v.province.name:null!==(n=v.federalElectoralDistrict)&&void 0!==n&&n.name?v.federalElectoralDistrict.name:null!==(r=v.subnationalElectoralDistrict)&&void 0!==r&&r.name?v.subnationalElectoralDistrict.name:null}));return function(e,n){var o,g;return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("div",a,[c,(0,r.createElementVNode)("p",s,(0,r.toDisplayString)(null===(o=(0,r.unref)(v).category)||void 0===o?void 0:o.name),1)]),(0,r.createElementVNode)("div",l,[u,(0,r.createElementVNode)("p",d,(0,r.toDisplayString)(null===(g=(0,r.unref)(v).subCategory)||void 0===g?void 0:g.name),1)]),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,[f,(0,r.createElementVNode)("p",h,(0,r.toDisplayString)(m.value),1)])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("button",{onClick:n[0]||(n[0]=function(){var e;return(0,r.unref)(v).toggleCategoryCitySelector&&(e=(0,r.unref)(v)).toggleCategoryCitySelector.apply(e,arguments)}),class:(0,r.normalizeClass)(["btn mt-2",(0,r.unref)(v).showCategoryCitySelector?"btn-secondary":"btn-primary"])},(0,r.toDisplayString)((0,r.unref)(v).showCategoryCitySelector?"Done":"Change Category / City"),3),(0,r.unref)(v).showCategoryCitySelector?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(t),{key:1,searchPath:"/newsStory/".concat((0,r.unref)(v).slug,"/edit")},null,8,["searchPath"])):(0,r.createCommentVNode)("",!0)])])}}}},25128:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(29726),o=n(46815);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:L(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function x(){}var k={};d(k,s,(function(){return this}));var C=Object.getPrototypeOf,A=C&&C(C(P([])));A&&A!==n&&r.call(A,s)&&(k=A);var E=x.prototype=b.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,c,s){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=h;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=B(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:v,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function B(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,B(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=x,o(E,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(N.prototype),d(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),d(E,u,"Generator"),d(E,s,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=function(e){return(0,r.pushScopeId)("data-v-df12149a"),e=e(),(0,r.popScopeId)(),e},u={class:"flex flex-col py-4 px-6"},d=l((function(){return(0,r.createElementVNode)("div",{class:"font-semibold text-xs uppercase mb-2"},"Select News Person as author",-1)})),p=l((function(){return(0,r.createElementVNode)("option",{value:"",disabled:""},"Select News Person",-1)})),f=["value"];const h={__name:"ChangeNewsPersonAsWriter",setup:function(e){var t,n=(0,o.useNewsStore)(),i=(0,r.ref)([]),c=(0,r.ref)((null===(t=n.newsPerson)||void 0===t?void 0:t.id)||[]);(0,r.computed)((function(){return i.value.find((function(e){return e.id===c.value}))||null}));return(0,r.watch)(c,(function(e){var t=i.value.find((function(t){return t.id===e}));t&&(n.setNewsPerson({id:t.id,name:t.name}),n.toggleNewsPersonSelector())})),(0,r.onMounted)(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchNewsPersons();case 2:i.value=n.newsPersons.map((function(e){return{id:e.id,name:e.name,roles:e.roles,profile_photo_path:e.profile_photo_path,profile_photo_url:e.profile_photo_url}})),n.newsPerson&&(c.value=n.newsPerson.id);case 4:case"end":return e.stop()}}),e)})))),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.value=e}),class:"py-2"},[p,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,f)})),128))],512),[[r.vModelSelect,c.value]])])}}};var v=n(85072),m=n.n(v),g=n(68028),y={insert:"head",singleton:!1};m()(g.A,y);g.A.locals;const b=(0,n(66262).A)(h,[["__scopeId","data-v-df12149a"]]);var w={key:0,class:"flex flex-col py-4 px-6 mb-6 bg-white shadow rounded-lg"},x={key:0},k=(0,r.createElementVNode)("div",{class:"font-semibold text-xs uppercase mb-2 text-gray-700"},"News Writer",-1),C={class:"text-gray-900 font-semibold"},A={key:1},E=(0,r.createElementVNode)("div",{class:"font-semibold text-xs uppercase mb-2 text-gray-700"},"News Writer",-1);const S={__name:"NewsSelectPersonContainer",props:{can:Object},setup:function(e){var t=(0,o.useNewsStore)();return function(n,o){var i;return e.can.publish?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,[(0,r.unref)(t).showNewsPersonSelector?((0,r.openBlock)(),(0,r.createElementBlock)("div",A,[E,(0,r.createVNode)(b,{onUpdateNewsPerson:(0,r.unref)(t).toggleNewsPersonSelector},null,8,["onUpdateNewsPerson"]),(0,r.createElementVNode)("button",{onClick:o[1]||(o[1]=(0,r.withModifiers)((function(){var e;return(0,r.unref)(t).toggleNewsPersonSelector&&(e=(0,r.unref)(t)).toggleNewsPersonSelector.apply(e,arguments)}),["prevent"])),class:"btn btn-secondary mt-2"},"Cancel")])):((0,r.openBlock)(),(0,r.createElementBlock)("div",x,[k,(0,r.createElementVNode)("p",C,(0,r.toDisplayString)(null===(i=(0,r.unref)(t))||void 0===i||null===(i=i.newsPerson)||void 0===i?void 0:i.name),1),(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=(0,r.withModifiers)((function(){var e;return(0,r.unref)(t).toggleNewsPersonSelector&&(e=(0,r.unref)(t)).toggleNewsPersonSelector.apply(e,arguments)}),["prevent"])),class:"btn btn-primary mt-2"},"Change News Writer")]))])):(0,r.createCommentVNode)("",!0)}}}},1712:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var r=n(29726),o=n(46815),i=n(7447),a=n(42212),c=n(43492),s=n(52084),l={key:1,class:"color-picker-dialog"};const u={__name:"ColorPicker",props:{visible:{type:Boolean,default:!1},color:{type:String,default:"#000000"}},emits:["close","apply","update:color"],setup:function(e,t){var n=t.emit,o=e,i=n,a=(0,r.ref)(o.color),c=function(){console.log(a.value.hex),i("apply",a.value.hex),u()},u=function(){i("close")};return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"overlay",onClick:u})):(0,r.createCommentVNode)("",!0),e.visible?((0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createVNode)((0,r.unref)(s.A),{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return a.value=e})},null,8,["modelValue"]),(0,r.createElementVNode)("button",{class:"btn btn-primary mt-2",onClick:c},"Apply")])):(0,r.createCommentVNode)("",!0)])}}};var d=n(85072),p=n.n(d),f=n(34282),h={insert:"head",singleton:!1};p()(f.A,h);f.A.locals;var v=n(66262);const m=(0,v.A)(u,[["__scopeId","data-v-60d35359"]]);var g={class:"toolbar mb-2"},y={class:"flex flex-wrap gap-1 mb-2"},b={class:"button-group"},w={class:"button-group"},x={class:"button-group"},k={class:"button-group"},C=["disabled"],A={class:"button-group"},E={class:"button-group"},S=["disabled"],N=["disabled"],L={class:"button-group"},B={class:"button-group"};const _={__name:"TipTapNewsStoryButtons",props:{editor:Object},setup:function(e){var t=e,n=(0,r.ref)(!1),o=(0,r.ref)("#000000"),i=function(){n.value=!0},a=function(){n.value=!1},c=function(e){console.log(e),o.value=e,t.editor&&t.editor.chain().focus().setColor(e).run()},s=function(){t.editor&&t.editor.chain().focus().toggleBold().run()},l=function(){t.editor&&t.editor.chain().focus().toggleItalic().run()},u=function(){t.editor&&t.editor.chain().focus().toggleUnderline().run()},d=function(){t.editor&&t.editor.chain().focus().toggleSuperscript().run()},p=function(){t.editor&&t.editor.chain().focus().toggleSubscript().run()},f=function(){t.editor&&t.editor.chain().focus().toggleBulletList().run()},h=function(){t.editor&&t.editor.chain().focus().toggleOrderedList().run()},v=function(){t.editor&&t.editor.chain().focus().toggleCodeBlock().run()},_=function(){t.editor&&t.editor.chain().focus().toggleBlockquote().run()},V=function(){t.editor&&t.editor.chain().focus().setHorizontalRule().run()},T=function(){t.editor&&t.editor.chain().focus().toggleStrike().run()},P=function(){t.editor&&t.editor.chain().focus().undo().run()},D=function(){t.editor&&t.editor.chain().focus().redo().run()},F=function(e){t.editor&&t.editor.chain().focus().setTextAlign(e).run()},j=function(){var e=["Comic Sans MS, Comic Sans","monospace","Lucida Handwriting, Pacifico, Brush Script MT, cursive","unset"],n=t.editor.getAttributes("textStyle").fontFamily,r=e[(e.indexOf(n)+1)%e.length];"unset"===r?t.editor.chain().focus().unsetFontFamily().run():t.editor.chain().focus().setFontFamily(r).run()},O=function(e){t.editor&&t.editor.chain().focus().toggleHeading({level:e}).run()},I=(0,r.computed)((function(){return t.editor&&t.editor.isActive("bold")})),M=(0,r.computed)((function(){return t.editor&&t.editor.isActive("italic")})),G=(0,r.computed)((function(){return t.editor&&t.editor.isActive("underline")})),z=(0,r.computed)((function(){return t.editor&&t.editor.isActive("superscript")})),U=(0,r.computed)((function(){return t.editor&&t.editor.isActive("subscript")})),H=(0,r.computed)((function(){return t.editor&&t.editor.isActive("bulletList")})),R=(0,r.computed)((function(){return t.editor&&t.editor.isActive("orderedList")})),Y=(0,r.computed)((function(){return t.editor&&t.editor.isActive("link")})),Q=(0,r.computed)((function(){return t.editor&&t.editor.isActive("codeBlock")})),W=(0,r.computed)((function(){return t.editor&&t.editor.isActive("blockquote")})),q=(0,r.computed)((function(){return t.editor&&t.editor.isActive("strike")})),Z=(0,r.computed)((function(){return t.editor&&t.editor.can().undo()})),K=(0,r.computed)((function(){return t.editor&&t.editor.can().redo()})),$=(0,r.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"left"})})),J=(0,r.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"center"})})),X=(0,r.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"right"})})),ee=(0,r.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"justify"})})),te=function(e){return(0,r.computed)((function(){return t.editor&&t.editor.isActive("heading",{level:e})}))},ne=function(){if(t.editor){var e=t.editor.getAttributes("link").href,n=window.prompt("URL",e);if(null===n)return;""===n?t.editor.chain().focus().extendMarkRange("link").unsetLink().run():t.editor.chain().focus().extendMarkRange("link").setLink({href:n}).run()}};return function(e,t){var re=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("div",y,[(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(s,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:I.value}])},[(0,r.createVNode)(re,{icon:["fas","bold"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(l,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:M.value}])},[(0,r.createVNode)(re,{icon:["fas","italic"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(u,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:G.value}])},[(0,r.createVNode)(re,{icon:["fas","underline"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(T,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:q.value}])},[(0,r.createVNode)(re,{icon:["fas","strikethrough"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(d,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:z.value}])},[(0,r.createVNode)(re,{icon:["fas","superscript"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(p,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:U.value}])},[(0,r.createVNode)(re,{icon:["fas","subscript"]})],2)]),(0,r.createElementVNode)("div",w,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[0]||(t[0]=(0,r.withModifiers)((function(e){return O(1)}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{active:te(1)}])}," H1 ",2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[1]||(t[1]=(0,r.withModifiers)((function(e){return O(2)}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{active:te(2)}])}," H2 ",2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[2]||(t[2]=(0,r.withModifiers)((function(e){return O(3)}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{active:te(3)}])}," H3 ",2)]),(0,r.createElementVNode)("div",x,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(f,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:H.value}])},[(0,r.createVNode)(re,{icon:["fas","list-ul"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(h,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:R.value}])},[(0,r.createVNode)(re,{icon:["fas","list-ol"]})],2)]),(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(ne,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:Y.value}])},[(0,r.createVNode)(re,{icon:["fas","link"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[3]||(t[3]=(0,r.withModifiers)((function(){return e.unsetLink&&e.unsetLink.apply(e,arguments)}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{disabled:!Y.value}]),disabled:!Y.value},[(0,r.createVNode)(re,{icon:["fas","unlink"]})],10,C)]),(0,r.createElementVNode)("div",A,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(v,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:Q.value}])},[(0,r.createVNode)(re,{icon:["fas","code"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(_,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{active:W.value}])},[(0,r.createVNode)(re,{icon:["fas","quote-right"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(V,["prevent"]),class:"icon-btn"},[(0,r.createVNode)(re,{icon:["fas","minus"]})])]),(0,r.createElementVNode)("div",E,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(P,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{disabled:!Z.value}]),disabled:!Z.value},[(0,r.createVNode)(re,{icon:["fas","undo"]})],10,S),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(D,["prevent"]),class:(0,r.normalizeClass)(["icon-btn",{disabled:!K.value}]),disabled:!K.value},[(0,r.createVNode)(re,{icon:["fas","redo"]})],10,N)]),(0,r.createElementVNode)("div",L,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[4]||(t[4]=(0,r.withModifiers)((function(e){return F("left")}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{active:$.value}])},[(0,r.createVNode)(re,{icon:["fas","align-left"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[5]||(t[5]=(0,r.withModifiers)((function(e){return F("center")}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{active:J.value}])},[(0,r.createVNode)(re,{icon:["fas","align-center"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[6]||(t[6]=(0,r.withModifiers)((function(e){return F("right")}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{active:X.value}])},[(0,r.createVNode)(re,{icon:["fas","align-right"]})],2),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:t[7]||(t[7]=(0,r.withModifiers)((function(e){return F("justify")}),["prevent"])),class:(0,r.normalizeClass)(["icon-btn",{active:ee.value}])},[(0,r.createVNode)(re,{icon:["fas","align-justify"]})],2)]),(0,r.createElementVNode)("div",B,[(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(i,["prevent"]),class:"icon-btn"},[(0,r.createVNode)(re,{icon:["fas","palette"]})]),(0,r.createElementVNode)("button",{tabindex:"-1",onClick:(0,r.withModifiers)(j,["prevent"]),class:"icon-btn"},[(0,r.createVNode)(re,{icon:["fas","font"]})])])])]),(0,r.createVNode)(m,{visible:n.value,color:o.value,onClose:a,onApply:c,"onUpdate:color":t[8]||(t[8]=function(e){return o.value=e})},null,8,["visible","color"])])}}};var V=n(11926),T={insert:"head",singleton:!1};p()(V.A,T);V.A.locals;const P=(0,v.A)(_,[["__scopeId","data-v-51ee9b05"]]);var D=n(7417),F=n(48631),j=n(36035),O=n(97993),I=n(98005),M=n(83302),G=n(94341),z=n(37594),U=n(91893),H=n(66562),R=n(53639),Y=n(2543);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(){W=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new _(r||[]);return o(a,"_invoke",{value:S(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(V([])));k&&k!==n&&r.call(k,a)&&(w=k);var C=b.prototype=g.prototype=Object.create(w);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,c){var s=d(e[o],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Q(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=N(c,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?v:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function V(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Q(t)+" is not iterable")}return y.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},A(E.prototype),l(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(C),l(C,s,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=V,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:V(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function q(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,c,"next",e)}function c(e){q(i,r,o,a,c,"throw",e)}a(void 0)}))}}var K={class:"relative"},$={class:"tiptap hide-scrollbar h-auto overflow-y-auto min-h-[13rem] max-h-[96rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500"},J={key:0,class:"character-count"},X=function(e){return(0,r.pushScopeId)("data-v-48cf0b44"),e=e(),(0,r.popScopeId)(),e}((function(){return(0,r.createElementVNode)("br",null,null,-1)}));const ee={__name:"TipTapNewsStoryEditor",setup:function(e){var t=(0,o.useNewsStore)(),n=(0,i.useNotificationStore)(),s=(0,r.ref)(null),l=(0,r.ref)(!1),u=(0,r.ref)(!1),d=(0,Y.throttle)(Z(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.value){e.next=2;break}return e.abrupt("return");case 2:if(t.id){e.next=5;break}return l.value||(console.log("Please save the story and go to editing mode to enable automatic saving."),n.setGeneralServiceNotification("Save Required","Please save the story and go to editing mode to enable automatic saving."),l.value=!0),e.abrupt("return");case 5:return e.prev=5,e.next=8,axios.post("/newsStory/cache",{id:t.id,slug:t.slug,status:t.status,title:t.title,content:t.content,newsPerson:t.newsPerson,category:t.category,subCategory:t.subCategory,city:t.city,province:t.province,federalElectoralDistrict:t.federalElectoralDistrict,subnationalElectoralDistrict:t.subnationalElectoralDistrict});case 8:t.showSaveMessage=!0,setTimeout((function(){t.showSaveMessage=!1}),2e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error caching content:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),5e3),p=new a.KE({content:t.content,extensions:[c.A,D.x,M.a,F.Q,j.Ay,z.z,U.E,H.Z,G.n.configure({types:["heading","paragraph"]}),R.Ay.configure({openOnClick:!0}),I.A.configure({placeholder:"Write something …"}),O.A.configure({limit:null})],onUpdate:function(e){var n=e.editor;t.content=n.getHTML(),d()},autofocus:!0,editorProps:{attributes:{class:"h-auto min-h-[12rem] max-h-[96rem] overflow-y-auto block w-full p-2.5 focus:outline-none"}}});return s.value=p,(0,r.onMounted)((function(){s.value.commands.setContent(t.content)})),(0,r.onBeforeUnmount)((function(){u.value=!0,s.value&&s.value.destroy()})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)((0,r.unref)(P),{editor:s.value},null,8,["editor"]),(0,r.createElementVNode)("div",K,[(0,r.createElementVNode)("div",$,[(0,r.createVNode)((0,r.unref)(a.$Z),{editor:s.value,class:"news-story"},null,8,["editor"]),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",J,[(0,r.createTextVNode)((0,r.toDisplayString)(s.value.storage.characterCount.characters())+" characters ",1),X,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(s.value.storage.characterCount.words())+" words ",1)])):(0,r.createCommentVNode)("",!0)])])],64)}}};var te=n(77245),ne={insert:"head",singleton:!1};p()(te.A,ne);te.A.locals;const re=(0,v.A)(ee,[["__scopeId","data-v-48cf0b44"]]);var oe={class:"mb-6"},ie=(0,r.createElementVNode)("label",{for:"Title",class:"block mb-2 text-sm font-bold text-gray-900"},"Title",-1),ae={key:0,class:"text-sm text-red-600"},ce={class:"mb-6"},se=(0,r.createElementVNode)("label",{for:"Content",class:"block mb-2 text-sm font-bold text-gray-900"},"Content",-1),le={key:0,class:"text-sm text-red-600"};const ue={__name:"NewsWriterComponent",setup:function(e){var t=(0,o.useNewsStore)();return function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",oe,[ie,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,r.unref)(t).title=e}),name:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:""},null,512),[[r.vModelText,(0,r.unref)(t).title]]),(0,r.unref)(t).errors.title?((0,r.openBlock)(),(0,r.createElementBlock)("div",ae,(0,r.toDisplayString)((0,r.unref)(t).errors.title),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",ce,[se,(0,r.createVNode)((0,r.unref)(re)),(0,r.unref)(t).errors.body?((0,r.openBlock)(),(0,r.createElementBlock)("div",le,(0,r.toDisplayString)((0,r.unref)(t).errors.body),1)):(0,r.createCommentVNode)("",!0)])])}}}},23611:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(29726),o=n(92995),i={key:0},a=(0,r.createElementVNode)("div",{class:"font-medium text-red-600"}," Whoops! Something went wrong. ",-1),c={class:"mt-3 list-disc list-inside text-sm text-red-600"};const s={__name:"ValidationErrors",setup:function(e){var t=(0,r.computed)((function(){return(0,o.N5)().props.errors})),n=(0,r.computed)((function(){return Object.keys(t.value).length>0}));return function(e,o){return n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,[a,(0,r.createElementVNode)("ul",c,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.value,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("li",{key:t},(0,r.toDisplayString)(e),1)})),128))])])):(0,r.createCommentVNode)("",!0)}}}},83407:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(29726),o=n(2435),i=n(20973),a=n(46815),c=n(23611),s=n(47212),l=n(88106),u=n(3107),d=n(25128),p={class:"flex flex-row justify-between mt-6"},f=(0,r.createElementVNode)("h2",{class:"text-2xl font-semibold leading-tight"}," Create News Story ",-1),h={class:"flex justify-end space-x-2"},v=["disabled"];const m={__name:"NewsCreateHeader",setup:function(e){var t=(0,a.useNewsStore)();return function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",p,[f,(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("button",{onClick:n[0]||(n[0]=function(){var e;return(0,r.unref)(t).submit&&(e=(0,r.unref)(t)).submit.apply(e,arguments)}),class:(0,r.normalizeClass)(["text-white bg-blue-700 hover:bg-blue-500 focus:outline-none font-medium rounded-lg text-sm px-6 py-2.5 ml-2",{"opacity-25":(0,r.unref)(t).processing}]),disabled:(0,r.unref)(t).processing}," Save ",10,v)])])}}};var g=n(1712),y={class:"place-self-center flex flex-col gap-y-3"},b={id:"topDiv",class:"bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10"},w={class:"flex justify-end items-center"},x={key:0,class:"save-message text-xs mr-2 text-green-500"},k=["disabled"];const C={__name:"Create",props:{can:Object,errors:Object},setup:function(e){(0,o.c)("newsCreate");var t=(0,i.useAppSettingStore)(),n=(0,a.useNewsStore)(),p=e;return n.errors=p.errors,(0,r.onUnmounted)((function(){n.reset()})),function(o,i){var a=(0,r.resolveComponent)("Head");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(a,{title:"Create News Post"}),(0,r.createElementVNode)("div",y,[(0,r.createElementVNode)("div",b,[(0,r.unref)(t).showFlashMessage?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(s.A),{key:0,flash:o.$page.props.flash},null,8,["flash"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(m),(0,r.createVNode)(d.default,{can:e.can},null,8,["can"]),(0,r.createVNode)(u.default),(0,r.createVNode)(g.default),(0,r.createElementVNode)("div",w,[(0,r.createVNode)(r.Transition,{name:"fade"},{default:(0,r.withCtx)((function(){return[(0,r.unref)(n).showSaveMessage?((0,r.openBlock)(),(0,r.createElementBlock)("div",x," Content cached ")):(0,r.createCommentVNode)("",!0)]})),_:1}),(0,r.createVNode)(l.A),(0,r.createElementVNode)("button",{onClick:i[0]||(i[0]=function(){var e;return(0,r.unref)(n).submit&&(e=(0,r.unref)(n)).submit.apply(e,arguments)}),class:(0,r.normalizeClass)(["text-white bg-blue-700 hover:bg-blue-500 focus:outline-none font-medium rounded-lg text-sm px-6 py-2.5 ml-2",{"opacity-25":(0,r.unref)(n).processing}]),disabled:(0,r.unref)(n).processing}," Save ",10,k),(0,r.createVNode)((0,r.unref)(c.A),{class:"ml-4"})])])])],64)}}}}}]);
//# sourceMappingURL=3407.js.map