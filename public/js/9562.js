/*! For license information please see 9562.js.LICENSE.txt */
"use strict";(self.webpackChunknottvbeta=self.webpackChunknottvbeta||[]).push([[9562,4526,905,6028,1677,632],{34526:(e,t,n)=>{n.r(t),n.d(t,{useGoLiveStore:()=>d});var r=n(38839),o=n(7447),i=(n(58088),n(10632));n(75137);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function x(){}var S={};d(S,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,c)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,s,c){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=h;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=V(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function V(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,V(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(C.prototype),d(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var u=function(){return{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,selectedEpisodeId:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],otherShowDestinations:[],loadingOtherDestinations:!1,isLoadingDestinations:!1,loadingDestinationId:null,processingRecordingChange:!1,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null,mistStreamPushDestinationFormModalMode:null,destinationDetails:{}}},d=(0,r.nY)("goLiveStore",{state:u,actions:{reset:function(){Object.assign(this,{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,selectedEpisodeId:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],otherShowDestinations:[],loadingOtherDestinations:!1,isLoadingDestinations:!1,loadingDestinationId:null,processingRecordingChange:!1,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null,mistStreamPushDestinationFormModalMode:null,destinationDetails:{}})},fetchShows:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/go-live/shows");case 3:n=t.sent,e.shows=n.data,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},generateStreamKey:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedShowId){t.next=2;break}throw new Error("No show selected");case 2:return t.prev=2,t.next=5,axios.post("/go-live/shows/".concat(e.selectedShowId,"/stream-key"));case 5:return n=t.sent,e.selectedShowId&&n.data.stream_key&&(e.selectedShow.mist_stream_wildcard=n.data,e.selectedShow.mist_stream_wildcard_id=n.data.stream_key),t.abrupt("return",n.data);case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},updateAndGetStreamKey:function(){var e,t=this,n=this.shows.find((function(e){return e.id===t.selectedShowId}))||null,r=(null==n||null===(e=n.mist_stream_wildcard)||void 0===e?void 0:e.name)||" < RELOAD THIS PAGE TO GET YOUR STREAM KEY > ";return this.streamKey=r,r},setSelectedShowId:function(e){this.selectedShowId=e,this.updateSelectedShow()},updateSelectedShow:function(){var e=this;this.selectedShow=this.shows.find((function(t){return t.id===e.selectedShowId}))||null},goLive:function(){this.isLive=!0},stopLive:function(){this.isLive=!1},startRecording:function(){var e=this;return l(s().mark((function t(){var n,r,i,a,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),r=e.selectedShow.slug,e.processingRecordingChange=!0,t.prev=3,t.next=6,axios.post("/mist-stream/start-recording/"+r,{stream_name:e.streamKey});case 6:i=t.sent,a=i.data,c=a.message,l=a.status,n.setToastNotification(c,l),e.isRecording=!0,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),n.setToastNotification("Failed to start recording.","error");case 15:return t.prev=15,e.processingRecordingChange=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},stopRecording:function(){var e=this;return l(s().mark((function t(){var n,r,i,a,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),r=e.selectedShow.slug,e.processingRecordingChange=!0,t.prev=3,t.next=6,axios.post("/mist-stream/stop-recording/"+r,{stream_name:e.streamKey});case 6:i=t.sent,a=i.data,c=a.message,l=a.status,n.setToastNotification(c,l),e.isRecording=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),n.setToastNotification("Failed to stop push.","error");case 15:return t.prev=15,e.processingRecordingChange=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},fetchStreamInfo:function(){var e=this;return l(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,o.useNotificationStore)(),t.prev=1,e.mistServerUri){t.next=5;break}return t.next=5,e.fetchMistServerUri();case 5:return t.next=7,axios.post("/fetch-stream-info",{streamName:e.streamKey,mistServerUri:e.mistServerUri});case 7:r=t.sent,e.streamInfo=r.data.streamInfo||[],r.data.streamInfo.error?(r.data.streamInfo.error,"error"):r.data.message&&r.data.success?(r.data.message,"info"):"info",t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.setToastNotification("Failed to fetch stream info.","error");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},fetchRtmpUri:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/fetch-rtmp-uri");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("Failed to fetch");case 6:return t.next=8,n.text();case 8:e.rtmpUri=t.sent,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},clearStreamInfo:function(){this.streamInfo=null},toggleDisplayEpisodeGoLiveComponent:function(e){var t;this.displayEpisodeGoLiveComponent=!this.displayEpisodeGoLiveComponent,this.isEpisode=!!this.displayEpisodeGoLiveComponent,this.episode=e,this.selectedShowId=null==this||null===(t=this.episode)||void 0===t?void 0:t.show_id},updateEpisode:function(e){this.episode=e},fetchMistServerUri:function(){var e=this;return l(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,i.useVideoAuxPlayerStore)(),t.next=3,axios.get("/mist-server/uri");case 3:r=t.sent,e.mistServerUri=r.data,n.setMistServerUri(e.mistServerUri);case 6:case"end":return t.stop()}}),t)})))()},reloadPlayer:function(){var e=this;return l(s().mark((function t(){var n,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,i.useVideoAuxPlayerStore)(),r=(0,o.useNotificationStore)(),e.playerIsReloading=!0,t.prev=3,a={name:e.streamKey},t.next=7,n.loadMistStreamVideo(a,!0).then();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),r.setToastNotification("Failed to reload player.","error");case 12:return t.prev=12,e.playerIsReloading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,9,12,15]])})))()},fetchOtherShowDestinations:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Starting fetchOtherShowDestinations..."),console.log("Current selectedShowId:",e.selectedShowId),console.log("Current selectedEpisodeId:",e.selectedEpisodeId),e.loadingOtherDestinations=!0,t.prev=4,t.next=7,axios.get("/go-live/existing-destinations",{params:{showId:e.selectedShowId,episodeId:e.selectedEpisodeId}});case 7:n=t.sent,console.log("Response from fetchOtherShowDestinations:",n.data),e.otherShowDestinations=n.data.destinations,e.loadingOtherDestinations=!1,console.log("Finished fetchOtherShowDestinations successfully."),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(4),notificationStore.setToastNotification("Failed to fetch destinations.","error"),console.error("Error fetching other show destinations",t.t0),e.loadingOtherDestinations=!1;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))()},copyDestinations:function(e){var t=this;return l(s().mark((function n(){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loadingOtherDestinations=!0,n.prev=1,r={destinationIds:e,showId:t.selectedShowId,episodeId:t.selectedEpisodeId,mistStreamWildcardId:t.wildcardId},console.log("Sending copy destinations request",r),n.next=6,axios.post("/go-live/copy-destinations",r);case 6:return i=n.sent,console.log("Received response",i.data),t.destinations=i.data.destinations||[],(0,o.useNotificationStore)().setToastNotification(i.data.message,i.data.status),t.loadingOtherDestinations=!1,n.abrupt("return",!0);case 15:return n.prev=15,n.t0=n.catch(1),console.error("Error copying destinations",n.t0),(0,o.useNotificationStore)().setToastNotification("Failed to copy destinations.","error"),t.loadingOtherDestinations=!1,n.abrupt("return",!1);case 22:case"end":return n.stop()}}),n,null,[[1,15]])})))()},fetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var n,r,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),e.isLoadingDestinations=!0,t.prev=2,t.next=5,axios.post("/go-live/fetch-push-destinations",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!1});case 5:r=t.sent,e.destinations=r.data.destinations||[],e.isRecording=r.data.recording||!1,console.log("response about recording: "+r.data.recording),i=r.data,i.message,i.status,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.setToastNotification("Failed to fetch push destinations.","error");case 15:return t.prev=15,e.isLoadingDestinations=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})))()},backgroundFetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoadingDestinations=!0,t.prev=1,t.next=4,axios.post("/go-live/fetch-push-destinations/",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!0});case 4:n=t.sent,e.destinations=n.data.destinations||[],e.isRecording=n.data.recording||!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),notificationStore.setToastNotification("Failed to fetch push destinations.","error");case 12:return t.prev=12,e.isLoadingDestinations=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},deleteDestination:function(e){var t=this;return l(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Are you sure you want to delete the destination with ID: ".concat(e,"?"))){n.next=10;break}return n.prev=1,n.next=4,axios.delete("/mist-stream-push-destinations/"+e);case 4:t.destinations=t.destinations.filter((function(t){return t.id!==e})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),notificationStore.setGeneralServiceNotification("Error deleting destination",n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},startPush:function(e,t){var n=this;return l(s().mark((function r(){var i,a,c,l,u,d;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=(0,o.useNotificationStore)(),n.loadingDestinationId=e,r.prev=2,r.next=5,axios.post("/mist-stream/start-push",{destination_id:e,full_push_uri:t,stream_name:n.streamKey});case 5:a=r.sent,c=a.data,l=c.message,u=c.status,i.setToastNotification(l,u),-1!==(d=n.destinations.findIndex((function(t){return t.id===e})))&&(n.destinations[d].push_is_started=1),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),i.setToastNotification("Failed to start push.","error");case 15:return r.prev=15,n.loadingDestinationId=null,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})))()},stopPush:function(e){var t=this;return l(s().mark((function n(){var r,i,a,c,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.useNotificationStore)(),t.loadingDestinationId=e,n.prev=2,n.next=5,axios.post("/mist-stream/stop-push",{destination_id:e});case 5:i=n.sent,a=i.data,c=a.message,l=a.status,r.setToastNotification(c,l),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r.setToastNotification("Failed to stop push.","error");case 13:return n.prev=13,t.loadingDestinationId=null,-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].push_is_started=0),n.finish(13);case 18:case"end":return n.stop()}}),n,null,[[2,10,13,18]])})))()},enableAutoPush:function(e){var t=this;return l(s().mark((function n(){var r,i,a,c,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loadingDestinationId=e,r=(0,o.useNotificationStore)(),n.prev=2,n.next=5,axios.post("/mist-stream/push-auto-add/"+e);case 5:i=n.sent,a=i.data,c=a.message,l=a.status,r.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),r.setToastNotification("Failed to enable auto push.","error");case 15:return n.prev=15,t.loadingDestinationId=null,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))()},disableAutoPush:function(e){var t=this;return l(s().mark((function n(){var r,i,a,c,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.useNotificationStore)(),t.loadingDestinationId=e,n.prev=2,n.next=5,axios.post("/mist-stream/push-auto-remove/"+e);case 5:i=n.sent,a=i.data,c=a.message,l=a.status,r.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=0),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),r.setToastNotification("Failed to disable auto push.","error");case 15:return n.prev=15,t.loadingDestinationId=null,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))()},disableAllAutoPushes:function(){var e=this;return l(s().mark((function t(){var n,r,i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),e.isProcessingDisableAllAutoPushes=!0,t.prev=2,t.next=5,axios.post("/mist-stream/remove-all-auto-pushes-for-stream",{streamName:e.streamKey});case 5:return r=t.sent,i=r.data,a=i.message,c=i.status,n.setToastNotification(a,c),t.next=10,e.fetchPushDestinations();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.setToastNotification("Failed to disable auto push.","error");case 15:return t.prev=15,e.isProcessingDisableAllAutoPushes=!1,t.next=19,e.fetchPushDestinations();case 19:return t.finish(15);case 20:case"end":return t.stop()}}),t,null,[[2,12,15,20]])})))()}},getters:{selectedShow:function(e){var t,n,r,o=e.shows.find((function(t){return t.id===e.selectedShowId}))||null;return e.streamKey=(null==o||null===(t=o.mist_stream_wildcard)||void 0===t?void 0:t.name)||"Fallback value if undefined",e.wildcardId=(null==o||null===(n=o.mist_stream_wildcard)||void 0===n?void 0:n.id)||"Fallback value if undefined",e.isRecording=(null==o||null===(r=o.mist_stream_wildcard)||void 0===r?void 0:r.is_recording)||!1,o},fullRtmpUri:function(e){return e.rtmpUri?e.rtmpUri+"live/":""},fullUrl:function(e){var t=e.rtmpUri?e.rtmpUri+"live/":"";return"".concat(t).concat(e.streamKey)},activeDestinations:function(e){return e.destinations.filter((function(e){return e.push_is_started}))},sourceName:function(e){var t,n;return null!==(t=e.selectedShow)&&void 0!==t&&null!==(t=t.mist_stream_wildcard)&&void 0!==t&&t.name?e.selectedShow.mist_stream_wildcard.name:null!==(n=e.episode)&&void 0!==n&&null!==(n=n.mist_stream_wildcard)&&void 0!==n&&n.name?e.episode.mist_stream_wildcard.name:null},streamOffline:function(e){var t,n;return"Stream is offline"===(null!==(t=null===(n=e.streamInfo)||void 0===n?void 0:n.error)&&void 0!==t?t:"")}}})},50905:(e,t,n)=>{n.r(t),n.d(t,{useMistStore:()=>l});var r=n(38839);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new T(r||[]);return a(i,"_invoke",{value:_(e,n,s)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function x(){}var S={};d(S,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,c)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,s,c){var l=f(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=h;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=V(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function V(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,V(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=x,a(N,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(C.prototype),d(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))}}var c=function(){return{apiRequest:[],challenge:[],status:[],apiResponse:[],apiActiveStreams:[],mistUsername:[],mistPassword:[],mistStatus:Boolean,mistDisplayPushForm:Boolean,mistDisplay:String,mistNewHashedPassword:[],mistStreamPushDestinations:[]}},l=(0,r.nY)("mistStore",{state:c,actions:{reset:function(){Object.assign(this,c())},getMistStreamPushDestinations:function(e){return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},getMistStreamPushAutoList:function(e){var t=this;return s(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=13;break}return n.prev=1,n.next=4,axios.post("/mist-stream/get-push-auto-list?wildcardId=".concat(e));case 4:r=n.sent,t.mistStreamPushDestinations=r.data,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("Failed to fetch push auto list:",n.t0);case 11:n.next=14;break;case 13:console.error("No wildcard ID found (getMistStreamPushAutoList)");case 14:case"end":return n.stop()}}),n,null,[[1,8]])})))()},getMistStreamPushList:function(e){var t=this;return s(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=13;break}return n.prev=1,n.next=4,axios.post("/mist-stream/get-push-list?wildcardId=".concat(e));case 4:r=n.sent,t.mistStreamPushDestinations=r.data,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("Failed to fetch push list:",n.t0);case 11:n.next=14;break;case 13:console.error("No wildcard ID found (getMistStreamPushList)");case 14:case"end":return n.stop()}}),n,null,[[1,8]])})))()}}})},86028:(e,t,n)=>{n.r(t),n.d(t,{useShowEpisodeStore:()=>v});var r=n(38839),o=n(20715),i=n(74353),a=n.n(i),s=n(83826),c=n.n(s),l=n(88569),u=n.n(l);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){p=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function x(){}var S={};l(S,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,a)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==d(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=h;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=V(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function V(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,V(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(d(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),l(N,c,"Generator"),l(N,a,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function f(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}}a().extend(c()),a().extend(u());var m=function(){return{episode:{},show:{},team:{},creativeCommons:{},saveNoteProcessing:Boolean,errorMessage:"",isLive:!1,liveScheduledStartTime:"",liveMistStreamName:"",isScheduled:null,isUpdatingSchedule:!1,updatedBy:null,isSaving:null,loadingUpdatingStatus:!1,leader:null,isUploading:!1}},v=(0,r.nY)("showEpisodeStore",{state:m,actions:{reset:function(){Object.assign(this,m())},initializeShowEpisode:function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c={};try{e.meta&&(c="string"==typeof e.meta?JSON.parse(e.meta):e.meta)}catch(e){console.error("Error parsing meta:",e)}this.$patch({episode:{id:e.id,ulid:e.ulid,name:e.name,slug:e.slug,description:e.description,notes:e.notes,episodeNumber:e.episode_number,status:e.status,release_year:e.release_year,release_dateTime:e.release_dateTime,scheduled_release_dateTime:e.scheduled_release_dateTime,copyright_year:e.copyright_year,creative_commons:e.creative_commons,mist_stream_id:e.mist_stream_id,youtube_url:e.youtube_url,video_embed_code:e.video_embed_code,video:e.video,image:e.image},show:i,team:a,creativeCommons:s,isScheduled:null!==(t=c.isScheduled)&&void 0!==t&&t,isSaving:null!==(n=c.isSaving)&&void 0!==n&&n,isUpdatingSchedule:null!==(r=c.isUpdatingSchedule)&&void 0!==r?r:null,updatedBy:null!==(o=c.updatedBy)&&void 0!==o?o:null})},setLeader:function(e){this.leader=e},resetLeader:function(){this.leader=null},checkIsLive:function(){var e=this;return h(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/api/showEpisodes/".concat(e.slug,"/check-live"));case 3:n=t.sent,e.isLive=n.data.isLive,e.liveScheduledStartTime=n.data.liveScheduledStartTime,e.liveMistStreamName=n.data.mistStreamName,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error checking if episode is live:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},updateEpisode:function(){return h(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},setReleaseDateTime:function(e){this.episode.release_dateTime=a()(e).utc().format(),this.episode.scheduled_release_dateTime=null},setScheduledReleaseDateTime:function(e){this.episode.scheduled_release_dateTime=a()(e).utc().format(),this.episode.release_dateTime=null},cancelScheduledRelease:function(){this.episode.scheduled_release_dateTime=null}},getters:{scheduleReleaseDateTimeInUserTz:function(e){var t=(0,o.useUserStore)();return e.episode.scheduled_release_dateTime?a()(e.episode.scheduled_release_dateTime).tz(t.timezone).format():null},releaseDateTimeInUserTz:function(e){var t=(0,o.useUserStore)();return e.episode.release_dateTime?a()(e.episode.release_dateTime).tz(t.timezone).format():null},formattedReleaseDateTime:function(e){var t=(0,o.useUserStore)();return e.episode.release_dateTime?t.formatLongDateTimeFromUtcToUserTimezone(e.episode.release_dateTime):null},formattedScheduledReleaseDateTime:function(e){var t=(0,o.useUserStore)();return e.episode.scheduled_release_dateTime?t.formatLongDateTimeFromUtcToUserTimezone(e.episode.scheduled_release_dateTime):null}}})},61677:(e,t,n)=>{n.r(t),n.d(t,{useTeamStore:()=>C});var r=n(38839),o=n(74353),i=n.n(o),a=n(48018),s=n.n(a),c=n(88569),l=n.n(c),u=n(20715),d=n(7447);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n){var r=i()().tz(n);return e.filter((function(e){var o,a=i()(e.broadcastDate).add(e.broadcastDetails.duration_minutes,"minute").utc().tz(n),s=r.isBefore(a),c=!(t&&t.broadcastDate===e.broadcastDate&&i()(t.broadcastDate).add((null===(o=t.broadcastDetails)||void 0===o?void 0:o.duration_minutes)||0,"minute").utc().tz(n).isSame(a));return s&&c})).sort((function(e,t){return i()(e.broadcastDate).tz(n).diff(i()(t.broadcastDate).tz(n))})).map((function(e){return h(h({},e),{},{localDate:i()(e.broadcastDate).tz(n).format()})}))}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){E=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function b(){}function w(){}var x={};l(x,a,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(D([])));k&&k!==n&&r.call(k,a)&&(x=k);var N=w.prototype=g.prototype=Object.create(x);function L(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==y(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=V(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function V(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,V(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(y(t)+" is not iterable")}return b.prototype=w,o(N,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),l(N,c,"Generator"),l(N,a,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function k(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,s,"next",e)}function s(e){k(i,r,o,a,s,"throw",e)}a(void 0)}))}}i().extend(s()),i().extend(l()),i().extend(s()),i().extend(l());var L=function(){return{team:{},shows:{},contributors:{},members:{pages:{},current_page:1,last_page:1,per_page:5,total:0,data:[]},managers:[],creators:[],teamOwner:[],teamLeader:[],can:{},id:0,name:"",description:"",slug:"",totalSpots:"",memberSpots:"",activeShow:[],activeEpisode:[],showModal:Boolean,confirmDialog:!1,confirmManagerDialog:!1,selectedManagerName:"",selectedManagerId:0,addManager:!1,removeManager:!1,deleteMemberName:"",deleteMemberId:0,noteEdit:0,note:"",noteKey:0,saveNoteProcessing:Boolean,goLiveDisplay:!1,openComponent:"teamShows",nextBroadcastLoaded:{scheduleIndexId:null,broadcastDate:null,broadcastDetails:{},type:"",image:null,category:null,subCategory:null,slug:null,name:null,description:null},nextBroadcastZoomLink:""}},C=(0,r.nY)("teamStore",{state:L,actions:{reset:function(){Object.assign(this,L())},initializeTeam:function(e){this.members=e.members?e.members.data:[],this.managers=e.managers||[],this.team=e||{}},initializeShows:function(e){this.shows=e||{}},initializeContributors:function(e){this.contributors=e||{}},setCan:function(e){this.can=e||{}},setActiveTeam:function(e){this.team.id=e.id,this.team.name=e.name,this.team.description=e.description,this.team.slug=e.slug,this.team.totalSpots=e.totalSpots},setActiveShow:function(e){this.activeShow=e},setActiveEpisode:function(e){this.activeShow=e},fetchPaginatedTeamMembers:function(){var e=arguments,t=this;return N(E().mark((function n(){var r,o,i,a,s;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1,t.team.members||(t.team.members={current_page:1,last_page:1,per_page:5,total:0,data:[],links:{}}),n.prev=2,n.next=5,axios.get("/teams/".concat(t.team.slug,"/fetch-paginated-team-members?members=").concat(r));case 5:if(o=n.sent,i=o.data.meta,a=o.data.data,s=o.data.links,!(r>i.last_page)){n.next=13;break}return n.next=12,t.fetchPaginatedTeamMembers(i.last_page);case 12:return n.abrupt("return",n.sent);case 13:t.team.members.current_page=i.current_page,t.team.members.last_page=i.last_page,t.team.members.per_page=i.per_page,t.team.members.total=i.total,t.team.members.data=a,t.team.members.links=s,n.next=24;break;case 21:n.prev=21,n.t0=n.catch(2),console.error("Failed to fetch team members:",n.t0);case 24:case"end":return n.stop()}}),n,null,[[2,21]])})))()},addMember:function(e){var t=this;return N(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.team.memberCount++,e.next=3,t.fetchPaginatedTeamMembers(t.team.members.current_page);case 3:case"end":return e.stop()}}),e)})))()},removeMember:function(e){var t=this;return N(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.team.memberCount--,e.next=3,t.fetchPaginatedTeamMembers(t.team.members.current_page);case 3:t.team.members=x(x({},t.team.members),{},{data:g(t.team.members.data)});case 4:case"end":return e.stop()}}),e)})))()},updateCreatorTeams:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.creators.find((function(t){return t.id===e}));r&&(n?r.teams=r.teams.filter((function(e){return e.id!==t})):r.teams.push({id:t,is_manager:!1}))},deleteTeamMemberCancel:function(){this.confirmDialog=!1},confirmTeamManagerCancel:function(){this.confirmManagerDialog=!1},deleteTeamMember:function(){var e=this;return N(E().mark((function t(){var n,r,o;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,d.useNotificationStore)(),r={user_id:e.deleteMemberId,team_id:e.team.id},t.prev=2,t.next=5,axios.post(route("teams.removeTeamMember"),r);case 5:200===(o=t.sent).status?(e.removeMember(e.deleteMemberId),e.updateCreatorTeams(e.deleteMemberId,e.team.id,!0),e.confirmDialog=!1,n.setToastNotification(o.data.message,"success")):(e.confirmDialog=!1,n.setToastNotification("Failed to remove member from the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmDialog=!1,n.setToastNotification("An error occurred while removing the member from the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},addTeamManager:function(){var e=this;return N(E().mark((function t(){var n,r,o;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,d.useNotificationStore)(),r={user_id:e.selectedManagerId,team_id:e.team.id,team_slug:e.team.slug},t.prev=2,t.next=5,axios.post(route("teams.addTeamManager"),r);case 5:200===(o=t.sent).status?(e.team.managers.push(o.data.manager),e.confirmManagerDialog=!1,n.setToastNotification(o.data.message,"success")):(e.confirmManagerDialog=!1,n.setToastNotification("Failed to add manager to the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmManagerDialog=!1,n.setToastNotification("An error occurred while adding the manager to the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},removeTeamManager:function(){var e=this;return N(E().mark((function t(){var n,r,o;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,d.useNotificationStore)(),r={user_id:e.selectedManagerId,team_id:e.team.id,team_slug:e.team.slug},t.prev=2,t.next=5,axios.post(route("teams.removeTeamManager"),r);case 5:200===(o=t.sent).status?(e.team.managers=e.team.managers.filter((function(t){return t.id!==e.selectedManagerId})),e.confirmManagerDialog=!1,n.setToastNotification(o.data.message,"success")):(e.confirmManagerDialog=!1,n.setToastNotification("Failed to remove manager from the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmManagerDialog=!1,n.setToastNotification("An error occurred while removing the manager from the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},toggleGoLiveDisplay:function(){this.goLiveDisplay=!this.goLiveDisplay},setCreators:function(e){this.creators=e},updatePublicMessage:function(e){this.team.public_message=e}},getters:{spotsRemaining:function(e){return e.team.memberCount?e.team.memberCount?(this.totalSpots=e.team.totalSpots,Math.max(e.team.totalSpots-e.team.memberCount,0)):void 0:e.team.totalSpots},membersCount:function(e){return e.team.memberCount?e.team.memberCount?(e.memberSpots=e.team.memberCount,e.team.memberCount):void 0:0},membersCountDisplay:function(e){if(e.team.memberCount)return e.team.memberCount>99?"99+":e.team.memberCount},nextBroadcast:function(e){var t=this.sortedBroadcasts;return t.length>0?t[0]:null},nextBroadcastIsOver:function(e){var t,n=(0,u.useUserStore)(),r=i()().tz(n.timezone),o=this.nextBroadcast;if(!o||!o.broadcastDate||null===(t=o.broadcastDetails)||void 0===t||!t.duration_minutes)return!1;var a=i()(o.broadcastDate).add(o.broadcastDetails.duration_minutes,"minute").tz(n.timezone);return r.isAfter(a)},setTeamNextBroadcast:function(e,t){var n=(0,u.useUserStore)();e.team.nextBroadcast=t.map((function(e){return x(x({},e),{},{broadcastDate:n.convertUtcToUserTimezone(e.broadcastDate)})}))},sortedBroadcasts:function(e){if(!e.team.nextBroadcast||0===e.team.nextBroadcast.length)return[];var t=(0,u.useUserStore)(),n=v(e.team.nextBroadcast,e.nextBroadcastLoaded,t.timezone);if(n.length>0){var r=n[0];e.nextBroadcastLoaded=r,r.broadcastDetails&&r.broadcastDetails.zoomLink?e.nextBroadcastZoomLink=r.broadcastDetails.zoomLink:e.nextBroadcastZoomLink=null}else e.nextBroadcastLoaded=null,e.nextBroadcastZoomLink=null;return n},futureBroadcasts:function(e){if(!e.team.nextBroadcast||0===e.team.nextBroadcast.length)return[];var t=(0,u.useUserStore)();return v(e.team.nextBroadcast,e.nextBroadcastLoaded,t.timezone).slice(1)}}})},10632:(e,t,n)=>{n.r(t),n.d(t,{useVideoAuxPlayerStore:()=>g});var r=n(38839),o=n(20973),i=n(65226),a=n(20715),s=n(44411),c=n(67405),l=n(55208),u=n(75137),d=(n(92995),n(29726)),p=n(7447);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(){h=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function x(){}var S={};l(S,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,a)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==f(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=p;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=V(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function V(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,V(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(f(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),l(N,c,"Generator"),l(N,a,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function m(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,s,"next",e)}function s(e){m(i,r,o,a,s,"throw",e)}a(void 0)}))}}var y=function(){return{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1}},g=(0,r.nY)("videoAuxPlayerStore",{state:y,actions:{reset:function(){Object.assign(this,{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1})},getMistServerUri:function(){var e=this;return v(h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/mist-server/uri");case 3:n=t.sent,e.mistServerUri=n.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setPlayer:function(e){var t=this;this.player=e,this.initializePlayer().then((function(){t.attachEventListeners()})).catch((function(e){console.error("Error during video player initialization:",e)}))},initializePlayer:function(){var e=this;return v(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player){t.next=3;break}return console.error("Video.js player is not initialized."),t.abrupt("return");case 3:return t.next=5,(0,d.nextTick)();case 5:return t.next=7,(0,l.useAudioStore)().ensureAudioContextAndNodesReady(e.player);case 7:e.player.controls(!1),e.player.muted(e.muted),e.player.ready((function(){e.player.play().then((function(){console.log("Playback started successfully")})).catch((function(e){console.error("Error trying to play the video:",e)}))}));case 10:case"end":return t.stop()}}),t)})))()},attachEventListeners:function(){this.player&&!this.eventListenersAttached?(this.player.on("timeupdate",this.handleTimeUpdate),this.player.on("fullscreenchange",this.handleFullscreenChange),this.player.on("play",this.handlePlay),this.player.on("pause",this.handlePause),this.player.on("error",this.handleError),this.eventListenersAttached=!0,console.log("Event listeners attached.")):console.log("Event listeners are already attached or video player is not initialized.")},detachEventListeners:function(){this.player&&this.eventListenersAttached?((0,l.useAudioStore)().stopAudioLevelMonitoring(),this.player.off("timeupdate",this.handleTimeUpdate),this.player.off("fullscreenchange",this.handleFullscreenChange),this.player.off("play",this.handlePlay),this.player.off("pause",this.handlePause),this.player.off("error",this.handleError),this.eventListenersAttached=!1,console.log("Event listeners detached.")):console.log("Event listeners are already detached or video player is not initialized.")},disposePlayer:function(){this.player?(this.detachEventListeners(),this.player.dispose(),this.player=null,console.log("Video player disposed and cleaned up.")):console.error("Video player is not initialized.")},prepareForNewVideoSource:function(e){console.log("Preparing for new video source"),this.loadNewVideo(e)},resetPlayback:function(){this.player&&(this.player.pause(),this.player.muted(!0),this.player.currentTime(0),this.detachEventListeners())},handleTimeUpdate:function(){this.currentTime=this.player.currentTime(),this.duration=this.player.duration();this.currentTime,this.duration;this.formattedTime="".concat(this.formatDuration(this.currentTime)," / ").concat(this.formatDuration(this.duration))},formatDuration:function(e){return[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%60)].map((function(e){return e.toString().padStart(2,"0")})).join(":")},handleFullscreenChange:function(){var e,t=this;console.log("Handling fullscreenchange..."),null===(e=this.player)||void 0===e||e.on("fullscreenchange",(function(){t.player.isFullscreen()||!1===t.player.paused()&&t.player.play()}))},handlePlay:function(){var e,t=this;console.log("Handling play..."),null===(e=this.player)||void 0===e||e.on("play",(function(){t.paused=!1}))},handlePause:function(){var e,t=this;console.log("Handling pause..."),null===(e=this.player)||void 0===e||e.on("pause",(function(){t.paused=!0}))},handleError:function(){var e;console.log("Handling error..."),null===(e=this.player)||void 0===e||e.on("error",(function(){var e=this.player.error();console.error("Video.js Error:",e.code,e.message)}))},makeBlue:function(){this.blue=!0},toggleMute:function(){this.muted?this.unMute():this.mute()},mute:function(){this.player&&(this.player.muted(!0),this.muted=!0)},unMute:function(){this.player&&(this.player.muted(!1),this.muted=!1)},togglePlay:function(){var e=(0,u.A)("aux-player");this.paused?e.play():e.pause()},load:function(){(0,u.A)("aux-player").load()},loadNewLiveSource:function(e,t){var n=(0,u.A)("aux-player"),r=this.mistServerUri+"/hls/"+e+"/index.m3u8";n.src({src:r,type:t}),n.play()},pause:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.pause(),this.paused=!0},play:function(){var e=(0,u.A)("aux-player");e.play(),e.controls(!1),this.paused=!1},next:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.src(this.nextSource)},back:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.src(this.previousSource)},fullscreen:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.requestFullscreen()},getVideoCurrentTime:function(){var e=(0,u.A)("aux-player");e.controls(!1),this.videoCurrentTime=e.currentTime},getSourceDetails:function(e){var t,n;(console.log("getSourceDetails called with source:",e),n=e.type||"video/mp4",console.log("Determined Video Source Type: ".concat(n)),"externalVideo"===e.mediaType)?(t=e.video_url,console.log("Using external video source:",t)):(console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),t="".concat(e.cdn_endpoint).concat(e.cloud_folder).concat(e.folder,"/")+e.file_name,console.log("Constructed internal video source:",t));return console.log("Final Constructed Video Source: ".concat(t,", Type: ").concat(n)),{videoSrc:t,videoSourceType:n}},loadNewVideo:function(e){var t=this;try{var n=(0,u.A)("aux-player");console.log("LOAD NEW VIDEO");var r=(0,l.useAudioStore)(),o=this.getSourceDetails(e),i=o.videoSrc,a=o.videoSourceType;n&&(n.src({src:i,type:a}),n.ready((function(){r.deferAudioSetup=!1,r.ensureAudioContextAndNodesReady(n).then((function(){n.play().catch((function(e){(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Playback initiation error: "+e),console.error("Playback initiation error: ",e)})),n.muted(!1),t.muted=!1}))})))}catch(e){(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Error loading new video: "+e),console.error("Error loading new video: ",e)}},playNewVideo:function(){var e=this;console.log("PLAY NEW VIDEO"),this.player&&this.player.ready((function(){e.player.play(),e.player.muted(!1),e.muted=!1}))},loadNewSourceFromYouTube:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player");this.videoSource=e,this.videoSourceType="video/youtube",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewLiveSourceFromRumble:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player");this.videoSource=e,this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewSourceFromUrl:function(e){try{this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player");if(!e.video_url||!e.type)throw(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Invalid video source."),new Error("Invalid video source.");this.videoSource=e.video_url,this.videoSourceType=e.type,t.src({src:e.video_url,type:e.type}),this.unMute(),this.paused=!1}catch(e){throw(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Failed to load new source: "+e),console.error("Failed to load new source:",e),e}},loadNewSourceFromMist:function(e){this.videoIsYoutube=!1;var t=(0,u.A)("aux-player");this.videoSource="https://mist.not.tv/hls/"+e+"/index.m3u8",this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadNewSourceFromFile:function(e){this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player"),n=e.cdn_endpoint+e.cloud_folder+e.folder+"/";this.videoSource=e.file_name,this.videoSourceType=e.type,t.src({src:n+this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadExternalSourceVideo:function(){},loadPlaylistVideos:function(){},loadMistStreamVideo:function(e,t){var n=this;return v(h().mark((function r(){var o,i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=!0,t&&(o=!1),n.mistServerUri){r.next=7;break}return console.log("Mist Server URI not set, fetching..."),r.next=7,n.getMistServerUri();case 7:n.mistServerUri?(i=n.mistServerUri,n.videoSource=i+"hls/"+e.name+"/index.m3u8",n.videoSourceType="application/vnd.apple.mpegURL",(0,u.A)("aux-player").src({src:n.videoSource,type:n.videoSourceType}),o&&n.unMute(),n.paused=!1):console.error("Mist Server URI is still not set after fetching.");case 8:case"end":return r.stop()}}),r)})))()},loadVideoFromFile:function(e){var t=this;return v(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("Video Source Type:",e.type),console.log("Video URL:",e.video_url),console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),r=e.cdn_endpoint+e.cloud_folder+e.folder+"/"+e.file_name,(0,u.A)("aux-player").src({src:r,type:e.type}),t.unMute(),t.paused=!1;case 11:case"end":return n.stop()}}),n)})))()},setNowPlayingInfoVideoFile:function(e){this.nowPlayingType="Video File",this.nowPlayingName=e.file_name,(0,i.useStreamStore)().currentChannel="On Demand"},setNowPlayingInfoShow:function(e,t){this.clearNowPlayingInfo();var n=(0,c.useShowStore)();e.firstPlayVideo?(n.setName(e.firstPlayVideo.name),n.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(source.firstPlayVideo.slug))):t?(n.setName(e.name),n.setUrl("/shows/".concat(e.slug)),n.setEpisodeName(t.name),n.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(t.slug))):(n.setName(e.name),n.setUrl("/shows/".concat(e.slug)))},makeVideoPiP:function(){},makeVideoFullPage:function(){var e=(0,o.useAppSettingStore)(),t=(0,a.useUserStore)();e.fullPage=!0,e.hidePage=!0,e.ott=0,this.videoContainerClass="fullPageVideoContainer",this.class="fullPageVideoClass",this.controls=!t.isMobile},makeVideoTopRight:function(){var e=(0,o.useAppSettingStore)();e.fullPage=!1,e.hidePage=!1,e.currentPageIsStream=!1,this.videoContainerClass="topRightVideoContainer",this.class="topRightVideoClass",this.controls=!1},makeVideoWelcomePage:function(){var e=(0,o.useAppSettingStore)();this.videoContainerClass="welcomeVideoContainer",this.class="welcomeVideoClass",e.loggedIn=!1,e.fullPage=!0,e.hidePage=!1},setMistServerUri:function(e){this.mistServerUri=e}},getters:{}})},2435:(e,t,n)=>{n.d(t,{c:()=>c});var r=n(29726),o=n(20715),i=n(20973),a=n(58088),s=n(92995);function c(e){var t=(0,o.useUserStore)(),n=(0,i.useAppSettingStore)(),c=(0,a.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(0===n.ott&&(n.ott=4),n.showOttButtons=!0),c.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,n.pageWasReloaded=!0,window.location.reload()),s.QB.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:0===n.ott&&(n.ott=4),""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1,(0,r.watch)((function(){return n.isSmallScreen}),(function(e){n.ott=e?0:4}),{immediate:!0})}},965:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".btn-ghost[data-v-7dba5fe6]:hover{color:#1d4ed8}.cursor-pointer[data-v-7dba5fe6]{cursor:pointer}","",{version:3,sources:["webpack://./resources/js/Components/Pages/GoLive/CopyDestinationsModal.vue"],names:[],mappings:"AA2HA,kCACE,aACF,CACA,iCACE,cACF",sourcesContent:['<template>\n  <dialog id="copyDestinationsModal" class="modal">\n    <div class="modal-box bg-white dark:bg-gray-800 dark:text-white">\n      <form method="dialog">\n        <button @click="closeModal" :disabled="loading" class="btn btn-sm btn-circle btn-ghost hover:text-blue-300 absolute right-2 top-2">\n          ✕\n        </button>\n      </form>\n      <h3 class="font-bold text-lg">Copy Destinations</h3>\n      <div v-if="filteredDestinations.length">\n        <div class="flex flex-wrap justify-start items-center my-2">\n          <button @click="selectAllDestinations" :disabled="loading || allSelected" class="btn btn-sm btn-secondary text-white">\n            <font-awesome-icon icon="check-square" class="mr-2" />\n            Select All\n          </button>\n          <button @click="deselectAllDestinations" :disabled="loading || noneSelected" class="btn btn-sm btn-secondary text-white ml-2">\n            <font-awesome-icon icon="minus-square" class="mr-2" />\n            Deselect All\n          </button>\n        </div>\n        <div v-for="destination in filteredDestinations" :key="destination.id" class="my-3 cursor-pointer" @click="toggleSelection(destination.id)">\n          <div class="flex items-center">\n            <input\n                type="checkbox"\n                :value="destination.id"\n                v-model="selectedDestinations"\n                :disabled="loading"\n                class="checkbox mr-2"\n                @click.stop\n            />\n            <div class="flex flex-col">\n              <span class="font-bold text-blue-600">{{ destination.show_name }}</span>\n              <span>{{ destination.comment }} - ({{ destination.rtmp_url }}{{ destination.rtmp_key }})</span>\n            </div>\n          </div>\n        </div>\n        <div class="flex justify-end mt-4">\n          <button\n              @click="copySelectedDestinations"\n              class="btn btn-primary text-white mr-2"\n              :disabled="loading || selectedDestinations.length === 0"\n          >\n            <font-awesome-icon icon="copy" class="mr-2" />\n            Copy Selected\n            <span v-if="loading" class="loading loading-spinner loading-md ml-2"></span>\n          </button>\n          <button @click="closeModal" :disabled="loading" class="btn btn-ghost">\n            Cancel\n          </button>\n        </div>\n      </div>\n      <div v-else>\n        <p>No destinations to copy.</p>\n      </div>\n    </div>\n  </dialog>\n</template>\n\n<script setup>\nimport { ref, computed } from \'vue\';\nimport { useGoLiveStore } from \'@/Stores/GoLiveStore\';\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\';\n\nconst goLiveStore = useGoLiveStore();\n\nconst otherShowDestinations = computed(() => goLiveStore.otherShowDestinations);\nconst selectedDestinations = ref([]);\nconst loading = ref(false);\n\nconst filteredDestinations = computed(() => {\n  const currentDestinations = goLiveStore.destinations;\n  // Ensure otherShowDestinations.value is an array\n  const otherDestinations = Array.isArray(otherShowDestinations.value) ? otherShowDestinations.value : [];\n\n  return otherDestinations.filter(destination =>\n      !currentDestinations.some(d => d.rtmp_url === destination.rtmp_url && d.rtmp_key === destination.rtmp_key)\n  );\n});\n\nconst allSelected = computed(() => {\n  return filteredDestinations.value.length > 0 && selectedDestinations.value.length === filteredDestinations.value.length;\n});\n\nconst noneSelected = computed(() => {\n  return selectedDestinations.value.length === 0;\n});\n\nconst selectAllDestinations = () => {\n  selectedDestinations.value = filteredDestinations.value.map(destination => destination.id);\n};\n\nconst deselectAllDestinations = () => {\n  selectedDestinations.value = [];\n};\n\n// Function to toggle selection of an id\nconst toggleSelection = (id) => {\n  if (!Array.isArray(selectedDestinations.value)) {\n    selectedDestinations.value = [];\n  }\n\n  if (selectedDestinations.value.includes(id)) {\n    selectedDestinations.value = selectedDestinations.value.filter(destId => destId !== id);\n  } else {\n    selectedDestinations.value.push(id);\n  }\n};\n\nconst copySelectedDestinations = async () => {\n  loading.value = true;\n  const success = await goLiveStore.copyDestinations(selectedDestinations.value);\n  loading.value = false;\n  if (success) {\n    closeModal();\n  }\n};\n\nconst closeModal = () => {\n  document.getElementById(\'copyDestinationsModal\').close();\n};\n<\/script>\n\n<style scoped>\n.btn-ghost:hover {\n  color: #1d4ed8; /* Tailwind blue-700 */\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n</style>\n'],sourceRoot:""}]);const s=a},2452:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".countdown-container[data-v-837c8dd6]{align-items:center;border-radius:10px;box-shadow:0 4px 8px #0000001a;display:flex;flex-direction:column;justify-content:center;padding:10px}.container-default[data-v-837c8dd6]{background-color:#f5f5f5}.container-red[data-v-837c8dd6]{background-color:#dc2626}.countdown-unit[data-v-837c8dd6]{background-color:#1f2937;border-radius:5px;font-weight:700;padding:5px 10px}.text-almost-live[data-v-837c8dd6],.text-default[data-v-837c8dd6]{color:#fff}.text-red[data-v-837c8dd6]{color:#dc2626}.live-message[data-v-837c8dd6]{color:#dc2626;font-size:1.5rem;font-weight:700}.no-schedule-message[data-v-837c8dd6]{color:#6b7280;font-size:1.5rem;font-style:italic}","",{version:3,sources:["webpack://./resources/js/Components/Pages/GoLive/GoLiveCountdown.vue"],names:[],mappings:"AAuHA,sCAGE,kBAAmB,CAGnB,kBAAmB,CACnB,8BAAwC,CANxC,YAAa,CACb,qBAAsB,CAEtB,sBAAuB,CACvB,YAGF,CAEA,oCACE,wBACF,CAEA,gCACE,wBACF,CAEA,iCACE,wBAAyB,CAEzB,iBAAkB,CAClB,eAAiB,CAFjB,gBAGF,CAMA,kEACE,UACF,CAEA,2BACE,aACF,CAEA,+BACE,aAAc,CAEd,gBAAiB,CADjB,eAEF,CAEA,sCACE,aAAc,CAEd,gBAAiB,CADjB,iBAEF",sourcesContent:["<template>\n  <div>\n    <div v-if=\"countdownMessage\">\n      <div :class=\"messageClass\">{{ countdownMessage }}</div>\n    </div>\n\n    <div v-else>\n      <div>Next Live Broadcast will begin in... &nbsp;</div>\n      <div :class=\"containerClass\" class=\"countdown-container\">\n        <div class=\"font-mono text-2xl\">\n          \x3c!-- Display days only if greater than 0 --\x3e\n          <span :class=\"daysClass\" v-if=\"days > 0\" class=\"countdown-unit mr-1\">{{ days }}</span><span v-if=\"days > 0\"\n                                                                                                      class=\"mr-2\">d</span>\n          \x3c!-- Always display hours, minutes, and seconds --\x3e\n          <span :class=\"hoursClass\" class=\"countdown-unit mr-1\">{{ hours }}</span><span class=\"mr-2\">h</span>\n          <span :class=\"numberClass\" class=\"countdown-unit mr-1\">{{ minutes }}</span><span class=\"mr-2\">m</span>\n          <span :class=\"secondsClass\" class=\"countdown-unit mr-1\">{{ seconds }}</span><span class=\"mr-2\">s</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\nimport dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\nimport utc from 'dayjs/plugin/utc'\nimport { useGoLiveStore } from '@/Stores/GoLiveStore'\n\ndayjs.extend(duration)\ndayjs.extend(utc)\n\nconst goLiveStore = useGoLiveStore()\nconst nextBroadcast = computed(() => goLiveStore.selectedShow?.nextBroadcast)\n\nconst days = ref(0)\nconst hours = ref(0)\nconst minutes = ref(0)\nconst seconds = ref(0)\nconst countdownMessage = ref('')\n\n// Computed property to determine if less than 5 minutes remain\nconst isLessThanFiveMinutesRemaining = computed(() => {\n  return days.value === 0 && hours.value === 0 && (minutes.value > 0 || (minutes.value === 0 && seconds.value > 0)) && minutes.value < 5\n})\n\n// Computed property to determine if less than 10 seconds remain\nconst isLessThanTenSecondsRemaining = computed(() => {\n  return days.value === 0 && hours.value === 0 && minutes.value === 0 && seconds.value <= 10\n})\n\n// Class binding for the countdown container\nconst containerClass = computed(() => {\n  return isLessThanFiveMinutesRemaining.value ? 'container-red' : 'container-default'\n})\n\n// Class binding for days\nconst daysClass = computed(() => {\n  return days.value > 0 ? 'text-almost-live' : 'text-default'\n})\n\n// Class binding for hours\nconst hoursClass = computed(() => {\n  return isLessThanTenSecondsRemaining.value ? 'text-red' : (days.value === 0 && hours.value > 0 ? 'text-almost-live' : 'text-default')\n})\n\n// Class binding for minutes and seconds\nconst numberClass = computed(() => {\n  return isLessThanTenSecondsRemaining.value ? 'text-red' : (isLessThanFiveMinutesRemaining.value ? 'text-almost-live' : 'text-default')\n})\n\nconst secondsClass = computed(() => {\n  return isLessThanTenSecondsRemaining.value ? 'text-red' : numberClass.value\n})\n\nconst messageClass = computed(() => {\n  if (countdownMessage.value === 'The broadcast is live now!') {\n    return 'live-message'\n  } else if (countdownMessage.value === 'No broadcast is currently scheduled!') {\n    return 'no-schedule-message'\n  }\n  return ''\n})\n\nconst updateCountdown = () => {\n  if (!nextBroadcast.value) {\n    countdownMessage.value = 'No broadcast is currently scheduled!'\n    return\n  }\n\n  const now = dayjs().utc()\n  const targetTime = dayjs.utc(nextBroadcast.value)\n  const difference = targetTime.diff(now)\n\n  if (difference <= 0) {\n    countdownMessage.value = 'The broadcast is live now!'\n    return\n  }\n\n  const timeDuration = dayjs.duration(difference)\n\n  days.value = Math.floor(timeDuration.asDays())\n  hours.value = Math.floor(timeDuration.asHours()) % 24\n  minutes.value = timeDuration.minutes()\n  seconds.value = timeDuration.seconds()\n}\n\nonMounted(() => {\n  updateCountdown()\n  const intervalId = setInterval(updateCountdown, 1000)\n\n  onUnmounted(() => {\n    clearInterval(intervalId)\n  })\n})\n<\/script>\n\n<style scoped>\n.countdown-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.container-default {\n  background-color: #f5f5f5;\n}\n\n.container-red {\n  background-color: #dc2626;\n}\n\n.countdown-unit {\n  background-color: #1f2937; /* Default background color */\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n}\n\n.text-default {\n  color: #ffffff;\n}\n\n.text-almost-live {\n  color: #ffffff;\n}\n\n.text-red {\n  color: #dc2626;\n}\n\n.live-message {\n  color: #dc2626; /* Red color for live broadcast */\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n\n.no-schedule-message {\n  color: #6b7280; /* Gray color for no schedule */\n  font-style: italic;\n  font-size: 1.5rem;\n}\n</style>\n"],sourceRoot:""}]);const s=a},72450:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,"@keyframes fadeOut-90103b5a{0%{opacity:1}to{opacity:0}}.countdown-container[data-v-90103b5a]{align-items:center;background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 8px #0000001a;display:flex;flex-direction:column;justify-content:center;padding:10px}.countdown[data-v-90103b5a]{display:flex;gap:10px}.countdown-unit[data-v-90103b5a]{background-color:#1f2937;border-radius:5px;color:#fff;font-weight:700;padding:5px 10px}","",{version:3,sources:["webpack://./resources/js/Components/Pages/GoLive/GoLiveHeader.vue"],names:[],mappings:"AA2QA,4BACE,GACE,SACF,CACA,GACE,SACF,CACF,CAEA,sCAGE,kBAAmB,CAEnB,wBAAyB,CAEzB,kBAAmB,CACnB,8BAAwC,CAPxC,YAAa,CACb,qBAAsB,CAEtB,sBAAuB,CAEvB,YAGF,CAEA,4BACE,YAAa,CACb,QACF,CAEA,iCACE,wBAAyB,CAGzB,iBAAkB,CAFlB,UAAc,CAGd,eAAiB,CAFjB,gBAGF",sourcesContent:['<template>\n  <div :class="containerClass">\n    <div>\n      <div :class="buttonContainerClass">\n        <div>\n          <button @click="openObsInstructions = !openObsInstructions"\n                  class="btn bg-blue-500 hover:bg-blue-700 text-white ml-2"\n                  :class="{\'bg-yellow-800 hover:bg-yellow-900 \':openObsInstructions}">\n            <span v-if="!openObsInstructions">View Your Stream Key</span>\n            <span v-else>Hide Your Stream Key</span>\n          </button>\n        </div>\n        <div v-if="!openObsInstructions">\n          <button @click="appSettingStore.btnRedirect(\'/training/go-live-using-zoom\')"\n                  class="btn bg-blue-500 hover:bg-blue-700 text-white">How To Stream From Zoom\n          </button>\n        </div>\n      </div>\n      <div v-if="openObsInstructions" :class="obsInstructionsClass">\n        <h3>Stream from OBS or other software using these details:</h3>\n        <div>RTMP full url: <span v-if="fullUrl" class="font-bold">{{ fullUrl }}</span>\n          &nbsp;<button v-if="rtmpUri && streamKey" @click="copyFullUrl">\n            <font-awesome-icon v-if="rtmpUri && streamKey" icon="fa-clipboard"\n                               class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n          </button>\n          <span v-if="showCopiedFullUrl" class="ml-1 copied-message" style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n        </div>\n        <div>RTMP url: <span class="font-bold">{{ rtmpUri }}</span>\n          &nbsp;<button v-if="rtmpUri" @click="copyRtmpUri">\n            <font-awesome-icon v-if="rtmpUri" icon="fa-clipboard"\n                               class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n          </button>\n          <span v-if="showCopiedRtmpUri" class="ml-1 copied-message" style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n        </div>\n        <div>RTMP stream key: <span class="font-bold">{{ streamKey }}</span>\n          &nbsp;<button v-if="streamKey" @click="copyStreamKey">\n            <font-awesome-icon v-if="streamKey" icon="fa-clipboard"\n                               class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n          </button>\n          <span v-if="showCopiedStreamKey" class="ml-1 copied-message"\n                style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="!openObsInstructions" :class="liveControlsClass">\n      <div class="flex flex-col justify-center border-2 border-green-500 rounded-lg px-2 py-2 gap-2">\n        <div class="flex flex-row gap-2">\n          <div class="mb-2">\n            <button v-if="!goLiveStore.isRecording" @click="goLiveStore.startRecording"\n                    class="w-36 btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"\n            >\n              <span v-if="!goLiveStore.processingRecordingChange">Start Recording</span>\n              <span v-else class="loading loading-spinner loading-xs text-white"></span>\n            </button>\n            <button v-else @click="goLiveStore.stopRecording"\n                    class="w-36 btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"\n            >\n              <span v-if="!goLiveStore.processingRecordingChange">Stop Recording</span>\n              <span v-else class="loading loading-spinner loading-xs text-white"></span>\n            </button>\n          </div>\n          <div class="ml-2">\n            <button v-if="!goLiveStore.isLive" disabled @click="goLiveStore.goLive"\n                    class="btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"\n            >Go Live Now\n            </button>\n            <button v-else disabled @click="goLiveStore.stopLive"\n                    class="btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"\n            >End Live\n            </button>\n          </div>\n        </div>\n        <div v-if="!goLiveStore.isRecording || !goLiveStore.isLive"\n             class="text-xs text-green-500 font-semibold tracking-wider text-center">\n          Coming Soon!\n        </div>\n      </div>\n\n      <div class="ml-2">\n        <button class="btn btn-secondary" @click="openStats">Live Analytics</button>\n      </div>\n\n      <GoLiveCountdown />\n\n\x3c!--      <div v-if="countdownMessage">--\x3e\n\x3c!--        <div>{{ countdownMessage }}</div>--\x3e\n\x3c!--      </div>--\x3e\n\x3c!--      <div v-else>--\x3e\n\x3c!--        <div>Live will begin in... &nbsp;</div>--\x3e\n\x3c!--        <div class="countdown font-mono text-2xl">--\x3e\n\x3c!--          <span v-if="days > 0" :style="{ \'&#45;&#45;value\': days }">{{ days.toString().padStart(2, \'0\') }}</span><span v-if="days > 0">d</span>--\x3e\n\x3c!--          <span :style="{ \'&#45;&#45;value\': hours }">{{ hours.toString().padStart(2, \'0\') }}</span>h--\x3e\n\x3c!--          <span :style="{ \'&#45;&#45;value\': minutes }">{{ minutes.toString().padStart(2, \'0\') }}</span>m--\x3e\n\x3c!--          <span :style="{ \'&#45;&#45;value\': seconds }">{{ seconds.toString().padStart(2, \'0\') }}</span>s--\x3e\n\x3c!--        </div>--\x3e\n\x3c!--      </div>--\x3e\n\n\x3c!--      <div>Live will begin in... &nbsp;</div>--\x3e\n\x3c!--      <div class="countdown-container">--\x3e\n\x3c!--        <div class="countdown font-mono text-4xl">--\x3e\n\x3c!--          <span v-if="days > 0" class="countdown-unit">{{ days.toString().padStart(2, \'0\') }}</span><span v-if="days > 0">d</span>--\x3e\n\x3c!--          <span class="countdown-unit">{{ hours.toString().padStart(2, \'0\') }}</span>h--\x3e\n\x3c!--          <span class="countdown-unit">{{ minutes.toString().padStart(2, \'0\') }}</span>m--\x3e\n\x3c!--          <span class="countdown-unit">{{ seconds.toString().padStart(2, \'0\') }}</span>s--\x3e\n\x3c!--        </div>--\x3e\n\x3c!--      </div>--\x3e\n    </div>\n  </div>\n</template>\n<script setup>\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useGoLiveStore } from \'@/Stores/GoLiveStore\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\nimport { computed, onMounted, onUnmounted, ref } from \'vue\'\nimport { useClipboard } from \'@vueuse/core\'\nimport dayjs from \'dayjs\';\nimport duration from \'dayjs/plugin/duration\';\nimport GoLiveCountdown from \'@/Components/Pages/GoLive/GoLiveCountdown.vue\'\n\ndayjs.extend(duration);\n\nconst appSettingStore = useAppSettingStore()\nconst goLiveStore = useGoLiveStore()\n\nconst showCopiedFullUrl = ref(false)\nconst showCopiedRtmpUri = ref(false)\nconst showCopiedStreamKey = ref(false)\n\nconst {copy} = useClipboard()\nconst openObsInstructions = ref(false)\n\nconst rtmpUri = computed(() => goLiveStore.fullRtmpUri)\nconst streamKey = computed(() => goLiveStore.streamKey)\nconst fullUrl = computed(() => goLiveStore.fullUrl)\n\nconst copyFullUrl = () => {\n  copy(fullUrl.value)\n  showCopiedFullUrl.value = true\n  setTimeout(() => showCopiedFullUrl.value = false, 1000)\n}\n\nconst copyRtmpUri = () => {\n  copy(rtmpUri.value)\n  showCopiedRtmpUri.value = true\n  setTimeout(() => showCopiedRtmpUri.value = false, 1000)\n}\n\nconst copyStreamKey = () => {\n  copy(streamKey.value)\n  showCopiedStreamKey.value = true\n  setTimeout(() => showCopiedStreamKey.value = false, 1000)\n}\n\n\nconst containerClass = computed(() => {\n  return appSettingStore.isSmallScreen ? \'flex flex-col w-full\' : \'flex flex-row flex-wrap-reverse w-full justify-between gap-2\'\n})\n\nconst buttonContainerClass = computed(() => {\n  return appSettingStore.isSmallScreen ? \'flex flex-col gap-2 mb-2\' : \'flex flex-row flex-wrap gap-x-2 gap-y-2 mb-2\'\n})\n\nconst aobsButtonClass = computed(() => {\n  return openObsInstructions.value ? \'bg-yellow-800 hover:bg-yellow-900\' : \'bg-blue-500 hover:bg-blue-700\'\n})\n\nconst zoomButtonClass = computed(() => {\n  return appSettingStore.isSmallScreen ? \'w-full mt-2\' : \'bg-blue-500 hover:bg-blue-700\'\n})\n\nconst obsInstructionsClass = computed(() => {\n  return appSettingStore.isSmallScreen ? \'my-4\' : \'my-4 ml-10\'\n})\n\nconst liveControlsClass = computed(() => {\n  return appSettingStore.isSmallScreen ? \'flex flex-col gap-2\' : \'flex flex-row flex-wrap justify-between grow ml-4 gap-2\'\n})\n\n// Keep a reference to the interval ID so it can be cleared\nlet intervalId = null\n\n// Initial countdown time in seconds (5 minutes * 60 seconds)\nconst countdownTime = 5 * 60\n// Reactive state for the countdown\nconst countdown = ref(countdownTime)\n\nconst nextBroadcast = computed(() => goLiveStore.selectedShow?.nextBroadcast);\n\nconst days = ref(0);\nconst hours = ref(0);\nconst minutes = ref(0);\nconst seconds = ref(0);\nconst countdownMessage = ref(\'\');\n\nconst updateCountdown = () => {\n  if (!nextBroadcast.value) {\n    countdownMessage.value = "No broadcast is currently scheduled!";\n    return;\n  }\n\n  const now = dayjs();\n  const targetTime = dayjs.utc(nextBroadcast.value); // Convert the next broadcast time to a dayjs object in UTC\n  const difference = targetTime.diff(now);\n\n  if (difference <= 0) {\n    countdownMessage.value = "The broadcast is live now!";\n    return;\n  }\n\n  const duration = dayjs.duration(difference);\n\n  days.value = Math.floor(duration.asDays());\n  hours.value = duration.hours();\n  minutes.value = duration.minutes();\n  seconds.value = duration.seconds();\n};\n\n// Computed properties for hours, minutes, and seconds\n// const hours = computed(() => Math.floor(countdown.value / 3600))\n// const minutes = computed(() => Math.floor((countdown.value % 3600) / 60))\n// const seconds = computed(() => countdown.value % 60)\n\nconst openStats = () => {\n  window.open(\'/stats\', \'_blank\')\n}\n\n\n// Function to start the countdown\n// const startCountdown = () => {\n//   // // Clear any existing interval to prevent multiple intervals\n//   // if (intervalId !== null) {\n//   //   clearInterval(intervalId)\n//   // }\n//   //\n//   // // Reset countdown to initial value\n//   // countdown.value = countdownTime\n//   //\n//   // // Start a new interval\n//   // intervalId = setInterval(() => {\n//   //   countdown.value--\n//   //\n//   //   if (countdown.value < 0) {\n//   //     clearInterval(intervalId) // Stop the interval\n//   //     intervalId = null // Reset the interval ID\n//   //     // Optionally, you can reset countdown.value to countdownTime or another value here\n//   //   }\n//   // }, 1000)\n// }\n\nonMounted(async () => {\n  // Automatically start the countdown or trigger based on an event\n  // startCountdown()\n  updateCountdown();\n  intervalId = setInterval(updateCountdown, 1000); // Update every second\n})\n\n// Cleanup when the component unmounts\nonUnmounted(() => {\n  // Cleanup interval on component unmount (countdown timer)\n  clearInterval(intervalId);\n  // if (intervalId !== null) {\n  //   clearInterval(intervalId)\n  // }\n})\n<\/script>\n<style scoped>\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.countdown-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #f5f5f5;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.countdown {\n  display: flex;\n  gap: 10px;\n}\n\n.countdown-unit {\n  background-color: #1f2937;\n  color: #ffffff;\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n}\n</style>'],sourceRoot:""}]);const s=a},37122:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".video-container[data-v-37918dfe]{background-color:#000;padding-top:56.25%;position:relative;width:100%}.video-container video[data-v-37918dfe]{height:100%;left:0;position:absolute;top:0;width:100%}","",{version:3,sources:["webpack://./resources/js/Components/Pages/ShowEpisodes/Elements/EpisodeVideo.vue"],names:[],mappings:"AA+CA,kCACE,qBAAuB,CAEvB,kBAAmB,CACnB,iBAAkB,CAFlB,UAGF,CAEA,wCAKE,WAAY,CAFZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAEN,UAEF",sourcesContent:['<template>\n  <div>\n    \x3c!-- Conditional rendering for the video section --\x3e\n    \x3c!-- Episode Video Label --\x3e\n    <div v-if="!episode.video?.id && !episode.video?.video_url"\n         class="mt-2 flex justify-center items-center w-full mx-auto bg-black">\n      <div\n          class="bg-black text-white text-center flex items-center justify-center uppercase font-bold text-xs p-5 mb-2 w-76 h-52">\n        No Video\n      </div>\n    </div>\n\n    <div\n        v-if="episode?.video?.id && episode.video?.storage_location === \'spaces\' && episode.video?.upload_status !== \'processing\'"\n        class="video-container">\n\n      \x3c!-- Video Player --\x3e\n      <video id="episodeEditPlayer"\n             controls\n             class="w-auto h-auto"\n             :src="episode.video?.cdn_endpoint + episode.video?.cloud_folder + episode?.video.folder + \'/\' + episode.video?.file_name">\n        Your browser does not support the video tag.\n      </video>\n    </div>\n\n    \x3c!-- Processing or external storage placeholder --\x3e\n    <div v-if="episode.video?.storage_location === \'external\' || episode.video?.upload_status === \'processing\'"\n         class="flex justify-center w-full bg-blue-500 ml-10">\n      <div class="video-container mx-auto justify-center shadow overflow-hidden border-b border-gray-200 bg-white dark:bg-black text-2xl sm:rounded-lg p-5 w-fit max-h-52">\n        <div v-if="episode.video?.video_url === \'\'">NO VIDEO</div>\n        <video v-else id="episodeEditVideoPlayer" class="video-js w-fit h-auto" controls>\n          <source :src="episode.video?.video_url" :type="episode.video?.type">\n        </video>\n      </div>\n    </div>\n\n  </div>\n\n</template>\n\n<script setup>\ndefineProps({\n  episode: Object,\n})\n<\/script>\n\n<style scoped>\n.video-container {\n  background-color: black; /* Black background */\n  width: 100%; /* Full width of its parent */\n  padding-top: 56.25%; /* Aspect ratio of 16:9 */\n  position: relative; /* For absolute positioning of the video */\n}\n\n.video-container video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%; /* Video fills the width of the container */\n  height: 100%; /* Video fills the height of the container */\n}\n</style>'],sourceRoot:""}]);const s=a},45602:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([e.id,".episodeManageBanner[data-v-7c175692]{@apply bg-black text-red-600}","",{version:3,sources:["webpack://./resources/js/Components/Pages/ShowEpisodes/Layout/ManageShowEpisodeTopBanner.vue"],names:[],mappings:"AAkDA,sCACE,4BACF",sourcesContent:["<template>\n  <div class=\"font-bold text-xl p-4 my-4 w-full text-center\"\n       :class=\"goLiveBanner\">\n    <div v-if=\"!teamStore.goLiveDisplay\">\n      <div v-if=\"episodeStatus.id < 6\" class=\"text-white uppercase hidden\">Create your episode</div>\n      <div v-if=\"episodeStatus.name\"><span class=\"uppercase text-xs text-white\">Status:</span> <span\n          :class=\"episodeStatusClass\">{{ episodeStatus.name }}</span></div>\n    </div>\n    <div v-else>\n      <span>You are about to go live.</span>\n      \x3c!--                    if the episode is scheduled to go live then display the next line instead --\x3e\n      \x3c!--                    <span v-if=\"episode.scheduled_release > now\">You are scheduled to go live.</span>--\x3e\n      \x3c!--                    <span v-if=\"episode.isLive\">You are now live.</span>--\x3e\n\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from \"vue\"\nimport { useTeamStore } from \"@/Stores/TeamStore\"\n\nconst teamStore = useTeamStore()\n\nlet props = defineProps({\n  episode: Object,\n  episodeStatus: Object,\n})\n\nconst goLiveBanner = computed(() => ({\n  'bg-red-500 text-white': teamStore.goLiveDisplay,\n  'bg-black text-red-600': !teamStore.goLiveDisplay\n}))\n\nconst episodeStatusClass = computed(() => ({\n  'font-semibold text-xl text-orange-400': props.episodeStatus.id === 1,\n  'text-xl text-green-400': props.episodeStatus.id === 2,\n  'font-semibold text-xl text-green-600': props.episodeStatus.id === 3,\n  'font-bold text-xl text-green-600': props.episodeStatus.id === 4,\n  'font-semibold text-xl text-purple-700': props.episodeStatus.id === 5,\n  'font-italic text-xl text-pink-500': props.episodeStatus.id === 6,\n  'font-bold text-xl light:text-black dark:text-white': props.episodeStatus.id === 7,\n  'font-medium text-xl text-gray-500': props.episodeStatus.id === 8,\n  'font-semibold font-italic text-xl text-red-700': props.episodeStatus.id === 9,\n  'font-bold text-xl text-red-800': props.episodeStatus.id === 10,\n}))\n<\/script>\n\n<style scoped>\n\n.episodeManageBanner {\n  @apply bg-black text-red-600;\n}\n\n</style>\n"],sourceRoot:""}]);const s=a},41357:(e,t,n)=>{n.d(t,{A:()=>Nn});var r=n(29726),o=n(34526),i=n(20973),a=n(61273),s=n(96433),c=n(74353),l=n.n(c),u=n(43522),d=n.n(u),p=n(83826),f=n.n(p),h=function(e){return(0,r.pushScopeId)("data-v-837c8dd6"),e=e(),(0,r.popScopeId)(),e},m={key:0},v={key:1},y=h((function(){return(0,r.createElementVNode)("div",null,"Next Live Broadcast will begin in...  ",-1)})),g={class:"font-mono text-2xl"},b={key:1,class:"mr-2"},w=h((function(){return(0,r.createElementVNode)("span",{class:"mr-2"},"h",-1)})),x=h((function(){return(0,r.createElementVNode)("span",{class:"mr-2"},"m",-1)})),S=h((function(){return(0,r.createElementVNode)("span",{class:"mr-2"},"s",-1)}));const E={__name:"GoLiveCountdown",setup:function(e){l().extend(d()),l().extend(f());var t=(0,o.useGoLiveStore)(),n=(0,r.computed)((function(){var e;return null===(e=t.selectedShow)||void 0===e?void 0:e.nextBroadcast})),i=(0,r.ref)(0),a=(0,r.ref)(0),s=(0,r.ref)(0),c=(0,r.ref)(0),u=(0,r.ref)(""),p=(0,r.computed)((function(){return 0===i.value&&0===a.value&&(s.value>0||0===s.value&&c.value>0)&&s.value<5})),h=(0,r.computed)((function(){return 0===i.value&&0===a.value&&0===s.value&&c.value<=10})),E=(0,r.computed)((function(){return p.value?"container-red":"container-default"})),k=(0,r.computed)((function(){return i.value>0?"text-almost-live":"text-default"})),N=(0,r.computed)((function(){return h.value?"text-red":0===i.value&&a.value>0?"text-almost-live":"text-default"})),L=(0,r.computed)((function(){return h.value?"text-red":p.value?"text-almost-live":"text-default"})),C=(0,r.computed)((function(){return h.value?"text-red":L.value})),_=(0,r.computed)((function(){return"The broadcast is live now!"===u.value?"live-message":"No broadcast is currently scheduled!"===u.value?"no-schedule-message":""})),V=function(){if(n.value){var e=l()().utc(),t=l().utc(n.value).diff(e);if(t<=0)u.value="The broadcast is live now!";else{var r=l().duration(t);i.value=Math.floor(r.asDays()),a.value=Math.floor(r.asHours())%24,s.value=r.minutes(),c.value=r.seconds()}}else u.value="No broadcast is currently scheduled!"};return(0,r.onMounted)((function(){V();var e=setInterval(V,1e3);(0,r.onUnmounted)((function(){clearInterval(e)}))})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[u.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(_.value)},(0,r.toDisplayString)(u.value),3)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",v,[y,(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([E.value,"countdown-container"])},[(0,r.createElementVNode)("div",g,[i.value>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)([k.value,"countdown-unit mr-1"])},(0,r.toDisplayString)(i.value),3)):(0,r.createCommentVNode)("",!0),i.value>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",b,"d")):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)([N.value,"countdown-unit mr-1"])},(0,r.toDisplayString)(a.value),3),w,(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)([L.value,"countdown-unit mr-1"])},(0,r.toDisplayString)(s.value),3),x,(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)([C.value,"countdown-unit mr-1"])},(0,r.toDisplayString)(c.value),3),S])],2)]))])}}};var k=n(85072),N=n.n(k),L=n(2452),C={insert:"head",singleton:!1};N()(L.A,C);L.A.locals;var _=n(66262);const V=(0,_.A)(E,[["__scopeId","data-v-837c8dd6"]]);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function A(){A=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(D([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==B(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(B(t)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function T(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)}))}}var P={key:0},j={key:1},O={key:0},I=function(e){return(0,r.pushScopeId)("data-v-90103b5a"),e=e(),(0,r.popScopeId)(),e}((function(){return(0,r.createElementVNode)("h3",null,"Stream from OBS or other software using these details:",-1)})),M={key:0,class:"font-bold"},F={key:2,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},G={class:"font-bold"},R={key:1,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},U={class:"font-bold"},z={key:1,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},Y={class:"flex flex-col justify-center border-2 border-green-500 rounded-lg px-2 py-2 gap-2"},K={class:"flex flex-row gap-2"},H={class:"mb-2"},q={key:0},W={key:1,class:"loading loading-spinner loading-xs text-white"},Z={key:0},Q={key:1,class:"loading loading-spinner loading-xs text-white"},$={class:"ml-2"},J={key:0,class:"text-xs text-green-500 font-semibold tracking-wider text-center"};const X={__name:"GoLiveHeader",setup:function(e){l().extend(d());var t=(0,i.useAppSettingStore)(),n=(0,o.useGoLiveStore)(),c=(0,r.ref)(!1),u=(0,r.ref)(!1),p=(0,r.ref)(!1),f=(0,s.iDZ)().copy,h=(0,r.ref)(!1),m=(0,r.computed)((function(){return n.fullRtmpUri})),v=(0,r.computed)((function(){return n.streamKey})),y=(0,r.computed)((function(){return n.fullUrl})),g=function(){f(y.value),c.value=!0,setTimeout((function(){return c.value=!1}),1e3)},b=function(){f(m.value),u.value=!0,setTimeout((function(){return u.value=!1}),1e3)},w=function(){f(v.value),p.value=!0,setTimeout((function(){return p.value=!1}),1e3)},x=(0,r.computed)((function(){return t.isSmallScreen?"flex flex-col w-full":"flex flex-row flex-wrap-reverse w-full justify-between gap-2"})),S=(0,r.computed)((function(){return t.isSmallScreen?"flex flex-col gap-2 mb-2":"flex flex-row flex-wrap gap-x-2 gap-y-2 mb-2"})),E=((0,r.computed)((function(){return h.value?"bg-yellow-800 hover:bg-yellow-900":"bg-blue-500 hover:bg-blue-700"})),(0,r.computed)((function(){return t.isSmallScreen?"w-full mt-2":"bg-blue-500 hover:bg-blue-700"})),(0,r.computed)((function(){return t.isSmallScreen?"my-4":"my-4 ml-10"}))),k=(0,r.computed)((function(){return t.isSmallScreen?"flex flex-col gap-2":"flex flex-row flex-wrap justify-between grow ml-4 gap-2"})),N=null,L=((0,r.ref)(300),(0,r.computed)((function(){var e;return null===(e=n.selectedShow)||void 0===e?void 0:e.nextBroadcast}))),C=(0,r.ref)(0),_=(0,r.ref)(0),B=(0,r.ref)(0),T=(0,r.ref)(0),X=(0,r.ref)(""),ee=function(){if(L.value){var e=l()(),t=l().utc(L.value).diff(e);if(t<=0)X.value="The broadcast is live now!";else{var n=l().duration(t);C.value=Math.floor(n.asDays()),_.value=n.hours(),B.value=n.minutes(),T.value=n.seconds()}}else X.value="No broadcast is currently scheduled!"},te=function(){window.open("/stats","_blank")};return(0,r.onMounted)(D(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(),N=setInterval(ee,1e3);case 2:case"end":return e.stop()}}),e)})))),(0,r.onUnmounted)((function(){clearInterval(N)})),function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(x.value)},[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(S.value)},[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return h.value=!h.value}),class:(0,r.normalizeClass)(["btn bg-blue-500 hover:bg-blue-700 text-white ml-2",{"bg-yellow-800 hover:bg-yellow-900 ":h.value}])},[h.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",j,"Hide Your Stream Key")):((0,r.openBlock)(),(0,r.createElementBlock)("span",P,"View Your Stream Key"))],2)]),h.value?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",O,[(0,r.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return(0,r.unref)(t).btnRedirect("/training/go-live-using-zoom")}),class:"btn bg-blue-500 hover:bg-blue-700 text-white"},"How To Stream From Zoom ")]))],2),h.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(E.value)},[I,(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("RTMP full url: "),y.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",M,(0,r.toDisplayString)(y.value),1)):(0,r.createCommentVNode)("",!0),(0,r.createTextVNode)("  "),m.value&&v.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:g},[m.value&&v.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.gc),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),c.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",F,"Copied!")):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("RTMP url: "),(0,r.createElementVNode)("span",G,(0,r.toDisplayString)(m.value),1),(0,r.createTextVNode)("  "),m.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:b},[m.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.gc),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),u.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",R,"Copied!")):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("RTMP stream key: "),(0,r.createElementVNode)("span",U,(0,r.toDisplayString)(v.value),1),(0,r.createTextVNode)("  "),v.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:w},[v.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.gc),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),p.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",z,"Copied!")):(0,r.createCommentVNode)("",!0)])],2)):(0,r.createCommentVNode)("",!0)]),h.value?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(k.value)},[(0,r.createElementVNode)("div",Y,[(0,r.createElementVNode)("div",K,[(0,r.createElementVNode)("div",H,[(0,r.unref)(n).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:o[3]||(o[3]=function(){var e;return(0,r.unref)(n).stopRecording&&(e=(0,r.unref)(n)).stopRecording.apply(e,arguments)}),class:"w-36 btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"},[(0,r.unref)(n).processingRecordingChange?((0,r.openBlock)(),(0,r.createElementBlock)("span",Q)):((0,r.openBlock)(),(0,r.createElementBlock)("span",Z,"Stop Recording"))])):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:o[2]||(o[2]=function(){var e;return(0,r.unref)(n).startRecording&&(e=(0,r.unref)(n)).startRecording.apply(e,arguments)}),class:"w-36 btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"},[(0,r.unref)(n).processingRecordingChange?((0,r.openBlock)(),(0,r.createElementBlock)("span",W)):((0,r.openBlock)(),(0,r.createElementBlock)("span",q,"Start Recording"))]))]),(0,r.createElementVNode)("div",$,[(0,r.unref)(n).isLive?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,disabled:"",onClick:o[5]||(o[5]=function(){var e;return(0,r.unref)(n).stopLive&&(e=(0,r.unref)(n)).stopLive.apply(e,arguments)}),class:"btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"},"End Live ")):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,disabled:"",onClick:o[4]||(o[4]=function(){var e;return(0,r.unref)(n).goLive&&(e=(0,r.unref)(n)).goLive.apply(e,arguments)}),class:"btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"},"Go Live Now "))])]),(0,r.unref)(n).isRecording&&(0,r.unref)(n).isLive?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",J," Coming Soon! "))]),(0,r.createElementVNode)("div",{class:"ml-2"},[(0,r.createElementVNode)("button",{class:"btn btn-secondary",onClick:te},"Live Analytics")]),(0,r.createVNode)(V)],2))],2)}}};var ee=n(72450),te={insert:"head",singleton:!1};N()(ee.A,te);ee.A.locals;const ne=(0,_.A)(X,[["__scopeId","data-v-90103b5a"]]);var re=n(10632),oe=n(58088),ie=n(75137),ae=(n(45005),n(65226)),se=(n(71232),{class:"w-full h-auto max-w-screen"}),ce=["id"],le=["src","type"];const ue={__name:"VideoJsAux",props:{options:Object,id:String,source:String,sourceType:String},setup:function(e){(0,i.useAppSettingStore)();var t=(0,re.useVideoAuxPlayerStore)(),n=((0,ae.useStreamStore)(),e);return(0,r.onMounted)((function(){var e=n.id,r={controlBar:{audioTrackButton:!1,autoHide:!0,captionsButton:!1,chaptersButton:!1,currentTimeDisplay:!1,customControlSpacer:!1,descriptionsButton:!1,durationDisplay:!1,fullscreenToggle:!1,liveDisplay:!1,pictureInPictureToggle:!1,playToggle:!1,playbackRateMenuButton:!1,progressControl:{seekBar:!1},remainingTimeDisplay:!1,seekToLive:!1,subsCapsButton:!1,subtitlesButton:!1,timeDivider:!1,volumePanel:{inline:!0,volumeBar:{vertical:!1,liveDisplay:!1}}},userActions:{hotkeys:!0},controls:!0,muted:!1,inactivityTimeout:0,autoplay:!0,preload:"auto",html5:{hls:{overrideNative:!ie.A.browser.IS_SAFARI}}},o=(0,ie.A)(e,r);t.setPlayer(o),o.el().addEventListener("contextmenu",(function(e){e.preventDefault()}))})),(0,r.onBeforeUnmount)((function(){(0,ie.A)(n.id).dispose()})),function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",se,[(0,r.createElementVNode)("video-js",{id:e.id,class:"video-js vjs-layout-tiny w-full max-w-full min-h-64 h-auto bg-blue-400",autoplay:"",muted:"",playsinline:"",crossorigin:"anonymous"},[(0,r.createElementVNode)("source",{src:e.source,type:e.sourceType},null,8,le)],8,ce)])}}};function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function pe(){pe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new B(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==de(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(de(t)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function fe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fe(i,r,o,a,s,"next",e)}function s(e){fe(i,r,o,a,s,"throw",e)}a(void 0)}))}}var me={class:"flex flex-col"},ve={key:0,class:"loading loading-spinner loading-xs"},ye={key:0,class:"w-full bg-red-700 text-white text-center uppercase font-bold"},ge={key:0},be={key:1},we={key:2},xe={class:"mt-2"},Se={class:"mt-2 ml-2"},Ee=(0,r.createElementVNode)("h3",null,"Stream Info",-1),ke=(0,r.createElementVNode)("strong",null,"Width:",-1),Ne=(0,r.createElementVNode)("strong",null,"Height:",-1),Le={key:0},Ce=(0,r.createElementVNode)("span",{class:"font-semibold"},"Live: ",-1),_e=(0,r.createElementVNode)("span",{class:"font-semibold"},"Buffer Window: ",-1),Ve=(0,r.createElementVNode)("h4",{class:"font-semibold"},"Tracks:",-1),Be={class:"flex flex-col"},Ae={class:"pl-2"},Te={key:0},De={key:1,class:"flex flex-col"},Pe=[(0,r.createElementVNode)("span",{class:"mb-2"},"Loading stream data...",-1),(0,r.createElementVNode)("span",{class:"loading loading-spinner text-neutral"},null,-1)],je={key:2,class:"flex flex-col"},Oe={class:"mb-2"};const Ie={__name:"GoLiveAuxVideoPlayer",setup:function(e){var t,n=(0,o.useGoLiveStore)(),s=(0,re.useVideoAuxPlayerStore)(),c=(0,oe.useVideoPlayerStore)(),l=(0,i.useAppSettingStore)(),u=(0,r.computed)((function(){return n.isLive||n.isRecording?"bg-gray-200 hover:bg-gray-400":""})),d=(0,r.computed)((function(){return n.isLive||n.isRecording?"border-4 border-red-700":""})),p=(0,r.ref)(c.mistServerUri+"hls/"+(null==n||null===(t=n.selectedShow)||void 0===t?void 0:t.mist_stream_wildcard.name)+"/index.m3u8"),f=(0,r.ref)("application/vnd.apple.mpegURL"),h=(0,r.computed)((function(){return l.isSmallScreen,"flex flex-col justify-center mt-3 h-fit"})),m=(0,r.computed)((function(){return l.isSmallScreen?"pl-3":"pl-11"})),v=(0,r.computed)((function(){return l.isSmallScreen?"flex flex-col":"flex flex-row flex-wrap"})),y=(0,r.computed)((function(){return l.isSmallScreen?"px-3":"px-10"})),g=(0,r.computed)((function(){return l.isSmallScreen?"flex flex-col w-full px-3 justify-center":"flex flex-row px-10 w-full justify-center"})),b=function(e){if(e>=6e4){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return"".concat(t," minute").concat(t>1?"s":""," ").concat(n," second").concat(n>1?"s":"")}return e>=1e3?(e/1e3).toFixed(2)+" s":e+" ms"};return(0,r.onMounted)(he(pe().mark((function e(){return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onPlayerReady AUX");case 1:case"end":return e.stop()}}),e)})))),(0,r.onUnmounted)((function(){s.disposePlayer()})),function(e,t){var o,i,l,w,x,S,E,k,N,L;return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(h.value)},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["text-xs tracking-wider font-semibold mb-1",m.value])},"LIVE VIDEO STREAM",2),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(v.value)},[(0,r.createElementVNode)("div",me,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(y.value)},[(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){(0,r.unref)(n).reloadPlayer()}),class:(0,r.normalizeClass)(["btn btn-xs w-full py-1",u.value])},[(0,r.unref)(n).playerIsReloading?((0,r.openBlock)(),(0,r.createElementBlock)("span",ve)):(0,r.createCommentVNode)("",!0),(0,r.createTextVNode)(" Reload Player ")],2),(0,r.unref)(n).isLive||(0,r.unref)(n).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("div",ye,[(0,r.unref)(n).isLive?((0,r.openBlock)(),(0,r.createElementBlock)("span",ge,"LIVE")):(0,r.createCommentVNode)("",!0),(0,r.createTextVNode)(),(0,r.unref)(n).isLive&&(0,r.unref)(n).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("span",be," + ")):(0,r.createCommentVNode)("",!0),(0,r.unref)(n).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("span",we,"RECORDING")):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)((0,r.unref)(ue),{id:"aux-player",source:p.value,sourceType:f.value,class:(0,r.normalizeClass)(["",d.value])},null,8,["source","sourceType","class"])],2),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(g.value)},[(0,r.createElementVNode)("div",xe,[(0,r.unref)(c).muted?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"btn btn-neutral text-white btn-xs",onClick:t[2]||(t[2]=function(){var e;return(0,r.unref)(c).unMute&&(e=(0,r.unref)(c)).unMute.apply(e,arguments)})},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"fa-volume-up",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,r.createTextVNode)(" Turn On Main Video Audio ")])):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"btn btn-warning btn-xs",onClick:t[1]||(t[1]=function(){var e;return(0,r.unref)(c).mute&&(e=(0,r.unref)(c)).mute.apply(e,arguments)})},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"fa-volume-mute",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,r.createTextVNode)(" Mute Main Video Audio ")]))]),(0,r.createElementVNode)("div",Se,[(0,r.unref)(s).muted?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:"btn btn-neutral text-white btn-xs",onClick:t[4]||(t[4]=function(){var e;return(0,r.unref)(s).unMute&&(e=(0,r.unref)(s)).unMute.apply(e,arguments)})},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"fa-volume-up",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,r.createTextVNode)(" Turn On Live Stream Audio ")])):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"btn btn-warning btn-xs",onClick:t[3]||(t[3]=function(){var e;return(0,r.unref)(s).mute&&(e=(0,r.unref)(s)).mute.apply(e,arguments)})},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"fa-volume-mute",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,r.createTextVNode)(" Mute Live Stream Audio ")]))])],2)]),(0,r.unref)(n).streamInfo&&!(0,r.unref)(n).streamInfo.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"w-80",key:(0,r.unref)(n).selectedShowId},[(0,r.createElementVNode)("div",null,[Ee,(0,r.createElementVNode)("p",null,[ke,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(null===(o=(0,r.unref)(n).streamInfo)||void 0===o?void 0:o.width),1)]),(0,r.createElementVNode)("p",null,[Ne,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(null===(i=(0,r.unref)(n).streamInfo)||void 0===i?void 0:i.height),1)]),null!==(l=(0,r.unref)(n).streamInfo)&&void 0!==l&&null!==(l=l.meta)&&void 0!==l&&l.tracks?((0,r.openBlock)(),(0,r.createElementBlock)("div",Le,[(0,r.createElementVNode)("div",null,[Ce,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(null===(w=(0,r.unref)(n).streamInfo)||void 0===w||null===(w=w.meta)||void 0===w?void 0:w.live),1)]),(0,r.createElementVNode)("div",null,[_e,(0,r.createTextVNode)((0,r.toDisplayString)(b(null===(x=(0,r.unref)(n).streamInfo)||void 0===x||null===(x=x.meta)||void 0===x?void 0:x.buffer_window)),1)]),Ve,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(null===(S=(0,r.unref)(n))||void 0===S||null===(S=S.streamInfo)||void 0===S?void 0:S.meta.tracks,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t},[(0,r.createElementVNode)("div",Be,[(0,r.createElementVNode)("div",null,"· "+(0,r.toDisplayString)(t),1),(0,r.createElementVNode)("div",Ae,["video"===e.type||"audio"===e.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",Te,(0,r.toDisplayString)((n=e.bps,n>=1e6?(n/1e6).toFixed(2)+" Mbps":n>=1e3?(n/1e3).toFixed(2)+" Kbps":n+" bps")),1)):(0,r.createCommentVNode)("",!0)])])]);var n})),128))])):(0,r.createCommentVNode)("",!0)])])):(0,r.createCommentVNode)("",!0),null!==(E=(0,r.unref)(n))&&void 0!==E&&E.streamInfo||null!==(k=(0,r.unref)(n))&&void 0!==k&&null!==(k=k.streamInfo)&&void 0!==k&&k.error?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",De,Pe)),null!==(N=(0,r.unref)(n))&&void 0!==N&&null!==(N=N.streamInfo)&&void 0!==N&&N.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",je,[(0,r.createElementVNode)("span",Oe,(0,r.toDisplayString)(null===(L=(0,r.unref)(n))||void 0===L||null===(L=L.streamInfo)||void 0===L?void 0:L.error),1)])):(0,r.createCommentVNode)("",!0)],2)],2)}}};var Me=n(50905),Fe=n(7447);function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Re(){Re=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new B(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ge(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ge(t)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Ue(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var ze={id:"mistStreamPushDestinationForm",class:"modal"},Ye={class:"modal-box bg-white dark:bg-gray-800 dark:text-white"},Ke=(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")],-1),He={class:"font-bold text-lg"},qe={class:"my-3 flex flex-col space-y-2"},We={key:0,role:"alert",class:"alert alert-error"},Ze=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Qe={class:"w-full flex flex-row justify-between"},$e=["disabled"],Je={key:0},Xe={key:1},et=(0,r.createElementVNode)("span",{class:"my-2 loading loading-dots loading-sm"},null,-1);const tt={__name:"MistStreamPushDestinationForm",props:{destinationDetails:Object,mode:String},emits:["update-success"],setup:function(e,t){var n=t.emit,i=(0,Fe.useNotificationStore)(),a=(0,o.useGoLiveStore)(),s=((0,Me.useMistStore)(),e),c=n,l=(0,r.ref)({show_id:a.selectedShowId,stream_name:a.streamKey,mist_stream_wildcard_id:s.destinationDetails.mist_stream_wildcard_id,id:s.destinationDetails.id,rtmp_url:s.destinationDetails.rtmp_url,rtmp_key:s.destinationDetails.rtmp_key,comment:s.destinationDetails.comment,errors:""}),u=(0,r.computed)((function(){return i.errorMessage&&Object.keys(i.errorMessage).length>0}));(0,r.watchEffect)((function(){l.value.mist_stream_wildcard_id=s.destinationDetails.mist_stream_wildcard_id||"",l.value.id=s.destinationDetails.id||"",l.value.rtmp_url=s.destinationDetails.rtmp_url||"",l.value.rtmp_key=s.destinationDetails.rtmp_key||"",l.value.comment=s.destinationDetails.comment||""}));var d=function(){var e,t=(e=Re().mark((function e(){var t,n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.pushDestinationFormSubmitProcessing=!0,t="/mist-stream-push-destinations",n="post","edit"===s.mode&&s.destinationDetails.id&&(t+="/".concat(s.destinationDetails.id),n="put"),e.prev=4,e.next=7,axios({method:n,url:t,data:l.value});case 7:return e.sent,c("update-success"),l.value.errors="",e.next=12,a.fetchPushDestinations();case 12:a.pushDestinationFormSubmitProcessing=!1,document.getElementById("mistStreamPushDestinationForm").close(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?(i.errorMessage=e.t0.response.data.errors,a.pushDestinationFormSubmitProcessing=!1):(i.setGeneralServiceNotification("Submission error",e.t0),a.pushDestinationFormSubmitProcessing=!1);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ue(i,r,o,a,s,"next",e)}function s(e){Ue(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("dialog",ze,[(0,r.createElementVNode)("div",Ye,[Ke,(0,r.createElementVNode)("h3",He,(0,r.toDisplayString)("add"===e.mode?"Add Push Destination":"Edit Push Destination"),1),(0,r.createElementVNode)("form",{onSubmit:(0,r.withModifiers)(d,["prevent"])},[(0,r.createElementVNode)("div",qe,[(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return l.value.rtmp_url=e}),type:"text",placeholder:"Server URL (RTMP Url)",class:"input input-bordered bg-white dark:bg-gray-800 dark:text-white",required:""},null,512),[[r.vModelText,l.value.rtmp_url]]),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return l.value.rtmp_key=e}),type:"text",placeholder:"Stream Key (RTMP Key)",class:"input input-bordered bg-white dark:bg-gray-800 dark:text-white"},null,512),[[r.vModelText,l.value.rtmp_key]]),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return l.value.comment=e}),class:"textarea textarea-bordered bg-white dark:bg-gray-800 dark:text-white",placeholder:"Optional Comment..."},null,512),[[r.vModelText,l.value.comment]]),u.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",We,[Ze,(0,r.createElementVNode)("div",Qe,[(0,r.createElementVNode)("div",null,(0,r.toDisplayString)((0,r.unref)(i).formattedErrorMessage),1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{onClick:n[3]||(n[3]=(0,r.withModifiers)((function(){var e;return(0,r.unref)(i).clearErrorMessage&&(e=(0,r.unref)(i)).clearErrorMessage.apply(e,arguments)}),["prevent"])),class:"btn btn-xs"},"OK")])])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("button",{type:"submit",disabled:(0,r.unref)(a).pushDestinationFormSubmitProcessing,class:"mt-2 btn btn-primary text-white disabled:cursor-not-allowed disabled:bg-gray-400"},[(0,r.unref)(a).pushDestinationFormSubmitProcessing?((0,r.openBlock)(),(0,r.createElementBlock)("span",Xe,[(0,r.createTextVNode)("Saving"),et,(0,r.createTextVNode)(" Please Wait")])):((0,r.openBlock)(),(0,r.createElementBlock)("span",Je,(0,r.toDisplayString)("add"===e.mode?"Add":"Save Changes"),1))],8,$e)])],32)])])}}};var nt=n(1340);function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function ot(){ot=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new B(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==rt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(rt(t)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function it(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var at={class:"flex flex-col gap-4"},st=["src"],ct={class:"flex-grow"},lt={class:"text-lg font-semibold"},ut={key:0,class:"text-red-500 font-semibold"},dt={class:"flex flex-col xl:flex-row gap-2 mt-2"},pt=["onClick","disabled"],ft=["onClick","disabled"],ht=["onClick","disabled"],mt=["onClick","disabled"],vt={key:4,class:"text-yellow-500 font-semibold"},yt={key:5,class:"loading loading-spinner text-info"},gt={class:"flex flex-row flex-wrap justify-end"},bt=["onClick"],wt=["onClick"];const xt={__name:"GoLiveDestinationList",setup:function(e){var t=(0,o.useGoLiveStore)(),n=(0,i.useAppSettingStore)(),a=(0,r.computed)((function(){return n.isSmallScreen,"bg-red-500 hover:bg-red-700"})),s=(0,r.computed)((function(){return n.isSmallScreen,"bg-blue-500 hover:bg-blue-700"})),c=(0,r.computed)((function(){return n.isSmallScreen,"bg-yellow-500 hover:bg-yellow-600"})),l=(0,r.computed)((function(){return n.isSmallScreen,"bg-blue-500 hover:bg-blue-600"})),u=(0,r.computed)((function(){return n.isSmallScreen,"bg-red-500 hover:bg-red-600"})),d=function(){var e,n=(e=ot().mark((function e(n){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.mistStreamPushDestinationFormModalMode="edit",t.destinationDetails=n,document.getElementById("mistStreamPushDestinationForm").showModal();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){it(i,r,o,a,s,"next",e)}function s(e){it(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return function(e,n){var o=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",at,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).destinations,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"border p-4 rounded-lg shadow flex flex-col md:flex-row items-center gap-4"},[(0,r.createElementVNode)("img",{src:e.destination_image,alt:"Destination Image",class:"w-24 h-24 object-cover rounded-full"},null,8,st),(0,r.createElementVNode)("div",ct,[(0,r.createElementVNode)("h3",lt,(0,r.toDisplayString)(e.destination_name),1),(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(e.comment),1),e.push_is_started?((0,r.openBlock)(),(0,r.createElementBlock)("p",ut,"Push Is Active")):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",dt,[e.push_is_started?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:function(n){return(0,r.unref)(t).stopPush(e.id,e.mist_push_id)},disabled:(0,r.unref)(t).loadingDestinationId===e.id,class:(0,r.normalizeClass)(["py-2 px-4 text-white rounded transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed",a.value])}," Stop Push ",10,pt)):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:function(n){return(0,r.unref)(t).startPush(e.id,e.full_push_uri,e.mist_push_id)},disabled:(0,r.unref)(t).loadingDestinationId===e.id,class:(0,r.normalizeClass)(["py-2 px-4 text-white rounded transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed",s.value])}," Start Push ",10,ft)),e.has_auto_push?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:2,onClick:function(n){return(0,r.unref)(t).enableAutoPush(e.id)},disabled:(0,r.unref)(t).loadingDestinationId===e.id,class:(0,r.normalizeClass)(["py-2 px-4 text-white rounded transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed",c.value])}," Enable Auto Push ",10,ht)),e.has_auto_push?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:3,onClick:function(n){return(0,r.unref)(t).disableAutoPush(e.id)},disabled:(0,r.unref)(t).loadingDestinationId===e.id,class:"hidden py-2 px-4 text-white rounded transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Disable Auto Push ",8,mt)):(0,r.createCommentVNode)("",!0),e.has_auto_push?((0,r.openBlock)(),(0,r.createElementBlock)("p",vt,"Auto push is enabled")):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).loadingDestinationId===e.id?((0,r.openBlock)(),(0,r.createElementBlock)("span",yt)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",gt,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(t){return d(e)}),["prevent"]),class:(0,r.normalizeClass)(["btn btn-sm text-white font-semibold rounded-lg",l.value])},[(0,r.createVNode)(o,{icon:"fa-pencil",class:"my-1 mx-1"})],10,bt)]),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(n){return(0,r.unref)(t).deleteDestination(e.id)}),["prevent"]),class:(0,r.normalizeClass)(["btn btn-sm text-white font-semibold rounded-lg",u.value])},[(0,r.createVNode)(o,{icon:"fa-trash-can",class:"my-1 mx-1"})],10,wt)])})),128))])}}};function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Et(){Et=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new B(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==St(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(St(t)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function kt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Nt=function(e){return(0,r.pushScopeId)("data-v-7dba5fe6"),e=e(),(0,r.popScopeId)(),e},Lt={id:"copyDestinationsModal",class:"modal"},Ct={class:"modal-box bg-white dark:bg-gray-800 dark:text-white"},_t={method:"dialog"},Vt=["disabled"],Bt=Nt((function(){return(0,r.createElementVNode)("h3",{class:"font-bold text-lg"},"Copy Destinations",-1)})),At={key:0},Tt={class:"flex flex-wrap justify-start items-center my-2"},Dt=["disabled"],Pt=["disabled"],jt=["onClick"],Ot={class:"flex items-center"},It=["value","disabled"],Mt={class:"flex flex-col"},Ft={class:"font-bold text-blue-600"},Gt={class:"flex justify-end mt-4"},Rt=["disabled"],Ut={key:0,class:"loading loading-spinner loading-md ml-2"},zt=["disabled"],Yt={key:1},Kt=[Nt((function(){return(0,r.createElementVNode)("p",null,"No destinations to copy.",-1)}))];const Ht={__name:"CopyDestinationsModal",setup:function(e){var t=(0,o.useGoLiveStore)(),n=(0,r.computed)((function(){return t.otherShowDestinations})),i=(0,r.ref)([]),s=(0,r.ref)(!1),c=(0,r.computed)((function(){var e=t.destinations;return(Array.isArray(n.value)?n.value:[]).filter((function(t){return!e.some((function(e){return e.rtmp_url===t.rtmp_url&&e.rtmp_key===t.rtmp_key}))}))})),l=(0,r.computed)((function(){return c.value.length>0&&i.value.length===c.value.length})),u=(0,r.computed)((function(){return 0===i.value.length})),d=function(){i.value=c.value.map((function(e){return e.id}))},p=function(){i.value=[]},f=function(){var e,n=(e=Et().mark((function e(){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.value=!0,e.next=3,t.copyDestinations(i.value);case 3:n=e.sent,s.value=!1,n&&h();case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kt(i,r,o,a,s,"next",e)}function s(e){kt(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),h=function(){document.getElementById("copyDestinationsModal").close()};return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("dialog",Lt,[(0,r.createElementVNode)("div",Ct,[(0,r.createElementVNode)("form",_t,[(0,r.createElementVNode)("button",{onClick:h,disabled:s.value,class:"btn btn-sm btn-circle btn-ghost hover:text-blue-300 absolute right-2 top-2"}," ✕ ",8,Vt)]),Bt,c.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",At,[(0,r.createElementVNode)("div",Tt,[(0,r.createElementVNode)("button",{onClick:d,disabled:s.value||l.value,class:"btn btn-sm btn-secondary text-white"},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"check-square",class:"mr-2"}),(0,r.createTextVNode)(" Select All ")],8,Dt),(0,r.createElementVNode)("button",{onClick:p,disabled:s.value||u.value,class:"btn btn-sm btn-secondary text-white ml-2"},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"minus-square",class:"mr-2"}),(0,r.createTextVNode)(" Deselect All ")],8,Pt)]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(c.value,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"my-3 cursor-pointer",onClick:function(t){return n=e.id,Array.isArray(i.value)||(i.value=[]),void(i.value.includes(n)?i.value=i.value.filter((function(e){return e!==n})):i.value.push(n));var n}},[(0,r.createElementVNode)("div",Ot,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.value=e}),disabled:s.value,class:"checkbox mr-2",onClick:t[1]||(t[1]=(0,r.withModifiers)((function(){}),["stop"]))},null,8,It),[[r.vModelCheckbox,i.value]]),(0,r.createElementVNode)("div",Mt,[(0,r.createElementVNode)("span",Ft,(0,r.toDisplayString)(e.show_name),1),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.comment)+" - ("+(0,r.toDisplayString)(e.rtmp_url)+(0,r.toDisplayString)(e.rtmp_key)+")",1)])])],8,jt)})),128)),(0,r.createElementVNode)("div",Gt,[(0,r.createElementVNode)("button",{onClick:f,class:"btn btn-primary text-white mr-2",disabled:s.value||0===i.value.length},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"copy",class:"mr-2"}),(0,r.createTextVNode)(" Copy Selected "),s.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",Ut)):(0,r.createCommentVNode)("",!0)],8,Rt),(0,r.createElementVNode)("button",{onClick:h,disabled:s.value,class:"btn btn-ghost"}," Cancel ",8,zt)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Yt,Kt))])])}}};var qt=n(965),Wt={insert:"head",singleton:!1};N()(qt.A,Wt);qt.A.locals;const Zt=(0,_.A)(Ht,[["__scopeId","data-v-7dba5fe6"]]);function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function $t(){$t=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new B(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Qt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Qt(t)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Jt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jt(i,r,o,a,s,"next",e)}function s(e){Jt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var en={class:"mx-4 mt-4 mb-2 px-6 py-1"},tn=(0,r.createElementVNode)("div",{class:"text-sm font-semibold bg-blue-600 text-white text-center w-full border-2 border-blue-600 rounded uppercase px-6 py-1"}," Push Destinations ",-1),nn=(0,r.createElementVNode)("div",{role:"alert",class:"alert"},[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current text-blue-500 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,r.createElementVNode)("span",null,"🌟 Our push statuses get a little refresh every minute. Hang tight and keep the creativity flowing – more awesome updates are on their way!")],-1),rn={class:"shadow bg-blue-100 overflow-hidden border-2 border-blue-600 rounded p-6 space-y-3"},on={class:"flex flex-row flex-wrap-reverse w-full justify-between"},an={class:"mb-2"},sn={class:"flex flex-col gap-2"},cn={class:"flex flex-row justify-end gap-2"},ln={key:0,class:"loading loading-spinner text-info"},un=["disabled"],dn={class:"flex flex-row justify-between mb-2 py-2 h-12"},pn=(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("h2",{class:"text-xl font-bold"},"Push Destinations")],-1),fn={key:0},hn=[(0,r.createElementVNode)("span",{class:"loading loading-bars loading-lg text-info mr-2"},null,-1),(0,r.createElementVNode)("span",{class:"text-xs uppercase"},"Refreshing...",-1)],mn={key:0},vn=[(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("Set up "),(0,r.createElementVNode)("span",{class:"font-bold"},"push destinations:")],-1),(0,r.createElementVNode)("div",null,"Here you can set additional streaming destinations such as Facebook, YouTube, Rumble, Twitch, etc. and notTV will automatically start pushing to those destinations when you go live. ",-1)],yn={key:1};const gn={__name:"GoLivePushDestinations",setup:function(e){var t=(0,i.useAppSettingStore)(),n=(0,Me.useMistStore)(),s=(0,o.useGoLiveStore)(),c=(0,r.ref)(15),l=(0,r.ref)(null),u=(0,r.computed)((function(){return s.destinations.some((function(e){return 1===e.has_auto_push}))})),d=function(){var e=Xt($t().mark((function e(){var t,n;return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.mistStreamPushDestinationFormModalMode="add",n=null===(t=s.selectedShow)||void 0===t||null===(t=t.mist_stream_wildcard)||void 0===t?void 0:t.id,s.destinationDetails={mist_stream_wildcard_id:n},document.getElementById("mistStreamPushDestinationForm").showModal();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Xt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchOtherShowDestinations();case 2:document.getElementById("copyDestinationsModal").showModal();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Xt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.wildcardId){e.next=3;break}return e.next=3,s.fetchPushDestinations();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Xt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchStreamInfo();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Xt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.reloadPlayer();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Xt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([f(),h()]);case 3:if(c.value=15,!0!==s.previousStreamStatus||s.streamOffline){e.next=9;break}return e.next=7,m();case 7:e.next=10;break;case 9:s.streamOffline;case 10:s.previousStreamStatus=s.streamOffline,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error during background fetch:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,r.watch)((function(){return s.selectedShow}),function(){var e=Xt($t().mark((function e(t,n){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=5;break}return e.next=3,v();case 3:return e.next=5,f();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,r.onMounted)(Xt($t().mark((function e(){return $t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===l.value&&(l.value=setInterval((function(){c.value>0?c.value-=1:v()}),1e3)),e.next=3,v();case 3:case"end":return e.stop()}}),e)})))),(0,r.onUnmounted)((function(){clearInterval(l.value)})),function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",en,[tn,nn,(0,r.createElementVNode)("div",rn,[(0,r.createElementVNode)("div",on,[(0,r.createElementVNode)("div",an,[(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,r.unref)(t).btnRedirect("/training/how-to-push-to-facebook")}),class:"btn btn-sm bg-blue-500 hover:bg-blue-700 rounded-lg text-white"},"How To Push To Facebook "),(0,r.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return(0,r.unref)(t).btnRedirect("/training/how-to-push-to-rumble")}),class:"btn btn-sm bg-blue-500 hover:bg-blue-700 rounded-lg text-white ml-2"},"How To Push To Rumble ")]),(0,r.createElementVNode)("div",sn,[(0,r.createElementVNode)("button",{class:"btn bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg flex items-center justify-center gap-2",onClick:(0,r.withModifiers)(p,["prevent"])},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"copy",class:"text-white"}),(0,r.createTextVNode)(" Copy Destinations ")]),(0,r.createElementVNode)("button",{class:"btn bg-green-600 hover:bg-green-500 text-white font-semibold rounded-lg flex items-center justify-center gap-2",onClick:(0,r.withModifiers)(d,["prevent"])},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"plus",class:"text-white"}),(0,r.createTextVNode)(" Add Push Destinations ")]),(0,r.createElementVNode)("div",cn,[(0,r.unref)(s).isProcessingDisableAllAutoPushes?((0,r.openBlock)(),(0,r.createElementBlock)("span",ln)):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("span",{class:"text-xs"},"Next refresh in... "+(0,r.toDisplayString)(c.value),513),[[r.vShow,!(0,r.unref)(s).isProcessingDisableAllAutoPushes]]),u.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:o[2]||(o[2]=function(e){return(0,r.unref)(s).disableAllAutoPushes()}),disabled:(0,r.unref)(s).isProcessingDisableAllAutoPushes,class:"py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Disable All Auto Pushes ",8,un)):(0,r.createCommentVNode)("",!0)])])]),(0,r.createElementVNode)("div",dn,[pn,(0,r.unref)(s).isLoadingDestinations?((0,r.openBlock)(),(0,r.createElementBlock)("div",fn,hn)):(0,r.createCommentVNode)("",!0)]),0===(0,r.unref)(s).destinations.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",mn,vn)):(0,r.createCommentVNode)("",!0),(0,r.unref)(s).destinations.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",yn,[(0,r.createVNode)(xt)])):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)((0,r.unref)(tt),{onUpdateSuccess:(0,r.unref)(n).getMistStreamPushDestinations,destinationDetails:(0,r.unref)(s).destinationDetails,mode:(0,r.unref)(s).mistStreamPushDestinationFormModalMode},null,8,["onUpdateSuccess","destinationDetails","mode"]),(0,r.createVNode)(Zt),(0,r.createVNode)(nt.A)])}}};var bn={class:"mt-4 mb-8 px-6 py-1 w-full"},wn=[(0,r.createElementVNode)("div",{class:"text-sm font-semibold bg-orange-600 text-white text-center w-full border-2 border-orange-600 rounded uppercase px-6 py-1"}," Commercial Breaks ",-1),(0,r.createElementVNode)("div",{class:"shadow bg-orange-100 overflow-hidden border-2 border-orange-600 rounded py-6 px-10 space-y-3 w-full"},[(0,r.createElementVNode)("div"),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("Click the "),(0,r.createElementVNode)("span",{class:"font-bold"},"Trigger Commercial Break"),(0,r.createTextVNode)(" button below to go to commercial.")]),(0,r.createElementVNode)("div",null,"You will see a countdown timer until the show resumes. This will be 1-2 minutes."),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("As a notTV creator, your voice matters. How can this feature be improved to better serve you and your sponsors? Please email and let us know: "),(0,r.createElementVNode)("a",{href:"mailto:hello@not.tv",target:"_blank",class:"text-blue-500 hover:text-blue-600"},"hello@not.tv")]),(0,r.createElementVNode)("div",{class:"w-full flex justify-center pt-4"},[(0,r.createElementVNode)("button",{onclick:"setCommercialBreakNotice.showModal()",class:"bg-orange-600 hover:bg-orange-500 text-white font-semibold rounded-lg px-4 py-2"},"Trigger Commercial Break ")])],-1)];const xn={},Sn=(0,_.A)(xn,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",bn,wn)}]]);var En={key:0},kn={key:1};const Nn={__name:"GoLive",setup:function(e){var t=(0,o.useGoLiveStore)(),n=(0,i.useAppSettingStore)(),a=(0,r.computed)((function(){return n.isSmallScreen?"mx-0 mt-4 mb-2 px-2 py-1":"mx-0 md:mx-4 mt-4 mb-2 px-2 md:px-6 py-1"})),s=(0,r.computed)((function(){return[t.isLive?"bg-gray-600 border-gray-600":"bg-red-600 border-red-600",n.isSmallScreen?"px-0 py-1":"px-0 md:px-6 py-1"]})),c=(0,r.computed)((function(){return[t.isLive?"bg-gray-100":"bg-red-100",n.isSmallScreen?"p-2":"p-2 md:p-6","border-red-600"]}));return t.updateAndGetStreamKey(),t.fetchStreamInfo(),t.fetchRtmpUri(),function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(a.value)},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["text-sm font-semibold text-white text-center w-full border-2 rounded uppercase",s.value])},[(0,r.unref)(t).isLive?((0,r.openBlock)(),(0,r.createElementBlock)("span",En,"Now Live")):((0,r.openBlock)(),(0,r.createElementBlock)("span",kn,"Live Setup"))],2),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["shadow overflow-hidden border-2 rounded",c.value])},[(0,r.createVNode)(ne),(0,r.createVNode)(Ie),((0,r.openBlock)(),(0,r.createBlock)(gn,{key:(0,r.unref)(t).selectedShowId}))],2),(0,r.createVNode)(Sn)],2)}}}},47212:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(29726),o=n(92995),i=n(20973);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function x(){}var S={};d(S,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,c)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,s,c){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=h;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=V(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function V(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,V(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(C.prototype),d(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:1,class:"alert alert-success mt-4 mx-3"},f=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),h={key:2,class:"alert alert-warning mt-4 mx-3"},m=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),v={key:3,class:"alert alert-error mt-4 mx-3"},y=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const g={__name:"Messages",props:{flash:Object},setup:function(e){(0,i.useAppSettingStore)().showFlashMessage=!0;var t=e,n=((0,r.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.QB.post(route("flash.clear"));case 2:o.QB.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.unref)(t).flash.message?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.message),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.success?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,[f,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.success),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.warning?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,[m,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.warning),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",v,[y,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.error),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0)])}}}},34167:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(29726),o=n(7447),i=["id"],a={class:"modal-box text-center my-auto border-2 border-secondary","data-theme":"dark"},s={class:"font-bold text-3xl text-secondary"},c={class:"py-4 text-xl"},l={class:"modal-action justify-center w-full"},u={method:"dialog"};const d={__name:"PopUpModal",props:{id:String},setup:function(e){var t=(0,o.useNotificationStore)();return function(n,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("dialog",{id:e.id,class:"modal"},[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("h2",s,[(0,r.renderSlot)(n.$slots,"header")]),(0,r.createElementVNode)("p",c,[(0,r.renderSlot)(n.$slots,"main")]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("form",u,[(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,r.unref)(t).showPopUpModal=!1}),class:"btn btn-secondary"},"Okay")])])])],8,i)])}}}},94122:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(29726),o=n(15270),i={key:0,class:"w-full bg-gray-900 text-white text-center tracking-wider text-2xl mb-4 p-4"},a={key:1,class:"description mb-1"},s={class:"flex w-full justify-center"};const c={__name:"ExpandableDescription",props:{description:String,hideTitle:Boolean,class:String,length:{type:Number,default:210}},setup:function(e){var t=e,n=(0,r.ref)(!1),c=(0,r.computed)((function(){return 0===t.length||t.description.length<=t.length?t.description:t.description.substring(0,t.length)+"..."})),l=(0,r.computed)((function(){return 0!==t.length&&t.description.length>t.length})),u=function(){n.value=!n.value},d=(0,r.computed)((function(){return n.value?t.description:c.value}));return function(c,p){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["",t.class])},[e.hideTitle?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",i," DESCRIPTION ")),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[((0,r.openBlock)(),(0,r.createBlock)(o.A,{content:d.value,key:n.value},null,8,["content"])),(0,r.createElementVNode)("div",s,[l.value&&!n.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:u,class:"btn btn-wide justify-self-center bg-gray-200 hover:bg-gray-400 transition text-gray-800"}," Read the full description ")):(0,r.createCommentVNode)("",!0)])])):(0,r.createCommentVNode)("",!0)],2)}}}},15270:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(29726),o=n(42212),i=n(43492),a=n(7417),s=n(48631),c=n(83302),l=(n(24260),n(36035)),u=(n(94341),n(56790),n(37594)),d=n(91893),p=n(66562),f=n(53639);const h={__name:"TipTapRender",props:{content:String},setup:function(e){var t=e,n=(0,r.ref)((0,o.hG)({extensions:[i.A,Document,Text,a.x,c.a,s.Q,l.Ay,u.z,d.E,p.Z,f.Ay.configure({openOnClick:!0})],content:t.content,editable:!1}));return(0,r.onBeforeUnmount)((function(){n.value&&n.value.destroy()})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)((0,r.unref)(o.$Z),{editor:(0,r.unref)(n)},null,8,["editor"])])}}}},99472:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(29726),o={key:0,class:"mt-2 flex justify-center items-center w-full mx-auto bg-black"},i=[function(e){return(0,r.pushScopeId)("data-v-37918dfe"),e=e(),(0,r.popScopeId)(),e}((function(){return(0,r.createElementVNode)("div",{class:"bg-black text-white text-center flex items-center justify-center uppercase font-bold text-xs p-5 mb-2 w-76 h-52"}," No Video ",-1)}))],a={key:1,class:"video-container"},s=["src"],c={key:2,class:"flex justify-center w-full bg-blue-500 ml-10"},l={class:"video-container mx-auto justify-center shadow overflow-hidden border-b border-gray-200 bg-white dark:bg-black text-2xl sm:rounded-lg p-5 w-fit max-h-52"},u={key:0},d={key:1,id:"episodeEditVideoPlayer",class:"video-js w-fit h-auto",controls:""},p=["src","type"];const f={__name:"EpisodeVideo",props:{episode:Object},setup:function(e){return function(t,n){var f,h,m,v,y,g,b,w,x,S,E,k,N,L;return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[null!==(f=e.episode.video)&&void 0!==f&&f.id||null!==(h=e.episode.video)&&void 0!==h&&h.video_url?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",o,i)),null!==(m=e.episode)&&void 0!==m&&null!==(m=m.video)&&void 0!==m&&m.id&&"spaces"===(null===(v=e.episode.video)||void 0===v?void 0:v.storage_location)&&"processing"!==(null===(y=e.episode.video)||void 0===y?void 0:y.upload_status)?((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("video",{id:"episodeEditPlayer",controls:"",class:"w-auto h-auto",src:(null===(g=e.episode.video)||void 0===g?void 0:g.cdn_endpoint)+(null===(b=e.episode.video)||void 0===b?void 0:b.cloud_folder)+(null===(w=e.episode)||void 0===w?void 0:w.video.folder)+"/"+(null===(x=e.episode.video)||void 0===x?void 0:x.file_name)}," Your browser does not support the video tag. ",8,s)])):(0,r.createCommentVNode)("",!0),"external"===(null===(S=e.episode.video)||void 0===S?void 0:S.storage_location)||"processing"===(null===(E=e.episode.video)||void 0===E?void 0:E.upload_status)?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.createElementVNode)("div",l,[""===(null===(k=e.episode.video)||void 0===k?void 0:k.video_url)?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,"NO VIDEO")):((0,r.openBlock)(),(0,r.createElementBlock)("video",d,[(0,r.createElementVNode)("source",{src:null===(N=e.episode.video)||void 0===N?void 0:N.video_url,type:null===(L=e.episode.video)||void 0===L?void 0:L.type},null,8,p)]))])])):(0,r.createCommentVNode)("",!0)])}}};var h=n(85072),m=n.n(h),v=n(37122),y={insert:"head",singleton:!1};m()(v.A,y);v.A.locals;const g=(0,n(66262).A)(f,[["__scopeId","data-v-37918dfe"]])},37635:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(29726),o=n(34167),i=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),a=(0,r.createElementVNode)("p",null,"Set how many minutes until you go live. If you have already scheduled the show you will automatically go live at the set time. You can change the set time here if needed. The audience will receive notifications that the live is about to begin 2 minutes in advance.",-1),s=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),c=(0,r.createElementVNode)("p",null,"Notifications will immediately go out to subscribers and your show will appear in the shows list with a live badge.",-1),l=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),u=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),d=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),p=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),f=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),h=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can schedule the release from the Show Edit page.",-1),m=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),v=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can edit the description on the episode Edit page.",-1);const y={__name:"ManageShowEpisodeNoticeModals",setup:function(e){return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)((0,r.unref)(o.A),{id:"startCountdownNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Set Countdown Timer")]})),main:(0,r.withCtx)((function(){return[i,a]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"startLiveStreamNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Start Live Stream")]})),main:(0,r.withCtx)((function(){return[s,c]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"setPushDestinationsNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Set Push Destinations")]})),main:(0,r.withCtx)((function(){return[l]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"setCommercialBreakNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Commercial Breaks")]})),main:(0,r.withCtx)((function(){return[u]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"teleprompterNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("TELEPROMPTER")]})),main:(0,r.withCtx)((function(){return[d]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"vtrNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("VTR")]})),main:(0,r.withCtx)((function(){return[p]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"graphicsNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Graphics (like Chryon)")]})),main:(0,r.withCtx)((function(){return[f]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"scheduleReleaseNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Schedule Release")]})),main:(0,r.withCtx)((function(){return[h]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"addBonusContentNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Add Bonus Content")]})),main:(0,r.withCtx)((function(){return[m]})),_:1}),(0,r.createVNode)((0,r.unref)(o.A),{id:"editDescriptionNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Edit Episode Description")]})),main:(0,r.withCtx)((function(){return[v]})),_:1})])}}}},46797:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(29726),o=n(86028),i={class:"flex flex-col lg:flex-row justify-center text-center lg:justify-between mt-6"},a={class:"mb-4 lg:mb-0 w-full lg:w-auto flex justify-center lg:justify-start gap-x-1"},s=(0,r.createElementVNode)("span",{class:"text-xs uppercase font-semibold"},"Episode ID: ",-1),c={class:"text-xs"},l={class:"flex flex-col lg:flex-row items-center justify-center lg:justify-start w-full lg:w-auto"},u={class:""},d={key:0,class:"text-xs font-semibold text-gray-500"},p={key:0},f={key:1},h={key:1,class:"text-xs font-semibold text-gray-500"},m={key:2,class:"text-xs font-semibold text-gray-500"},v={key:3,class:"text-xs font-semibold text-gray-500"};const y={__name:"EpisodeFooter",props:{team:Object,episode:Object,show:Object,can:Object},setup:function(e){var t=(0,o.useShowEpisodeStore)();(new Date).getFullYear();return function(e,n){var o,y,g,b,w=(0,r.resolveComponent)("Link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",a,[s,(0,r.createElementVNode)("span",c,(0,r.toDisplayString)((0,r.unref)(t).episode.ulid),1)]),(0,r.createElementVNode)("div",l,[(0,r.createVNode)(w,{href:"/shows/".concat((0,r.unref)(t).show.slug),class:"text-blue-500 hover:text-blue-700 uppercase"},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).show.name),1)]})),_:1},8,["href"]),(0,r.createElementVNode)("div",u,[null!==(o=(0,r.unref)(t).episode)&&void 0!==o&&null!==(o=o.creative_commons)&&void 0!==o&&o.name?((0,r.openBlock)(),(0,r.createElementBlock)("span",d,[(0,r.createTextVNode)("  "+(0,r.toDisplayString)((0,r.unref)(t).episode.creative_commons.name)+"  ",1),7!==(0,r.unref)(t).episode.creative_commons.id?((0,r.openBlock)(),(0,r.createElementBlock)("span",p,"• ")):((0,r.openBlock)(),(0,r.createElementBlock)("span",f," © "))])):(0,r.createCommentVNode)("",!0),null!==(y=(0,r.unref)(t).show)&&void 0!==y&&y.last_release_year?((0,r.openBlock)(),(0,r.createElementBlock)("span",h,(0,r.toDisplayString)((0,r.unref)(t).show.first_release_year)+"-"+(0,r.toDisplayString)((0,r.unref)(t).show.last_release_year),1)):null!==(g=(0,r.unref)(t).show)&&void 0!==g&&g.first_release_year?((0,r.openBlock)(),(0,r.createElementBlock)("span",m,(0,r.toDisplayString)((0,r.unref)(t).show.first_release_year),1)):null!==(b=(0,r.unref)(t).episode)&&void 0!==b&&b.copyright_year?((0,r.openBlock)(),(0,r.createElementBlock)("span",v,(0,r.toDisplayString)((0,r.unref)(t).episode.copyright_year),1)):(0,r.createCommentVNode)("",!0)])])])}}}},49562:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ue});var r=n(29726),o=n(96433),i=n(2435),a=n(20973),s=n(34526),c=n(67405),l=n(86028),u=n(61677),d=n(94122),p={class:"shadow overflow-hidden bg-gray-50 border-b border-gray-200 sm:rounded-lg p-5 my-8"},f={class:"my-6 ml-10 md:w-3/4"},h={class:"text-sm font-semibold uppercase mb-2"},m={onclick:"editDescriptionNotice.showModal()",class:"bg-blue-600 hover:bg-blue-500 text-white px-2 py-1 rounded-lg"};const v={__name:"ManageShowEpisodeDescription",props:{episode:Object},setup:function(e){return function(t,n){var o=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",p,[(0,r.createElementVNode)("div",f,[(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("button",m,[(0,r.createVNode)(o,{icon:"fa-pencil"})]),(0,r.createTextVNode)(" Episode Description ")]),(0,r.createVNode)(d.A,{description:e.episode.description,hideTitle:!0},null,8,["description"])])])}}};var y={class:"shadow overflow-hidden bg-gray-50 border-b border-gray-200 sm:rounded-lg p-5 mb-8"},g=(0,r.createElementVNode)("div",{class:"flex flex-col my-6 ml-10 md:w-3/4 space-x-2 space-y-2"},[(0,r.createElementVNode)("div",{class:"text-sm font-semibold uppercase mb-2"},[(0,r.createTextVNode)("Bonus Content "),(0,r.createElementVNode)("div",{class:"badge bg-orange-500 text-white text-xs ml-1 -mt-3"},"Coming Soon!")]),(0,r.createElementVNode)("div"),(0,r.createElementVNode)("div",null,"Add videos, images, links and documents for the audience.")],-1),b={class:"mt-8 ml-10"},w={onclick:"addBonusContentNotice.showModal()",class:"bg-orange-600 hover:bg-orange-500 text-white font-semibold rounded-lg px-4 py-2"};var x=n(66262);const S={},E=(0,x.A)(S,[["render",function(e,t){var n=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",y,[g,(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("button",w,[(0,r.createVNode)(n,{icon:["fas","plus"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Add Bonus Content ")])])])}]]);var k=n(37635),N=n(20715),L=(n(44540),function(e){return(0,r.pushScopeId)("data-v-7c175692"),e=e(),(0,r.popScopeId)(),e}),C={key:0},_={key:0,class:"text-white uppercase hidden"},V={key:1},B=L((function(){return(0,r.createElementVNode)("span",{class:"uppercase text-xs text-white"},"Status:",-1)})),A={key:1},T=[L((function(){return(0,r.createElementVNode)("span",null,"You are about to go live.",-1)}))];const D={__name:"ManageShowEpisodeTopBanner",props:{episode:Object,episodeStatus:Object},setup:function(e){var t=(0,u.useTeamStore)(),n=e,o=(0,r.computed)((function(){return{"bg-red-500 text-white":t.goLiveDisplay,"bg-black text-red-600":!t.goLiveDisplay}})),i=(0,r.computed)((function(){return{"font-semibold text-xl text-orange-400":1===n.episodeStatus.id,"text-xl text-green-400":2===n.episodeStatus.id,"font-semibold text-xl text-green-600":3===n.episodeStatus.id,"font-bold text-xl text-green-600":4===n.episodeStatus.id,"font-semibold text-xl text-purple-700":5===n.episodeStatus.id,"font-italic text-xl text-pink-500":6===n.episodeStatus.id,"font-bold text-xl light:text-black dark:text-white":7===n.episodeStatus.id,"font-medium text-xl text-gray-500":8===n.episodeStatus.id,"font-semibold font-italic text-xl text-red-700":9===n.episodeStatus.id,"font-bold text-xl text-red-800":10===n.episodeStatus.id}}));return function(n,a){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["font-bold text-xl p-4 my-4 w-full text-center",o.value])},[(0,r.unref)(t).goLiveDisplay?((0,r.openBlock)(),(0,r.createElementBlock)("div",A,T)):((0,r.openBlock)(),(0,r.createElementBlock)("div",C,[e.episodeStatus.id<6?((0,r.openBlock)(),(0,r.createElementBlock)("div",_,"Create your episode")):(0,r.createCommentVNode)("",!0),e.episodeStatus.name?((0,r.openBlock)(),(0,r.createElementBlock)("div",V,[B,(0,r.createTextVNode)(),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(i.value)},(0,r.toDisplayString)(e.episodeStatus.name),3)])):(0,r.createCommentVNode)("",!0)]))],2)}}};var P=n(85072),j=n.n(P),O=n(45602),I={insert:"head",singleton:!1};j()(O.A,I);O.A.locals;const M=(0,x.A)(D,[["__scopeId","data-v-7c175692"]]);var F=n(37150),G={class:"inline-flex items-center text-3xl font-semibold relative"},R={class:"flex flex-row space-x-2"},U={class:"hover:text-blue-700 pl-4 inline-flex items-center text-3xl font-semibold relative"};const z={__name:"EpisodeHeader",props:{episode:Object,show:Object,team:Object},setup:function(e){(0,c.useShowStore)(),(0,u.useTeamStore)();return function(t,n){var o=(0,r.resolveComponent)("Link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",G,[(0,r.createVNode)(o,{href:"/shows/".concat(e.show.slug,"/episode/").concat(e.episode.slug),class:"uppercase"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",R,[(0,r.createVNode)((0,r.unref)(F.A),{image:e.episode.image,alt:"'episode poster'",class:"h-50 w-80 object-cover"},null,8,["image"]),(0,r.createElementVNode)("span",U,(0,r.toDisplayString)(e.episode.name),1)])]})),_:1},8,["href"])])}}};var Y=n(49829),K={class:"bg-gradient-to-r from-green-100 via-white to-transparent p-4 text-black rounded-lg"},H={class:"flex justify-between my-3"},q=(0,r.createElementVNode)("div",{class:"gap-2"},[(0,r.createElementVNode)("div",{class:"font-bold mb-4 text-black"},"MANAGE EPISODE")],-1),W={class:"flex flex-col"},Z={class:"flex flex-row w-full justify-end mb-2"},Q=["disabled"],$={class:"flex flex-wrap-reverse justify-end gap-2"},J={key:0,class:""},X=["disabled"],ee=["disabled"],te=["disabled"],ne=["disabled"],re={class:"flex w-full justify-end gap-x-2"},oe=["disabled"],ie={class:"flex justify-between flex-wrap mt-2 align-top"},ae={class:"min-w-[12rem]"},se={class:"flex flex-row flex-wrap justify-between w-full"},ce={class:"flex flex-col pt-6"},le=(0,r.createElementVNode)("span",{class:"text-xs capitalize font-semibold"},"Show: ",-1),ue=["disabled"],de=(0,r.createElementVNode)("span",{class:"text-xs capitalize font-semibold mr-2"},"Show Runner: ",-1),pe=(0,r.createElementVNode)("span",{class:"text-xs capitalize font-semibold mr-2"},"Episode Number: ",-1),fe={key:0},he={key:1},me={key:0},ve={class:"text-xs capitalize font-semibold mr-2"},ye={class:"upcomingDateTime"},ge={class:"text-center mb-3 pr-3 pt-6"},be=["disabled"],we=(0,r.createElementVNode)("br",null,null,-1),xe={key:1},Se=(0,r.createElementVNode)("span",{class:"text-2xl capitalize font-semibold"},"Scheduled Release:",-1),Ee=(0,r.createElementVNode)("br",null,null,-1),ke={class:"text-3xl capitalize font-semibold"},Ne={class:"text-xl capitalize font-semibold"};const Le={__name:"ManageShowEpisodeHeader",props:{show:Object,team:Object,episode:Object,episodeStatus:Object},setup:function(e){var t=(0,a.useAppSettingStore)(),n=(0,s.useGoLiveStore)(),o=(0,u.useTeamStore)(),i=(0,N.useUserStore)(),c=(0,l.useShowEpisodeStore)();return function(a,s){var l=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)((0,r.unref)(M),{episode:e.episode,episodeStatus:e.episodeStatus},null,8,["episode","episodeStatus"]),(0,r.createElementVNode)("header",K,[(0,r.createElementVNode)("div",H,[q,(0,r.createElementVNode)("div",W,[(0,r.createElementVNode)("div",Z,[(0,r.createElementVNode)("button",{onClick:s[0]||(s[0]=function(n){return(0,r.unref)(t).btnRedirect("/teams/".concat(e.team.slug,"/manage"))}),class:"px-4 py-2 mr-2 mb-2 h-fit text-white font-semibold bg-orange-500 hover:bg-orange-600 rounded-lg"},[(0,r.createVNode)(l,{icon:"fa-users-cog",class:"hover:text-blue-800 mr-2"}),(0,r.createTextVNode)(" Manage Team ")]),(0,r.createElementVNode)("button",{disabled:(0,r.unref)(n).displayEpisodeGoLiveComponent,onClick:s[1]||(s[1]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.show.slug,"/manage"))}),class:"px-4 py-2 mb-2 text-white font-semibold bg-orange-600 hover:bg-orange-500 rounded-lg disabled:bg-gray-400"},[(0,r.createVNode)(l,{icon:"fa-tv",class:"hover:text-blue-800 mr-2"}),(0,r.createTextVNode)(" Manage Show ")],8,Q)]),(0,r.createElementVNode)("div",$,[(0,r.unref)(o).can.goLive&&!e.episode.video_file_url?((0,r.openBlock)(),(0,r.createElementBlock)("div",J,[(0,r.unref)(n).displayEpisodeGoLiveComponent?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:s[2]||(s[2]=function(t){return(0,r.unref)(n).toggleDisplayEpisodeGoLiveComponent(e.episode)}),disabled:e.episode.show_episode_status_id>6,class:"hidden px-4 py-2 text-white bg-red-600 hover:bg-red-500 rounded-lg disabled:bg-gray-400"},[(0,r.createVNode)(l,{icon:"fa-broadcast-tower",class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Go Live ")],8,X)),(0,r.unref)(n).displayEpisodeGoLiveComponent?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:s[3]||(s[3]=function(e){return(0,r.unref)(n).toggleDisplayEpisodeGoLiveComponent()}),class:"px-4 py-2 text-white bg-red-600 hover:bg-red-500 rounded-lg disabled:bg-gray-400"},[(0,r.createVNode)(l,{icon:"fa-times",class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Cancel ")])):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{onClick:s[4]||(s[4]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.show.slug,"/episode/").concat(e.episode.slug))}),disabled:(0,r.unref)(n).displayEpisodeGoLiveComponent,class:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg disabled:bg-gray-400"},[(0,r.createVNode)(l,{icon:"fa-eye",class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" View Episode ")],8,ee)]),(0,r.createElementVNode)("div",null,[(0,r.unref)(o).can.editEpisode?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:s[5]||(s[5]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.show.slug,"/episode/").concat(e.episode.slug,"/edit"))}),disabled:(0,r.unref)(n).displayEpisodeGoLiveComponent,class:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg disabled:bg-gray-400"},[(0,r.createVNode)(l,{icon:"fa-pen",class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Edit Episode ")],8,te)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{disabled:(0,r.unref)(n).displayEpisodeGoLiveComponent,onClick:s[6]||(s[6]=function(e){return(0,r.unref)(t).btnRedirect("/dashboard")}),class:"bg-black hover:bg-gray-800 text-white font-semibold px-4 py-2 rounded-lg disabled:bg-gray-400"},[(0,r.createVNode)(l,{icon:["fas","tachometer-alt"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Dashboard ")],8,ne)])]),(0,r.createElementVNode)("div",re,[(0,r.createElementVNode)("div",null,[e.episode.video_file_url?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,hidden:"",onClick:s[7]||(s[7]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.show.slug,"/episode/").concat(e.episode.slug,"/upload"))}),disabled:(0,r.unref)(n).displayEpisodeGoLiveComponent,class:"px-4 py-2 text-white font-semibold bg-orange-600 hover:bg-orange-500 rounded-lg disabled:bg-gray-400"},"Upload Video ",8,oe))])])])]),(0,r.createElementVNode)("div",ie,[(0,r.createElementVNode)("div",ae,[(0,r.createVNode)((0,r.unref)(z),{episode:e.episode,show:e.show,team:e.team},null,8,["episode","show","team"])]),(0,r.createElementVNode)("div",se,[(0,r.createElementVNode)("div",ce,[(0,r.createElementVNode)("div",null,[le,(0,r.createElementVNode)("button",{disabled:(0,r.unref)(n).displayEpisodeGoLiveComponent,onClick:s[8]||(s[8]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.show.slug,"/manage"))}),class:"hover:text-blue-700 text-blue-500 ml-2 uppercase disabled:text-black"},(0,r.toDisplayString)(e.show.name),9,ue)]),(0,r.createElementVNode)("div",null,[de,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.show.showRunner.name),1)]),(0,r.createElementVNode)("div",null,[pe,e.episode.episode_number?((0,r.openBlock)(),(0,r.createElementBlock)("span",fe,(0,r.toDisplayString)(e.episode.episode_number),1)):(0,r.createCommentVNode)("",!0),e.episode.episode_number?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("span",he,(0,r.toDisplayString)(e.episode.id),1))]),(0,r.unref)(c).releaseDateTimeInUserTz?((0,r.openBlock)(),(0,r.createElementBlock)("div",me,[(0,r.createElementVNode)("span",ve,(0,r.toDisplayString)(a.formatDate((0,r.unref)(c).releaseDateTimeInUserTz)),1)])):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",ye,[(0,r.createElementVNode)("div",ge,[5===e.episode.status.id?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,disabled:(0,r.unref)(n).displayEpisodeGoLiveComponent,onclick:"scheduleReleaseNotice.showModal()",class:"bg-green-600 hover:bg-green-500 text-white rounded-lg font-semibold px-4 py-2 mb-4 mr-2 disabled:bg-gray-400"}," Schedule Release ",8,be)):(0,r.createCommentVNode)("",!0),we,6===e.episode.status.id?((0,r.openBlock)(),(0,r.createElementBlock)("div",xe,[Se,Ee,(0,r.createElementVNode)("span",ke,[(0,r.createVNode)(Y.A,{dateTime:(0,r.unref)(c).scheduleReleaseDateTimeInUserTz,timezone:(0,r.unref)(i).timezone},null,8,["dateTime","timezone"])]),(0,r.createElementVNode)("span",Ne,(0,r.toDisplayString)((0,r.unref)(c).formattedScheduledReleaseDateTime),1)])):(0,r.createCommentVNode)("",!0)])])])])])])}}};var Ce={class:"shadow overflow-hidden bg-gray-50 border-b border-gray-200 sm:rounded-lg p-5 my-8"},_e=[(0,r.createStaticVNode)('<div class="my-6 ml-10 md:w-3/4"><div class="text-sm font-semibold uppercase mb-2">Episode Rundown</div><div class="p-4"><h1 class="text-2xl font-semibold mb-4">Talk Show Rundown (example)</h1><div class="overflow-x-auto"><table class="min-w-full bg-white"><thead><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Time</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Segment</th></tr></thead><tbody><tr><td class="px-6 py-4 whitespace-nowrap">00:00</td><td class="px-6 py-4 whitespace-nowrap">Show Opener</td></tr><tr><td class="px-6 py-4 whitespace-nowrap">03:00</td><td class="px-6 py-4 whitespace-nowrap">Bumper 1</td></tr><tr><td class="px-6 py-4 whitespace-nowrap">05:00</td><td class="px-6 py-4 whitespace-nowrap">Segment 1</td></tr><tr><td class="px-6 py-4 whitespace-nowrap">15:00</td><td class="px-6 py-4 whitespace-nowrap">Stinger 1</td></tr><tr><td class="px-6 py-4 whitespace-nowrap">18:00</td><td class="px-6 py-4 whitespace-nowrap">Commercial Break</td></tr><tr><td class="px-6 py-4 whitespace-nowrap">21:00</td><td class="px-6 py-4 whitespace-nowrap">Segment 2</td></tr><tr><td class="px-6 py-4 whitespace-nowrap">28:00</td><td class="px-6 py-4 whitespace-nowrap">Stinger 2</td></tr><tr><td class="px-6 py-4 whitespace-nowrap">30:00</td><td class="px-6 py-4 whitespace-nowrap">Credits</td></tr></tbody></table></div></div></div>',1)];const Ve={__name:"ManageShowEpisodeRundown",setup:function(e){return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",Ce,_e)}}};var Be=n(61273),Ae={class:"shadow overflow-hidden bg-gray-100 border-b border-gray-200 sm:rounded-lg p-5 my-8"},Te={class:"my-6 ml-10 md:w-3/4"},De={class:"mb-2"},Pe=(0,r.createElementVNode)("span",{class:"text-sm font-semibold uppercase"},"Internal Episode Notes (Team Only)",-1),je={class:"tooltip","data-tip":"Only team members see these"};const Oe={__name:"ManageShowEpisodeNotes",props:{episode:Object},setup:function(e){return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",Ae,[(0,r.createElementVNode)("div",Te,[(0,r.createElementVNode)("div",De,[Pe,(0,r.createElementVNode)("span",je,[(0,r.createVNode)((0,r.unref)(Be.gc),{icon:"fa-circle-info",class:"ml-1"})])]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.episode.notes),1)])])}}};var Ie=n(41357),Me=n(99472),Fe=n(46797),Ge=n(47212),Re={id:"topDiv",class:"place-self-center flex flex-col gap-y-3"};const Ue={__name:"Manage",props:{show:Object,team:Object,episode:Object,episodeStatus:Object,can:Object},setup:function(e){(0,i.c)("showEpisodesManage");var t=(0,a.useAppSettingStore)(),n=(0,s.useGoLiveStore)(),d=((0,c.useShowStore)(),(0,l.useShowEpisodeStore)()),p=(0,u.useTeamStore)(),f=e;n.updateEpisode(f.episode);(0,o.uN2)(f.scheduledDateTime);p.can=f.can;var h=(0,r.computed)((function(){return{"border-4 border-red-500":p.goLiveDisplay}}));return(0,r.onMounted)((function(){d.initializeShowEpisode(f.episode,f.show,f.team)})),function(o,i){var a=(0,r.resolveComponent)("Head");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(a,{title:"Manage Episode: ".concat((0,r.unref)(f).episode.name)},null,8,["title"]),(0,r.createElementVNode)("div",Re,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["bg-white rounded text-black p-5",h.value])},[(0,r.unref)(t).showFlashMessage?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Ge.A),{key:0,flash:o.$page.props.flash},null,8,["flash"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)((0,r.unref)(k.A)),(0,r.createVNode)((0,r.unref)(Le),{episode:e.episode,episodeStatus:e.episodeStatus,show:e.show,team:e.team},null,8,["episode","episodeStatus","show","team"]),(0,r.unref)(n).displayEpisodeGoLiveComponent?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Ie.A),{key:1})):(0,r.createCommentVNode)("",!0),(0,r.createVNode)((0,r.unref)(Me.A),{episode:e.episode},null,8,["episode"]),(0,r.createVNode)((0,r.unref)(Oe),{episode:e.episode},null,8,["episode"]),(0,r.createVNode)((0,r.unref)(E)),(0,r.createVNode)((0,r.unref)(v),{episode:e.episode},null,8,["episode"]),(0,r.createVNode)((0,r.unref)(Ve)),(0,r.createVNode)((0,r.unref)(Fe.A),{can:e.can,team:e.team,episode:e.episode,show:e.show},null,8,["can","team","episode","show"])],2)])],64)}}}}}]);
//# sourceMappingURL=9562.js.map