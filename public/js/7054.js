/*! For license information please see 7054.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7054],{24831:(e,t,o)=>{o.d(t,{U:()=>l});o(70821);var n=o(90771),r=o(58358),i=o(40191),a=o(9680);function l(e){var t=(0,n.useUserStore)(),o=(0,r.useAppSettingStore)(),l=(0,i.useVideoPlayerStore)();o.currentPage=e,o.showFlashMessage=!0,o.pageIsHidden=!1,t.isMobile&&(o.ott=0),l.makeVideoTopRight(),o.pageReload&&(o.pageReload=!1,window.location.reload(!0)),a.Inertia.on("navigate",(function(e){""!==window.location.search||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)}))})),o.setPrevUrl(),o.noLayout=!1,o.showOttButtons=!0}},48228:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(94015),r=o.n(n),i=o(23645),a=o.n(i)()(r());a.push([e.id,"#tooltip[data-v-7c23fced]{background:#333;border-radius:4px;color:#fff;font-size:13px;font-weight:700;padding:4px 8px}[data-v-7c23fced] .popper{background:#333;border-radius:20px;color:#fff;font-weight:700;padding:2px;text-transform:uppercase}[data-v-7c23fced] .popper #arrow:before{background:#333}[data-v-7c23fced] .popper:hover,[data-v-7c23fced] .popper:hover>#arrow:before{background:#333}","",{version:3,sources:["webpack://./resources/js/Components/Global/Tables/VideoTable.vue"],names:[],mappings:"AAyMA,0BACE,eAAgB,CAKhB,iBAAkB,CAJlB,UAAY,CAGZ,cAAe,CAFf,eAAiB,CACjB,eAGF,CAEA,0BACE,eAAmB,CAEnB,kBAAmB,CACnB,UAAW,CACX,eAAiB,CAHjB,WAAY,CAIZ,wBACF,CAEA,wCACE,eACF,CAEA,8EAEE,eACF",sourcesContent:['<template>\n\n  <div class="relative overflow-x-auto shadow-md sm:rounded-lg">\n    <div\n        class="table w-full text-sm text-left text-gray-500 dark:text-gray-400"\n    >\n      <div\n          class="table-header-group text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"\n      >\n        <div class="table-row">\n          <div scope="col" class="table-cell px-6 py-3">\n            <font-awesome-icon icon="fa-repeat" class="mr-2 cursor-pointer hover:text-blue-500"\n                               @click.prevent="reload()"/>\n            Filename\n          </div>\n          <div scope="col" class="hidden md:table-cell px-6 py-3">\n            Size\n          </div>\n          <div scope="col" class="table-cell px-6 py-3">\n            Date\n          </div>\n          <div scope="col" class="px-6 py-3">\n\n          </div>\n        </div>\n      </div>\n      <div class="table-row-group">\n        <div\n            v-for="video in videos.data"\n            :key="video.id"\n            class="table-row bg-white border-b dark:bg-gray-800 dark:border-gray-700"\n        >\n          <div\n              scope="row"\n              class="table-cell min-w-[8rem] px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"\n          >\n\n            <Popper\n                hover openDelay="50" closeDelay="50" offset-skid="0" offset-distance="0" placement="bottom"\n\n            >\n              <template #content>\n                <div class="text-xs" id="tooltip">\n                  <div v-if="video.file_name">Filename: {{ video.file_name ? video.file_name : \'No File Name\' }}</div>\n                  <div>ID: {{ video.id }}</div>\n                  <div>Type: {{ video.type }}</div>\n                  <div v-if="video.storage_location !== \'external\'">Size: {{ video.size }}</div>\n                  <div v-else>External</div>\n                  <div v-if="video.user_id">Owner: {{ video.user_id }}</div>\n                  <div v-if="video.showEpisode?.show">Show: {{ video.showEpisode.show.name }}</div>\n                  <div v-if="video.showEpisode">Episode: {{ video.showEpisode.name }}</div>\n                  <div v-if="video.movie">Movie: {{ video.movie.name }}</div>\n                  <div v-if="video.movieTrailer">Trailer: {{ video.movieTrailer.name }}</div>\n                  <div v-if="video.newsStory">News Post: {{ video.newsStory.name }}</div>\n                </div>\n              </template>\n\n\n              <button\n                  v-if="video.can.view"\n                  @click.prevent="playVideo(video)"\n                  :disabled="video.upload_status === \'processing\'"\n                  class="disabled:cursor-not-allowed disabled:text-gray-500 disabled:italic inline"\n              >\n                <div v-if="video.file_name">{{\n                    video.file_name.length > 15 ? video.file_name.substring(0, 15 - 3) + "..." : video.file_name.substring(0, 15)\n                  }}\n                </div>\n                <div v-else>{{ video.storage_location }}</div>\n              </button>\n            </Popper>\n            <div class="flex flex-row space-x-1">\n              <div v-if="video.showEpisode?.show"\n                   class="w-fit text-xs rounded-lg px-1 uppercase bg-blue-800 text-white font-semibold hover:cursor-pointer">\n                Episode\n              </div>\n              <div v-if="video.movie"\n                   class="w-fit text-xs rounded-lg px-1 uppercase bg-purple-800 text-white font-semibold hover:cursor-pointer">\n                Movie\n              </div>\n              <div v-if="video.movieTrailer"\n                   class="w-fit text-xs rounded-lg px-1 uppercase bg-indigo-800 text-white font-semibold">Trailer\n              </div>\n              <div v-if="video.newsStory"\n                   class="hidden w-fit text-xs rounded-lg px-1 uppercase bg-orange-800 text-white font-semibold">News\n              </div>\n              <div v-if="video.storage_location === \'external\'"\n                   class="hidden w-fit text-xs rounded-lg px-1 uppercase bg-blue-800 text-white font-semibold">External\n              </div>\n            </div>\n            <span v-if="!video.can.view" class="font-semibold text-red-700">You are currently unable to view this video. Please check with the admin.</span>\n            <div v-show="video.upload_status === \'processing\'"\n                 class="ml-2 mb-1 py-1 px-2 bg-gray-600 text-gray-50 text-xs w-fit rounded-lg inline">Processing\n            </div>\n          </div>\n          <div\n              scope="row"\n              class="hidden md:table-cell px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"\n          >\n            <span>{{ video.size }}</span>\n          </div>\n          <div class="table-cell px-6 py-4">\n            <span>{{ formatDate(video.created_at) }}</span>\n          </div>\n          <div>\n            <Link :href="`#`">\n              <button\n                  @click.prevent="deleteVideo(video)"\n                  class="px-3 py-2 mb-2 mr-4 font-xs text-white bg-red-600 hover:bg-red-500 rounded-lg"\n              >Delete\n              </button>\n            </Link>\n          </div>\n\n        </div>\n      </div>\n    </div>\n    \x3c!-- Paginator --\x3e\n    <Pagination :data="videos" class="pb-6"/>\n  </div>\n\n</template>\n\n<script setup>\nimport { Inertia } from "@inertiajs/inertia"\nimport { FontAwesomeIcon } from "@fortawesome/vue-fontawesome"\nimport { useVideoPlayerStore } from "@/Stores/VideoPlayerStore"\nimport { useAppSettingStore } from "@/Stores/AppSettingStore"\nconst appSettingStore = useAppSettingStore()\nimport { useNowPlayingStore } from "@/Stores/NowPlayingStore"\nimport { useUserStore } from "@/Stores/UserStore"\nimport Pagination from "@/Components/Global/Paginators/Pagination"\n\nconst videoPlayerStore = useVideoPlayerStore()\nconst nowPlayingStore = useNowPlayingStore()\nconst userStore = useUserStore()\n\nlet props = defineProps({\n  videos: Object,\n  can: Object,\n})\n\nconst playVideo = (video) => {\n  nowPlayingStore.reset()\n  // if file exists and is not processing, play file.\n  if (video.file_name !== \'\' && video.upload_status !== \'processing\') {\n\n    // Check if showEpisode exists\n    if (video.showEpisode?.show) {\n      nowPlayingStore.activeMedia.details.secondaryName = video.showEpisode.show.name\n      nowPlayingStore.activeMedia.details.secondaryUrl = \'shows/\' + video.showEpisode.show.slug\n      nowPlayingStore.activeMedia.details.primaryName = video.showEpisode.data.name\n      nowPlayingStore.activeMedia.details.primaryUrl = \'shows/\' + video.showEpisode.show.slug + \'/episode/\' + video.showEpisode.data.slug\n    }\n    // Check if movie exists\n    if (video.movie) {\n      nowPlayingStore.activeMedia.details.primaryName = video.movie.name\n      nowPlayingStore.activeMedia.details.primaryUrl = \'movies/\' + video.movie.slug\n    }\n\n    // Check if movieTrailer exists\n    if (video.movieTrailer) {\n      nowPlayingStore.activeMedia.details.primaryName = video.movieTrailer.name\n      nowPlayingStore.activeMedia.details.primaryUrl = \'movies/\' + video.movieTrailer.slug\n    }\n    // Check if newsStory exists\n    if (video.newsStory) {\n      nowPlayingStore.activeMedia.details.primaryName = props.video.name\n      nowPlayingStore.activeMedia.details.primaryUrl = \'movies/\' + video.movie.slug\n    }\n    console.log(\'load new source from file\')\n    // videoPlayerStore.loadNewSourceFromFile(video)\n    videoPlayerStore.prepareForNewVideoSource(video)\n    nowPlayingStore.activeMedia.details.description = \'Filename: \' + video.file_name\n    // videoPlayerStore.makeVideoFullPage()\n    appSettingStore.ott = 1\n    userStore.showNavDropdown = false\n    userStore.prevUrl = window.history.state.url\n    // Inertia.visit(\'/stream\')\n\n  }\n\n};\n\n\nfunction reload() {\n  Inertia.reload({\n    only: [\'videos\'],\n  });\n}\n\nfunction deleteVideo($video) {\n  if (confirm(\'Are you sure you want to delete this video? This action is not reversible and may have\' +\n      \' devastating effects on the database.\')) {\n    Inertia.post(\'/video/delete\', {\'videoId\': $video.id});\n  }\n}\n\n<\/script>\n\n<style scoped>\n#tooltip {\n  background: #333;\n  color: white;\n  font-weight: bold;\n  padding: 4px 8px;\n  font-size: 13px;\n  border-radius: 4px;\n}\n\n:deep(.popper) {\n  background: #333333;\n  padding: 2px;\n  border-radius: 20px;\n  color: #fff;\n  font-weight: bold;\n  text-transform: uppercase;\n}\n\n:deep(.popper #arrow::before) {\n  background: #333333;\n}\n\n:deep(.popper:hover),\n:deep(.popper:hover > #arrow::before) {\n  background: #333333;\n}\n</style>\n'],sourceRoot:""}]);const l=a},49752:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(94015),r=o.n(n),i=o(23645),a=o.n(i)()(r());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const l=a},10788:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(70821),r=o(9680),i=o(58358),a=o(90771);const l={__name:"BackButton",props:{url:String},setup:function(e){var t=(0,i.useAppSettingStore)(),o=(0,a.useUserStore)(),l=e;function s(){if(t.prevUrl)l.url?r.Inertia.visit(l.url):r.Inertia.visit(t.prevUrl);else if(l.url)r.Inertia.visit(l.url);else{var e=o.isCreator?"/dashboard":"/";r.Inertia.visit(e)}}return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(s,["prevent"]),class:"ml-2 px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg"},"Back ")])}}}},59369:(e,t,o)=>{o.d(t,{Z:()=>w});var n=o(70821),r=o(9680),i=o(58358);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(){l=function(){return t};var e,t={},o=Object.prototype,n=o.hasOwnProperty,r=Object.defineProperty||function(e,t,o){e[t]=o.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",d=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function p(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,o){return e[t]=o}}function u(e,t,o,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),l=new M(n||[]);return r(a,"_invoke",{value:C(e,o,l)}),a}function v(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",h="executing",g="completed",w={};function y(){}function x(){}function b(){}var k={};p(k,s,(function(){return this}));var E=Object.getPrototypeOf,N=E&&E(E(T([])));N&&N!==o&&n.call(N,s)&&(k=N);var S=b.prototype=y.prototype=Object.create(k);function V(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function B(e,t){function o(r,i,l,s){var d=v(e[r],e,i);if("throw"!==d.type){var c=d.arg,p=c.value;return p&&"object"==a(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,l,s)}),(function(e){o("throw",e,l,s)})):t.resolve(p).then((function(e){c.value=e,l(c)}),(function(e){return o("throw",e,l,s)}))}s(d.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function C(t,o,n){var r=m;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var l=n.delegate;if(l){var s=_(l,n);if(s){if(s===w)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===m)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var d=v(t,o,n);if("normal"===d.type){if(r=n.done?g:f,d.arg===w)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r=g,n.method="throw",n.arg=d.arg)}}}function _(t,o){var n=o.method,r=t.iterator[n];if(r===e)return o.delegate=null,"throw"===n&&t.iterator.return&&(o.method="return",o.arg=e,_(t,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),w;var i=v(r,t.iterator,o.arg);if("throw"===i.type)return o.method="throw",o.arg=i.arg,o.delegate=null,w;var a=i.arg;return a?a.done?(o[t.resultName]=a.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=e),o.delegate=null,w):a:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,w)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var o=t[s];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function o(){for(;++r<t.length;)if(n.call(t,r))return o.value=t[r],o.done=!1,o;return o.value=e,o.done=!0,o};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:x,configurable:!0}),x.displayName=p(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,p(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},V(B.prototype),p(B.prototype,d,(function(){return this})),t.AsyncIterator=B,t.async=function(e,o,n,r,i){void 0===i&&(i=Promise);var a=new B(u(e,o,n,r),i);return t.isGeneratorFunction(o)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},V(S),p(S,c,"Generator"),p(S,s,(function(){return this})),p(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function r(n,r){return l.type="throw",l.arg=t,o.next=n,r&&(o.method="next",o.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),d=n.call(a,"finallyLoc");if(s&&d){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),P(o),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var r=n.arg;P(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,n){return this.delegate={iterator:T(t),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=e),w}},t}function s(e,t,o,n,r,i,a){try{var l=e[i](a),s=l.value}catch(e){return void o(e)}l.done?t(s):Promise.resolve(s).then(n,r)}var d={class:"mx-4 my-4"},c={key:0,class:"alert alert-info mt-4"},p=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),u={key:1,class:"alert alert-success mt-4 mx-3"},v=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m={key:2,class:"alert alert-warning mt-4 mx-3"},f=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),h={key:3,class:"alert alert-error mt-4 mx-3"},g=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const w={__name:"Messages",props:{flash:Object},setup:function(e){(0,i.useAppSettingStore)().showFlashMessage=!0;var t=e,o=((0,n.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Inertia.post(route("flash.clear"));case 2:r.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(n,r){var i=e.apply(t,o);function a(e){s(i,n,r,a,l,"next",e)}function l(e){s(i,n,r,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",d,[(0,n.unref)(t).flash.message?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,[p,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.message),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:o}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.success?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,[v,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.success),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:o}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.warning?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[f,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.warning),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:o}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",h,[g,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.error),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:o}," Close")])):(0,n.createCommentVNode)("",!0)])}}}},32379:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(70821),r={key:0,class:"flex flex-wrap justify-center my-4 space-x-4 space-y-2"},i=(0,n.createElementVNode)("div",null,null,-1);const a={__name:"Pagination",props:{data:Object},setup:function(e){var t=0,o=function(){t=window.scrollY};return(0,n.onMounted)((function(){window.scrollTo(0,t)})),function(t,a){return e.data.last_page>1?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[i,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.data.links,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.url?"Link":"span"),{key:t,href:e.url,onClick:(0,n.withModifiers)(o,["prevent"]),innerHTML:e.label,class:(0,n.normalizeClass)(["px-4 py-3 text-sm leading-4 h-fit",{"text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400":e.active,"rounded mt-2 mr-0.5 text-gray-300 dark:text-gray-700":!e.url,"rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow":e.url}])},null,8,["href","innerHTML","class"])})),128))])):(0,n.createCommentVNode)("",!0)}}}},7054:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Se});var n=o(70821),r=o(9680),i=o(23493),a=o.n(i),l=o(24831),s=o(58358),d=o(57810),c=o(40191),p=o(28037),u=o(90771),v=o(32379),m=function(e){return(0,n.pushScopeId)("data-v-7c23fced"),e=e(),(0,n.popScopeId)(),e},f={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},h={class:"table w-full text-sm text-left text-gray-500 dark:text-gray-400"},g={class:"table-header-group text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},w={class:"table-row"},y={scope:"col",class:"table-cell px-6 py-3"},x=m((function(){return(0,n.createElementVNode)("div",{scope:"col",class:"hidden md:table-cell px-6 py-3"}," Size ",-1)})),b=m((function(){return(0,n.createElementVNode)("div",{scope:"col",class:"table-cell px-6 py-3"}," Date ",-1)})),k=m((function(){return(0,n.createElementVNode)("div",{scope:"col",class:"px-6 py-3"},null,-1)})),E={class:"table-row-group"},N={scope:"row",class:"table-cell min-w-[8rem] px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},S={class:"text-xs",id:"tooltip"},V={key:0},B={key:1},C={key:2},_={key:3},A={key:4},P={key:5},M={key:6},T={key:7},D={key:8},L=["onClick","disabled"],j={key:0},U={key:1},I={class:"flex flex-row space-x-1"},F={key:0,class:"w-fit text-xs rounded-lg px-1 uppercase bg-blue-800 text-white font-semibold hover:cursor-pointer"},O={key:1,class:"w-fit text-xs rounded-lg px-1 uppercase bg-purple-800 text-white font-semibold hover:cursor-pointer"},Z={key:2,class:"w-fit text-xs rounded-lg px-1 uppercase bg-indigo-800 text-white font-semibold"},z={key:3,class:"hidden w-fit text-xs rounded-lg px-1 uppercase bg-orange-800 text-white font-semibold"},G={key:4,class:"hidden w-fit text-xs rounded-lg px-1 uppercase bg-blue-800 text-white font-semibold"},R={key:0,class:"font-semibold text-red-700"},Y={class:"ml-2 mb-1 py-1 px-2 bg-gray-600 text-gray-50 text-xs w-fit rounded-lg inline"},H={scope:"row",class:"hidden md:table-cell px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},$={class:"table-cell px-6 py-4"},W=["onClick"];const q={__name:"VideoTable",props:{videos:Object,can:Object},setup:function(e){var t=(0,s.useAppSettingStore)(),o=(0,c.useVideoPlayerStore)(),i=(0,p.useNowPlayingStore)(),a=(0,u.useUserStore)(),l=e;return function(s,c){var p=(0,n.resolveComponent)("Popper"),u=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",f,[(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",w,[(0,n.createElementVNode)("div",y,[(0,n.createVNode)((0,n.unref)(d.GN),{icon:"fa-repeat",class:"mr-2 cursor-pointer hover:text-blue-500",onClick:c[0]||(c[0]=(0,n.withModifiers)((function(e){r.Inertia.reload({only:["videos"]})}),["prevent"]))}),(0,n.createTextVNode)(" Filename ")]),x,b,k])]),(0,n.createElementVNode)("div",E,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.videos.data,(function(e){var d;return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.id,class:"table-row bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[(0,n.createElementVNode)("div",N,[(0,n.createVNode)(p,{hover:"",openDelay:"50",closeDelay:"50","offset-skid":"0","offset-distance":"0",placement:"bottom"},{content:(0,n.withCtx)((function(){var t;return[(0,n.createElementVNode)("div",S,[e.file_name?((0,n.openBlock)(),(0,n.createElementBlock)("div",V,"Filename: "+(0,n.toDisplayString)(e.file_name?e.file_name:"No File Name"),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",null,"ID: "+(0,n.toDisplayString)(e.id),1),(0,n.createElementVNode)("div",null,"Type: "+(0,n.toDisplayString)(e.type),1),"external"!==e.storage_location?((0,n.openBlock)(),(0,n.createElementBlock)("div",B,"Size: "+(0,n.toDisplayString)(e.size),1)):((0,n.openBlock)(),(0,n.createElementBlock)("div",C,"External")),e.user_id?((0,n.openBlock)(),(0,n.createElementBlock)("div",_,"Owner: "+(0,n.toDisplayString)(e.user_id),1)):(0,n.createCommentVNode)("",!0),null!==(t=e.showEpisode)&&void 0!==t&&t.show?((0,n.openBlock)(),(0,n.createElementBlock)("div",A,"Show: "+(0,n.toDisplayString)(e.showEpisode.show.name),1)):(0,n.createCommentVNode)("",!0),e.showEpisode?((0,n.openBlock)(),(0,n.createElementBlock)("div",P,"Episode: "+(0,n.toDisplayString)(e.showEpisode.name),1)):(0,n.createCommentVNode)("",!0),e.movie?((0,n.openBlock)(),(0,n.createElementBlock)("div",M,"Movie: "+(0,n.toDisplayString)(e.movie.name),1)):(0,n.createCommentVNode)("",!0),e.movieTrailer?((0,n.openBlock)(),(0,n.createElementBlock)("div",T,"Trailer: "+(0,n.toDisplayString)(e.movieTrailer.name),1)):(0,n.createCommentVNode)("",!0),e.newsStory?((0,n.openBlock)(),(0,n.createElementBlock)("div",D,"News Post: "+(0,n.toDisplayString)(e.newsStory.name),1)):(0,n.createCommentVNode)("",!0)])]})),default:(0,n.withCtx)((function(){return[e.can.view?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:(0,n.withModifiers)((function(n){return function(e){var n;i.reset(),""!==e.file_name&&"processing"!==e.upload_status&&(null!==(n=e.showEpisode)&&void 0!==n&&n.show&&(i.activeMedia.details.secondaryName=e.showEpisode.show.name,i.activeMedia.details.secondaryUrl="shows/"+e.showEpisode.show.slug,i.activeMedia.details.primaryName=e.showEpisode.data.name,i.activeMedia.details.primaryUrl="shows/"+e.showEpisode.show.slug+"/episode/"+e.showEpisode.data.slug),e.movie&&(i.activeMedia.details.primaryName=e.movie.name,i.activeMedia.details.primaryUrl="movies/"+e.movie.slug),e.movieTrailer&&(i.activeMedia.details.primaryName=e.movieTrailer.name,i.activeMedia.details.primaryUrl="movies/"+e.movieTrailer.slug),e.newsStory&&(i.activeMedia.details.primaryName=l.video.name,i.activeMedia.details.primaryUrl="movies/"+e.movie.slug),console.log("load new source from file"),o.prepareForNewVideoSource(e),i.activeMedia.details.description="Filename: "+e.file_name,t.ott=1,a.showNavDropdown=!1,a.prevUrl=window.history.state.url)}(e)}),["prevent"]),disabled:"processing"===e.upload_status,class:"disabled:cursor-not-allowed disabled:text-gray-500 disabled:italic inline"},[e.file_name?((0,n.openBlock)(),(0,n.createElementBlock)("div",j,(0,n.toDisplayString)(e.file_name.length>15?e.file_name.substring(0,12)+"...":e.file_name.substring(0,15)),1)):((0,n.openBlock)(),(0,n.createElementBlock)("div",U,(0,n.toDisplayString)(e.storage_location),1))],8,L)):(0,n.createCommentVNode)("",!0)]})),_:2},1024),(0,n.createElementVNode)("div",I,[null!==(d=e.showEpisode)&&void 0!==d&&d.show?((0,n.openBlock)(),(0,n.createElementBlock)("div",F," Episode ")):(0,n.createCommentVNode)("",!0),e.movie?((0,n.openBlock)(),(0,n.createElementBlock)("div",O," Movie ")):(0,n.createCommentVNode)("",!0),e.movieTrailer?((0,n.openBlock)(),(0,n.createElementBlock)("div",Z,"Trailer ")):(0,n.createCommentVNode)("",!0),e.newsStory?((0,n.openBlock)(),(0,n.createElementBlock)("div",z,"News ")):(0,n.createCommentVNode)("",!0),"external"===e.storage_location?((0,n.openBlock)(),(0,n.createElementBlock)("div",G,"External ")):(0,n.createCommentVNode)("",!0)]),e.can.view?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("span",R,"You are currently unable to view this video. Please check with the admin.")),(0,n.withDirectives)((0,n.createElementVNode)("div",Y,"Processing ",512),[[n.vShow,"processing"===e.upload_status]])]),(0,n.createElementVNode)("div",H,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.size),1)]),(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(s.formatDate(e.created_at)),1)]),(0,n.createElementVNode)("div",null,[(0,n.createVNode)(u,{href:"#"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(t){return o=e,void(confirm("Are you sure you want to delete this video? This action is not reversible and may have devastating effects on the database.")&&r.Inertia.post("/video/delete",{videoId:o.id}));var o}),["prevent"]),class:"px-3 py-2 mb-2 mr-4 font-xs text-white bg-red-600 hover:bg-red-500 rounded-lg"},"Delete ",8,W)]})),_:2},1024)])])})),128))])]),(0,n.createVNode)((0,n.unref)(v.Z),{data:e.videos,class:"pb-6"},null,8,["data"])])}}};var J=o(93379),K=o.n(J),X=o(48228),Q={insert:"head",singleton:!1};K()(X.Z,Q);X.Z.locals;var ee=o(83744);const te=(0,ee.Z)(q,[["__scopeId","data-v-7c23fced"]]);var oe=o(59369),ne=o(10788),re=function(e){return(0,n.pushScopeId)("data-v-7f308200"),e=e(),(0,n.popScopeId)(),e},ie={class:"place-self-center flex flex-col gap-y-3"},ae={id:"topDiv",class:"bg-white text-black p-5 mb-10"},le=re((function(){return(0,n.createElementVNode)("div",{id:"topDiv"},null,-1)})),se={class:"flex justify-between mb-3 border-b border-gray-800 pb-6"},de=re((function(){return(0,n.createElementVNode)("h1",{class:"text-3xl font-semibold text-center lg:text-left"},"Video Upload",-1)})),ce={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},pe={class:"p-6 bg-white border-b border-gray-200"},ue={class:"flex justify-between"},ve={class:"flex-wrap ml-2 px-5 pb-6"},me={class:""},fe={class:""},he={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ge={key:0,class:"mt-6 p-2 rounded-xl bg-gray-300 border-2 border-gray-500"},we={class:"flex justify-between mt-6 lg:mt-0"},ye=re((function(){return(0,n.createElementVNode)("div",{class:"p-2 font-semibold text-xl"},"All Videos (Admin view only)",-1)})),xe={class:"relative"},be=re((function(){return(0,n.createElementVNode)("div",{class:"absolute top-0 flex items-center h-full ml-2"},[(0,n.createElementVNode)("svg",{class:"fill-current text-gray-400 w-4 pb-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,n.createElementVNode)("path",{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3ZM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8Z"})])],-1)}));const ke={__name:"VideoUpload",props:{filters:Object,can:Object,videos:Object,allVideos:Object,myTotalStorageUsed:String,notTvTotalStorageUsed:String,errors:(0,n.ref)(""),isHidden:(0,n.ref)(!1)},setup:function(e){var t=(0,n.defineAsyncComponent)((function(){return Promise.all([o.e(8898),o.e(3049)]).then(o.bind(o,33049))}));(0,l.U)("videoUpload");var i=(0,s.useAppSettingStore)(),d=e,c=(0,n.ref)(d.filters.search);return(0,n.watch)(c,a()((function(e){r.Inertia.get("/videoupload",{search:e},{preserveState:!0,replace:!0})}),300)),function(o,r){var a=(0,n.resolveComponent)("Head");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(a,{title:"Video Upload"}),(0,n.createElementVNode)("div",ie,[(0,n.createElementVNode)("div",ae,[(0,n.unref)(i).showFlashMessage?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(oe.Z),{key:0,flash:o.$page.props.flash},null,8,["flash"])):(0,n.createCommentVNode)("",!0),le,(0,n.createElementVNode)("header",se,[de,(0,n.createElementVNode)("div",null,[(0,n.createVNode)(ne.Z)])]),(0,n.createElementVNode)("div",ce,[(0,n.createElementVNode)("div",pe,[(0,n.createElementVNode)("div",ue,[(0,n.createVNode)((0,n.unref)(t)),(0,n.createElementVNode)("div",ve,[(0,n.createElementVNode)("div",me,"My total storage used: "+(0,n.toDisplayString)(e.myTotalStorageUsed),1),(0,n.createElementVNode)("div",fe,"not.TV total storage used: "+(0,n.toDisplayString)(e.notTvTotalStorageUsed),1)])]),(0,n.createElementVNode)("div",he,[(0,n.createVNode)((0,n.unref)(te),{videos:e.videos,can:e.can,class:""},null,8,["videos","can"])]),e.can.viewAny?((0,n.openBlock)(),(0,n.createElementBlock)("div",ge,[(0,n.createElementVNode)("div",we,[ye,(0,n.createElementVNode)("div",xe,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return(0,n.isRef)(c)?c.value=e:c=e}),type:"search",class:"bg-gray-50 text-black text-sm rounded-full focus:outline-none focus:shadow w-64 pl-8 px-3 py-1",placeholder:"Search..."},null,512),[[n.vModelText,(0,n.unref)(c)]]),be])]),(0,n.createVNode)((0,n.unref)(te),{videos:e.allVideos,can:e.can,class:""},null,8,["videos","can"])])):(0,n.createCommentVNode)("",!0)])]),(0,n.createTextVNode)(" FOOTER ")])])])}}};var Ee=o(49752),Ne={insert:"head",singleton:!1};K()(Ee.Z,Ne);Ee.Z.locals;const Se=(0,ee.Z)(ke,[["__scopeId","data-v-7f308200"]])}}]);
//# sourceMappingURL=7054.js.map