/*! For license information please see 3986.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3986,8691,4679],{68691:(e,t,r)=>{r.r(t),r.d(t,{useAdminStore:()=>d});var n=r(69876),o=r(83004),a=r(40191);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",h="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var k={};d(k,s,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(O([])));E&&E!==r&&n.call(E,s)&&(k=E);var N=x.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,c,s){var l=m(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,c,s)}),(function(e){r("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=P(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=m(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=m(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(V.prototype),d(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new V(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(N),d(N,u,"Generator"),d(N,s,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function s(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))}}var u=function(){return{channels:[],items:[],activeItemId:null,selectedChannel:null,currentType:"",searchTerm:"",type:"",modalHeader:"",currentPage:1,itemsPerPage:10,currentChannelsPage:1,itemsPerChannelsPage:7,sourceSelector:{source:null,sourceType:null},firstPlaySettings:{},validationErrors:{},checkSendProcessing:!1,activeStreams:[],fetchingActiveStreams:!1}},d=(0,n.Q_)("adminStore",{state:u,actions:{reset:function(){Object.assign(this,{channels:[],items:[],activeItemId:null,selectedChannel:null,currentType:"",searchTerm:"",type:"",modalHeader:"",currentPage:1,itemsPerPage:10,currentChannelsPage:1,itemsPerChannelsPage:7,sourceSelector:{source:null,sourceType:null},firstPlaySettings:{},validationErrors:{},checkSendProcessing:!1,activeStreams:[],fetchingActiveStreams:!1})},loadChannels:function(e){this.channels=e},setCheckSendProcessing:function(){this.checkSendProcessing=!0},unsetCheckSendProcessing:function(){this.checkSendProcessing=!1},fetchChannels:function(){var e=this;return l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/channels_list").then((function(t){e.channels=t.data})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},toggleChannelActiveStatus:function(e){return l(c().mark((function t(){var r,n,a,i,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),t.prev=1,t.next=4,axios.post("/admin/channels/"+e+"/toggleChannelActive");case 4:n=t.sent,a=n.data,i=a.message,s=a.status,r.setToastNotification(i,s),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),r.setToastNotification("Failed to toggle channel status.","error");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},addChannel:function(e){var t=this;return l(c().mark((function r(){var n,a,i,s,l,u,d;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,o.useNotificationStore)(),r.prev=1,r.next=4,axios.post("/admin/channels/add",{name:e});case 4:if(!(a=r.sent).data.success){r.next=11;break}return r.next=8,t.fetchChannels();case 8:n.setToastNotification(a.data.message,"success"),r.next=15;break;case 11:i=a.data,s=i.message,l=i.status,u="Failed to add channel due to a server error.","error"===l&&s&&s.fallbackMessages&&(d=Object.values(s.fallbackMessages).map((function(e){return e.join(" ")})).join("; "),u=d||u),n.setToastNotification(u,"error");case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(1),console.error(r.t0),n.setToastNotification("Failed to add channel due to a network or server error.","error");case 21:case"end":return r.stop()}}),r,null,[[1,17]])})))()},updateChannel:function(e,t){var r=this;return l(c().mark((function n(){var a,i,s,l,u,d,f;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=(0,o.useNotificationStore)(),n.prev=1,n.next=4,axios.post("/admin/channels/".concat(e),{name:t});case 4:if(!(i=n.sent).data.success){n.next=11;break}return n.next=8,r.fetchChannels();case 8:a.setToastNotification(i.data.message,"success"),n.next=15;break;case 11:s=i.data,l=s.message,u=s.status,d="Failed to add channel due to a server error.","error"===u&&l&&l.fallbackMessages&&(f=Object.values(l.fallbackMessages).map((function(e){return e.join(" ")})).join("; "),d=f||d),a.setToastNotification(d,"error");case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(1),console.error(n.t0),a.setToastNotification("Failed to add channel due to a network or server error.","error");case 21:case"end":return n.stop()}}),n,null,[[1,17]])})))()},setSelectedChannel:function(e){this.selectedChannel=e},setCurrentType:function(e){this.currentType=e,this.modalHeader=e+" list"},clearSelectedChannelAndItems:function(){this.selectedChannel=null,this.items=[],this.activeItemId=null,this.currentType="",this.modalHeader="",this.currentPage=1,this.itemsPerPage=10,this.searchTerm=""},fetchItems:function(e){var t=this;return l(c().mark((function r(){var n,o,a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.currentType=e,"mistStream"!==t.currentType){r.next=11;break}return r.next=4,fetch("/mistStreams");case 4:return n=r.sent,r.next=7,n.json();case 7:t.items=r.sent,t.selectedChannel.mist_stream_id&&(t.activeItemId=t.selectedChannel.mist_stream_id),r.next=29;break;case 11:if("externalSource"!==t.currentType){r.next=21;break}return r.next=14,fetch("/externalSources");case 14:return o=r.sent,r.next=17,o.json();case 17:t.items=r.sent,t.selectedChannel.channel_external_source_id&&(t.activeItemId=t.selectedChannel.channel_external_source_id),r.next=29;break;case 21:if("channelPlaylist"!==t.currentType){r.next=29;break}return r.next=24,fetch("/channelPlaylists");case 24:return a=r.sent,r.next=27,a.json();case 27:t.items=r.sent,t.selectedChannel.channel_playlist_id&&(t.activeItemId=t.selectedChannel.channel_playlist_id);case 29:case"end":return r.stop()}}),r)})))()},updateActiveItemId:function(e){var t=this;return l(c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.activeItemId=e,"mistStream"!==t.currentType){r.next=6;break}return r.next=4,t.setMistStream(t.selectedChannel,e);case 4:case 9:r.next=14;break;case 6:if("channelPlaylist"!==t.currentType){r.next=11;break}return r.next=9,t.setChannelPlaylist(t.selectedChannel,e);case 11:if("externalSource"!==t.currentType){r.next=14;break}return r.next=14,t.setExternalSource(t.selectedChannel,e);case 14:case"end":return r.stop()}}),r)})))()},setPlaybackPriorityType:function(e,t){var r=this;return l(c().mark((function n(){var o,a,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={setPriorityType:t},n.prev=1,n.next=4,axios.post("/admin/channels/".concat(e.id,"/setPlaybackPriorityType"),o);case 4:(a=n.sent).data.success&&(r.fetchChannels(),-1!==(i=r.channels.findIndex((function(t){return t.id===e.id})))&&(r.channels[i]=a.data.channel)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},setMistStream:function(e,t){var r=this;return l(c().mark((function n(){var o,a,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={mistStreamId:t},n.prev=1,n.next=4,axios.post("/admin/channels/".concat(e.id,"/setMistStream"),o);case 4:(a=n.sent).data.success&&(r.fetchChannels(),-1!==(i=r.channels.findIndex((function(t){return t.id===e.id})))&&(r.channels[i]=a.data.channel)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},setChannelPlaylist:function(e,t){var r=this;return l(c().mark((function n(){var o,a,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={channelPlaylistId:t},n.prev=1,n.next=4,axios.post("/admin/channels/".concat(e.id,"/setChannelPlaylist"),o);case 4:(a=n.sent).data.success&&(r.fetchChannels(),-1!==(i=r.channels.findIndex((function(t){return t.id===e.id})))&&(r.channels[i]=a.data.channel)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},setExternalSource:function(e,t){var r=this;return l(c().mark((function n(){var o,a,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={mistStreamId:t},n.prev=1,n.next=4,axios.post("/admin/channels/".concat(e.id,"/setExternalSource"),o);case 4:(a=n.sent).data.success&&(r.fetchChannels(),-1!==(i=r.channels.findIndex((function(t){return t.id===e.id})))&&(r.channels[i]=a.data.channel)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},nextPage:function(){var e=Math.ceil(this.items.length/this.itemsPerPage);this.currentPage<e&&this.currentPage++},prevPage:function(){this.currentPage>1&&this.currentPage--},setPage:function(e){this.currentPage=e},nextChannelsPage:function(){var e=Math.ceil(this.channels.length/this.itemsPerChannelsPage);this.currentChannelsPage<e&&this.currentChannelsPage++},prevChannelsPage:function(){this.currentChannelsPage>1&&this.currentChannelsPage--},setChannelsPage:function(e){this.currentChannelsPage=e},fetchFirstPlaySettings:function(){var e=this;return l(c().mark((function t(){var r,n,a,i,s,l,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),t.prev=1,t.next=4,axios.post("/admin/fetch-first-play-settings");case 4:(n=t.sent).data.success?(e.firstPlaySettings=n.data.firstPlaySettings,r.setToastNotification(n.data.message,"success",1500)):(a=n.data,i=a.message,s=a.status,l="Failed to fetch First Play Settings due to a server error.","error"===s&&i&&i.fallbackMessages&&(u=Object.values(i.fallbackMessages).map((function(e){return e.join(" ")})).join("; "),l=u||l),r.setToastNotification(l,"error")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),r.setToastNotification("Failed to fetch First Play Settings due to a network or server error.","error");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},updateFirstPlaySettings:function(){var e=this;return l(c().mark((function t(){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),t.prev=1,t.next=4,axios.patch("/admin/update-first-play-settings",e.firstPlaySettings);case 4:if((n=t.sent).data.success){t.next=9;break}return e.validationErrors=n.data.errors||{},r.setToastNotification(n.data.message,"error"),t.abrupt("return");case 9:e.firstPlaySettings=n.data.firstPlaySettings,e.validationErrors={},r.setToastNotification(n.data.message,"success",1500),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),t.t0.response&&t.t0.response.data?(console.log("Error response data:",t.t0.response.data),e.validationErrors=t.t0.response.data.errors||{},a=t.t0.response.data.message||"Failed to save First Play Settings due to a network or server error.",r.setToastNotification(a,"error")):r.setToastNotification("Failed to save First Play Settings due to a network or server error.","error");case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))()},handleErrors:function(e){var t=(0,o.useNotificationStore)(),r="Failed to save First Play Settings due to a server error.";"error"===e.status&&(e.errors?(this.validationErrors=e.errors,r="Please check your input."):e.message&&(r=e.message),t.setToastNotification(r,"error"))},fetchActiveStreams:function(){var e=this;return l(c().mark((function t(){var r,n,a,i,s,l,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),e.fetchingActiveStreams=!0,t.prev=2,t.next=5,axios.post("/admin/fetch-active-streams");case 5:(n=t.sent).data.success?(e.activeStreams=n.data.activeStreams,r.setToastNotification(n.data.message,"success",1500),e.fetchingActiveStreams=!1):(a=n.data,i=a.message,s=a.status,l="Failed to fetch active streams due to a server error.","error"===s&&i&&i.fallbackMessages&&(u=Object.values(i.fallbackMessages).map((function(e){return e.join(" ")})).join("; "),l=u||l),r.setToastNotification(l,"error"),e.fetchingActiveStreams=!1),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),r.setToastNotification("Failed to fetch Active Streams due to a network or server error.","error"),e.fetchingActiveStreams=!1;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},setActiveStreamAsFirstPlay:function(e){var t=this;return l(c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,a.useVideoPlayerStore)(),"test"===e?(t.firstPlaySettings.customVideoSource=n.mistServerUri+"hls/test/index.m3u8",t.firstPlaySettings.customVideoSourceType="application/x-mpegURL",t.firstPlaySettings.customVideoName="Test Stream",t.firstPlaySettings.customMediaType="firstPlay"):(t.firstPlaySettings.customVideoSource=n.mistServerUri+"hls/"+e.streamName+"/index.m3u8",t.firstPlaySettings.customVideoSourceType=e.streamMimeType,t.firstPlaySettings.customVideoName=e.showName,t.firstPlaySettings.customMediaType="firstPlay"),r.next=4,t.updateFirstPlaySettings();case 4:case"end":return r.stop()}}),r)})))()}},getters:{filteredItems:function(e){return e.items},currentItem:function(e){return e.items.find((function(t){return t.id===e.activeItem}))},paginatedItems:function(e){var t=(e.currentPage-1)*e.itemsPerPage,r=t+e.itemsPerPage;return e.items.slice(t,r)},paginatedChannels:function(e){var t=(e.currentChannelsPage-1)*e.itemsPerChannelsPage,r=t+e.itemsPerChannelsPage;return e.channels.slice(t,r)},totalModalPages:function(e){return Math.ceil(e.items.length/e.itemsPerPage)},totalChannelsPages:function(e){return Math.ceil(e.channels.length/e.itemsPerChannelsPage)},activeChannelsCount:function(e){return e.channels.filter((function(e){return e.active})).length}}})},74679:(e,t,r)=>{r.r(t),r.d(t,{useScheduleStore:()=>Y});var n=r(69876),o=r(90771),a=r(58358),i=r(27484),c=r.n(i),s=r(70178),l=r.n(s),u=r(29387),d=r.n(u);c().extend(l()),c().extend(d());var f=r(45459),m=r(83372),p=r(17773),h=r(5190),y=r(23318),v=r(79212),g=r.n(v),b=r(37412),w=r.n(b),x=r(55183),k=r.n(x),S=r(28734),E=r.n(S);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function C(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function V(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(){B=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:V(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(O([])));k&&k!==r&&n.call(k,i)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==N(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=T(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:m,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(N(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new C(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(S),l(S,s,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function L(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){L(a,n,o,i,c,"next",e)}function c(e){L(a,n,o,i,c,"throw",e)}i(void 0)}))}}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){var n;return n=function(e,t){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==N(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=(0,o.useUserStore)();return e.data.map((function(e){var r=e.startTime?t.formatDateTimeFromUtcToUserTimezone(e.startTime,"YYYY-MM-DD HH:mm:ss"):null,n=e.endTime?t.formatDateTimeFromUtcToUserTimezone(e.endTime,"YYYY-MM-DD HH:mm:ss"):null;return M(M({},e),{},{startTime:r,endTime:n,timezone:t.timezone})}))}function j(e){for(var t=[],r=c()(e),n=0;n<6;n++)t.push(r.add(n,"hour").toDate());return t}c().extend(d()),c().extend(k()),c().extend(E()),c().extend(l()),c().extend(g()),c().extend(w());var I=function(){return(0,o.useUserStore)().timezone},F=function(){return{baseTime:c()().tz(I()).toDate(),currentHalfHour:c()().tz(I()).startOf("hour").add(c()().minute()>=30?30:0,"minute").toDate(),fourHoursLater:c()().tz(I()).startOf("hour").add(c()().minute()>=30?30:0,"minute").add(4,"hour").toDate(),viewingWindowStart:c()().tz(I()).startOf("hour").toDate(),currentMonth:c()().tz(I()).startOf("month").toDate(),selectedDay:c()().tz(I()).toDate(),currentWeekStart:c()().tz(I()).startOf("week").toDate(),currentWeekEnd:c()().tz(I()).endOf("week").toDate(),nextFourHoursOfContent:[],nextFourHoursOfContentWithPlaceholders:[],fiveDaySixHourSchedule:[],schedules:[],isLoading:!0,nextPage:1,hasMore:!0,todaysContent:[],weeklyContent:[],dataFetchLog:[],savingToSchedule:!1,slotIntervalMinutes:30,mediumScreenSlotHours:4,smallScreenSlotHours:2,verySmallScreenSlotHours:1,timeSlots:[],timeBanners:[{id:1,name:"Early Morning",startTime:"04:00",duration:2},{id:2,name:"Morning",startTime:"06:00",duration:6},{id:3,name:"Afternoon",startTime:"12:00",duration:5},{id:4,name:"Prime Time",startTime:"17:00",duration:3},{id:5,name:"Late Prime Time",startTime:"20:00",duration:3},{id:6,name:"Late Night",startTime:"23:00",duration:2},{id:7,name:"Overnight",startTime:"01:00",duration:3}]}},Y=(0,n.Q_)("scheduleStore",{state:F,actions:{resetAll:function(){Object.assign(this,F())},reset:function(){this.viewingWindowStart=c()().tz(I()).startOf("hour").toDate(),this.currentMonth=c()().tz(I()).startOf("month").toDate(),this.selectedDay=c()().tz(I()).toDate()},setSelectedDay:function(e){var t=this;return D(B().mark((function r(){var n;return B().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=c()(e),t.selectedDay=n.toDate(),t.viewingWindowStart=n.startOf("day").add(4,"hours").toDate(),t.currentWeekStart=n.startOf("week").toDate(),t.currentWeekEnd=n.endOf("week").toDate(),r.next=7,t.fetchWeekDataIfNeeded();case 7:case"end":return r.stop()}}),r)})))()},setSelectedDayToToday:function(e){var t=c()();this.selectedDay=t.toDate(),this.viewingWindowStart=t.startOf("hour").toDate()},changeDay:function(e){var t=this;return D(B().mark((function r(){var n,o,a;return B().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=I(),o=60*c()(t.viewingWindowStart).hour()+c()(t.viewingWindowStart).minute(),a=(a=c()(t.viewingWindowStart).tz(n).add(e,"day").startOf("day")).add(o,"minute"),t.viewingWindowStart=a.toDate(),t.viewingWindowStart=a,r.next=8,t.fetchWeekDataIfNeeded();case 8:case"end":return r.stop()}}),r)})))()},shiftHours:function(e){var t=this;return D(B().mark((function r(){return B().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.viewingWindowStart=c()(t.viewingWindowStart).add(e,"hour").toDate(),t.currentWeekStart=c()(t.viewingWindowStart).startOf("week").toDate(),t.currentWeekEnd=c()(t.viewingWindowStart).endOf("week").toDate(),c()(t.viewingWindowStart).isSame(c()(t.selectedDay),"day")||(t.selectedDay=c()(t.viewingWindowStart).startOf("day").toDate()),r.next=6,t.fetchWeekDataIfNeeded();case 6:case"end":return r.stop()}}),r)})))()},isElevenPM:function(e){return 23===c()(e).hour()},subtractMonth:function(){var e=this;return D(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=c()(e.currentMonth).subtract(1,"month").toDate(),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},addMonth:function(){var e=this;return D(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=c()(e.currentMonth).add(1,"month").toDate(),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},fetchFiveDaySixHourSchedule:function(){var e=this;return D(B().mark((function t(){var r,n;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error("fetchFiveDaySixHourSchedule"),t.prev=1,r=(0,o.useUserStore)(),t.next=5,axios.get("/api/schedule");case 5:n=t.sent,r.timezone||n.data.userTimezone||"UTC",e.fiveDaySixHourSchedule=A(n.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("Failed to load schedule shows:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},fetchTodaysContent:function(){var e=this;return D(B().mark((function t(){var r,n;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,o.useUserStore)(),t.next=4,axios.get("/api/schedule/today");case 4:n=t.sent,r.timezone||n.data.userTimezone||"UTC",e.todaysContent=A(n.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch today's content:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},preloadWeeklyContent:function(){var e=this;return D(B().mark((function t(){var r;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("preloading weekly content..."),r=c()(e.baseTime),t.prev=2,t.next=5,e.loadWeekFromDate(r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error("Failed to preload weekly content:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},fetchSchedules:function(e,t){var r=this;return D(B().mark((function n(){var a,i,s,l,u,d,f;return B().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.isLoading=!0,console.log("Loading schedule between: ".concat(e," and ").concat(t)),n.prev=2,a=(0,o.useUserStore)(),i=c()(e),s=c()(t),l=i.toISOString(),u=s.toISOString(),n.next=10,axios.get("/api/schedules/range?start=".concat(l,"&end=").concat(u));case 10:d=n.sent,i.format("YYYY-MM-DD"),s.format("YYYY-MM-DD"),a.timezone||d.data.userTimezone,f=A(d.data),r.schedules=V(new Set([].concat(V(r.schedules),V(f)).map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)})),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(2),console.error("Failed to fetch schedules:",n.t0),r.isLoading=!1;case 22:return n.prev=22,r.isLoading=!1,n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[2,18,22,25]])})))()},fetchMoreSchedules:function(){var e=this;return D(B().mark((function t(){var r,n,o;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoading&&e.hasMore){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,console.log("Fetching more schedules..."),t.prev=4,r=e.schedules[e.schedules.length-1],n=r?c()(r.startTime).format("YYYY-MM-DD"):c()().format("YYYY-MM-DD"),o=c()(n).add(7,"day").format("YYYY-MM-DD"),t.next=10,e.fetchSchedules(n,o);case 10:0===e.schedules.slice(e.schedules.length-1).length?e.hasMore=!1:e.nextPage+=1,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("Failed to fetch more schedules:",t.t0);case 17:return t.prev=17,e.isLoading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})))()},loadWeekFromDate:function(e){var t=this;return D(B().mark((function r(){var n,a,i,s,l,u;return B().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=null,t.isLoading=!0,console.log("Loading week from date..."),r.prev=3,a=(0,o.useUserStore)(),i=c()(e),s=i.toISOString(),r.next=9,axios.post("/api/schedule/week/".concat(s));case 9:l=r.sent,i.format("YYYY-MM-DD"),a.timezone||l.data.userTimezone,u=A(l.data),t.weeklyContent=[].concat(V(t.weeklyContent),V(u)).filter((function(e,t,r){return t===r.findIndex((function(t){return t.id===e.id&&t.startTime===e.startTime}))})),t.updateFetchLogs(e),t.isLoading=!1,r.next=22;break;case 18:r.prev=18,r.t0=r.catch(3),console.error("Failed to load content for week starting ".concat(n,":"),r.t0),t.isLoading=!1;case 22:case"end":return r.stop()}}),r,null,[[3,18]])})))()},updateFetchLogs:function(e){var t=c()(e),r=t.startOf("week").toISOString(),n=t.endOf("week").toISOString(),o=c()().toISOString(),a=this.dataFetchLog.findIndex((function(e){return e.weekStart===r&&e.weekEnd===n}));-1!==a?this.dataFetchLog[a].lastFetch=o:this.dataFetchLog.push({weekStart:r,weekEnd:n,lastFetch:o})},needsDataForWeek:function(){var e=function(e){return c()(e).format("YYYY-MM-DD")},t=e(this.currentWeekStart),r=e(this.currentWeekEnd);return!this.dataFetchLog.some((function(n){var o=e(n.weekStart),a=e(n.weekEnd);return o<=t&&a>=r}))},calculateExtendedEndForUpcomingContent:function(){return c()(this.viewingWindowStart).add(6,"hour").toDate()},checkAndFetchForUpcomingContent:function(){var e=this;return D(B().mark((function t(){var r,n,o,a,i,s;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=j(e.viewingWindowStart),n=c()(),o=n.subtract(15,"minutes"),a=C(r),t.prev=4,s=B().mark((function t(){var r,n;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.value,n=r.format("YYYY-MM-DD"),e.weeklyContent.some((function(t){var r=c()(t.startTime).format("YYYY-MM-DD"),a=e.dataFetchLog[n],i=a&&c()(a)>o;return n===r&&i}))){t.next=7;break}return t.next=6,e.fetchDataAndUpdateLog(n,r.toDate());case 6:return t.abrupt("return",1);case 7:case"end":return t.stop()}}),t)})),a.s();case 7:if((i=a.n()).done){t.next=13;break}return t.delegateYield(s(),"t0",9);case 9:if(!t.t0){t.next=11;break}return t.abrupt("break",13);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(4),a.e(t.t1);case 18:return t.prev=18,a.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))()},fetchDataAndUpdateLog:function(e,t){var r=this;return D(B().mark((function n(){var o;return B().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=c()(t),n.next=4,r.loadWeekFromDate(o.toDate());case 4:r.dataFetchLog[e]=c()().toISOString(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Failed to fetch data for date ".concat(e,":"),n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchWeekDataIfNeeded:function(){var e=this;return D(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.needsDataForWeek()){t.next=5;break}return t.next=3,e.checkAndFetchForUpcomingContent().catch((function(e){return console.error("Failed to load data for the week:",e),!1}));case 3:t.next=6;break;case 5:console.log("Week data already loaded; no need to fetch.");case 6:case"end":return t.stop()}}),t)})))()},updateBaseTime:function(e){this.baseTime=c()(e).toDate()},setBaseTime:function(e){this.baseTime=c()(e).toDate()},updateNextFourHours:function(){var e=this;return D(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isLoading=!0,e.updateTimeRange(),e.setTimeSlots(),e.prepareShowsForGrid(),e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},updateTimeRange:function(){var e=c()(this.baseTime).tz(I()),t=e.minute()<30?0:30,r=e.minute(t).second(0).millisecond(0).startOf("minute"),n=r.add(4,"hours");this.currentHalfHour=r.toDate(),this.fourHoursLater=n.toDate()},initializeTimeSlots:function(){this.timeSlots=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=arguments.length>3?arguments[3]:void 0,o=[],a=c()(e).tz(n),i=0;i<60*t/r;i++){var s=a.add(i*r,"minute").toDate();o.push(s)}return o}()},setTimeSlots:function(){var e,t=(0,a.useAppSettingStore)();e=t.isVerySmallScreen?this.verySmallScreenSlotHours:t.isSmallScreen?this.smallScreenSlotHours:this.mediumScreenSlotHours;for(var r=this.slotIntervalMinutes,n=[],o=60*e/r,i=c()(this.currentHalfHour),s=0;s<o;s++){var l=i.add(s*r,"minute");n.push(l.toDate())}return this.timeSlots=n,n.length},prepareShowsForGrid:function(){if(this.timeSlots&&Array.isArray(this.timeSlots)&&0!==this.timeSlots.length){var e=this.filterShowsForTimeRange(),t=this.calculateGridSlots(e,this.timeSlots),r=this.processShows(t),n=this.updateColumnOccupancy(r,this.timeSlots.length),o=n.colOccupancy,a=n.maxRowUsed,i=this.fillGapsAndCreatePlaceholders(o,a,this.timeSlots.length),c=[].concat(V(r),V(i));this.nextFourHoursOfContent=this.sortShowsByPosition(c)}else console.error("timeSlots is not properly initialized.")},filterShowsForTimeRange:function(){var e=this;return this.schedules.filter((function(t){if("string"!=typeof t.startTime||"number"!=typeof t.durationMinutes)return console.warn("Invalid show data:",t.startTime,t.durationMinutes),!1;var r=c()(t.startTime),n=c()(t.endTime),o=r.isBefore(e.fourHoursLater)&&n.isAfter(e.currentHalfHour);if(o)r.isBefore(e.currentHalfHour);return o}))},calculateGridSlots:function(e,t){if(!Array.isArray(t)||0===t.length)return console.error("Invalid or empty timeSlots array"),[];var r=c()(t[0]),n=c()(t[t.length-1]).add(30,"minutes");return e.filter((function(e){var t=c()(e.startTime),o=c()(e.endTime);return t.isBefore(n)&&o.isAfter(r)})).map((function(e){var r=c()(e.startTime),n=c()(e.endTime),o=t.findIndex((function(e){return r.isSameOrBefore(c()(e))}));(-1===o||r.isAfter(c()(t[o])))&&(o=Math.max(0,o));var a=t.findIndex((function(e){return n.isSameOrBefore(c()(e).add(30,"minutes"))}));-1!==a&&n.isBefore(c()(t[a]))&&a--,(-1===a||n.isSame(c()(t[t.length-1]).add(30,"minutes")))&&(a=t.length-1);var i=a-o+1;return M(M({},e),{},{gridStart:o+1,gridSpan:i})}))},processShows:function(e){var t=this,r=!1;return e.forEach((function(e){var n=c()(e.startTime),o=n.add(e.durationMinutes,"minutes"),a=c()(t.baseTime);e.nowPlaying=!e.placeholder&&a.isAfter(n)&&a.isBefore(o)&&1===e.gridStart,!r&&!e.placeholder&&e.gridStart>1&&(e.comingUpNext=!0,r=!0)})),e},updateColumnOccupancy:function(e,t){var r=new Array(t).fill(null).map((function(){return new Set})),n=0;return e.forEach((function(e){for(var o=e.gridStart-1;o<e.gridStart-1+e.gridSpan;o++)o>=0&&o<t&&(r[o].add(e.gridRow),n=Math.max(n,e.gridRow))})),{colOccupancy:r,maxRowUsed:n}},fillGapsAndCreatePlaceholders:function(e,t,r){var n=[];t=Math.max(t,1);for(var o=1;o<=t;o++)n.push.apply(n,V(this.findAndFillGapsForSingleRow(e,o,r)));return n},findAndFillGapsForSingleRow:function(e,t,r){for(var n=[],o=-1,a=0;a<r;a++)e[a].has(t)?-1!==o&&(1===t?n.push(this.createPlaceholder(o+1,a-o,t)):n.push(this.createBlankSpotPlaceholder(o+1,a-o,t)),o=-1):o=-1===o?a:o;return-1!==o&&(1===t?n.push(this.createPlaceholder(o+1,r-o,t)):n.push(this.createBlankSpotPlaceholder(o+1,r-o,t))),n},sortShowsByPosition:function(e){return Array.isArray(e)?e.sort((function(e,t){return e.gridRow-t.gridRow||e.gridStart-t.gridStart})):(console.error("Expected an array of shows, received:",e),[])},createPlaceholder:function(e,t,r){return{placeholder:!0,startTime:"placeholder",priority:0,gridStart:e,gridSpan:t,gridRow:r,content:{name:"Nothing scheduled."}}},createBlankSpotPlaceholder:function(e,t,r){return{placeholder:!0,startTime:"placeholder",priority:0,gridStart:e,gridSpan:t,gridRow:r,content:{name:"Blank Spot"}}}},getters:{currentTime:function(e){return c()(e.baseTime).format("h:mm A")},currentDate:function(e){return c()(e.baseTime).format("MMMM DD, YYYY")},preparedTimeBanners:function(e){var t=I(),r=c()().tz(t).startOf("day"),n=r.add(1,"day"),o=r.subtract(1,"day");return e.timeBanners.flatMap((function(t){var a=r.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),i=a.clone().add(t.duration,"hours"),s=n.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),l=s.clone().add(t.duration,"hours"),u=o.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),d=u.clone().add(t.duration,"hours");return[M(M({},t),{},{start:u,end:d}),M(M({},t),{},{start:a,end:i}),M(M({},t),{},{start:s,end:l})].map((function(t){var r=e.timeSlots.findIndex((function(e){return t.start.isSameOrBefore(c()(e))&&t.end.isAfter(c()(e))})),n=e.timeSlots.findIndex((function(e){return t.end.isSameOrBefore(c()(e))}));-1===n||t.end.isAfter(c()(e.timeSlots[e.timeSlots.length-1]))?n=e.timeSlots.length-1:n-=1;var o=r+1,a=n-r+1;return o&&a>0?M(M({},t),{},{gridStart:o,gridSpan:a}):null}))})).filter((function(e){return null!=e})).sort((function(e,t){return e.gridStart-t.gridStart}))},nextFourHoursWithHalfHourIntervals:function(e){if(!e.timeSlots||0===e.timeSlots.length)return console.log("timeSlots is null or has no elements"),[];for(var t=(0,o.useUserStore)(),r=((0,a.useAppSettingStore)(),t.timezone),n=e.timeSlots.length,i=[],s=c()(e.baseTime).tz(r),l=s.minute()<30?s.startOf("hour"):s.startOf("hour").add(30,"minutes"),u=0;u<n;u++)i.push({formatted:l.format("hh:mm A"),dateTimeString:l.format("YYYY-MM-DD HH:mm:ss")}),l=l.add(30,"minute");return i},upcomingContent:function(e){var t=c()(e.viewingWindowStart).subtract(1,"hour"),r=t.add(7,"hours"),n=e.weeklyContent.reduce((function(e,t){var r=c()(t.startTime).valueOf();return e[r]||(e[r]=[]),e[r].push(t),e}),{});return Object.values(n).map((function(e){return e.reduce((function(e,t){return!e||t.priority<e.priority?t:e}),null)})).filter((function(e){var n=c()(e.startTime);return n.isSameOrAfter(t)&&n.isBefore(r)})).sort((function(e,t){return c()(e.startTime).unix()-c()(t.startTime).unix()}))},nextSixHours:function(e){for(var t=c()(e.viewingWindowStart),r=t.add(6,"hours"),n=[],o=t;o.isBefore(r);)n.push(o.toDate()),o=o.add(1,"hour");return n},dateMessage:function(e){var t=(0,f.b)(e.viewingWindowStart),r=(0,m.WU)(t,"EEEE MMMM do, yyyy");return(0,p.z)(t)?"Today - ".concat(r):(0,h.g)(t)?"Yesterday - ".concat(r):(0,y.P)(t)?"Tomorrow - ".concat(r):r},currentMonthIndex:function(e){return c()(e.currentMonth).month()},currentMonthName:function(e){return c()(e.currentMonth).format("MMMM")},currentYear:function(e){return c()(e.currentMonth).year()},isToday:function(e){var t=c()(),r=c()(e.viewingWindowStart);return t.isSame(r,"day")},daysInMonth:function(e){for(var t=c()(e.currentMonth),r=t.startOf("month"),n=t.endOf("month"),o=r.startOf("week"),a=n.endOf("week"),i=[],s=o;s.isBefore(a)||s.isSame(a,"day");)i.push(s.toDate()),s=s.add(1,"day");return i}}})},24831:(e,t,r)=>{r.d(t,{U:()=>c});r(70821);var n=r(90771),o=r(58358),a=r(40191),i=r(9680);function c(e){var t=(0,n.useUserStore)(),r=(0,o.useAppSettingStore)(),c=(0,a.useVideoPlayerStore)();r.currentPage=e,r.showFlashMessage=!0,r.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||r.fullPage?r.ott=0:(r.ott=1,r.showOttButtons=!0),c.makeVideoTopRight(),r.pageReload&&(r.pageReload=!1,r.pageWasReloaded=!0,window.location.reload()),i.Inertia.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||r.fullPage?r.ott=0:r.ott=1,""!==window.location.search&&!r.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),r.shouldScrollToTop=!1})),r.setPrevUrl(),r.showOttButtons=!0,r.noLayout=!1}},8044:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const c=i},22048:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const c=i},56705:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const c=i},53404:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const c=i},21713:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,".source-selector[data-v-c559967c]{//margin-top:.5rem}.is-priority[data-v-c559967c]{color:#000;font-weight:300}","",{version:3,sources:["webpack://./resources/js/Components/Pages/Admin/Channels/SourceSelector.vue"],names:[],mappings:"AA8EA,kCAEE,kBACF,CAMA,8BAEE,UAAY,CACZ,eACF",sourcesContent:['<template>\n  \x3c!--  <div class="source-selector" :class="{\'is-priority\': source?.isPriority, \'is-playing\': source?.isPlaying, \'is-fallback\': source?.isFallback, \'has-error\': source?.hasError}">--\x3e\n  <div\n      :class="[\'source-selector\', {\'is-priority\': source?.playback_priority_type, \'is-playing\': source?.isPlaying, \'is-fallback\': source?.isFallback, \'has-error\': source?.hasError}]">\n    <div>\n      \x3c!-- Display the source status here (playing, fallback, error) --\x3e\n      <div v-if="source?.playback_priority_type === sourceType" class="btn btn-xs mt-1 text-white bg-green-500 hover:bg-green-500">Priority</div>\n      <span>\n\n      </span>\n      \x3c!-- Icon or button to set this source as priority --\x3e\n      \x3c!--      <button class="btn btn-xs" v-if="!source?.playback_priority_type" @click="setPriority">Set as Priority</button>--\x3e\n    </div>\n  </div>\n\n  \x3c!--  <div v-if="source?.playback_priority_type === \'mistStream\'">--\x3e\n  \x3c!--    <button class="btn btn-xs hover:bg-green-500 bg-green-500">Priority</button>--\x3e\n  \x3c!--  </div>--\x3e\n\n  <button v-if="source?.playback_priority_type !== sourceType" class="btn btn-xs mt-1"\n          @click="setPriority">Set as Priority\n  </button>\n\n\n  <dialog :id="`confirmPriorityChangeModal`" class="modal">\n    <div class="modal-box">\n      <h3 class="font-bold text-lg">Confirm Selection for {{ adminStore.sourceSelector?.source?.name }}</h3>\n      <p class="py-4">\n        Are you sure you want to change priority to <span class="font-bold">{{ adminStore.sourceSelector?.sourceType }}</span>?\n      </p>\n      <div class="modal-action">\n        <button class="btn" @click="confirmPriorityChange">Confirm</button>\n        <button class="btn" onclick="document.getElementById(\'confirmPriorityChangeModal\').close()">Cancel</button>\n      </div>\n    </div>\n  </dialog>\n\n\n</template>\n\n<script setup>\nimport { useAdminStore } from \'@/Stores/AdminStore\'\nimport { ref } from \'vue\'\n\nconst adminStore = useAdminStore()\n\nlet props = defineProps([\n  \'source\',\n  \'sourceType\',\n])\n\n// const setPriority = (sourceType) => {\n//   emit(\'change\', { sourceType, priority: true });\n//   // Implement function to make API call to update the backend\n// };\n\n\nconst setPriority = () => {\nadminStore.sourceSelector.source = props.source\nadminStore.sourceSelector.sourceType = props.sourceType\n  document.getElementById(\'confirmPriorityChangeModal\').showModal() // Open the modal for confirmation\n}\n\nconst confirmPriorityChange = async () => {\n  await adminStore.setPlaybackPriorityType(adminStore.sourceSelector.source, adminStore.sourceSelector.sourceType)\n  document.getElementById(\'confirmPriorityChangeModal\').close() // Close the modal\n\n}\n\n// const setPriority = async () => {\n//   // Directly call the store action to update the priority.\n//   await adminStore.setPlaybackPriorityType(props.source, props.sourceType);\n//   // No need to emit an event to the parent component.\n// };\n\n<\/script>\n\n<style scoped>\n.source-selector {\n  /* Base styles */\n  //margin-top: 0.5rem;\n}\n\n.is-playing {\n  /* Styles for playing status */\n}\n\n.is-priority {\n  /* Styles for isPriority status */\n  color: black;\n  font-weight: 300;\n}\n\n.is-fallback {\n  /* Styles for fallback status */\n}\n\n.has-error {\n  /* Styles for error status */\n}\n\n</style>\n'],sourceRoot:""}]);const c=i},46992:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,"#tooltip[data-v-1bd6adbe]{background:#333;border-radius:4px;color:#fff;font-size:13px;font-weight:700;padding:4px 8px}[data-v-1bd6adbe] .popper{background:#333;border-radius:20px;color:#fff;font-weight:700;padding:2px;text-transform:uppercase}[data-v-1bd6adbe] .popper #arrow:before{background:#333}[data-v-1bd6adbe] .popper:hover,[data-v-1bd6adbe] .popper:hover>#arrow:before{background:#333}","",{version:3,sources:["webpack://./resources/js/Pages/Admin/Schedule/Index.vue"],names:[],mappings:"AA+KA,0BACE,eAAgB,CAKhB,iBAAkB,CAJlB,UAAY,CAGZ,cAAe,CAFf,eAAiB,CACjB,eAGF,CAEA,0BACE,eAAmB,CAEnB,kBAAmB,CACnB,UAAW,CACX,eAAiB,CAHjB,WAAY,CAIZ,wBACF,CAEA,wCACE,eACF,CAEA,8EAEE,eACF",sourcesContent:['<template>\n  <Head title="Admin/Schedule"/>\n\n  <div class="place-self-center flex flex-col">\n    <div id="topDiv" class="bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10">\n\n      <Message v-if="appSettingStore.showFlashMessage" :flash="$page.props.flash"/>\n\n      <AdminHeader>Schedule</AdminHeader>\n\n      <div class="flex flex-row justify-between gap-x-4 mb-3">\n        <div>\n          <Link :href="`#`">\n            <button\n                class="btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400"\n                disabled\n            >Blank\n            </button>\n          </Link>\n          <Link :href="`#`">\n            <button\n                class="btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400"\n                disabled\n            >Blank\n            </button>\n          </Link>\n          <Link :href="`#`">\n            <button\n                class="btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400"\n                disabled\n            >Blank\n            </button>\n          </Link>\n          <button\n              @click.prevent="purgeAllCaches"\n              class="btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded-lg disabled:bg-gray-400"\n          >\n            Purge All Caches\n          </button>\n\n\n        </div>\n        <input v-model="adminStore.searchTerm" type="search" placeholder="Search..." class="border px-2 rounded-lg"/>\n      </div>\n\n      <div class="flex flex-col">\n        <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">\n          <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">\n            <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">\n\n              <div class="relative overflow-x-auto shadow-md sm:rounded-lg">\n                <div\n                    class="table w-full text-sm text-left text-gray-500 dark:text-gray-400"\n                >\n                  <div\n                      class="table-header-group text-xs text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400"\n                  >\n                    <div class="table-row">\n                      <div scope="col" class="table-cell px-6 py-3 uppercase">\n                        <font-awesome-icon icon="fa-repeat" class="mr-2 cursor-pointer hover:text-blue-500"\n                                           @click.prevent="resetCalendar"/>\n                        <span class="uppercase">Calendar </span>\n                      </div>\n\n\n                    </div>\n                  </div>\n                  <div class="table-row-group">\n\n                    <div class="calendar">\n\n                      \x3c!-- Calendar View --\x3e\n                      <div class="calendar-view">\n                        <MonthView />\n\n                        \x3c!-- View Selector --\x3e\n                        <div class="view-selector px-6 space-x-2 border-t-2 border-gray-50 pt-6">\n                          <span class="text-xm uppercase font-semibold tracking-wider">View: </span>\n                          <button @click="setView(\'week\')" class="py-1 px-2 text-black rounded-lg" :class="[currentView === \'week\' ? \'bg-blue-200\' : \'bg-gray-100 hover:bg-gray-200\']">Week</button>\n                          <button @click="setView(\'threeDay\')" class="py-1 px-2 text-black rounded-lg" :class="[currentView === \'threeDay\' ? \'bg-blue-200\' : \'bg-gray-100 hover:bg-gray-200\']">3-Day</button>\n                          <button @click="setView(\'oneDay\')" class="py-1 px-2 text-black rounded-lg" :class="[currentView === \'oneDay\' ? \'bg-blue-200\' : \'bg-gray-100 hover:bg-gray-200\']">1-Day</button>\n                          <button  @click="setToToday" class="py-1 px-2 text-black rounded-lg" :class="{\'bg-blue-200\': scheduleStore.isToday, \'bg-gray-100 hover:bg-gray-200\': !scheduleStore.isToday}">Today</button>\n                        </div>\n                        <WeekView v-if="currentView === \'week\'"/>\n                        <ThreeDayView v-if="currentView === \'threeDay\'"/>\n                        <TodayView v-if="currentView === \'oneDay\'"/>\n                      </div>\n                    </div>\n\n\n\n\n\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n\n\n\n      </div>\n    </div>\n  </div>\n\n</template>\n\n\n<script setup>\nimport { Inertia } from \'@inertiajs/inertia\'\nimport { onBeforeUnmount, onMounted, onUnmounted, ref, watch } from \'vue\'\nimport throttle from \'lodash/throttle\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\nimport { usePageSetup } from \'@/Utilities/PageSetup\'\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useScheduleStore } from \'@/Stores/ScheduleStore\'\nimport { useAdminStore } from \'@/Stores/AdminStore\'\nimport AdminHeader from \'@/Components/Pages/Admin/AdminHeader\'\nimport Message from \'@/Components/Global/Modals/Messages\'\nimport Pagination from \'@/Components/Global/Paginators/Pagination\'\nimport SourceSelector from \'@/Components/Pages/Admin/Channels/SourceSelector\'\nimport DynamicModal from \'@/Components/Pages/Admin/Channels/DynamicModal\'\nimport AddOrUpdateMistStreamModal from \'@/Components/Global/MistStreams/AddOrUpdateMistStreamModal\'\nimport MonthView from \'@/Components/Global/Calendar/MonthView\'\nimport WeekView from \'@/Components/Global/Calendar/WeekView\'\nimport ThreeDayView from \'@/Components/Global/Calendar/ThreeDayView\'\nimport TodayView from \'@/Components/Global/Calendar/TodayView\'\n\nusePageSetup(\'admin.schedule\')\n\nconst appSettingStore = useAppSettingStore()\nconst scheduleStore = useScheduleStore()\nconst adminStore = useAdminStore()\n\nlet props = defineProps({})\n\nconst reloadSchedule = () => {\n  //\n}\n\nconst setToToday = () => {\n  // Use the existing action to set the selected day to today\n  scheduleStore.setSelectedDayToToday(new Date());\n  currentView.value = \'oneDay\'\n};\n\nconst currentView = ref(\'oneDay\')\n\nconst setView = (view) => {\n  currentView.value = view\n}\n\nconst purgeAllCaches = () => {\n  scheduleStore.resetAll()\n  Inertia.post(\'/admin/schedule/admin-reset-cache\')\n  Inertia.reload()\n}\n\nconst resetCalendar = () => {\n  scheduleStore.reset()\n  scheduleStore.checkAndFetchForUpcomingContent()\n}\n\nonBeforeUnmount(() => {\n  scheduleStore.reset()\n})\n\n<\/script>\n\n<style scoped>\n\n#tooltip {\n  background: #333;\n  color: white;\n  font-weight: bold;\n  padding: 4px 8px;\n  font-size: 13px;\n  border-radius: 4px;\n}\n\n:deep(.popper) {\n  background: #333333;\n  padding: 2px;\n  border-radius: 20px;\n  color: #fff;\n  font-weight: bold;\n  text-transform: uppercase;\n}\n\n:deep(.popper #arrow::before) {\n  background: #333333;\n}\n\n:deep(.popper:hover),\n:deep(.popper:hover > #arrow::before) {\n  background: #333333;\n}\n</style>\n'],sourceRoot:""}]);const c=i},82889:(e,t,r)=>{r.d(t,{Z:()=>oe});var n=r(70821),o=r(74679),a=r(90771),i=r(96794),c=r(2855),s=r(83372),l=r(45459),u=r(17773),d=r(5190),f=r(23318),m=r(69876),p=r(25543),h=r(9680);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(){v=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="suspendedYield",p="executing",h="completed",g={};function b(){}function w(){}function x(){}var k={};l(k,i,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(O([])));E&&E!==r&&n.call(E,i)&&(k=E);var N=x.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==y(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=P(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,s,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(V.prototype),l(V.prototype,c,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new V(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(N),l(N,s,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function g(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){g(a,n,o,i,c,"next",e)}function c(e){g(a,n,o,i,c,"throw",e)}i(void 0)}))}}var w=function(e){return(0,n.pushScopeId)("data-v-69295fc5"),e=e(),(0,n.popScopeId)(),e},x={class:"hidden today-view container mx-auto px-4 py-8 flex flex-col"},k=w((function(){return(0,n.createElementVNode)("div",{id:"topDivForTodayView"},null,-1)})),S={class:"flex justify-center text-center mb-4"},E={class:"text-3xl font-bold mb-2"},N={class:"flex justify-between items-center mb-4"},C={class:"flex flex-col text-center"},V={class:"flex flex-col flex-grow"},T=["onClick"],P={class:"flex flex-row flex-wrap gap-x-4 gap-y-2"},B={class:"flex flex-col w-28 max-w-28 text-gray-500"},L={class:"font-bold text-black break-words"},D={class:"break-words"},O={class:"flex flex-col"},M=["onClick"],_={class:"flex flex-col items-start h-full"},A={class:"text-gray-800 text-2xl tracking-wider"},j=["onClick"],I={key:0},F={key:1},Y={class:"mt-2 text-gray-700 flex flex-wrap gap-1"},G={class:"w-fit text-xs font-semibold uppercase tracking-wide bg-gray-900 px-2 py-1 rounded"},H={key:0,class:"text-green-500"},U={key:1,class:"text-pink-500 bg-gray-900 px-2 py-1"},W={key:0,class:"w-fit text-xs font-semibold uppercase tracking-wider text-yellow-600 bg-gray-900 px-2 py-1 rounded"},z={key:0,class:""},Z={key:1,class:""},R={key:1,class:"w-fit text-xs font-semibold tracking-wide text-yellow-500 bg-gray-900 px-2 py-1 rounded"},$={key:0,class:""},J={key:1,class:""},K={class:"font-semibold"},Q=w((function(){return(0,n.createElementVNode)("div",null,"Nothing scheduled.",-1)})),q={key:2,class:"my-4 p-2 bg-blue-800 text-white rounded shadow"};const X={__name:"TodayView",setup:function(e){var t=(0,o.useScheduleStore)(),r=(0,a.useUserStore)(),y=(0,m.Jk)(t),g=y.upcomingContent,w=y.dateMessage,X=(0,n.ref)(t.selectedDay),ee=((0,n.computed)((function(){return t.weeklyContent})),function(){var e=b(v().mark((function e(r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("topDivForTodayView").scrollIntoView({behavior:"smooth"}),e.next=4,t.shiftHours(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function te(e,t){var r=(0,i.o)(t),n=(0,c.T)(r,1),o=new Date(e.start_time);return o>=r&&o<n}function re(e){var t=(0,i.o)(e),r=(0,c.T)(t,1);return g.value.some((function(e){var n=new Date(e.start_time);return n>=t&&n<r}))}function ne(e){return(0,s.WU)(e,"h:mm aaaa")}function oe(e){var t=e.getHours();return t>=4&&t<6?{segment:"Early Morning",color:"bg-gray-200"}:t>=6&&t<12?{segment:"Morning",color:"bg-yellow-200"}:t>=12&&t<17?{segment:"Afternoon",color:"bg-green-200"}:t>=17&&t<20?{segment:"Prime Time",color:"bg-red-200"}:t>=20&&t<23?{segment:"Late Prime Time",color:"bg-purple-200"}:t>=23||t<1?{segment:"Late Night",color:"bg-blue-200"}:t>=1&&t<4?{segment:"Overnight",color:"bg-indigo-200"}:{segment:"",color:""}}(0,n.watch)(X,(function(e){t.setSelectedDay(e)}));(0,n.computed)((function(){return t.nextSixHours.value.length>0?oe(t.nextSixHours.value[0]):null}));var ae=function(e){"show"===e.type?h.Inertia.visit("/shows/".concat(e.content.show.slug)):"movie"===e.type&&h.Inertia.visit("/movie/".concat(e.content.slug))},ie=function(e){if(e<60)return"".concat(e," minutes");if(60===e)return"1 hour";var t=Math.floor(e/60),r=e%60;return 0===r?"".concat(t," hours"):"".concat(t," hour").concat(t>1?"s":""," and ").concat(r," minutes")};return(0,n.watch)((function(){return r.timezone}),function(){var e=b(v().mark((function e(r,n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.next=3,t.preloadWeeklyContent();case 3:console.log("preloaded weekly content from todayView ...");case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),{immediate:!0}),function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",x,[k,(0,n.unref)(t).isToday?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:o[0]||(o[0]=function(e){(0,n.unref)(t).setSelectedDayToToday(new Date)}),class:(0,n.normalizeClass)(["py-1 px-2 text-white rounded-lg w-fit",{"bg-blue-300":(0,n.unref)(t).isToday,"bg-green-600 hover:bg-green-700":!(0,n.unref)(t).isToday}])}," Go To Now",2)),(0,n.createElementVNode)("div",S,[(0,n.createElementVNode)("h2",E,(0,n.toDisplayString)((0,n.unref)(w)),1)]),(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return(0,n.unref)(t).changeDay(-1)}),class:"bg-gray-100 hover:bg-gray-200 text-black p-2 rounded shadow"}," < Previous Day "),(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)((0,n.unref)(r).canadianTimezoneDescription)+" Time",1)]),(0,n.createElementVNode)("button",{onClick:o[2]||(o[2]=function(e){return(0,n.unref)(t).changeDay(1)}),class:"bg-gray-100 hover:bg-gray-200 text-black p-2 rounded shadow"}," Next Day > ")]),(0,n.createElementVNode)("button",{onClick:o[3]||(o[3]=function(e){return(0,n.unref)(t).shiftHours(-6)}),class:"mb-4 bg-gray-100 hover:bg-gray-200 text-black py-2 rounded shadow"}," ↑ Back 6 Hours "),(0,n.createElementVNode)("div",V,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(t).nextSixHours,(function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.toString()},[0===o||oe(e).segment!==oe((0,n.unref)(t).nextSixHours[o-1]).segment?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)([oe(e).color,"mb-4 p-2 text-black text-center font-bold text-2xl rounded shadow"])},(0,n.toDisplayString)(oe(e).segment),3)):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(g),(function(t){var o,a,i,c,s,l,u,d,f,m,h,y,v,g,b,w;return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[te(t,e)?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t.id,class:(0,n.normalizeClass)(["hover:bg-blue-400 hover:cursor-pointer",["p-4 rounded-lg shadow",oe(new Date(t.start_time)).color,"mb-4"]]),onClick:(0,n.withModifiers)((function(e){return ae(t)}),["prevent"])},[(0,n.createElementVNode)("div",P,[(0,n.createElementVNode)("div",B,[(0,n.createElementVNode)("div",L,(0,n.toDisplayString)(ne(new Date(t.start_time)))+" "+(0,n.toDisplayString)((0,n.unref)(r).timezoneAbbreviation),1),(0,n.createElementVNode)("div",D,(0,n.toDisplayString)(ie(t.durationMinutes)),1)]),(0,n.createElementVNode)("div",O,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(e){return ae(t)}),["prevent"])},["show"===t.type?((0,n.openBlock)(),(0,n.createBlock)(p.Z,{key:0,image:null==t||null===(o=t.content)||void 0===o||null===(o=o.show)||void 0===o?void 0:o.image,alt:null==t||null===(a=t.content)||void 0===a||null===(a=a.show)||void 0===a?void 0:a.name,class:"w-20 h-20"},null,8,["image","alt"])):((0,n.openBlock)(),(0,n.createBlock)(p.Z,{key:1,image:null==t||null===(i=t.content)||void 0===i?void 0:i.image,alt:null==t||null===(c=t.content)||void 0===c?void 0:c.name,class:"w-20 h-20"},null,8,["image","alt"]))],8,M)]),(0,n.createElementVNode)("div",_,[(0,n.createElementVNode)("div",A,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(e){return ae(t)}),["prevent"]),class:"text-left"},["show"===t.type?((0,n.openBlock)(),(0,n.createElementBlock)("span",I,(0,n.toDisplayString)(null==t||null===(s=t.content)||void 0===s||null===(s=s.show)||void 0===s?void 0:s.name),1)):(0,n.createCommentVNode)("",!0),"movie"===t.type?((0,n.openBlock)(),(0,n.createElementBlock)("span",F,(0,n.toDisplayString)(null==t||null===(l=t.content)||void 0===l?void 0:l.name),1)):(0,n.createCommentVNode)("",!0)],8,j)]),(0,n.createElementVNode)("div",Y,[(0,n.createElementVNode)("div",G,["show"===t.type?((0,n.openBlock)(),(0,n.createElementBlock)("span",H,"show")):(0,n.createCommentVNode)("",!0),"movie"===t.type?((0,n.openBlock)(),(0,n.createElementBlock)("span",U,"movie")):(0,n.createCommentVNode)("",!0)]),null!=t&&null!==(u=t.content)&&void 0!==u&&null!==(u=u.show)&&void 0!==u&&null!==(u=u.category)&&void 0!==u&&u.name||null!=t&&null!==(d=t.content)&&void 0!==d&&null!==(d=d.category)&&void 0!==d&&d.name?((0,n.openBlock)(),(0,n.createElementBlock)("div",W,["show"===t.type&&null!=t&&null!==(f=t.content)&&void 0!==f&&null!==(f=f.show)&&void 0!==f&&null!==(f=f.category)&&void 0!==f&&f.name?((0,n.openBlock)(),(0,n.createElementBlock)("span",z,(0,n.toDisplayString)(null==t||null===(m=t.content)||void 0===m||null===(m=m.show)||void 0===m||null===(m=m.category)||void 0===m?void 0:m.name),1)):(0,n.createCommentVNode)("",!0),"movie"===t.type&&null!=t&&null!==(h=t.content)&&void 0!==h&&null!==(h=h.subCategory)&&void 0!==h&&h.name?((0,n.openBlock)(),(0,n.createElementBlock)("span",Z,(0,n.toDisplayString)(null==t||null===(y=t.content)||void 0===y||null===(y=y.category)||void 0===y?void 0:y.name),1)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),null!=t&&null!==(v=t.content)&&void 0!==v&&null!==(v=v.show)&&void 0!==v&&null!==(v=v.subCategory)&&void 0!==v&&v.name||null!=t&&null!==(g=t.content)&&void 0!==g&&null!==(g=g.subCategory)&&void 0!==g&&g.name?((0,n.openBlock)(),(0,n.createElementBlock)("div",R,["show"===t.type?((0,n.openBlock)(),(0,n.createElementBlock)("span",$,(0,n.toDisplayString)(null==t||null===(b=t.content)||void 0===b||null===(b=b.show)||void 0===b||null===(b=b.subCategory)||void 0===b?void 0:b.name),1)):(0,n.createCommentVNode)("",!0),"movie"===t.type?((0,n.openBlock)(),(0,n.createElementBlock)("span",J,(0,n.toDisplayString)(null==t||null===(w=t.content)||void 0===w||null===(w=w.subCategory)||void 0===w?void 0:w.name),1)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])])])],10,T)):(0,n.createCommentVNode)("",!0)],64)})),256)),re(e)?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)([oe(e).color,"mb-4 p-4 rounded-lg shadow text-gray-500"])},[(0,n.createElementVNode)("div",K,(0,n.toDisplayString)(ne(e))+" "+(0,n.toDisplayString)((0,n.unref)(r).timezoneAbbreviation),1),Q],2)),(0,n.unref)(t).isElevenPM(e)&&(0,n.unref)(t).nextSixHours[o+1]?((0,n.openBlock)(),(0,n.createElementBlock)("div",q,(0,n.toDisplayString)((a=(0,n.unref)(c.T)(e,1),i=(0,l.b)(a),m=(0,s.WU)(i,"EEEE, MMMM do"),(0,u.z)(i)?"Today - ".concat(m):(0,d.g)(i)?"Yesterday - ".concat(m):(0,f.P)(i)?"Tomorrow - ".concat(m):m)),1)):(0,n.createCommentVNode)("",!0)]);var a,i,m})),128))]),(0,n.createElementVNode)("button",{onClick:o[4]||(o[4]=function(e){return ee(6)}),class:"bg-gray-100 hover:bg-gray-200 text-black py-2 rounded shadow"}," ↓ Forward 6 Hours ")])}}};var ee=r(93379),te=r.n(ee),re=r(56705),ne={insert:"head",singleton:!1};te()(re.Z,ne);re.Z.locals;const oe=(0,r(83744).Z)(X,[["__scopeId","data-v-69295fc5"]])},45384:(e,t,r)=>{r.d(t,{Z:()=>O});var n=r(70821),o=r(39038),a=r(26331),i=r(68691);r(15957),r(28277);function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",h="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var k={};u(k,i,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(O([])));E&&E!==r&&n.call(E,i)&&(k=E);var N=x.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,i,c){var s=m(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==f(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=P(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=m(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=m(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(f(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=u(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(V.prototype),u(V.prototype,s,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new V(d(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(N),u(N,l,"Generator"),u(N,i,(function(){return this})),u(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function s(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var m=["id"],p={class:"modal-box w-11/12 max-w-5xl"},h={class:"font-bold text-lg"},y={class:"flex flex-col space-y-2 px-12 mt-6"},v=(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs dark:text-gray-200",for:"name"},"Stream Name",-1),g=["textContent"],b=(0,n.createElementVNode)("label",{class:"block mt-4 mb-2 uppercase font-bold text-xs dark:text-gray-200",for:"name"},"Source",-1),w=["textContent"],x=(0,n.createElementVNode)("label",{class:"block mt-4 mb-2 uppercase font-bold text-xs dark:text-gray-200",for:"name"},"MIME Type",-1),k=["textContent"],S=(0,n.createElementVNode)("label",{class:"block mt-4 mb-2 uppercase font-bold text-xs dark:text-gray-200",for:"comment"},"Comment",-1),E=["textContent"],N=(0,n.createElementVNode)("label",{class:"block mt-4 mb-2 uppercase font-bold text-xs dark:text-gray-200",for:"metadata"},"Optional Parameters",-1),C=["onUpdate:modelValue"],V=["onUpdate:modelValue"],T=["onClick"],P={class:"flex flex-row justify-center pt-6"},B=["disabled"],L={class:"modal-action"},D=(0,n.createElementVNode)("form",{method:"dialog"},null,-1);const O={__name:"AddOrUpdateMistStreamModal",props:{mistStream:Object,id:String},setup:function(e){var t=(0,a.useChannelStore)(),r=((0,i.useAdminStore)(),e),s=((0,n.ref)(!1),(0,n.ref)([{key:"",value:""}]),(0,n.ref)("")),d=function(){O.metadata.push({key:"",value:""})},O=(0,n.reactive)((0,o.cI)({id:"",name:"",source:"push://",mime_type:"application/vnd.apple.mpegurl",comment:"",metadata:[]}));O.reset(),(0,n.watch)((function(){return t.mistStream}),(function(e){e?(O.id=e.id||"",O.name=e.name||"",s.value=e.name||"",O.source=e.source||"push://",O.mime_type=e.mime_type||"application/vnd.apple.mpegurl",O.comment=e.comment||"",e.metadata&&"object"===f(e.metadata)?O.metadata=Object.entries(e.metadata).map((function(e){var t=u(e,2);return{key:t[0],value:t[1]}})):O.metadata=[{key:"",value:""}]):O.reset()}),{deep:!0,immediate:!0});var M=function(){var e=l(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post(route("mistStream.addOrUpdate",{originalName:s.value}));case 2:_();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _(){document.getElementById(r.id).close(),t.clearMistStream(),O.reset(),O.clearErrors()}return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("dialog",{id:e.id,class:"modal"},[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("h3",h,[(0,n.renderSlot)(t.$slots,"form-title",{},(function(){return[(0,n.createTextVNode)("Default Form Title")]}))]),(0,n.createElementVNode)("div",null,[(0,n.renderSlot)(t.$slots,"form-description",{},(function(){return[(0,n.createTextVNode)("Default Form Description")]}))]),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("form",{onSubmit:r[4]||(r[4]=(0,n.withModifiers)((function(){return(0,n.unref)(M)&&(0,n.unref)(M).apply(void 0,arguments)}),["prevent"]))},[v,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return(0,n.unref)(O).name=e}),class:"bg-gray-50 border border-gray-400 text-gray-900 text-sm p-2 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500 block",type:"text",name:"name",id:"name",placeholder:"Stream Name..."},null,512),[[n.vModelText,(0,n.unref)(O).name]]),(0,n.unref)(O).errors.name?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(O).errors.name),class:"text-xs text-red-600 mt-1"},null,8,g)):(0,n.createCommentVNode)("",!0),b,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return(0,n.unref)(O).source=e}),class:"bg-gray-50 border border-gray-400 text-gray-900 text-sm p-2 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500 block",type:"text",name:"source",id:"source",placeholder:"Source..."},null,512),[[n.vModelText,(0,n.unref)(O).source]]),(0,n.unref)(O).errors.source?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,textContent:(0,n.toDisplayString)((0,n.unref)(O).errors.source),class:"text-xs text-red-600 mt-1"},null,8,w)):(0,n.createCommentVNode)("",!0),x,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return(0,n.unref)(O).mime_type=e}),class:"bg-gray-50 border border-gray-400 text-gray-900 text-sm p-2 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500 block",type:"text",name:"mime_type",id:"mime_type",placeholder:"MIME Type..."},null,512),[[n.vModelText,(0,n.unref)(O).mime_type]]),(0,n.unref)(O).errors.mime_type?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,textContent:(0,n.toDisplayString)((0,n.unref)(O).errors.mime_type),class:"text-xs text-red-600 mt-1"},null,8,k)):(0,n.createCommentVNode)("",!0),S,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[3]||(r[3]=function(e){return(0,n.unref)(O).comment=e}),class:"bg-gray-50 border border-gray-400 text-gray-900 text-sm p-2 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500 block",type:"text",name:"comment",id:"comment",placeholder:"Comment..."},null,512),[[n.vModelText,(0,n.unref)(O).comment]]),(0,n.unref)(O).errors.comment?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:3,textContent:(0,n.toDisplayString)((0,n.unref)(O).errors.comment),class:"text-xs text-red-600 mt-1"},null,8,E)):(0,n.createCommentVNode)("",!0),N,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(O).metadata,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:"flex items-center"},[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":function(t){return e.key=t},class:"bg-gray-50 border border-gray-400 text-gray-900 text-sm p-2 mt-2 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Key"},null,8,C),[[n.vModelText,e.key]]),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":function(t){return e.value=t},class:"bg-gray-50 border border-gray-400 text-gray-900 text-sm p-2 ml-2 mt-2 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Value"},null,8,V),[[n.vModelText,e.value]]),(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(e){return function(e){O.metadata.splice(e,1)}(t)}),["prevent"]),class:"btn btn-sm ml-2 mt-2"},"Remove",8,T)])})),128)),(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(d,["prevent"]),class:"btn btn-sm mt-2"},"Add Metadata"),(0,n.createElementVNode)("div",P,[(0,n.createElementVNode)("button",{type:"submit",class:"btn btn-wide bg-green-500 hover:bg-green-400 text-white",disabled:(0,n.unref)(O).processing},[(0,n.renderSlot)(t.$slots,"button-label",{},(function(){return[(0,n.createTextVNode)("Default Form Title")]}))],8,B)])],32)])]),(0,n.createElementVNode)("div",L,[(0,n.createElementVNode)("button",{class:"btn",onClick:(0,n.withModifiers)(_,["prevent"])},"Cancel"),D])])],8,m)}}}},59369:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(70821),o=r(9680),a=r(58358);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",h="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var k={};d(k,s,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(O([])));E&&E!==r&&n.call(E,s)&&(k=E);var N=x.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,c,s){var l=m(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,c,s)}),(function(e){r("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=P(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=m(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=m(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(V.prototype),d(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new V(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(N),d(N,u,"Generator"),d(N,s,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function s(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f={key:1,class:"alert alert-success mt-4 mx-3"},m=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:2,class:"alert alert-warning mt-4 mx-3"},h=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),y={key:3,class:"alert alert-error mt-4 mx-3"},v=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const g={__name:"Messages",props:{flash:Object},setup:function(e){(0,a.useAppSettingStore)().showFlashMessage=!0;var t=e,r=((0,n.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Inertia.post(route("flash.clear"));case 2:o.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.unref)(t).flash.message?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,[d,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.message),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.success?((0,n.openBlock)(),(0,n.createElementBlock)("div",f,[m,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.success),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.warning?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[h,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.warning),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",y,[v,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.error),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0)])}}}},32379:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(70821),o=r(58358),a={key:0,class:"flex flex-wrap justify-center my-4 space-x-4 space-y-2"},i=(0,n.createElementVNode)("div",null,null,-1);const c={__name:"Pagination",props:{data:Object},setup:function(e){var t=(0,o.useAppSettingStore)();t.savedScrollPosition=0;var r=function(){t.savedScrollPosition=window.scrollY};return window.scrollTo(0,t.savedScrollPosition),function(t,o){return e.data.last_page>1?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[i,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.data.links,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.url?"Link":"span"),{key:t,href:e.url,onClick:(0,n.withModifiers)(r,["prevent"]),innerHTML:e.label,class:(0,n.normalizeClass)(["px-4 py-3 text-sm leading-4 h-fit",{"text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400":e.active,"rounded mt-2 mr-0.5 text-gray-300 dark:text-gray-700":!e.url,"rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow":e.url}])},null,8,["href","innerHTML","class"])})),128))])):(0,n.createCommentVNode)("",!0)}}}},45345:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(70821);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){var n;return n=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={class:"flex justify-between my-3"},l={class:"mb-4 relative"},u={class:"text-3xl font-semibold inline-block"},d={key:0,class:"text-white font-semibold badge badge-success absolute -top-2 -right-10 flex items-center justify-center min-w-[2rem] h-[2rem] rounded-full"},f={key:1,class:"font-semibold badge badge-warning absolute -top-2 -right-20 flex items-center justify-center min-w-[2rem] h-[2rem] rounded-full"},m={class:"flex flex-wrap-reverse justify-end gap-2"},p=(0,n.createElementVNode)("button",{class:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg"},"Admin Settings ",-1);const h={__name:"AdminHeader",props:{displayBadges:Boolean,badgePrimaryNumber:Number,badgeSecondaryNumber:Number},setup:function(e){var t=e;(0,n.reactive)(i(i({},{displayBadges:!1}),t));return function(t,r){var o,a,i,c,h=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)("header",null,[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("h1",u,[(0,n.renderSlot)(t.$slots,"default")]),e.displayBadges?((0,n.openBlock)(),(0,n.createElementBlock)("span",d,(0,n.toDisplayString)((null!==(o=e.badgePrimaryNumber)&&void 0!==o?o:0)>99?"99+":null!==(a=e.badgePrimaryNumber)&&void 0!==a?a:0),1)):(0,n.createCommentVNode)("",!0),e.displayBadges?((0,n.openBlock)(),(0,n.createElementBlock)("span",f,(0,n.toDisplayString)((null!==(i=e.badgeSecondaryNumber)&&void 0!==i?i:0)>99?"99+":null!==(c=e.badgeSecondaryNumber)&&void 0!==c?c:0),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",m,[(0,n.createVNode)(h,{href:"/admin/settings"},{default:(0,n.withCtx)((function(){return[p]})),_:1})])])])])}}}},68023:(e,t,r)=>{r.d(t,{Z:()=>ke});var n=r(70821),o=r(68691),a=r(26331),i=(r(23279),r(57810)),c=r(9680),s=r(45384);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){u=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",h="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var k={};d(k,i,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(O([])));E&&E!==r&&n.call(E,i)&&(k=E);var N=x.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,i,c){var s=m(e[o],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==l(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=P(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=m(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=m(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(l(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,s,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(V.prototype),d(V.prototype,c,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new V(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(N),d(N,s,"Generator"),d(N,i,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function d(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){d(a,n,o,i,c,"next",e)}function c(e){d(a,n,o,i,c,"throw",e)}i(void 0)}))}}var m={id:"dynamicModal",class:"modal"},p={class:"modal-box w-11/12 max-w-5xl"},h={class:"flex flex-row justify-between align-bottom"},y={class:"font-bold text-lg"},v={class:"flex justify-center mb-6"},g={class:"flex items-center mt-6 xl:mt-0"},b={class:"relative"},w=(0,n.createElementVNode)("div",{class:"absolute top-0 flex items-center h-full ml-2"},[(0,n.createElementVNode)("svg",{class:"fill-current text-gray-400 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,n.createElementVNode)("path",{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3ZM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8Z"})])],-1),x={class:"overflow-x-auto"},k={class:"table table-xs"},S={key:0},E={key:1},N={key:0},C={key:1},V={key:0},T={key:1},P={key:0},B={key:1},L={key:0},D={key:1},O={key:0},M={key:1},_={key:0},A={key:1},j=(0,n.createElementVNode)("th",null,null,-1),I=["onClick"],F={key:0},Y={key:0,class:"text-green-500"},G={key:1,class:"text-red-700"},H={key:1},U={key:0,class:"text-green-500"},W={key:1,class:"text-red-700"},z=["onClick"],Z={key:0},R={key:1},$=["onClick"],J={key:0},K={key:1},Q=["onClick"],q={key:0},X={key:1},ee=["onClick"],te={key:0},re={key:1},ne=["onClick"],oe={key:0},ae={key:1},ie=["onClick"],ce={key:0},se={key:1},le={class:"w-fit whitespace-nowrap overflow-hidden"},ue=["onClick"],de=["onClick"],fe={key:0,class:"flex flex-row justify-center mt-6 w-full"},me={class:"join grid grid-cols-2"},pe=(0,n.createElementVNode)("h3",{class:"font-bold text-lg"},"Confirm Selection",-1),he=(0,n.createElementVNode)("p",{class:"py-4"},[(0,n.createTextVNode)(" Are you sure you want to select "),(0,n.createElementVNode)("span",{id:"selectedItemName"}),(0,n.createTextVNode)("? ")],-1),ye=(0,n.createElementVNode)("button",{class:"btn",onclick:"document.getElementById('confirmSelectionModal').close()"},"Cancel",-1),ve=(0,n.createElementVNode)("h3",{class:"font-bold text-lg"},"Confirm Remove",-1),ge=(0,n.createElementVNode)("p",{class:"py-4"},[(0,n.createTextVNode)(" Are you sure you want to remove "),(0,n.createElementVNode)("span",{id:"selectedForRemovalItemName"}),(0,n.createTextVNode)("? ")],-1),be=(0,n.createElementVNode)("button",{class:"btn",onclick:"document.getElementById('confirmRemoveModal').close()"},"Cancel",-1),we={class:"modal-action"},xe={method:"dialog"};const ke={__name:"DynamicModal",props:{type:String},setup:function(e){var t=(0,o.useAdminStore)(),r=(0,a.useChannelStore)(),l=e,d=((0,n.computed)((function(){return t.filteredItems})),(0,n.computed)((function(){return t.activeItem})),(0,n.ref)(null)),ke=function(e){d.value=e,document.getElementById("selectedItemName").textContent=e.name,document.getElementById("confirmSelectionModal").showModal()},Se=function(){var e=f(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.value){e.next=4;break}return e.next=3,t.updateActiveItemId(d.value.id);case 3:document.getElementById("confirmSelectionModal").close();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=f(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.value){e.next=4;break}return e.next=3,Ne(d.value.name);case 3:document.getElementById("confirmRemoveModal").close();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,n.onMounted)(f(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchItems(l.type);case 2:case"end":return e.stop()}}),e)}))));var Ne=function(e){c.Inertia.post(route("mistStream.remove"),{name:e}),document.getElementById("dynamicModal").close()},Ce=function(){t.fetchItems(l.type)};return function(e,o){var a;return(0,n.openBlock)(),(0,n.createElementBlock)("dialog",m,[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("h3",y,(0,n.toDisplayString)((0,n.unref)(t).modalHeader),1)]),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(null===(a=(0,n.unref)(t))||void 0===a||null===(a=a.selectedChannel)||void 0===a?void 0:a.name),1)])]),(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",b,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[0]||(o[0]=function(e){return(0,n.unref)(t).searchTerm=e}),onInput:o[1]||(o[1]=function(){return e.debouncedFetchItems&&e.debouncedFetchItems.apply(e,arguments)}),type:"search",class:"bg-gray-50 text-black text-sm rounded-full focus:outline-none focus:shadow w-64 pl-8 px-3 py-1",placeholder:"Search..."},null,544),[[n.vModelText,(0,n.unref)(t).searchTerm]]),w])])]),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("table",k,[(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",null,["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",S,"Active")):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",E,"Active")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("th",null,["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",N,"Name")):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",C,"Name")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("th",null,["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",V,"Type")):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",T,"Source")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("th",null,["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",P,"Priority")):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",B,"MIME Type")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("th",null,["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",L,"Repeat Mode")):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",D,"Comment")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("th",null,["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",O,"Start Time")):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",M,"Created On")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("th",null,["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",_,"End Time")):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",A)):(0,n.createCommentVNode)("",!0)]),j])]),(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(t).paginatedItems,(function(o){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:o.id,class:(0,n.normalizeClass)(["hover:bg-blue-300 hover:cursor-pointer",{"bg-yellow-500":o.id===(0,n.unref)(t).activeItemId}])},[(0,n.createElementVNode)("td",{onClick:function(e){return ke(o)}},["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("div",F,[o.active?((0,n.openBlock)(),(0,n.createElementBlock)("span",Y,"Active")):((0,n.openBlock)(),(0,n.createElementBlock)("span",G,"Inactive"))])):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",H,[o.active?((0,n.openBlock)(),(0,n.createElementBlock)("span",U,"Active")):((0,n.openBlock)(),(0,n.createElementBlock)("span",W,"Inactive"))])):(0,n.createCommentVNode)("",!0)],8,I),(0,n.createElementVNode)("td",{onClick:function(e){return ke(o)}},["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",Z,(0,n.toDisplayString)(o.name),1)):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",R,(0,n.toDisplayString)(o.name),1)):(0,n.createCommentVNode)("",!0)],8,z),(0,n.createElementVNode)("td",{onClick:function(e){return ke(o)}},["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",J,(0,n.toDisplayString)(o.type),1)):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",K,(0,n.toDisplayString)(o.source),1)):(0,n.createCommentVNode)("",!0)],8,$),(0,n.createElementVNode)("td",{onClick:function(e){return ke(o)}},["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",q,(0,n.toDisplayString)(o.priority),1)):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",X,(0,n.toDisplayString)(o.mime_type),1)):(0,n.createCommentVNode)("",!0)],8,Q),(0,n.createElementVNode)("td",{onClick:function(e){return ke(o)}},["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",te,(0,n.toDisplayString)(o.repeat_mode),1)):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",re,(0,n.toDisplayString)(o.comment),1)):(0,n.createCommentVNode)("",!0)],8,ee),(0,n.createElementVNode)("td",{onClick:function(e){return ke(o)}},["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",oe,(0,n.toDisplayString)(e.formatDateTime(o.start_time)),1)):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",ae,(0,n.toDisplayString)(e.formatDateTime(o.created_at)),1)):(0,n.createCommentVNode)("",!0)],8,ne),(0,n.createElementVNode)("td",{onClick:function(e){return ke(o)}},["channelPlaylist"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",ce,(0,n.toDisplayString)(e.formatDateTime(o.end_time)),1)):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("span",se)):(0,n.createCommentVNode)("",!0)],8,ie),(0,n.createElementVNode)("td",le,["mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:(0,n.withModifiers)((function(e){return function(e){updateMistStreamModal.showModal(),r.mistStream=e}(o)}),["prevent"]),class:"ml-2 px-2 py-1 text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"},[(0,n.createVNode)((0,n.unref)(i.GN),{icon:"fa-pencil",class:"text-xs"})],8,ue)):(0,n.createCommentVNode)("",!0),"mistStream"===(0,n.unref)(t).currentType?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:function(e){return function(e){d.value=e,document.getElementById("selectedForRemovalItemName").textContent=e.name,document.getElementById("confirmRemoveModal").showModal()}(o)},class:"ml-1 px-2 py-1 text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"},[(0,n.createVNode)((0,n.unref)(i.GN),{icon:"fa-trash-can",class:"text-xs"})],8,de)):(0,n.createCommentVNode)("",!0)])],2)})),128))])])]),(0,n.unref)(t).totalModalPages>1?((0,n.openBlock)(),(0,n.createElementBlock)("div",fe,[(0,n.createElementVNode)("div",me,[(0,n.createElementVNode)("button",{class:"join-item btn btn-sm btn-outline",onClick:o[2]||(o[2]=function(){var e;return(0,n.unref)(t).prevPage&&(e=(0,n.unref)(t)).prevPage.apply(e,arguments)})},"Previous page"),(0,n.createElementVNode)("button",{class:"join-item btn btn-sm btn-outline",onClick:o[3]||(o[3]=function(){var e;return(0,n.unref)(t).nextPage&&(e=(0,n.unref)(t)).nextPage.apply(e,arguments)})},"Next")])])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(s.Z,{id:"updateMistStreamModal","form-errors":e.$page.props.errors,onUpdateList:Ce},{"form-title":(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Update Mist Stream ")]})),"form-description":(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Note: You cannot edit the stream name (right now), it will only create a new stream. This is a bug that needs to be fixed in the AddOrUpdateMistStreamJob ")]})),"button-label":(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Update ")]})),_:1},8,["form-errors"]),(0,n.createElementVNode)("dialog",{id:"confirmSelectionModal",class:"modal"},[(0,n.createElementVNode)("div",{class:"modal-box"},[pe,he,(0,n.createElementVNode)("div",{class:"modal-action"},[(0,n.createElementVNode)("button",{class:"btn",onClick:Se},"Confirm"),ye])])]),(0,n.createElementVNode)("dialog",{id:"confirmRemoveModal",class:"modal"},[(0,n.createElementVNode)("div",{class:"modal-box"},[ve,ge,(0,n.createElementVNode)("div",{class:"modal-action"},[(0,n.createElementVNode)("button",{class:"btn",onClick:Ee},"Confirm"),be])])]),(0,n.createElementVNode)("div",we,[(0,n.createElementVNode)("form",xe,[(0,n.createElementVNode)("button",{class:"btn",onClick:o[4]||(o[4]=function(){var e;return(0,n.unref)(t).clearSelectedChannelAndItems&&(e=(0,n.unref)(t)).clearSelectedChannelAndItems.apply(e,arguments)})},"Close")])])])])}}}},49995:(e,t,r)=>{r.d(t,{Z:()=>k});var n=r(70821),o=r(68691);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",h="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var k={};d(k,s,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(O([])));E&&E!==r&&n.call(E,s)&&(k=E);var N=x.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,i,c,s){var l=m(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,c,s)}),(function(e){r("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=P(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=m(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=m(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(V.prototype),d(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new V(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(N),d(N,u,"Generator"),d(N,s,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function c(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}var s=function(e){return(0,n.pushScopeId)("data-v-c559967c"),e=e(),(0,n.popScopeId)(),e},l={key:0,class:"btn btn-xs mt-1 text-white bg-green-500 hover:bg-green-500"},u=s((function(){return(0,n.createElementVNode)("span",null,null,-1)})),d={id:"confirmPriorityChangeModal",class:"modal"},f={class:"modal-box"},m={class:"font-bold text-lg"},p={class:"py-4"},h={class:"font-bold"},y=s((function(){return(0,n.createElementVNode)("button",{class:"btn",onclick:"document.getElementById('confirmPriorityChangeModal').close()"},"Cancel",-1)}));const v={__name:"SourceSelector",props:["source","sourceType"],setup:function(e){var t=(0,o.useAdminStore)(),r=e,a=function(){t.sourceSelector.source=r.source,t.sourceSelector.sourceType=r.sourceType,document.getElementById("confirmPriorityChangeModal").showModal()},s=function(){var e,r=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setPlaybackPriorityType(t.sourceSelector.source,t.sourceSelector.sourceType);case 2:document.getElementById("confirmPriorityChangeModal").close();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,s,"next",e)}function s(e){c(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return function(r,o){var i,c,v,g,b,w,x,k;return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["source-selector",{"is-priority":null===(i=e.source)||void 0===i?void 0:i.playback_priority_type,"is-playing":null===(c=e.source)||void 0===c?void 0:c.isPlaying,"is-fallback":null===(v=e.source)||void 0===v?void 0:v.isFallback,"has-error":null===(g=e.source)||void 0===g?void 0:g.hasError}])},[(0,n.createElementVNode)("div",null,[(null===(b=e.source)||void 0===b?void 0:b.playback_priority_type)===e.sourceType?((0,n.openBlock)(),(0,n.createElementBlock)("div",l,"Priority")):(0,n.createCommentVNode)("",!0),u])],2),(null===(w=e.source)||void 0===w?void 0:w.playback_priority_type)!==e.sourceType?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"btn btn-xs mt-1",onClick:a},"Set as Priority ")):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("dialog",d,[(0,n.createElementVNode)("div",f,[(0,n.createElementVNode)("h3",m,"Confirm Selection for "+(0,n.toDisplayString)(null===(x=(0,n.unref)(t).sourceSelector)||void 0===x||null===(x=x.source)||void 0===x?void 0:x.name),1),(0,n.createElementVNode)("p",p,[(0,n.createTextVNode)(" Are you sure you want to change priority to "),(0,n.createElementVNode)("span",h,(0,n.toDisplayString)(null===(k=(0,n.unref)(t).sourceSelector)||void 0===k?void 0:k.sourceType),1),(0,n.createTextVNode)("? ")]),(0,n.createElementVNode)("div",{class:"modal-action"},[(0,n.createElementVNode)("button",{class:"btn",onClick:s},"Confirm"),y])])])],64)}}};var g=r(93379),b=r.n(g),w=r(21713),x={insert:"head",singleton:!1};b()(w.Z,x);w.Z.locals;const k=(0,r(83744).Z)(v,[["__scopeId","data-v-c559967c"]])},15957:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(70821),o={class:"block font-medium text-sm text-gray-700"},a={key:0},i={key:1};const c={__name:"Label",props:{value:String},setup:function(e){return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("label",o,[e.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",a,(0,n.toDisplayString)(e.value),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",i,[(0,n.renderSlot)(t.$slots,"default")]))])}}}},53986:(e,t,r)=>{r.r(t),r.d(t,{default:()=>fe});var n=r(70821),o=r(9680),a=(r(23493),r(57810)),i=r(24831),c=r(58358),s=r(74679),l=r(68691),u=r(45345),d=r(59369),f=(r(32379),r(49995),r(68023),r(45384),r(17773),r(28999)),m=r(60595),p=r(69876),h=function(e){return(0,n.pushScopeId)("data-v-6ea1523e"),e=e(),(0,n.popScopeId)(),e},y={class:"month-view"},v={class:"container mx-auto px-4 py-8"},g={class:"flex justify-between items-center mb-4"},b=[h((function(){return(0,n.createElementVNode)("span",null,"<",-1)}))],w=[h((function(){return(0,n.createElementVNode)("span",null,">",-1)}))],x={class:"grid grid-cols-7 gap-4 text-center"},k=["onClick"];const S={__name:"MonthView",setup:function(e){var t=(0,s.useScheduleStore)(),r=(0,p.Jk)(t),o=r.viewingWindowStart,a=(r.currentMonth,r.currentMonthName),i=r.currentYear,c=r.daysInMonth;(0,n.watch)(o,(function(e,r){t.currentMonth=new Date(o.value.getFullYear(),o.value.getMonth(),1)}),{deep:!0});var l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function u(e){return(0,f.K)(e,t.selectedDay)}function d(e){return(0,m.j)(e)===(0,m.j)(t.currentMonth)}return function(e,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",y,[(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("button",{onClick:r[0]||(r[0]=function(){var e;return(0,n.unref)(t).subtractMonth&&(e=(0,n.unref)(t)).subtractMonth.apply(e,arguments)}),class:"p-2 bg-gray-200 rounded-full hover:bg-gray-300"},b),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(a))+" "+(0,n.toDisplayString)((0,n.unref)(i)),1),(0,n.createElementVNode)("button",{onClick:r[1]||(r[1]=function(){var e;return(0,n.unref)(t).addMonth&&(e=(0,n.unref)(t)).addMonth.apply(e,arguments)}),class:"p-2 bg-gray-200 rounded-full hover:bg-gray-300"},w)]),(0,n.createElementVNode)("div",x,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l,(function(e){return(0,n.createElementVNode)("div",{class:"font-bold",key:e},(0,n.toDisplayString)(e),1)})),64)),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(c),(function(e,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["py-2 rounded-full hover:bg-blue-100 cursor-pointer",{"bg-blue-200 text-gray-800":u(e),"text-gray-300":!d(e),"text-gray-800":d(e)}]),key:r,onClick:function(r){return function(e){t.setSelectedDay(e)}(e)}},(0,n.toDisplayString)(e.getDate()),11,k)})),128))])])])}}};var E=r(93379),N=r.n(E),C=r(8044),V={insert:"head",singleton:!1};N()(C.Z,V);C.Z.locals;var T=r(83744);const P=(0,T.Z)(S,[["__scopeId","data-v-6ea1523e"]]);var B={class:"month-view"};const L={__name:"WeekView",setup:function(e){return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",B," WEEK ")}}};var D=r(53404),O={insert:"head",singleton:!1};N()(D.Z,O);D.Z.locals;const M=(0,T.Z)(L,[["__scopeId","data-v-91256a50"]]);var _={class:"month-view"};const A={__name:"ThreeDayView",setup:function(e){return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",_," THREE DAY ")}}};var j=r(22048),I={insert:"head",singleton:!1};N()(j.Z,I);j.Z.locals;const F=(0,T.Z)(A,[["__scopeId","data-v-51271fd0"]]);var Y=r(82889),G=function(e){return(0,n.pushScopeId)("data-v-1bd6adbe"),e=e(),(0,n.popScopeId)(),e},H={class:"place-self-center flex flex-col"},U={id:"topDiv",class:"bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10"},W={class:"flex flex-row justify-between gap-x-4 mb-3"},z=G((function(){return(0,n.createElementVNode)("button",{class:"btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400",disabled:""},"Blank ",-1)})),Z=G((function(){return(0,n.createElementVNode)("button",{class:"btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400",disabled:""},"Blank ",-1)})),R=G((function(){return(0,n.createElementVNode)("button",{class:"btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400",disabled:""},"Blank ",-1)})),$={class:"flex flex-col"},J={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},K={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},Q={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},q={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},X={class:"table w-full text-sm text-left text-gray-500 dark:text-gray-400"},ee={class:"table-header-group text-xs text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},te={class:"table-row"},re={scope:"col",class:"table-cell px-6 py-3 uppercase"},ne=G((function(){return(0,n.createElementVNode)("span",{class:"uppercase"},"Calendar ",-1)})),oe={class:"table-row-group"},ae={class:"calendar"},ie={class:"calendar-view"},ce={class:"view-selector px-6 space-x-2 border-t-2 border-gray-50 pt-6"},se=G((function(){return(0,n.createElementVNode)("span",{class:"text-xm uppercase font-semibold tracking-wider"},"View: ",-1)}));const le={__name:"Index",props:{},setup:function(e){(0,i.U)("admin.schedule");var t=(0,c.useAppSettingStore)(),r=(0,s.useScheduleStore)(),f=(0,l.useAdminStore)(),m=function(){r.setSelectedDayToToday(new Date),p.value="oneDay"},p=(0,n.ref)("oneDay"),h=function(e){p.value=e},y=function(){r.resetAll(),o.Inertia.post("/admin/schedule/admin-reset-cache"),o.Inertia.reload()},v=function(){r.reset(),r.checkAndFetchForUpcomingContent()};return(0,n.onBeforeUnmount)((function(){r.reset()})),function(e,o){var i=(0,n.resolveComponent)("Head"),c=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(i,{title:"Admin/Schedule"}),(0,n.createElementVNode)("div",H,[(0,n.createElementVNode)("div",U,[(0,n.unref)(t).showFlashMessage?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(d.Z),{key:0,flash:e.$page.props.flash},null,8,["flash"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)((0,n.unref)(u.Z),null,{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Schedule")]})),_:1}),(0,n.createElementVNode)("div",W,[(0,n.createElementVNode)("div",null,[(0,n.createVNode)(c,{href:"#"},{default:(0,n.withCtx)((function(){return[z]})),_:1}),(0,n.createVNode)(c,{href:"#"},{default:(0,n.withCtx)((function(){return[Z]})),_:1}),(0,n.createVNode)(c,{href:"#"},{default:(0,n.withCtx)((function(){return[R]})),_:1}),(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(y,["prevent"]),class:"btn btn-sm bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded-lg disabled:bg-gray-400"}," Purge All Caches ")]),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[0]||(o[0]=function(e){return(0,n.unref)(f).searchTerm=e}),type:"search",placeholder:"Search...",class:"border px-2 rounded-lg"},null,512),[[n.vModelText,(0,n.unref)(f).searchTerm]])]),(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("div",J,[(0,n.createElementVNode)("div",K,[(0,n.createElementVNode)("div",Q,[(0,n.createElementVNode)("div",q,[(0,n.createElementVNode)("div",X,[(0,n.createElementVNode)("div",ee,[(0,n.createElementVNode)("div",te,[(0,n.createElementVNode)("div",re,[(0,n.createVNode)((0,n.unref)(a.GN),{icon:"fa-repeat",class:"mr-2 cursor-pointer hover:text-blue-500",onClick:(0,n.withModifiers)(v,["prevent"])}),ne])])]),(0,n.createElementVNode)("div",oe,[(0,n.createElementVNode)("div",ae,[(0,n.createElementVNode)("div",ie,[(0,n.createVNode)((0,n.unref)(P)),(0,n.createElementVNode)("div",ce,[se,(0,n.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return h("week")}),class:(0,n.normalizeClass)(["py-1 px-2 text-black rounded-lg",["week"===p.value?"bg-blue-200":"bg-gray-100 hover:bg-gray-200"]])},"Week",2),(0,n.createElementVNode)("button",{onClick:o[2]||(o[2]=function(e){return h("threeDay")}),class:(0,n.normalizeClass)(["py-1 px-2 text-black rounded-lg",["threeDay"===p.value?"bg-blue-200":"bg-gray-100 hover:bg-gray-200"]])},"3-Day",2),(0,n.createElementVNode)("button",{onClick:o[3]||(o[3]=function(e){return h("oneDay")}),class:(0,n.normalizeClass)(["py-1 px-2 text-black rounded-lg",["oneDay"===p.value?"bg-blue-200":"bg-gray-100 hover:bg-gray-200"]])},"1-Day",2),(0,n.createElementVNode)("button",{onClick:m,class:(0,n.normalizeClass)(["py-1 px-2 text-black rounded-lg",{"bg-blue-200":(0,n.unref)(r).isToday,"bg-gray-100 hover:bg-gray-200":!(0,n.unref)(r).isToday}])},"Today",2)]),"week"===p.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(M),{key:0})):(0,n.createCommentVNode)("",!0),"threeDay"===p.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(F),{key:1})):(0,n.createCommentVNode)("",!0),"oneDay"===p.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Y.Z),{key:2})):(0,n.createCommentVNode)("",!0)])])])])])])])])])])])],64)}}};var ue=r(46992),de={insert:"head",singleton:!1};N()(ue.Z,de);ue.Z.locals;const fe=(0,T.Z)(le,[["__scopeId","data-v-1bd6adbe"]])}}]);
//# sourceMappingURL=3986.js.map