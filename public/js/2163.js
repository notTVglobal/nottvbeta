/*! For license information please see 2163.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2163,1493,2545,4679,2448,7166],{71493:(e,t,r)=>{r.r(t),r.d(t,{useGoLiveStore:()=>d});var n=r(69876),o=r(83004),a=(r(40191),r(87166));r(72200);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){s=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),s=new _(n||[]);return o(i,"_invoke",{value:L(e,r,s)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function w(){}function b(){}function x(){}var S={};d(S,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(O([])));k&&k!==r&&n.call(k,c)&&(S=k);var N=x.prototype=w.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,s,c){var l=h(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=p;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=h(t,r,n);if("normal"===l.type){if(o=n.done?g:m,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(T.prototype),d(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,s,"next",e)}function s(e){c(a,n,o,i,s,"throw",e)}i(void 0)}))}}var u=function(){return{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],isLoadingDestinations:!1,loadingDestinationId:null,processingRecordingChange:!1,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null}},d=(0,n.Q_)("goLiveStore",{state:u,actions:{reset:function(){Object.assign(this,{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],isLoadingDestinations:!1,loadingDestinationId:null,processingRecordingChange:!1,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null})},fetchShows:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/go-live/shows");case 3:r=t.sent,e.shows=r.data,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},generateStreamKey:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedShowId){t.next=2;break}throw new Error("No show selected");case 2:return t.prev=2,t.next=5,axios.post("/go-live/shows/".concat(e.selectedShowId,"/stream-key"));case 5:return r=t.sent,e.selectedShowId&&r.data.stream_key&&(e.selectedShow.mist_stream_wildcard=r.data,e.selectedShow.mist_stream_wildcard_id=r.data.stream_key),t.abrupt("return",r.data);case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},updateAndGetStreamKey:function(){var e,t=this,r=this.shows.find((function(e){return e.id===t.selectedShowId}))||null,n=(null==r||null===(e=r.mist_stream_wildcard)||void 0===e?void 0:e.name)||" < RELOAD THIS PAGE TO GET YOUR STREAM KEY > ";return this.streamKey=n,n},setSelectedShowId:function(e){this.selectedShowId=e,this.updateSelectedShow()},updateSelectedShow:function(){var e=this;this.selectedShow=this.shows.find((function(t){return t.id===e.selectedShowId}))||null},goLive:function(){this.isLive=!0},stopLive:function(){this.isLive=!1},startRecording:function(){var e=this;return l(s().mark((function t(){var r,n,a,i,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),n=e.selectedShow.slug,e.processingRecordingChange=!0,t.prev=3,t.next=6,axios.post("/mist-stream/start-recording/"+n,{stream_name:e.streamKey});case 6:a=t.sent,i=a.data,c=i.message,l=i.status,r.setToastNotification(c,l),e.isRecording=!0,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),r.setToastNotification("Failed to start recording.","error");case 15:return t.prev=15,e.processingRecordingChange=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},stopRecording:function(){var e=this;return l(s().mark((function t(){var r,n,a,i,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),n=e.selectedShow.slug,e.processingRecordingChange=!0,t.prev=3,t.next=6,axios.post("/mist-stream/stop-recording/"+n,{stream_name:e.streamKey});case 6:a=t.sent,i=a.data,c=i.message,l=i.status,r.setToastNotification(c,l),e.isRecording=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),r.setToastNotification("Failed to stop push.","error");case 15:return t.prev=15,e.processingRecordingChange=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},fetchStreamInfo:function(){var e=this;return l(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,o.useNotificationStore)(),t.prev=1,e.mistServerUri){t.next=5;break}return t.next=5,e.fetchMistServerUri();case 5:return t.next=7,axios.post("/fetch-stream-info",{streamName:e.streamKey,mistServerUri:e.mistServerUri});case 7:n=t.sent,e.streamInfo=n.data.streamInfo||[],n.data.streamInfo.error?(n.data.streamInfo.error,"error"):n.data.message&&n.data.success?(n.data.message,"info"):("Received unexpected response from server.","info"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r.setToastNotification("Failed to fetch stream info.","error");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},fetchRtmpUri:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/fetch-rtmp-uri");case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("Failed to fetch");case 6:return t.next=8,r.text();case 8:e.rtmpUri=t.sent,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},clearStreamInfo:function(){this.streamInfo=null},toggleDisplayEpisodeGoLiveComponent:function(e){var t;this.displayEpisodeGoLiveComponent=!this.displayEpisodeGoLiveComponent,this.isEpisode=!!this.displayEpisodeGoLiveComponent,this.episode=e,this.selectedShowId=null==this||null===(t=this.episode)||void 0===t?void 0:t.show_id},updateEpisode:function(e){this.episode=e},fetchMistServerUri:function(){var e=this;return l(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,a.useVideoAuxPlayerStore)(),t.next=3,axios.get("/mist-server/uri");case 3:n=t.sent,e.mistServerUri=n.data,r.setMistServerUri(e.mistServerUri);case 6:case"end":return t.stop()}}),t)})))()},reloadPlayer:function(){var e=this;return l(s().mark((function t(){var r,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,a.useVideoAuxPlayerStore)(),n=(0,o.useNotificationStore)(),e.playerIsReloading=!0,t.prev=3,i={name:e.streamKey},t.next=7,r.loadMistStreamVideo(i,!0).then();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),n.setToastNotification("Failed to reload player.","error");case 12:return t.prev=12,e.playerIsReloading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,9,12,15]])})))()},fetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var r,n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),e.isLoadingDestinations=!0,t.prev=2,t.next=5,axios.post("/go-live/fetch-push-destinations",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!1});case 5:n=t.sent,e.destinations=n.data.destinations||[],e.isRecording=n.data.recording||!1,console.log("response about recording: "+n.data.recording),a=n.data,a.message,a.status,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.setToastNotification("Failed to fetch push destinations.","error");case 15:return t.prev=15,e.isLoadingDestinations=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})))()},backgroundFetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoadingDestinations=!0,t.prev=1,t.next=4,axios.post("/go-live/fetch-push-destinations/",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!0});case 4:r=t.sent,e.destinations=r.data.destinations||[],e.isRecording=r.data.recording||!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),notificationStore.setToastNotification("Failed to fetch push destinations.","error");case 12:return t.prev=12,e.isLoadingDestinations=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},deleteDestination:function(e){var t=this;return l(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm("Are you sure you want to delete the destination with ID: ".concat(e,"?"))){r.next=10;break}return r.prev=1,r.next=4,axios.delete("/mist-stream-push-destinations/"+e);case 4:t.destinations=t.destinations.filter((function(t){return t.id!==e})),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),notificationStore.setGeneralServiceNotification("Error deleting destination",r.t0);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()},startPush:function(e,t){var r=this;return l(s().mark((function n(){var a,i,c,l,u,d;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=(0,o.useNotificationStore)(),r.loadingDestinationId=e,n.prev=2,n.next=5,axios.post("/mist-stream/start-push",{destination_id:e,full_push_uri:t,stream_name:r.streamKey});case 5:i=n.sent,c=i.data,l=c.message,u=c.status,a.setToastNotification(l,u),-1!==(d=r.destinations.findIndex((function(t){return t.id===e})))&&(r.destinations[d].push_is_started=1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),a.setToastNotification("Failed to start push.","error");case 15:return n.prev=15,r.loadingDestinationId=null,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))()},stopPush:function(e){var t=this;return l(s().mark((function r(){var n,a,i,c,l,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,o.useNotificationStore)(),t.loadingDestinationId=e,r.prev=2,r.next=5,axios.post("/mist-stream/stop-push",{destination_id:e});case 5:a=r.sent,i=a.data,c=i.message,l=i.status,n.setToastNotification(c,l),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),n.setToastNotification("Failed to stop push.","error");case 13:return r.prev=13,t.loadingDestinationId=null,-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].push_is_started=0),r.finish(13);case 18:case"end":return r.stop()}}),r,null,[[2,10,13,18]])})))()},enableAutoPush:function(e){var t=this;return l(s().mark((function r(){var n,a,i,c,l,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loadingDestinationId=e,n=(0,o.useNotificationStore)(),r.prev=2,r.next=5,axios.post("/mist-stream/push-auto-add/"+e);case 5:a=r.sent,i=a.data,c=i.message,l=i.status,n.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=1),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),n.setToastNotification("Failed to enable auto push.","error");case 15:return r.prev=15,t.loadingDestinationId=null,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})))()},disableAutoPush:function(e){var t=this;return l(s().mark((function r(){var n,a,i,c,l,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,o.useNotificationStore)(),t.loadingDestinationId=e,r.prev=2,r.next=5,axios.post("/mist-stream/push-auto-remove/"+e);case 5:a=r.sent,i=a.data,c=i.message,l=i.status,n.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=0),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),n.setToastNotification("Failed to disable auto push.","error");case 15:return r.prev=15,t.loadingDestinationId=null,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})))()},disableAllAutoPushes:function(){var e=this;return l(s().mark((function t(){var r,n,a,i,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),e.isProcessingDisableAllAutoPushes=!0,t.prev=2,t.next=5,axios.post("/mist-stream/remove-all-auto-pushes-for-stream",{streamName:e.streamKey});case 5:return n=t.sent,a=n.data,i=a.message,c=a.status,r.setToastNotification(i,c),t.next=10,e.fetchPushDestinations();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.setToastNotification("Failed to disable auto push.","error");case 15:return t.prev=15,e.isProcessingDisableAllAutoPushes=!1,t.next=19,e.fetchPushDestinations();case 19:return t.finish(15);case 20:case"end":return t.stop()}}),t,null,[[2,12,15,20]])})))()}},getters:{selectedShow:function(e){var t,r,n,o=e.shows.find((function(t){return t.id===e.selectedShowId}))||null;return e.streamKey=(null==o||null===(t=o.mist_stream_wildcard)||void 0===t?void 0:t.name)||"Fallback value if undefined",e.wildcardId=(null==o||null===(r=o.mist_stream_wildcard)||void 0===r?void 0:r.id)||"Fallback value if undefined",e.isRecording=(null==o||null===(n=o.mist_stream_wildcard)||void 0===n?void 0:n.is_recording)||!1,o},fullRtmpUri:function(e){return e.rtmpUri?e.rtmpUri+"live/":""},fullUrl:function(e){var t=e.rtmpUri?e.rtmpUri+"live/":"";return"".concat(t).concat(e.streamKey)},activeDestinations:function(e){return e.destinations.filter((function(e){return e.push_is_started}))},sourceName:function(e){var t,r;return null!==(t=e.selectedShow)&&void 0!==t&&null!==(t=t.mist_stream_wildcard)&&void 0!==t&&t.name?e.selectedShow.mist_stream_wildcard.name:null!==(r=e.episode)&&void 0!==r&&null!==(r=r.mist_stream_wildcard)&&void 0!==r&&r.name?e.episode.mist_stream_wildcard.name:null},streamOffline:function(e){var t,r;return"Stream is offline"===(null!==(t=null===(r=e.streamInfo)||void 0===r?void 0:r.error)&&void 0!==t?t:"")}}})},22545:(e,t,r)=>{r.r(t),r.d(t,{useRecordingStore:()=>k});var n=r(69876),o=r(87066),a=r(27484),i=r.n(a),s=r(70178),c=r.n(s),l=r(29387),u=r.n(l),d=r(90771),f=r(40191),h=r(58358),p=r(28037),m=r(69812);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){var n;return n=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(){b=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new _(n||[]);return o(i,"_invoke",{value:L(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function w(){}function x(){}var S={};l(S,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(O([])));k&&k!==r&&n.call(k,i)&&(S=k);var N=x.prototype=y.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==v(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),l(N,c,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function x(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){x(a,n,o,i,s,"next",e)}function s(e){x(a,n,o,i,s,"throw",e)}i(void 0)}))}}i().extend(c()),i().extend(u());var E=function(){return{recordings:[],pagination:{currentPage:1,lastPage:1,total:0},selectedRecording:null,nowPlayingRecording:null,nowPlayingRecordingId:null,isLoading:!1,showCopyMessage:!1,copyMessage:""}},k=(0,n.Q_)("recordingStore",{state:E,actions:{fetchRecordings:function(){var e=arguments,t=this;return S(b().mark((function r(){var n,a,i,s,c;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:1,t.isLoading=!0,i=(0,m.useShowStore)(),s=null===(n=i.show)||void 0===n?void 0:n.id){r.next=8;break}return console.error("No show ID available"),t.isLoading=!1,r.abrupt("return");case 8:return r.prev=8,r.next=11,o.Z.get("/api/recordings",{params:{show_id:s,page:a}});case 11:c=r.sent,t.recordings=c.data.data,t.pagination={currentPage:c.data.current_page,lastPage:c.data.last_page,total:c.data.total},r.next=19;break;case 16:r.prev=16,r.t0=r.catch(8),console.error("Failed to fetch recordings:",r.t0);case 19:return r.prev=19,t.isLoading=!1,r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[8,16,19,22]])})))()},reset:function(){Object.assign(this,{recordings:[],pagination:{currentPage:1,lastPage:1,total:0},selectedRecording:null,nowPlayingRecording:null,nowPlayingRecordingId:null,isLoading:!1,showCopyMessage:!1,copyMessage:""})},formatDateInUserTimezone:function(e){return(0,d.useUserStore)().formatDateInUserTimezone(e)},formatTimeFromDateInUserTimezone:function(e){return(0,d.useUserStore)().formatTimeFromDateInUserTimezone(e)},formatDuration:function(e){var t=Math.floor(e/1e3),r=Math.floor(t/60),n=Math.floor(r/60);t%=60,r%=60;var o=n.toString().padStart(2,"0"),a=r.toString().padStart(2,"0"),i=t.toString().padStart(2,"0");return"".concat(o,"h ").concat(a,"m ").concat(i,"s")},setSelectedRecording:function(e){this.selectedRecording=e},clearSelectedRecording:function(){this.selectedRecording=null},openVideo:function(){var e=this;return S(b().mark((function t(){var r,n,o,a,i,s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,f.useVideoPlayerStore)(),n=(0,h.useAppSettingStore)(),o=(0,p.useNowPlayingStore)(),a=(0,m.useShowStore)(),i=a.show,s={mediaType:"recording",recording:{source:e.selectedRecording.stream_name+".mp4",sourceType:"video/mp4"}},t.prev=6,t.next=9,r.loadNewVideo(s);case 9:e.nowPlayingRecordingId=e.selectedRecording.id,n.toggleOttInfo(),o.setActiveMedia(s.mediaType,{primaryName:i.name,secondaryName:"".concat(e.formatDateInUserTimezone(e.selectedRecording.start_time)," ").concat(e.formatTimeFromDateInUserTimezone(recording.start_time)," Recording"),description:e.selectedRecording.comment||null,primaryUrl:"shows/".concat(i.slug),image:i.image}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),console.error("Error loading new video:",t.t0);case 17:case"end":return t.stop()}}),t,null,[[6,14]])})))()},downloadRecording:function(){if(this.selectedRecording){var e=this.selectedRecording.download_url,t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},shareRecording:function(e){var t=this;navigator.clipboard.writeText(e).then((function(){t.copyMessage="Video share URL copied!",t.showCopyMessage=!0,setTimeout((function(){t.showCopyMessage=!1}),1e3)}))}},getters:{formattedRecordings:function(e){var t=(0,d.useUserStore)();return e.recordings.map((function(e){return y(y({},e),{},{start_date_local:i().utc(e.start_dateTime).tz(t.timezone).format("ddd DD MMM"),start_time_local:i().utc(e.start_dateTime).tz(t.timezone).format("h:mm a"),end_time_local:i().utc(e.end_dateTime).tz(t.timezone).format("h:mm a")})}))}}})},74679:(e,t,r)=>{r.r(t),r.d(t,{useScheduleStore:()=>U});var n=r(69876),o=r(90771),a=r(58358),i=r(27484),s=r.n(i),c=r(70178),l=r.n(c),u=r(29387),d=r.n(u);s().extend(l()),s().extend(d());var f=r(45459),h=r(83372),p=r(17773),m=r(5190),v=r(23318),g=r(79212),y=r.n(g),w=r(37412),b=r.n(w),x=r(55183),S=r.n(x),E=r(28734),k=r.n(E);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function V(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=L(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(){D=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new _(n||[]);return o(i,"_invoke",{value:T(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==r&&n.call(S,i)&&(b=S);var E=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==N(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function L(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(N(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(V.prototype),l(V.prototype,s,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new V(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function B(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){B(a,n,o,i,s,"next",e)}function s(e){B(a,n,o,i,s,"throw",e)}i(void 0)}))}}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){var n;return n=function(e,t){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==N(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=(0,o.useUserStore)();return e.data.map((function(e){var r=e.start_dateTime?t.formatDateTimeFromUtcToUserTimezone(e.start_dateTime,"YYYY-MM-DD HH:mm:ss"):null,n=e.end_dateTime?t.formatDateTimeFromUtcToUserTimezone(e.end_dateTime,"YYYY-MM-DD HH:mm:ss"):null;return P(P({},e),{},{start_dateTime:r,end_dateTime:n,timezone:t.timezone})}))}function I(e){for(var t=[],r=s()(e),n=0;n<6;n++)t.push(r.add(n,"hour").toDate());return t}s().extend(d()),s().extend(S()),s().extend(k()),s().extend(l()),s().extend(y()),s().extend(b());var A=function(){return(0,o.useUserStore)().timezone},F=function(){return{baseTime:s()().tz(A()),currentHalfHour:s()().tz(A()).startOf("hour").add(s()().minute()>=30?30:0,"minute"),fourHoursLater:s()().tz(A()).startOf("hour").add(s()().minute()>=30?30:0,"minute").add(4,"hour"),viewingWindowStart:s()().tz(A()).startOf("hour"),currentMonth:s()().tz(A()).startOf("month"),selectedDay:s()().tz(A()),currentWeekStart:s()().tz(A()).startOf("week"),currentWeekEnd:s()().tz(A()).endOf("week"),nextFourHoursOfContent:[],nextFourHoursOfContentWithPlaceholders:[],fiveDaySixHourSchedule:[],schedules:[],isLoading:!0,nextPage:1,hasMore:!0,todaysContent:[],weeklyContent:[],dataFetchLog:[],savingToSchedule:!1,slotIntervalMinutes:30,mediumScreenSlotHours:4,smallScreenSlotHours:2,verySmallScreenSlotHours:1,timeSlots:[],timeBanners:[{id:1,name:"Early Morning",startTime:"04:00",duration:2},{id:2,name:"Morning",startTime:"06:00",duration:6},{id:3,name:"Afternoon",startTime:"12:00",duration:5},{id:4,name:"Prime Time",startTime:"17:00",duration:3},{id:5,name:"Late Prime Time",startTime:"20:00",duration:3},{id:6,name:"Late Night",startTime:"23:00",duration:2},{id:7,name:"Overnight",startTime:"01:00",duration:3}]}},U=(0,n.Q_)("scheduleStore",{state:F,actions:{resetAll:function(){Object.assign(this,F())},reset:function(){this.baseTime=s()().tz(A()),this.viewingWindowStart=s()().tz(A()).startOf("hour"),this.currentMonth=s()().tz(A()).startOf("month"),this.selectedDay=s()().tz(A())},setSelectedDay:function(e){var t=this;return _(D().mark((function r(){var n;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=s()(e),t.selectedDay=n.toDate(),t.viewingWindowStart=n.startOf("day").add(4,"hours").toDate(),t.currentWeekStart=n.startOf("week").toDate(),t.currentWeekEnd=n.endOf("week").toDate(),r.next=7,t.fetchWeekDataIfNeeded();case 7:case"end":return r.stop()}}),r)})))()},setSelectedDayToToday:function(e){var t=s()();this.selectedDay=t.toDate(),this.viewingWindowStart=t.startOf("hour").toDate()},changeDay:function(e){var t=this;return _(D().mark((function r(){var n,o,a;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=A(),o=60*s()(t.viewingWindowStart).hour()+s()(t.viewingWindowStart).minute(),a=(a=s()(t.viewingWindowStart).tz(n).add(e,"day").startOf("day")).add(o,"minute"),t.viewingWindowStart=a.toDate(),t.viewingWindowStart=a,r.next=8,t.fetchWeekDataIfNeeded();case 8:case"end":return r.stop()}}),r)})))()},shiftHours:function(e){var t=this;return _(D().mark((function r(){return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.viewingWindowStart=s()(t.viewingWindowStart).add(e,"hour").toDate(),t.currentWeekStart=s()(t.viewingWindowStart).startOf("week").toDate(),t.currentWeekEnd=s()(t.viewingWindowStart).endOf("week").toDate(),s()(t.viewingWindowStart).isSame(s()(t.selectedDay),"day")||(t.selectedDay=s()(t.viewingWindowStart).startOf("day").toDate()),r.next=6,t.fetchWeekDataIfNeeded();case 6:case"end":return r.stop()}}),r)})))()},isElevenPM:function(e){return 23===s()(e).hour()},subtractMonth:function(){var e=this;return _(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=s()(e.currentMonth).subtract(1,"month").toDate(),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},addMonth:function(){var e=this;return _(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=s()(e.currentMonth).add(1,"month").toDate(),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},fetchFiveDaySixHourSchedule:function(){var e=this;return _(D().mark((function t(){var r,n;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error("fetchFiveDaySixHourSchedule"),t.prev=1,r=(0,o.useUserStore)(),t.next=5,axios.get("/api/schedule");case 5:n=t.sent,r.timezone||n.data.userTimezone||"UTC",e.fiveDaySixHourSchedule=j(n.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("Failed to load schedule shows:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},fetchTodaysContent:function(){var e=this;return _(D().mark((function t(){var r,n;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,o.useUserStore)(),t.next=4,axios.get("/api/schedule/today");case 4:n=t.sent,r.timezone||n.data.userTimezone||"UTC",e.todaysContent=j(n.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch today's content:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},preloadWeeklyContent:function(){var e=this;return _(D().mark((function t(){var r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("preloading weekly content..."),r=s()(e.baseTime),t.prev=2,t.next=5,e.loadWeekFromDate(r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error("Failed to preload weekly content:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},fetchSchedules:function(e,t){var r=this;return _(D().mark((function n(){var a,i,c,l,u,d,f;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.isLoading=!0,console.log("Loading schedule between: ".concat(e," and ").concat(t)),n.prev=2,a=(0,o.useUserStore)(),i=s()(e),c=s()(t),l=i.toISOString(),u=c.toISOString(),n.next=10,axios.get("/api/schedules/range?start=".concat(l,"&end=").concat(u));case 10:d=n.sent,console.log("Received response:",d.data),a.timezone||d.data.userTimezone,f=j(d.data),r.schedules=T(new Set([].concat(T(r.schedules),T(f)).map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)})),n.next=21;break;case 17:n.prev=17,n.t0=n.catch(2),console.error("Failed to fetch schedules:",n.t0),r.isLoading=!1;case 21:return n.prev=21,r.isLoading=!1,n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[2,17,21,24]])})))()},fetchMoreSchedules:function(){var e=this;return _(D().mark((function t(){var r,n,o;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoading&&e.hasMore){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,console.log("Fetching more schedules..."),t.prev=4,r=e.schedules[e.schedules.length-1],n=r?s()(r.start_dateTime).format("YYYY-MM-DD"):s()().format("YYYY-MM-DD"),o=s()(n).add(7,"day").format("YYYY-MM-DD"),t.next=10,e.fetchSchedules(n,o);case 10:0===e.schedules.slice(e.schedules.length-1).length?e.hasMore=!1:e.nextPage+=1,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("Failed to fetch more schedules:",t.t0);case 17:return t.prev=17,e.isLoading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})))()},loadWeekFromDate:function(e){var t=this;return _(D().mark((function r(){var n,a,i,c,l,u;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=null,t.isLoading=!0,console.log("Loading week from date..."),r.prev=3,a=(0,o.useUserStore)(),i=s()(e),c=i.toISOString(),r.next=9,axios.post("/api/schedule/week/".concat(c));case 9:l=r.sent,i.format("YYYY-MM-DD"),a.timezone||l.data.userTimezone,u=j(l.data),t.weeklyContent=[].concat(T(t.weeklyContent),T(u)).filter((function(e,t,r){return t===r.findIndex((function(t){return t.id===e.id&&t.start_dateTime===e.start_dateTime}))})),t.updateFetchLogs(e),t.isLoading=!1,r.next=22;break;case 18:r.prev=18,r.t0=r.catch(3),console.error("Failed to load content for week starting ".concat(n,":"),r.t0),t.isLoading=!1;case 22:case"end":return r.stop()}}),r,null,[[3,18]])})))()},updateFetchLogs:function(e){var t=s()(e),r=t.startOf("week").toISOString(),n=t.endOf("week").toISOString(),o=s()().toISOString(),a=this.dataFetchLog.findIndex((function(e){return e.weekStart===r&&e.weekEnd===n}));-1!==a?this.dataFetchLog[a].lastFetch=o:this.dataFetchLog.push({weekStart:r,weekEnd:n,lastFetch:o})},needsDataForWeek:function(){var e=function(e){return s()(e).format("YYYY-MM-DD")},t=e(this.currentWeekStart),r=e(this.currentWeekEnd);return!this.dataFetchLog.some((function(n){var o=e(n.weekStart),a=e(n.weekEnd);return o<=t&&a>=r}))},calculateExtendedEndForUpcomingContent:function(){return s()(this.viewingWindowStart).add(6,"hour").toDate()},checkAndFetchForUpcomingContent:function(){var e=this;return _(D().mark((function t(){var r,n,o,a,i,c;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=I(e.viewingWindowStart),n=s()(),o=n.subtract(15,"minutes"),a=V(r),t.prev=4,c=D().mark((function t(){var r,n;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.value,n=r.format("YYYY-MM-DD"),e.weeklyContent.some((function(t){var r=s()(t.start_dateTime).format("YYYY-MM-DD"),a=e.dataFetchLog[n],i=a&&s()(a)>o;return n===r&&i}))){t.next=7;break}return t.next=6,e.fetchDataAndUpdateLog(n,r.toDate());case 6:return t.abrupt("return",1);case 7:case"end":return t.stop()}}),t)})),a.s();case 7:if((i=a.n()).done){t.next=13;break}return t.delegateYield(c(),"t0",9);case 9:if(!t.t0){t.next=11;break}return t.abrupt("break",13);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(4),a.e(t.t1);case 18:return t.prev=18,a.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))()},fetchDataAndUpdateLog:function(e,t){var r=this;return _(D().mark((function n(){var o;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=s()(t),n.next=4,r.loadWeekFromDate(o.toDate());case 4:r.dataFetchLog[e]=s()().toISOString(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Failed to fetch data for date ".concat(e,":"),n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchWeekDataIfNeeded:function(){var e=this;return _(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.needsDataForWeek()){t.next=5;break}return t.next=3,e.checkAndFetchForUpcomingContent().catch((function(e){return console.error("Failed to load data for the week:",e),!1}));case 3:t.next=6;break;case 5:console.log("Week data already loaded; no need to fetch.");case 6:case"end":return t.stop()}}),t)})))()},updateBaseTime:function(e){this.baseTime=s()(e).toDate()},setBaseTime:function(e){this.baseTime=s()(e).toDate()},updateNextFourHours:function(){var e=this;return _(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isLoading=!0,e.updateTimeRange(),e.setTimeSlots(),e.prepareShowsForGrid(),e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},updateTimeRange:function(){var e=s()(this.baseTime).tz(A()),t=e.minute()<30?0:30,r=e.minute(t).second(0).millisecond(0).startOf("minute"),n=(r=r.subtract(30,"minutes")).add(4,"hours");this.currentHalfHour=r.toDate(),this.fourHoursLater=n.toDate()},initializeTimeSlots:function(){this.timeSlots=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=arguments.length>3?arguments[3]:void 0,o=[],a=s()(e).tz(n),i=0;i<60*t/r;i++){var c=a.add(i*r,"minute").toDate();o.push(c)}return o}()},setTimeSlots:function(){var e,t=(0,a.useAppSettingStore)();e=t.isVerySmallScreen?this.verySmallScreenSlotHours:t.isSmallScreen?this.smallScreenSlotHours:this.mediumScreenSlotHours;for(var r=this.slotIntervalMinutes,n=[],o=60*e/r,i=s()(this.currentHalfHour),c=0;c<o;c++){var l=i.add(c*r,"minute");n.push(l.toDate())}return this.timeSlots=n,n.length},prepareShowsForGrid:function(){if(this.timeSlots&&Array.isArray(this.timeSlots)&&0!==this.timeSlots.length){var e=this.filterShowsForTimeRange(),t=this.calculateGridSlots(e,this.timeSlots),r=this.processShows(t),n=this.updateColumnOccupancy(r,this.timeSlots.length),o=n.colOccupancy,a=n.maxRowUsed,i=this.fillGapsAndCreatePlaceholders(o,a,this.timeSlots.length),s=[].concat(T(r),T(i));this.nextFourHoursOfContent=this.sortShowsByPosition(s),console.log(28)}else console.error("timeSlots is not properly initialized.")},filterShowsForTimeRange:function(){var e=this;return this.schedules.filter((function(t){if("string"!=typeof t.start_dateTime||"number"!=typeof t.duration_minutes)return console.warn("Invalid show data:",t.start_dateTime,t.duration_minutes),!1;var r=s()(t.start_dateTime),n=s()(t.end_dateTime),o=r.isBefore(e.fourHoursLater)&&n.isAfter(e.currentHalfHour);if(o)r.isBefore(e.currentHalfHour);return o}))},calculateGridSlots:function(e,t){if(!Array.isArray(t)||0===t.length)return console.error("Invalid or empty timeSlots array"),[];var r=s()(t[0]),n=s()(t[t.length-1]).add(30,"minutes");return e.filter((function(e){var t=s()(e.start_dateTime),o=s()(e.end_dateTime);return t.isBefore(n)&&o.isAfter(r)})).map((function(e){var r=s()(e.start_dateTime),n=s()(e.end_dateTime),o=t.findIndex((function(e){return r.isSameOrBefore(s()(e))}));(-1===o||r.isAfter(s()(t[o])))&&(o=Math.max(0,o));var a=t.findIndex((function(e){return n.isSameOrBefore(s()(e).add(30,"minutes"))}));-1!==a&&n.isBefore(s()(t[a]))&&a--,(-1===a||n.isSame(s()(t[t.length-1]).add(30,"minutes")))&&(a=t.length-1);var i=a-o+1;return P(P({},e),{},{gridStart:o+1,gridSpan:i})}))},processShows:function(e){var t=this,r=!1;return e.forEach((function(e){var n=s()(e.start_dateTime),o=n.add(e.duration_minutes,"minutes"),a=s()(t.baseTime);e.nowPlaying=!e.placeholder&&a.isAfter(n)&&a.isBefore(o)&&1===e.gridRow,r||e.placeholder||1!==e.gridRow||!a.isBefore(n)?e.comingUpNext=!1:(e.comingUpNext=!0,r=!0)})),e},updateColumnOccupancy:function(e,t){var r=new Array(t).fill(null).map((function(){return new Set})),n=0;return e.forEach((function(e){for(var o=e.gridStart-1;o<e.gridStart-1+e.gridSpan;o++)o>=0&&o<t&&(r[o].add(e.gridRow),n=Math.max(n,e.gridRow))})),{colOccupancy:r,maxRowUsed:n}},fillGapsAndCreatePlaceholders:function(e,t,r){var n=[];t=Math.max(t,1);for(var o=1;o<=t;o++)n.push.apply(n,T(this.findAndFillGapsForSingleRow(e,o,r)));return n},findAndFillGapsForSingleRow:function(e,t,r){for(var n=[],o=-1,a=0;a<r;a++)e[a].has(t)?-1!==o&&(1===t?n.push(this.createPlaceholder(o+1,a-o,t)):n.push(this.createBlankSpotPlaceholder(o+1,a-o,t)),o=-1):o=-1===o?a:o;return-1!==o&&(1===t?n.push(this.createPlaceholder(o+1,r-o,t)):n.push(this.createBlankSpotPlaceholder(o+1,r-o,t))),n},sortShowsByPosition:function(e){return Array.isArray(e)?e.sort((function(e,t){return e.gridRow-t.gridRow||e.gridStart-t.gridStart})):(console.error("Expected an array of shows, received:",e),[])},createPlaceholder:function(e,t,r){return{placeholder:!0,startTime:"placeholder",priority:0,gridStart:e,gridSpan:t,gridRow:r,content:{name:"Nothing scheduled."}}},createBlankSpotPlaceholder:function(e,t,r){return{placeholder:!0,startTime:"placeholder",priority:0,gridStart:e,gridSpan:t,gridRow:r,content:{name:"Blank Spot"}}}},getters:{currentTime:function(e){return s()(e.baseTime).format("h:mm A")},currentDate:function(e){return s()(e.baseTime).format("MMMM DD, YYYY")},preparedTimeBanners:function(e){var t=A(),r=s()().tz(t).startOf("day"),n=r.add(1,"day"),o=r.subtract(1,"day");return e.timeBanners.flatMap((function(t){var a=r.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),i=a.clone().add(t.duration,"hours"),c=n.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),l=c.clone().add(t.duration,"hours"),u=o.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),d=u.clone().add(t.duration,"hours");return[P(P({},t),{},{start:u,end:d}),P(P({},t),{},{start:a,end:i}),P(P({},t),{},{start:c,end:l})].map((function(t){var r=e.timeSlots.findIndex((function(e){return t.start.isSameOrBefore(s()(e))&&t.end.isAfter(s()(e))})),n=e.timeSlots.findIndex((function(e){return t.end.isSameOrBefore(s()(e))}));-1===n||t.end.isAfter(s()(e.timeSlots[e.timeSlots.length-1]))?n=e.timeSlots.length-1:n-=1;var o=r+1,a=n-r+1;return o&&a>0?P(P({},t),{},{gridStart:o,gridSpan:a}):null}))})).filter((function(e){return null!=e})).sort((function(e,t){return e.gridStart-t.gridStart}))},nextFourHoursWithHalfHourIntervals:function(e){if(!e.timeSlots||0===e.timeSlots.length)return console.log("timeSlots is null or has no elements"),[];var t=(0,o.useUserStore)(),r=((0,a.useAppSettingStore)(),t.timezone),n=e.timeSlots.length,i=[],c=s()(e.baseTime).tz(r),l=c.minute()<30?c.startOf("hour"):c.startOf("hour").add(30,"minutes");l=l.subtract(30,"minutes");for(var u=0;u<n;u++)i.push({formatted:l.format("hh:mm A"),dateTimeString:l.format("YYYY-MM-DD HH:mm:ss")}),l=l.add(30,"minute");return i},upcomingContent:function(e){var t=s()(e.viewingWindowStart).subtract(1,"hour"),r=t.add(7,"hours"),n=e.weeklyContent.reduce((function(e,t){var r=s()(t.start_dateTime).valueOf();return e[r]||(e[r]=[]),e[r].push(t),e}),{});return Object.values(n).map((function(e){return e.reduce((function(e,t){return!e||t.priority<e.priority?t:e}),null)})).filter((function(e){var n=s()(e.start_dateTime);return n.isSameOrAfter(t)&&n.isBefore(r)})).sort((function(e,t){return s()(e.start_dateTime).unix()-s()(t.start_dateTime).unix()}))},nextSixHours:function(e){for(var t=s()(e.viewingWindowStart),r=t.add(6,"hours"),n=[],o=t;o.isBefore(r);)n.push(o.toDate()),o=o.add(1,"hour");return n},dateMessage:function(e){var t=(0,f.b)(e.viewingWindowStart),r=(0,h.WU)(t,"EEEE MMMM do, yyyy");return(0,p.z)(t)?"Today - ".concat(r):(0,m.g)(t)?"Yesterday - ".concat(r):(0,v.P)(t)?"Tomorrow - ".concat(r):r},currentMonthIndex:function(e){return s()(e.currentMonth).month()},currentMonthName:function(e){return s()(e.currentMonth).format("MMMM")},currentYear:function(e){return s()(e.currentMonth).year()},isToday:function(e){var t=s()(),r=s()(e.viewingWindowStart);return t.isSame(r,"day")},daysInMonth:function(e){for(var t=s()(e.currentMonth),r=t.startOf("month"),n=t.endOf("month"),o=r.startOf("week"),a=n.endOf("week"),i=[],c=o;c.isBefore(a)||c.isSame(a,"day");)i.push(c.toDate()),c=c.add(1,"day");return i}}})},2448:(e,t,r)=>{r.r(t),r.d(t,{useTeamStore:()=>b});var n=r(69876),o=(r(87879),r(27484)),a=r.n(o),i=r(15461),s=r.n(i),c=r(29387),l=r.n(c),u=r(90771),d=r(83004);r(70821);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),s=new _(n||[]);return o(i,"_invoke",{value:L(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function w(){}function b(){}function x(){}var S={};l(S,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(O([])));k&&k!==r&&n.call(k,i)&&(S=k);var N=x.prototype=w.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==f(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=p;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?g:m,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(f(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),l(N,c,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function p(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){p(a,n,o,i,s,"next",e)}function s(e){p(a,n,o,i,s,"throw",e)}i(void 0)}))}}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){var n;return n=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==f(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a().extend(s()),a().extend(l());var w=function(){return{team:{},shows:{},contributors:{},members:{},managers:{},teamOwner:[],teamLeader:[],can:{},id:0,name:"",description:"",slug:"",totalSpots:"",memberSpots:"",activeShow:[],activeEpisode:[],showModal:Boolean,confirmDialog:!1,confirmManagerDialog:!1,selectedManagerName:"",selectedManagerId:0,addManager:!1,removeManager:!1,deleteMemberName:"",deleteMemberId:0,noteEdit:0,note:"",saveNoteProcessing:Boolean,goLiveDisplay:!1,openComponent:"teamShows",nextBroadcastLoaded:{scheduleIndexId:null,broadcastDate:null,broadcastDetails:[{zoomLink:""}],type:"",image:null,category:null,subCategory:null,slug:null,name:null,description:null}}},b=(0,n.Q_)("teamStore",{state:w,actions:{reset:function(){Object.assign(this,w())},initializeTeam:function(e){var t=(0,u.useUserStore)();if(e.nextBroadcast&&e.nextBroadcast.broadcastDetails){this.nextBroadcastLoaded=e.nextBroadcast[0],this.nextBroadcastLoaded.broadcastDetails=[];var r=this.nextBroadcastLoaded.broadcastDetails.find((function(e){return void 0!==e.zoomLink}));r||(r={zoomLink:""},this.nextBroadcastLoaded.broadcastDetails.push(r)),e.nextBroadcast=e.nextBroadcast.map((function(e){return g(g({},e),{},{broadcastDate:t.convertUtcToUserTimezone(e.broadcastDate)})}))}this.team=e||{}},initializeShows:function(e){this.shows=e||{}},initializeContributors:function(e){this.contributors=e||{}},setCan:function(e){this.can=e||{}},setActiveTeam:function(e){this.team.id=e.id,this.team.name=e.name,this.team.description=e.description,this.team.slug=e.slug,this.team.members=e.members,this.team.managers=e.managers,this.team.totalSpots=e.totalSpots,this.memberSpots=e.memberSpots},setActiveShow:function(e){this.activeShow=e},setActiveEpisode:function(e){this.activeShow=e},addMember:function(e){this.team.members.push(e)},removeMember:function(e){this.team.members=this.team.members.filter((function(t){return t.id!==e}))},updateCreatorTeams:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.creators.find((function(t){return t.id===e}));n&&(r?n.teams=n.teams.filter((function(e){return e.id!==t})):n.teams.push({id:t,is_manager:!1}))},deleteTeamMemberCancel:function(){this.confirmDialog=!1},confirmTeamManagerCancel:function(){this.confirmManagerDialog=!1},deleteTeamMember:function(){var e=this;return m(h().mark((function t(){var r,n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,d.useNotificationStore)(),n={user_id:e.deleteMemberId,team_id:e.team.id},t.prev=2,t.next=5,axios.post(route("teams.removeTeamMember"),n);case 5:200===(o=t.sent).status?(e.removeMember(e.deleteMemberId),e.updateCreatorTeams(e.deleteMemberId,e.team.id,!0),e.confirmDialog=!1,r.setToastNotification(o.data.message,"success")):(e.confirmDialog=!1,r.setToastNotification("Failed to remove member from the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmDialog=!1,r.setToastNotification("An error occurred while removing the member from the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},addTeamManager:function(){var e=this;return m(h().mark((function t(){var r,n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,d.useNotificationStore)(),n={user_id:e.selectedManagerId,team_id:e.team.id,team_slug:e.team.slug},t.prev=2,t.next=5,axios.post(route("teams.addTeamManager"),n);case 5:200===(o=t.sent).status?(e.team.managers.push(o.data.manager),e.confirmManagerDialog=!1,r.setToastNotification(o.data.message,"success")):(e.confirmManagerDialog=!1,r.setToastNotification("Failed to add manager to the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmManagerDialog=!1,r.setToastNotification("An error occurred while adding the manager to the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},removeTeamManager:function(){var e=this;return m(h().mark((function t(){var r,n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,d.useNotificationStore)(),n={user_id:e.selectedManagerId,team_id:e.team.id,team_slug:e.team.slug},t.prev=2,t.next=5,axios.post(route("teams.removeTeamManager"),n);case 5:200===(o=t.sent).status?(e.team.managers=e.team.managers.filter((function(t){return t.id!==e.selectedManagerId})),e.confirmManagerDialog=!1,r.setToastNotification(o.data.message,"success")):(e.confirmManagerDialog=!1,r.setToastNotification("Failed to remove manager from the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmManagerDialog=!1,r.setToastNotification("An error occurred while removing the manager from the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},toggleGoLiveDisplay:function(){this.goLiveDisplay=!this.goLiveDisplay},fetchTeamMembers:function(){return m(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/team/team-members").then().error();case 2:case"end":return e.stop()}}),e)})))()},setCreators:function(e){this.creators=e},updatePublicMessage:function(e){this.team.public_message=e}},getters:{spotsRemaining:function(e){return e.team.members?e.team.members?(this.totalSpots=e.team.totalSpots,Math.max(e.team.totalSpots-e.team.members.length,0)):void 0:e.team.totalSpots},membersCount:function(e){return e.team.members?e.team.members?(this.memberSpots=e.team.members.length,e.team.members.length):void 0:0},membersCountDisplay:function(e){if(e.team.members)return e.team.members.length>99?"99+":e.team.members.length},nextBroadcast:function(e){var t=e.team;if(!t.nextBroadcast||0===t.nextBroadcast.length)return null;var r=(0,u.useUserStore)(),n=a()().tz(r.timezone);return t.nextBroadcast.reduce((function(e,t){var o=a()(t.broadcastDate).tz(r.timezone);return!e||Math.abs(o-n)<Math.abs(a()(e.broadcastDate).tz(r.timezone)-n)?t:e}),null)},sortedBroadcasts:function(e){if(!e.team.nextBroadcast||0===e.team.nextBroadcast.length)return[];var t=(0,u.useUserStore)(),r=a()().tz(t.timezone);return e.team.nextBroadcast.filter((function(e){return a()(e.broadcastDate).tz(t.timezone).isAfter(r)})).sort((function(e,r){return a()(e.broadcastDate).tz(t.timezone).diff(a()(r.broadcastDate).tz(t.timezone))})).map((function(e){return g(g({},e),{},{localDate:a()(e.broadcastDate).tz(t.timezone).format()})}))},futureBroadcasts:function(e){var t=this.nextBroadcast;if(!e.team.nextBroadcast||0===e.team.nextBroadcast.length)return[];var r=(0,u.useUserStore)(),n=a()().tz(r.timezone);return e.team.nextBroadcast.filter((function(e){return a()(e.broadcastDate).tz(r.timezone).isAfter(n)&&(!t||e.broadcastDate!==t.broadcastDate)})).sort((function(e,t){return a()(e.broadcastDate).tz(r.timezone).diff(a()(t.broadcastDate).tz(r.timezone))})).map((function(e){return g(g({},e),{},{localDate:a()(e.broadcastDate).tz(r.timezone).format()})}))}}})},87166:(e,t,r)=>{r.r(t),r.d(t,{useVideoAuxPlayerStore:()=>y});var n=r(69876),o=r(58358),a=r(53489),i=r(90771),s=r(26331),c=r(69812),l=r(40365),u=r(72200),d=(r(87879),r(70821)),f=r(83004);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),s=new _(n||[]);return o(i,"_invoke",{value:L(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function w(){}function b(){}function x(){}var S={};l(S,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(O([])));k&&k!==r&&n.call(k,i)&&(S=k);var N=x.prototype=w.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==h(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=f;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?g:m,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(h(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),l(N,c,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function m(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){m(a,n,o,i,s,"next",e)}function s(e){m(a,n,o,i,s,"throw",e)}i(void 0)}))}}var g=function(){return{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1}},y=(0,n.Q_)("videoAuxPlayerStore",{state:g,actions:{reset:function(){Object.assign(this,{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1})},getMistServerUri:function(){var e=this;return v(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/mist-server/uri");case 3:r=t.sent,e.mistServerUri=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setPlayer:function(e){var t=this;this.player=e,this.initializePlayer().then((function(){t.attachEventListeners()})).catch((function(e){console.error("Error during video player initialization:",e)}))},initializePlayer:function(){var e=this;return v(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player){t.next=3;break}return console.error("Video.js player is not initialized."),t.abrupt("return");case 3:return t.next=5,(0,d.nextTick)();case 5:return t.next=7,(0,l.useAudioStore)().ensureAudioContextAndNodesReady(e.player);case 7:e.player.controls(!1),e.player.muted(e.muted),e.player.ready((function(){e.player.play().then((function(){console.log("Playback started successfully")})).catch((function(e){console.error("Error trying to play the video:",e)}))}));case 10:case"end":return t.stop()}}),t)})))()},attachEventListeners:function(){this.player&&!this.eventListenersAttached?(this.player.on("timeupdate",this.handleTimeUpdate),this.player.on("fullscreenchange",this.handleFullscreenChange),this.player.on("play",this.handlePlay),this.player.on("pause",this.handlePause),this.player.on("error",this.handleError),this.eventListenersAttached=!0,console.log("Event listeners attached.")):console.log("Event listeners are already attached or video player is not initialized.")},detachEventListeners:function(){this.player&&this.eventListenersAttached?((0,l.useAudioStore)().stopAudioLevelMonitoring(),this.player.off("timeupdate",this.handleTimeUpdate),this.player.off("fullscreenchange",this.handleFullscreenChange),this.player.off("play",this.handlePlay),this.player.off("pause",this.handlePause),this.player.off("error",this.handleError),this.eventListenersAttached=!1,console.log("Event listeners detached.")):console.log("Event listeners are already detached or video player is not initialized.")},disposePlayer:function(){this.player?(this.detachEventListeners(),this.player.dispose(),this.player=null,console.log("Video player disposed and cleaned up.")):console.error("Video player is not initialized.")},prepareForNewVideoSource:function(e){console.log("Preparing for new video source"),this.loadNewVideo(e)},resetPlayback:function(){this.player&&(this.player.pause(),this.player.muted(!0),this.player.currentTime(0),this.detachEventListeners())},handleTimeUpdate:function(){this.currentTime=this.player.currentTime(),this.duration=this.player.duration();this.currentTime,this.duration;this.formattedTime="".concat(this.formatDuration(this.currentTime)," / ").concat(this.formatDuration(this.duration))},formatDuration:function(e){return[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%60)].map((function(e){return e.toString().padStart(2,"0")})).join(":")},handleFullscreenChange:function(){var e,t=this;console.log("Handling fullscreenchange..."),null===(e=this.player)||void 0===e||e.on("fullscreenchange",(function(){t.player.isFullscreen()||!1===t.player.paused()&&t.player.play()}))},handlePlay:function(){var e,t=this;console.log("Handling play..."),null===(e=this.player)||void 0===e||e.on("play",(function(){t.paused=!1}))},handlePause:function(){var e,t=this;console.log("Handling pause..."),null===(e=this.player)||void 0===e||e.on("pause",(function(){t.paused=!0}))},handleError:function(){var e;console.log("Handling error..."),null===(e=this.player)||void 0===e||e.on("error",(function(){var e=this.player.error();console.error("Video.js Error:",e.code,e.message)}))},makeBlue:function(){this.blue=!0},toggleMute:function(){this.muted?this.unMute():this.mute()},mute:function(){this.player&&(this.player.muted(!0),this.muted=!0)},unMute:function(){this.player&&(this.player.muted(!1),this.muted=!1)},togglePlay:function(){var e=(0,u.Z)("aux-player");this.paused?e.play():e.pause()},load:function(){(0,u.Z)("aux-player").load()},loadNewLiveSource:function(e,t){var r=(0,u.Z)("aux-player"),n=this.mistServerUri+"/hls/"+e+"/index.m3u8";r.src({src:n,type:t}),r.play()},pause:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.pause(),this.paused=!0},play:function(){var e=(0,u.Z)("aux-player");e.play(),e.controls(!1),this.paused=!1},next:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.nextSource)},back:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.previousSource)},fullscreen:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.requestFullscreen()},getVideoCurrentTime:function(){var e=(0,u.Z)("aux-player");e.controls(!1),this.videoCurrentTime=e.currentTime},getSourceDetails:function(e){var t,r;(console.log("getSourceDetails called with source:",e),r=e.type||"video/mp4",console.log("Determined Video Source Type: ".concat(r)),"externalVideo"===e.mediaType)?(t=e.video_url,console.log("Using external video source:",t)):(console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),t="".concat(e.cdn_endpoint).concat(e.cloud_folder).concat(e.folder,"/")+e.file_name,console.log("Constructed internal video source:",t));return console.log("Final Constructed Video Source: ".concat(t,", Type: ").concat(r)),{videoSrc:t,videoSourceType:r}},loadNewVideo:function(e){var t=this;try{var r=(0,u.Z)("aux-player");console.log("LOAD NEW VIDEO");var n=(0,l.useAudioStore)(),o=this.getSourceDetails(e),a=o.videoSrc,i=o.videoSourceType;r&&(r.src({src:a,type:i}),r.ready((function(){n.deferAudioSetup=!1,n.ensureAudioContextAndNodesReady(r).then((function(){r.play().catch((function(e){(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Playback initiation error: "+e),console.error("Playback initiation error: ",e)})),r.muted(!1),t.muted=!1}))})))}catch(e){(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Error loading new video: "+e),console.error("Error loading new video: ",e)}},playNewVideo:function(){var e=this;console.log("PLAY NEW VIDEO"),this.player&&this.player.ready((function(){e.player.play(),e.player.muted(!1),e.muted=!1}))},loadNewSourceFromYouTube:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="video/youtube",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewLiveSourceFromRumble:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewSourceFromUrl:function(e){try{this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");if(!e.video_url||!e.type)throw(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Invalid video source."),new Error("Invalid video source.");this.videoSource=e.video_url,this.videoSourceType=e.type,t.src({src:e.video_url,type:e.type}),this.unMute(),this.paused=!1}catch(e){throw(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Failed to load new source: "+e),console.error("Failed to load new source:",e),e}},loadNewSourceFromMist:function(e){this.videoIsYoutube=!1;var t=(0,u.Z)("aux-player");this.videoSource="https://mist.not.tv/hls/"+e+"/index.m3u8",this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadNewSourceFromFile:function(e){this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player"),r=e.cdn_endpoint+e.cloud_folder+e.folder+"/";this.videoSource=e.file_name,this.videoSourceType=e.type,t.src({src:r+this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadExternalSourceVideo:function(){},loadPlaylistVideos:function(){},loadMistStreamVideo:function(e,t){var r=this;return v(p().mark((function n(){var o,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=!0,t&&(o=!1),r.mistServerUri){n.next=7;break}return console.log("Mist Server URI not set, fetching..."),n.next=7,r.getMistServerUri();case 7:r.mistServerUri?(a=r.mistServerUri,r.videoSource=a+"hls/"+e.name+"/index.m3u8",r.videoSourceType="application/vnd.apple.mpegURL",(0,u.Z)("aux-player").src({src:r.videoSource,type:r.videoSourceType}),o&&r.unMute(),r.paused=!1):console.error("Mist Server URI is still not set after fetching.");case 8:case"end":return n.stop()}}),n)})))()},loadVideoFromFile:function(e){var t=this;return v(p().mark((function r(){var n;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("Video Source Type:",e.type),console.log("Video URL:",e.video_url),console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),n=e.cdn_endpoint+e.cloud_folder+e.folder+"/"+e.file_name,(0,u.Z)("aux-player").src({src:n,type:e.type}),t.unMute(),t.paused=!1;case 11:case"end":return r.stop()}}),r)})))()},setNowPlayingInfoVideoFile:function(e){this.nowPlayingType="Video File",this.nowPlayingName=e.file_name,(0,a.useStreamStore)().currentChannel="On Demand"},setNowPlayingInfoShow:function(e,t){this.clearNowPlayingInfo();var r=(0,c.useShowStore)();e.firstPlayVideo?(r.setName(e.firstPlayVideo.name),r.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(source.firstPlayVideo.slug))):t?(r.setName(e.name),r.setUrl("/shows/".concat(e.slug)),r.setEpisodeName(t.name),r.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(t.slug))):(r.setName(e.name),r.setUrl("/shows/".concat(e.slug)))},makeVideoPiP:function(){},makeVideoFullPage:function(){var e=(0,o.useAppSettingStore)(),t=(0,i.useUserStore)();e.fullPage=!0,e.hidePage=!0,e.ott=0,this.videoContainerClass="fullPageVideoContainer",this.class="fullPageVideoClass",this.controls=!t.isMobile},makeVideoTopRight:function(){var e=(0,o.useAppSettingStore)();e.fullPage=!1,e.hidePage=!1,e.currentPageIsStream=!1,this.videoContainerClass="topRightVideoContainer",this.class="topRightVideoClass",this.controls=!1},makeVideoWelcomePage:function(){var e=(0,o.useAppSettingStore)();this.videoContainerClass="welcomeVideoContainer",this.class="welcomeVideoClass",e.loggedIn=!1,e.fullPage=!0,e.hidePage=!1},setMistServerUri:function(e){this.mistServerUri=e}},getters:{}})},24831:(e,t,r)=>{r.d(t,{U:()=>c});var n=r(70821),o=r(90771),a=r(58358),i=r(40191),s=r(87879);function c(e){var t=(0,o.useUserStore)(),r=(0,a.useAppSettingStore)(),c=(0,i.useVideoPlayerStore)();r.currentPage=e,r.showFlashMessage=!0,r.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||r.fullPage?r.ott=0:(0===r.ott&&(r.ott=4),r.showOttButtons=!0),c.makeVideoTopRight(),r.pageReload&&(r.pageReload=!1,r.pageWasReloaded=!0,window.location.reload()),s.Nd.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||r.fullPage?r.ott=0:0===r.ott&&(r.ott=4),""!==window.location.search&&!r.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),r.shouldScrollToTop=!1})),r.setPrevUrl(),r.showOttButtons=!0,r.noLayout=!1,(0,n.watch)((function(){return r.isSmallScreen}),(function(e){r.ott=e?0:4}),{immediate:!0})}},93515:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,".copy-message{background-color:#000000bf;border-radius:10px;bottom:20%;color:#fff;font-size:1.5rem;left:50%;padding:20px;position:fixed;transform:translateX(-50%);z-index:100}.copy-message,.fade-enter-active,.fade-leave-active{transition:opacity .5s ease}.fade-enter-from,.fade-leave-to{opacity:0}","",{version:3,sources:["webpack://./resources/js/Components/Pages/ShowRecordings/RecordingsListBody.vue"],names:[],mappings:"AA+FA,cAKE,0BAAqC,CAGrC,kBAAmB,CANnB,UAAW,CAIX,UAAY,CAGZ,gBAAiB,CANjB,QAAS,CAIT,YAAa,CANb,cAAe,CAGf,0BAA2B,CAM3B,WAEF,CAEA,oDAHE,2BAKF,CAEA,gCACE,SACF",sourcesContent:['<template>\n  <tbody class="bg-white divide-y divide-gray-200">\n  <tr v-for="recording in recordings" :key="recording.id"\n      @mouseover="state.hoveredRow = recording.id"\n      @mouseleave="state.hoveredRow = null"\n      @click="selectRecording(recording)"\n      :class="rowClass(recording.id)">\n\n    <td class="px-6 py-4 whitespace-nowrap">\n      <div>{{ recording.start_date_local }}</div>\n      <div v-if="recording.comment" class="text-xs uppercase text-orange-700 font-semibold break-words">\n        <span :class="{ \'text-indigo-600\': recording.comment !== \'automated recording\' }">{{ recording.comment }}</span>\n      </div>\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap">\n      {{ recording.start_time_local }}\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap">\n      {{ recording.end_time_local }}\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap">\n      {{ formatDuration(recording.total_milliseconds_recorded) }}\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap"></td>\n    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-1">\n      <button @click.stop="shareRecording(recording.share_url)"\n              class="btn btn-xs bg-orange-200 hover:bg-orange-300 text-black">\n        <font-awesome-icon icon="fa-share" class=""/> Share\n      </button>\n      <button @click.stop="confirmAddToEpisode"\n              class="btn btn-xs">Add To Episode</button>\n      <button @click.stop="confirmDownload(recording)"\n              class="btn btn-xs btn-info">Download</button>\n      <div @click.stop="confirmSaveToPremium" class="btn btn-xs">Save to Premium Storage</div>\n    </td>\n  </tr>\n\n  <transition name="fade">\n    <div v-if="showCopyMessage" class="copy-message">\n      {{ copyMessage }}\n    </div>\n  </transition>\n  </tbody>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \'vue\'\nimport { useRecordingStore } from \'@/Stores/RecordingStore\';\nimport { useClipboard } from \'@vueuse/core\';\n\nconst recordingStore = useRecordingStore();\n\nconst shareClip = useClipboard();\n\nconst showCopyMessage = ref(false);\nconst copyMessage = ref(\'\');\n\nconst recordings = computed(() => recordingStore.formattedRecordings);\nconst state = reactive({\n  hoveredRow: null,\n});\n\nconst selectRecording = (recording) => {\n  recordingStore.setSelectedRecording(recording);\n  document.getElementById(\'confirmRecordingPlaybackModal\').showModal();\n};\n\nconst shareRecording = (shareUrl) => {\n  recordingStore.shareRecording(shareUrl);\n};\n\nconst confirmAddToEpisode = () => {\n  document.getElementById(\'confirmAddToEpisodeModal\').showModal();\n};\n\nconst confirmDownload = (recording) => {\n  recordingStore.setSelectedRecording(recording);\n  document.getElementById(\'confirmDownloadModal\').showModal();\n};\n\nconst confirmSaveToPremium = () => {\n  document.getElementById(\'confirmSaveToPremiumModal\').showModal();\n};\n\nconst rowClass = computed(() => (recordingId) => ({\n  \'hover:bg-blue-100 cursor-pointer\': state.hoveredRow === recordingId,\n  \'bg-green-100\': recordingStore.nowPlayingRecordingId === recordingId,\n}));\n\nconst formatDuration = (totalMilliseconds) => {\n  return recordingStore.formatDuration(totalMilliseconds);\n};\n<\/script>\n\n<style>\n.copy-message {\n  position: fixed;\n  bottom: 20%;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.75);\n  color: white;\n  padding: 20px;\n  border-radius: 10px;\n  font-size: 1.5rem;\n  z-index: 100;\n  transition: opacity 0.5s ease;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s ease;\n}\n\n.fade-enter-from, .fade-leave-to {\n  opacity: 0;\n}\n</style>\n'],sourceRoot:""}]);const s=i},58384:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,".join[data-v-fd48cf10]{display:flex;gap:4px;justify-content:center}.btn-active[data-v-fd48cf10]{background-color:coral}","",{version:3,sources:["webpack://./resources/js/Components/Pages/ShowRecordings/RecordingsPaginator.vue"],names:[],mappings:"AAkCA,uBACE,YAAa,CAEb,OAAQ,CADR,sBAEF,CACA,6BACE,sBACF",sourcesContent:['<template>\n  <div v-if="totalPages > 1" class="join">\n    <button\n        v-for="page in totalPages"\n        :key="page"\n        :class="[\'join-item\', \'btn\', { \'btn-active\': currentPage === page }]"\n        @click="goToPage(page)"\n    >\n      {{ page }}\n    </button>\n  </div>\n</template>\n\n<script setup>\n\nconst props = defineProps({\n  totalPages: {\n    type: Number,\n    required: true,\n  },\n  currentPage: {\n    type: Number,\n    required: true,\n  },\n});\n\nconst emit = defineEmits([\'update\']);\n\nconst goToPage = (page) => {\n  emit(\'update\', page);\n};\n<\/script>\n\n<style scoped>\n.join {\n  display: flex;\n  justify-content: center;\n  gap: 4px;\n}\n.btn-active {\n  background-color: #ff7f50; /* Example active color */\n}\n</style>\n'],sourceRoot:""}]);const s=i},18752:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,".grid[data-v-6990a9f5]{display:grid;grid-template-columns:1fr}@media (min-width:768px){.grid[data-v-6990a9f5]{grid-template-columns:4rem 1fr 1fr 1fr 1fr}}.min-w-16[data-v-6990a9f5]{min-width:4rem}.max-w-16[data-v-6990a9f5]{max-width:4rem}.max-h-16[data-v-6990a9f5]{max-height:4rem}","",{version:3,sources:["webpack://./resources/js/Components/Pages/Shows/Elements/ManageShowEpisode.vue"],names:[],mappings:"AAqJA,uBACE,YAAa,CACb,yBACF,CAEA,yBACE,uBACE,0CACF,CACF,CAEA,2BACE,cACF,CAEA,2BACE,cACF,CAEA,2BACE,eACF",sourcesContent:['<template>\n  <div v-if="showStore.episodeIsBeingDeleted !== episode.id" class="bg-gray-50 grid grid-cols-1 md:grid-cols-5 gap-4 p-4 mb-4 rounded-lg shadow">\n    <div class="flex items-center text-sm w-16">\n      <div v-if="!episode.episodeNumber">{{ episode.id }}</div>\n      <div v-else>{{ episode.episodeNumber }}</div>\n    </div>\n    <div @click="router.visit(`/shows/${showSlug}/episode/${episode.slug}/manage`)" class="hover:cursor-pointer flex items-center space-x-2">\n      <SingleImage :image="episode.image" :alt="episode.name" class="rounded-xl min-w-16 w-16 h-16 object-cover" />\n      <span class="hover:text-blue-600 font-semibold dark:text-blue-400 dark:hover:text-blue-200">\n        {{ episode.name }}\n      </span>\n    </div>\n    <div class="light:text-gray-600 dark:text-gray-100 text-sm flex justify-center items-center">\n      <span v-if="!episode.notes" v-show="showStore.noteEdit !== episode.id" class="italic" @click="editNote">Click here to add/edit a note.</span>\n      <span v-if="episode.notes" v-show="showStore.noteEdit !== episode.id" :key="componentKey" @click="editNote">{{ episode.notes }}</span>\n      <div v-if="showStore.noteEdit === episode.id">\n        <EpisodeNoteEdit :episode="episode" @saveNoteProcessing="reloadNote" />\n        <div v-if="showStore.saveNoteProcessing">Saving...</div>\n      </div>\n    </div>\n    <div class="text-right">\n      <div class="dropdown dropdown-left">\n        <ManageShowEpisodeStatuses\n            :episodeStatus="episode.episodeStatus"\n            :episodeStatusId="episode.episodeStatusId"\n            :episodeStatuses="episodeStatuses"\n            :episodeId="episode.id"\n            :episodeUlid="episode.ulid"\n            :episodeName="episode.name"\n            :episodeSlug="episode.slug"\n            :showSlug="showSlug"\n            :showName="showName"\n            :scheduledDateTime="episode.scheduledReleaseDateTime"\n        />\n      </div>\n      <div v-if="episode.episodeStatusId === 6">\n        Scheduled for: <br />\n        {{ scheduledReleaseDateTime }}\n      </div>\n      <div v-if="episode.episodeStatusId === 7">\n        Released on: <br/>\n        {{ releaseDateTime }}\n      </div>\n    </div>\n    <div class="flex flex-row justify-end items-center">\n      <button\n          v-if="teamStore.can.editShow"\n          @click="appSettingStore.btnRedirect(`/shows/${showSlug}/episode/${episode.slug}/edit`)"\n          class="px-2 py-2 text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg mr-2 w-16 h-10"\n      >\n        Edit\n      </button>\n      <button\n          v-if="teamStore.can.manageShow && !episode.isPublished"\n          @click="deleteShowEpisode"\n          class="px-2 py-2 text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg w-10 h-10"\n      >\n        <font-awesome-icon icon="fa-trash-can" />\n      </button>\n    </div>\n  </div>\n  <div v-else class="w-full text-center p-4">\n    <span class="loading loading-infinity loading-lg"></span>\n    <span class="ml-3">The episode is being deleted...</span>\n  </div>\n</template>\n\n<script setup>\nimport { router } from \'@inertiajs/vue3\';\nimport { useForm } from "@inertiajs/vue3";\nimport { ref } from "vue";\nimport { useAppSettingStore } from "@/Stores/AppSettingStore";\nimport { useTeamStore } from "@/Stores/TeamStore";\nimport { useShowStore } from "@/Stores/ShowStore";\nimport { useUserStore } from "@/Stores/UserStore";\nimport { FontAwesomeIcon } from "@fortawesome/vue-fontawesome";\nimport ManageShowEpisodeStatuses from "@/Components/Pages/Shows/Elements/ManageShowEpisodesStatuses";\nimport EpisodeNoteEdit from "@/Components/Pages/Shows/Elements/ManageEpisodeEditNote";\nimport SingleImage from \'@/Components/Global/Multimedia/SingleImage.vue\';\n\nconst appSettingStore = useAppSettingStore();\nconst teamStore = useTeamStore();\nconst showStore = useShowStore();\nconst userStore = useUserStore();\n\nconst props = defineProps({\n  episode: Object,\n  episodeStatuses: Object,\n  showSlug: String,\n  showName: String,\n});\n\nconst showEpisodeStatuses = ref(false);\nconst releaseDateTime = userStore.formatDateInUserTimezone(props.episode.releaseDateTime, \'ddd DD MMM YYYY\');\nconst scheduledReleaseDateTime = userStore.formatDateInUserTimezone(props.episode.scheduledReleaseDateTime, \'ddd DD MMM YYYY, hh:mm A\' + \' \' + userStore.timezoneAbbreviation);\n\nshowStore.noteEdit = 0;\nconst componentKey = ref(0);\n\nfunction reloadNote() {\n  props.episode.notes = showStore.notes;\n  componentKey.value += 1;\n}\n\nlet form = useForm({\n  note: \'\',\n});\n\nfunction editNote() {\n  showStore.noteEdit = props.episode.id;\n}\n\nfunction openEpisodeStatuses() {\n  document.getElementById(\'episodeStatuses\').showModal();\n}\n\nconst deleteShowEpisode = async () => {\n  const confirmation = confirm(\'Are you sure you want to delete this show episode?\');\n\n  if (confirmation) {\n    try {\n      showStore.episodeIsBeingDeleted = props.episode.id;\n      await axios.delete(`/shows/${props.showSlug}/episode/${props.episode.slug}`)\n          .then((response) => {\n            if (response.status === 200) {\n              showStore.errorMessage = response.data.message;\n              router.reload();\n              showStore.episodeIsBeingDeleted = 0;\n            } else {\n              showStore.errorMessage = response.statusText;\n              console.error(\'Delete request failed:\', response.statusText);\n              showStore.episodeIsBeingDeleted = 0;\n              router.reload();\n            }\n          })\n          .catch((error) => {\n            console.error(\'Error deleting show episode:\', error);\n            showStore.errorMessage = error;\n            showStore.episodeIsBeingDeleted = 0;\n            router.reload();\n          });\n    } catch (error) {\n      console.error(\'Error deleting show episode:\', error);\n    }\n  }\n};\n<\/script>\n\n<style scoped>\n.grid {\n  display: grid;\n  grid-template-columns: 1fr;\n}\n\n@media (min-width: 768px) {\n  .grid {\n    grid-template-columns: 4rem 1fr 1fr 1fr 1fr;\n  }\n}\n\n.min-w-16 {\n  min-width: 4rem;\n}\n\n.max-w-16 {\n  max-width: 4rem;\n}\n\n.max-h-16 {\n  max-height: 4rem;\n}\n</style>\n'],sourceRoot:""}]);const s=i},45349:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,"@keyframes wave-bg-699d87b0{0%,to{background-color:#dbeafe}50%{background-color:#bfdbfe}}.wave-background[data-v-699d87b0]{animation:wave-bg-699d87b0 5s ease-in-out infinite;background-color:#dbeafe}","",{version:3,sources:["webpack://./resources/js/Pages/Shows/{$id}/Manage.vue"],names:[],mappings:"AA8RA,4BACE,MACE,wBACF,CACA,IACE,wBACF,CACF,CAEA,kCACE,kDAA0C,CAC1C,wBACF",sourcesContent:['<template>\n\n  <Head :title="`Manage Show: ${props.show.name}`"/>\n\n  <div id="topDiv" class="place-self-center flex flex-col">\n    <div class="min-h-screen bg-white text-black dark:bg-gray-900 dark:text-gray-50 rounded px-5">\n\n      <Message v-if="appSettingStore.showFlashMessage" :flash="$page.props.flash"/>\n      <div class="alert alert-error mt-4 mx-3"\n           v-if="showStore.errorMessage">\n        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"/>\n        </svg>\n        <span>{{ showStore.errorMessage }}</span>\n        <button class="text-xs ml-12" @click="showStore.errorMessage = \'\'"> Close</button>\n      </div>\n\n      <header class="bg-gradient-to-r from-blue-100 via-white to-transparent p-4 text-black font-bold rounded-lg">\n        \x3c!--            <header class="wave-background p-4 text-black font-bold rounded-lg">--\x3e\n\n        <div class="flex justify-between mb-3 pt-6">\n          <div class="font-bold mb-4 text-black align-bottom text-lg">MANAGE SHOW</div>\n\n          <div class="flex flex-col">\n            <div class="flex flex-row w-full justify-end mb-2">\n              <button\n                  @click="appSettingStore.btnRedirect(`/teams/${team.slug}/manage`)"\n                  class="px-4 py-2 mr-2 mb-2 h-fit text-white font-semibold bg-orange-500 hover:bg-orange-600 rounded-lg"\n              >Back to<br/>\n                Manage Team\n              </button>\n            </div>\n            <div class="flex flex-wrap-reverse justify-end">\n              <button\n                  v-if="can.goLive"\n                  @click="goLive"\n                  class="px-4 py-2 mr-2 mb-2 h-fit text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"\n              >Go Live\n              </button>\n              <button\n                  v-if="teamStore.can.editShow"\n                  @click="appSettingStore.btnRedirect(`/shows/${show.slug}/edit`)"\n                  class="px-4 py-2 mb-2 h-fit text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"\n              >Edit Show\n              </button>\n\n              <DashboardButton class="mb-2"/>\n\n            </div>\n          </div>\n\n        </div>\n\n        <ShowManageHeader\n            :show="props.show"\n            :team="props.team"\n            :can="can"\n        />\n\n        <div class="flex justify-end mt-6">\n\n\n        </div>\n      </header>\n\n      <div class="my-6 text-gray-100">\n        <span class="uppercase text-xs font-semibold text-black">SHOW NOTES: </span>\n        <span class="text-black light:text-black dark:text-white">{{ props.show.notes }}</span>\n      </div>\n\n\n      <div class="flex flex-col">\n        <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">\n          <div class="py-2 align-middle inline-block w-full sm:px-6 lg:px-8 space-y-4">\n\n            <div @click="toggleComponent(\'showEpisodes\')"\n                 :class="{\'rounded-t-lg\': showStore.openComponent === \'showEpisodes\', \'rounded-lg\': showStore.openComponent !== \'showEpisodes\'}"\n                 class="accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-hidden shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white">\n              <font-awesome-icon icon="fa-play-circle" class=""/>\n              Episodes\n            </div>\n            <div v-if="showStore.openComponent === \'showEpisodes\'">\n              <div class="mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg">\n                <ManageShowEpisodesList />\n              </div>\n            </div>\n\n            <div @click="toggleComponent(\'showCredits\')"\n                 :class="{\'rounded-t-lg\': showStore.openComponent === \'showCredits\', \'rounded-lg\': showStore.openComponent !== \'showCredits\'}"\n                 class="accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white">\n              <font-awesome-icon icon="fa-clipboard-list" class=""/>\n              Credits and Assignments\n            </div>\n            <div v-if="showStore.openComponent === \'showCredits\'">\n              <div class="mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg">\n                <div class="border-1 border-t mb-3 bg-blue-100 py-1 px-2 text-xs font-semibold text-red-800">\n                  In development. Not currently working.\n                </div>\n                <Link\n                    :href="`#`"\n                    v-if="teamStore.can.createAssignment">\n                  <button\n                      class="bg-green-500 hover:bg-green-600 text-white ml-2 my-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max"\n                      disabled\n                  >Create Assignment\n                  </button>\n                </Link>\n\n                <ShowCreditsList/>\n              </div>\n            </div>\n\n            <div @click="toggleComponent(\'showRecordings\')"\n                 :class="{\'rounded-t-lg\': showStore.openComponent === \'showRecordings\', \'rounded-lg\': showStore.openComponent !== \'showRecordings\'}"\n                 class="accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white">\n              <font-awesome-icon icon="fa-circle" class="text-red-700"/>\n              Recordings\n            </div>\n            <div v-if="showStore.openComponent === \'showRecordings\'">\n              <div class="mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg">\n                <ShowRecordingsList :showRecordings="show.recordings" :showName="show.name" :showSlug="show.slug"\n                                :showImage="show.image"/>\n\n                \x3c!--            </div>--\x3e\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <ShowFooter :team="team" :show="show"/>\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport { onBeforeUnmount, onMounted, onUnmounted, ref } from \'vue\'\nimport { usePage } from \'@inertiajs/vue3\'\nimport { usePageSetup } from \'@/Utilities/PageSetup\'\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useShowStore } from \'@/Stores/ShowStore\'\nimport { useTeamStore } from \'@/Stores/TeamStore\'\nimport { useGoLiveStore } from \'@/Stores/GoLiveStore\'\nimport ShowManageHeader from \'@/Components/Pages/Shows/Layout/ShowManageHeader\'\nimport ShowFooter from \'@/Components/Pages/Shows/Layout/ShowFooter\'\nimport ManageShowEpisodesList from \'@/Components/Pages/Shows/Elements/ManageShowEpisodesList\'\nimport ShowCreditsList from \'@/Components/Pages/Shows/Elements/ManageShowCreditsList\'\nimport Message from \'@/Components/Global/Modals/Messages\'\nimport DashboardButton from \'@/Components/Global/Buttons/DashboardButton.vue\'\nimport ShowRecordingsList from \'@/Components/Pages/ShowRecordings/ShowRecordingsList.vue\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\n\nusePageSetup(\'shows/slug/manage\')\n\nconst appSettingStore = useAppSettingStore()\nconst showStore = useShowStore()\nconst teamStore = useTeamStore()\nconst goLiveStore = useGoLiveStore()\n\nconst toggleComponent = (componentName) => {\n  showStore.openComponent = showStore.openComponent === componentName ? null : componentName\n}\n\nconst page = usePage().props\n\nconst props = defineProps({\n  show: Object,\n  team: Object,\n  episodes: Object,\n  episodeStatuses: Object,\n  // filters: Object,\n  can: Object,\n})\n\nteamStore.setActiveTeam(props.team)\nteamStore.setActiveShow(props.show)\nteamStore.can = props.can\n\nconst currentUsers = ref([]);\n\nconst goLive = () => {\n  goLiveStore.reset()\n  goLiveStore.preSelectedShowId = props.show.id\n  appSettingStore.btnRedirect(`/golive`)\n}\n\nonMounted(() => {\n  showStore.initializeShow(props.show, props.episodes, props.episodeStatuses)\n  console.log(`Subscribing to channel creator.show.${props.show.id}`)\n\n  Echo.join(`creator.show.${props.show.id}`)\n      .here(async (users) => {\n        console.log(\'Users currently in the channel:\', users)\n        currentUsers.value = users;\n        // Elect the leader (first user in the list)\n        if (users.length > 0) {\n          const leader = users[0];\n          showStore.setLeader(leader);\n          console.log(`Leader elected: ${leader.name}`);\n        }\n\n        console.log(showStore.isUpdatingSchedule, showStore.updatedBy)\n        // Check if the user is the only one in the channel\n        if (currentUsers.value.length === 1 && showStore.isUpdatingSchedule && showStore.updatedBy) {\n          try {\n            // Reset the isUpdatingSchedule and updatedBy fields\n            await axios.put(`/api/shows/${props.show.slug}/meta`, {\n              isUpdatingSchedule: false,\n              updatedBy: showStore.updatedBy,\n            });\n            console.log(\'isUpdatingSchedule and updatedBy fields reset\');\n\n          } catch (error) {\n            console.error(\'Error updating meta:\', error);\n          }\n        }\n      })\n      .joining((user) => {\n        console.log(\'User joined the channel:\', user)\n        currentUsers.value.push(user);\n      })\n      .leaving((user) => {\n        console.log(\'User left the channel:\', user)\n        currentUsers.value = currentUsers.value.filter(u => u.id !== user.id);\n\n        if (user.id === showStore.leader.id) {\n          console.log(\'Leader left, electing new leader\');\n          // Elect a new leader if the current leader leaves\n          if (currentUsers.value.length > 0) {\n            const newLeader = currentUsers.value[0];\n            showStore.setLeader(newLeader);\n            console.log(`New leader elected: ${newLeader.name}`);\n          }\n        }\n        // If current user is still the leader, run the command\n        if (showStore.leader.id === page.user.id) {\n          axios.post(`/api/${props.show.slug}/user-left-channel`, {\n            user: user,\n            channel: `creator.show.${props.show.id}`,\n            showSlug: props.show.slug, // Pass the show slug\n          }).then(response => {\n            console.log(\'Successfully posted to user-left-channel:\', response.data);\n          }).catch(error => {\n            console.error(\'Error posting to user-left-channel:\', error);\n          });\n        }\n      })\n      .listen(\'.CreatorContentStatusUpdated\', (event) => {\n        console.log(\'CreatorContentStatusUpdated event received:\', event)\n        showStore.$patch({\n          isSaving: event.meta.isSaving,\n          isUpdatingSchedule: event.meta.isUpdatingSchedule,\n          updatedBy: event.meta.updatedBy,\n        })\n      })\n      .listen(\'.ShowScheduleDetailsUpdated\', (event) => {\n        console.log(\'ShowScheduleDetailsUpdated event received:\', event);\n        // Assuming `start_DateTime` needs to be transformed into `startTime`\n        const formattedStartTime = event.scheduleDetails.start_DateTime\n        showStore.scheduleDetails = {\n          ...event.scheduleDetails,\n          startTime: formattedStartTime\n        };\n        console.log(\'Updated scheduleDetails.startTime:\', showStore.scheduleDetails.startTime);\n      })\n      .error((error) => {\n        console.error(\'Error subscribing to channel:\', error);\n      });\n\n})\n\nonBeforeUnmount(() => {\n  // Echo.leave(`creator.show.${props.show.id}`);\n  Echo.leave(`creator.show.${props.show.id}`)\n\n  showStore.setUpdatingStatus(false, page.user.name, props.show.slug)\n\n  console.log(`Unsubscribed from channel creator.show.${props.show.id}`)\n  showStore.reset()\n})\n\n<\/script>\n\n\n<style scoped>\n@keyframes wave-bg {\n  0%, 100% {\n    background-color: #dbeafe; /* Original color */\n  }\n  50% {\n    background-color: #bfdbfe; /* Slightly lighter color */\n  }\n}\n\n.wave-background {\n  animation: wave-bg 5s infinite ease-in-out;\n  background-color: #dbeafe; /* Starting color */\n}\n\n\n</style>\n'],sourceRoot:""}]);const s=i},23311:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(70821),o=r(58358);const a={__name:"DashboardButton",setup:function(e){var t=(0,o.useAppSettingStore)();return function(e,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("button",{onClick:r[0]||(r[0]=function(e){return(0,n.unref)(t).btnRedirect("/dashboard")}),class:"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded-lg disabled:bg-gray-400 h-max w-max"},"Dashboard ")])}}}},59369:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(70821),o=r(87879),a=r(58358);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){s=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),s=new _(n||[]);return o(i,"_invoke",{value:L(e,r,s)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function w(){}function b(){}function x(){}var S={};d(S,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(O([])));k&&k!==r&&n.call(k,c)&&(S=k);var N=x.prototype=w.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,s,c){var l=h(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=p;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=h(t,r,n);if("normal"===l.type){if(o=n.done?g:m,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(T.prototype),d(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f={key:1,class:"alert alert-success mt-4 mx-3"},h=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:2,class:"alert alert-warning mt-4 mx-3"},m=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),v={key:3,class:"alert alert-error mt-4 mx-3"},g=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const y={__name:"Messages",props:{flash:Object},setup:function(e){(0,a.useAppSettingStore)().showFlashMessage=!0;var t=e,r=((0,n.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Nd.post(route("flash.clear"));case 2:o.Nd.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,s,"next",e)}function s(e){c(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.unref)(t).flash.message?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,[d,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.message),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.success?((0,n.openBlock)(),(0,n.createElementBlock)("div",f,[h,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.success),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.warning?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[m,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.warning),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",v,[g,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.error),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0)])}}}},32379:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(70821),o=r(58358),a={key:0,class:"flex flex-wrap justify-center my-4 space-x-4 space-y-2"},i=(0,n.createElementVNode)("div",null,null,-1);const s={__name:"Pagination",props:{data:Object},setup:function(e){var t=(0,o.useAppSettingStore)();t.savedScrollPosition=0;var r=function(){t.savedScrollPosition=window.scrollY};return window.scrollTo(0,t.savedScrollPosition),function(t,o){return e.data.last_page>1?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[i,e.data&&e.data.links?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:0},(0,n.renderList)(e.data.links,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.url?"Link":"span"),{key:t,href:e.url,onClick:(0,n.withModifiers)(r,["prevent"]),innerHTML:e.label,class:(0,n.normalizeClass)(["px-4 py-3 text-sm leading-4 h-fit",{"text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400":e.active,"rounded mt-2 mr-0.5 text-gray-300 dark:text-gray-700":!e.url,"rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow":e.url}])},null,8,["href","innerHTML","class"])})),128)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)}}}},94241:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(70821),o=r(58358),a={class:"flex flex-row flex-wrap-reverse justify-between mt-64 mb-4"},i=(0,n.createElementVNode)("span",{class:"text-xs uppercase font-semibold"},"Show ID: ",-1),s={class:"text-xs"},c={class:"flex flex-wrap justify-end text-right"},l={class:"text-gray-200 ml-2 uppercase"},u={key:0},d={key:1},f={key:2,class:"text-xs font-semibold text-gray-500"},h={key:3,class:"text-xs font-semibold text-gray-500"},p={key:4,class:"text-xs font-semibold text-gray-500"};const m={__name:"ShowFooter",props:{team:Object,show:Object},setup:function(e){(0,o.useAppSettingStore)(),(new Date).getFullYear();return function(t,r){var o,m,v;return(0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createElementVNode)("div",null,[i,(0,n.createElementVNode)("span",s,(0,n.toDisplayString)(e.show.ulid),1)]),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",l,(0,n.toDisplayString)(e.show.name)+" ",1),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("  "),e.show.last_release_year>0?((0,n.openBlock)(),(0,n.createElementBlock)("span",u,(0,n.toDisplayString)(e.show.first_release_year)+"-"+(0,n.toDisplayString)(e.show.last_release_year),1)):(0,n.createCommentVNode)("",!0),!e.show.last_release_year&&e.show.first_release_year?((0,n.openBlock)(),(0,n.createElementBlock)("span",d,(0,n.toDisplayString)(e.show.first_release_year),1)):(0,n.createCommentVNode)("",!0),e.show.last_release_year||e.show.first_release_year||!e.show.copyrightYear?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("span",f,(0,n.toDisplayString)(e.show.copyrightYear),1)),7===(null===(o=e.show.creative_commons)||void 0===o?void 0:o.id)?((0,n.openBlock)(),(0,n.createElementBlock)("span",h,"")):(0,n.createCommentVNode)("",!0),null!==(m=e.show.creative_commons)&&void 0!==m&&m.name?((0,n.openBlock)(),(0,n.createElementBlock)("span",p,""+(0,n.toDisplayString)(null===(v=e.show.creative_commons)||void 0===v?void 0:v.name)+"",1)):(0,n.createCommentVNode)("",!0)])])])}}}},15957:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(70821),o={class:"block font-medium text-sm text-gray-700"},a={key:0},i={key:1};const s={__name:"Label",props:{value:String},setup:function(e){return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("label",o,[e.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",a,(0,n.toDisplayString)(e.value),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",i,[(0,n.renderSlot)(t.$slots,"default")]))])}}}},82163:(e,t,r)=>{r.r(t),r.d(t,{default:()=>wa});var n=r(70821),o=r(87879),a=r(24831),i=r(58358),s=r(69812),c=r(2448),l=r(71493),u=r(90771),d=r(83004),f=r(25543),h=(r(28277),r(27484)),p=r.n(h),m=r(70178),v=r.n(m),g=r(29387),y=r.n(g),w=r(74679),b=r(67303);r(61114);const x={__name:"DateTimePicker",props:{date:null},emits:["date-time-selected"],setup:function(e,t){var r=t.emit,o=(0,u.useUserStore)();p().extend(v()),p().extend(y());var a=e,i=r,s=(0,n.ref)(a.date?a.date:p()().tz(o.timezone).format("YYYY-MM-DDTHH:mm:ssZ")),c=((0,n.ref)(null),(0,n.ref)([{key:"today",highlight:!0,dates:new Date}])),l=(0,n.ref)({minutes:{interval:30}});return(0,n.watch)(s,(function(e){i("date-time-selected",{date:e})})),(0,n.onMounted)((function(){a.date||(s.value=p()().tz(o.timezone).format("YYYY-MM-DDTHH:mm:ssZ"))})),function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)((0,n.unref)(b.Mt),{modelValue:(0,n.unref)(s),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,n.isRef)(s)?s.value=e:s=e}),mode:"dateTime",attributes:c.value,rules:l.value},null,8,["modelValue","attributes","rules"])])}}};function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const k={__name:"DatePicker",props:{date:null,disabledDays:{type:Array,default:function(){return[]}}},setup:function(e,t){var r=t.emit,o=e,a=r,i=(0,n.ref)(o.date);(0,n.ref)(null);return(0,n.watch)([i],(function(e){var t=S(e,1)[0];a("date-time-selected",{date:t})})),function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)((0,n.unref)(b.Mt),{modelValue:(0,n.unref)(i),"onUpdate:modelValue":r[0]||(r[0]=function(e){return(0,n.isRef)(i)?i.value=e:i=e}),mode:"date",view:"weekly","disabled-dates":e.disabledDays,expanded:""},null,8,["modelValue","disabled-dates"])])}}};var N={class:"text-2xl mb-2 text-center text-indigo-600"},V={class:"mb-6 text-center text-indigo-600"},T=(0,n.createStaticVNode)('<p class="mt-6 mb-4 px-8 text-left">Here&#39;s what you need to know:</p><ul class="list-disc space-y-2 mb-6 px-8 mx-auto text-left text-black font-medium"><li>The countdown to your next live is on your Manage Show page and Dashboard.</li><li>In case of scheduling conflicts, priority is determined on a first-come, first-served basis. Early scheduling takes precedence. </li><li>Changing your schedule is possible at any time, but be aware of priority spot changes.</li><li>Creators are limited to 3 shows during our beta phase to ensure quality and accessibility.</li><li>Ensure your live stream is connected at least 5 minutes before your scheduled live to maintain priority. </li><li>Unable to go live? Schedule a pre-recorded episode to keep your priority spot.</li></ul><div class="text-center mt-12"><h3 class="text-xl mb-2 text-orange-600">Ready to grow your audience?</h3><p class="mb-4">Invite creators and fans to join notTV with these invite codes.</p></div>',3),L={class:"flex justify-center items-center space-x-4 mt-4 mb-6"};const C={__name:"StepSixCongratulations",setup:function(e){return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("h1",N,[(0,n.renderSlot)(e.$slots,"header")]),(0,n.createElementVNode)("p",V,[(0,n.renderSlot)(e.$slots,"subHeader")]),T,(0,n.createElementVNode)("div",L,[(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){return(0,n.unref)(o.Nd).visit("/invite")}),class:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out"}," Invite Creator "),(0,n.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return(0,n.unref)(o.Nd).visit("/invite")}),class:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out"}," View My Invite Codes ")])])}}};r(15957);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function B(){B=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new _(n||[]);return o(i,"_invoke",{value:V(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(O([])));S&&S!==r&&n.call(S,i)&&(b=S);var E=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==D(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(D(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function _(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e,t,r){var n;return n=function(e,t){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==D(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={id:"addShowToScheduleModal",class:"modal text-black"},j={class:"modal-box w-11/12 max-w-5xl text-black bg-white dark:bg-gray-800 dark:text-white"},I=["disabled"],A={class:"flex flex-row justify-between"},F={key:0,class:"font-bold text-xl"},U={class:"font-medium"},R={key:0,class:"font-medium text-lg"},z={class:"flex flex-col space-y-2 px-12 mt-6"},G={key:0,class:"mt-6"},Y={key:0},H=(0,n.createElementVNode)("div",{class:"mb-2 pb-6 text-primary text-center"},"Confirm Timezone",-1),W={class:"flex flex-row justify-center"},Z=["value"],$={class:"flex flex-row justify-center pt-6"},K={key:1},q=(0,n.createElementVNode)("div",{class:"mb-2 text-primary text-center"},"Choose Schedule Type",-1),Q={class:"flex justify-center space-x-4 mt-4"},X=[(0,n.createElementVNode)("span",{class:"text-lg"},"One-time Event",-1)],J=[(0,n.createElementVNode)("span",{class:"text-lg"},"Recurring Show",-1)],ee={key:1,class:"py-6"},te={key:0,class:"steps w-full"},re=(0,n.createElementVNode)("div",null,"",-1),ne=(0,n.createElementVNode)("div",null,"",-1),oe=(0,n.createElementVNode)("div",null,"",-1),ae={class:"mt-6 pt-6"},ie={key:0,class:"flex flex-row justify-center"},se={class:"flex flex-col"},ce=(0,n.createElementVNode)("div",{class:"mb-2"},"1. Choose start date and time.",-1),le={key:1,class:"flex flex-row justify-center"},ue={class:"flex flex-col"},de=(0,n.createElementVNode)("div",{class:"mb-2"},"3. Choose duration (maximum 3 hours)",-1),fe={class:"flex items-center gap-2"},he=[(0,n.createElementVNode)("option",{value:"0"},"0 hours",-1),(0,n.createElementVNode)("option",{value:"1"},"1 hour",-1),(0,n.createElementVNode)("option",{value:"2"},"2 hours",-1),(0,n.createElementVNode)("option",{value:"3"},"3 hours",-1)],pe=["value"],me={key:2,class:"py-6"},ve={key:0,class:"steps w-full"},ge=(0,n.createElementVNode)("div",null,"",-1),ye=(0,n.createElementVNode)("div",null,"",-1),we=(0,n.createElementVNode)("div",null,"",-1),be=(0,n.createElementVNode)("div",null,"",-1),xe=(0,n.createElementVNode)("div",null,"",-1),Se={class:"mt-6 pt-6"},Ee={key:0},ke=(0,n.createElementVNode)("div",{class:"mb-2"},"1. Choose days of the week.",-1),Ne=["value"],Ve={class:"pl-1"},Te={key:1},Le=(0,n.createElementVNode)("div",{class:"mb-2"},"2. Choose start time",-1),Ce={class:"flex items-center gap-2 text-black bg-white dark:bg-gray-800 dark:text-white"},De=["value"],Be=[(0,n.createElementVNode)("option",{value:"00"},"00",-1),(0,n.createElementVNode)("option",{value:"30"},"30",-1)],_e=[(0,n.createElementVNode)("option",{value:"AM"},"AM",-1),(0,n.createElementVNode)("option",{value:"PM"},"PM",-1)],Oe={key:2},Pe=(0,n.createElementVNode)("div",{class:"mb-2"},"3. Choose duration (maximum 3 hours)",-1),Me={class:"flex items-center gap-2"},je=[(0,n.createElementVNode)("option",{value:"0"},"0 hours",-1),(0,n.createElementVNode)("option",{value:"1"},"1 hour",-1),(0,n.createElementVNode)("option",{value:"2"},"2 hours",-1),(0,n.createElementVNode)("option",{value:"3"},"3 hours",-1)],Ie=["value"],Ae={key:3},Fe=(0,n.createElementVNode)("div",{class:"mb-2"},"4. Choose start date (tomorrow or later)",-1),Ue={key:4},Re=(0,n.createElementVNode)("div",{class:"mb-2"},"5. Choose end date (cannot be longer than 3 months, so 3 months is pre-set)",-1),ze={key:4,class:"p-4 text-red-700 w-full"},Ge={key:0},Ye={key:1},He={key:2},We={class:"flex flex-row justify-between mt-12"},Ze=["disabled"],$e=(0,n.createElementVNode)("div",null,null,-1),Ke=["innerHTML"],qe=(0,n.createElementVNode)("div",null,null,-1),Qe=["disabled"],Xe=["disabled"],Je=(0,n.createElementVNode)("h3",{class:"font-bold text-lg"},"Are you sure you want to add your show to the schedule?",-1);const et={__name:"AddShowToSchedule",props:{id:String,show:Object},setup:function(e){var t=(0,u.useUserStore)(),r=((0,w.useScheduleStore)(),(0,s.useShowStore)()),a=(0,d.useNotificationStore)(),c=(0,i.useAppSettingStore)();p().extend(v()),p().extend(y());(0,o.qt)().props;var l=e,f=(0,n.getCurrentInstance)().proxy,h=function(){f.$confetti.stop()},m="",g=((0,n.ref)(""),(0,n.ref)(null),(0,n.ref)(!1)),b=((0,n.ref)(!1),(0,n.ref)(0)),S=(0,n.ref)(6),E=(0,n.ref)(""),N={scheduleType:"",daysOfWeek:[],startTime:{hour:"12",minute:"00",meridian:"AM"},duration:"",durationHour:"0",durationMinute:"30",durationDisplay:"30 minutes",startDate:"",endDate:"",errors:{}},V=(0,n.reactive)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},N));function T(){g.value=!0}function L(e){V.scheduleType=e,D()}function D(){if(E.value="","recurring"===V.scheduleType){var e=parseInt(V.startTime.hour),r=parseInt(V.startTime.minute);"PM"===V.startTime.meridian&&12!==e?e+=12:"AM"===V.startTime.meridian&&12===e&&(e=0);var n=p()(V.startDate).hour(e).minute(r).second(0).millisecond(0),o=p()().tz(t.timezone),a=p()(n).tz(t.timezone).isBefore(o);1===b.value&&0===V.daysOfWeek.length?E.value="Please select at least one day of the week.":4!==b.value||V.startDate?4===b.value&&a?E.value="Start date must be in the future.":5===b.value&&p()(V.endDate).isAfter(p()(V.startDate).add(3,"months").add(1,"week"))?E.value="End date must be within 3 months and 1 week of the start date. </br>The latest possible end date is ".concat(pt.value,". </br>This limitation is for the Beta Version of notTV only."):5===b.value?document.getElementById("confirmAddShowModal").showModal():b.value<S.value&&b.value++:E.value="Please select a start date."}else if("one-time"===V.scheduleType){var i=p()().tz(t.timezone),s=p()(V.startDate).tz(t.timezone).isBefore(i);1!==b.value||V.startDate?1===b.value&&s?E.value="Start date must be in the future.":2===b.value?document.getElementById("confirmAddShowModal").showModal():b.value<S.value&&b.value++:E.value="Please select a start date."}}function et(){"recurring"===V.scheduleType&&b.value>0?b.value--:"one-time"===V.scheduleType&&b.value>2?b.value=2:"one-time"===V.scheduleType&&b.value--}function tt(e){E.value="","recurring"===V.scheduleType?1===b.value&&0===V.daysOfWeek.length?E.value="Please select at least one day of the week.":4===b.value&&!V.startDate||5===e&&!V.startDate?E.value="Please select a start date.":4===b.value&&p()(V.startDate).isBefore(p()().add(1,"day").startOf("day"))||5===e&&p()(V.startDate).isBefore(p()().add(1,"day").startOf("day"))?E.value="Start date must be later than today.":b.value=e:"one-time"===V.scheduleType&&(1!==b.value||V.startDate?1===b.value&&p()(V.startDate).isBefore(p()().add(1,"day").startOf("day"))?E.value="Start date must be later than today.":b.value=e:E.value="Please select a start date.")}var rt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],nt={Sunday:"Su",Monday:"M",Tuesday:"Tu",Wednesday:"W",Thursday:"Th",Friday:"F",Saturday:"Sa"},ot={Sunday:1,Monday:2,Tuesday:3,Wednesday:4,Thursday:5,Friday:6,Saturday:7},at=(0,n.computed)((function(){return V.daysOfWeek.map((function(e){return{day:e,index:rt.indexOf(e)}})).sort((function(e,t){return e.index-t.index})).map((function(e){return nt[e.day]})).join(", ")}));(0,n.watch)((function(){return V.daysOfWeek}),(function(e){1===b.value&&e.length>0&&(E.value="")}),{immediate:!0});var it=Array.from({length:12},(function(e,t){return(t+1).toString().padStart(2,"0")})),st=(0,n.computed)((function(){return V.startTime.hour&&V.startTime.minute&&V.startTime.meridian?"".concat(V.startTime.hour,":").concat(V.startTime.minute," ").concat(V.startTime.meridian):""})),ct=(0,n.computed)((function(){return"0"===V.durationHour?["30"]:"3"===V.durationHour?["00"]:["00","30"]})),lt=function(){var e="".concat(V.durationHour," hour").concat("1"===V.durationHour?"":"s");"0"===V.durationHour?e="30 minutes":"30"===V.durationMinute&&"0"!==V.durationHour&&(e+=" and 30 minutes"),V.durationDisplay=e};(0,n.watch)((function(){return V.durationMinute}),(function(){lt()}),{immediate:!0}),(0,n.watch)((function(){return V.durationHour}),(function(e){"1"===e||"2"===e||"3"===e?V.durationMinute="00":"0"===e&&(V.durationMinute="30"),lt()}),{immediate:!0}),lt();var ut=(0,n.computed)((function(){return V.startDate?p()(V.startDate).format("hh:mm A"):""})),dt=(0,n.computed)((function(){return V.startDate?p()(V.startDate).format("ddd MMM D YYYY"):""})),ft=(0,n.computed)((function(){return V.endDate?p()(V.endDate).format("ddd MMM D YYYY"):""})),ht=(0,n.computed)((function(){var e=V.daysOfWeek.map((function(e){return ot[e]}));return[{repeat:{weekdays:Object.values(ot).filter((function(t){return!e.includes(t)}))}}]})),pt=(0,n.ref)(""),mt=function(e){var t=e.date;E.value="";p()(t);V.startDate=t,m=p()(t).add(3,"months");for(var r=p()(t).day();m.day()!==r;)m=m.add(1,"day");m.diff(p()(t).add(3,"months"),"week")>1&&(m=m.subtract(m.diff(p()(t).add(3,"months"),"days")%7,"days")),V.endDate=m,pt.value=p()(V.endDate).format("ddd MMM D YYYY")},vt=function(e){var t=e.date;console.log("handleEndDate: "+t),V.endDate=t},gt=function(){var e,t=(e=B().mark((function e(){var t;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wt(),e.prev=1,t=r.preparePayload(V),e.next=5,r.addShowToSchedule(t);case 5:e.sent,tt(6),f.$confetti.start(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error submitting form:",e.t0),tt(6),e.t0.response&&e.t0.response.data?(V.errors=e.t0.response.data,a.setToastNotification(V.errors,"error",1e4)):(V.errors=e.t0.message||"An unknown error occurred",a.setToastNotification(V.errors,"error",1e4));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){_(a,n,o,i,s,"next",e)}function s(e){_(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();function yt(){document.getElementById("addShowToScheduleModal").close(),Object.assign(V,N),V.errors={},h(),b.value=0}function wt(){document.getElementById("confirmAddShowModal").close()}var bt=function(){b.value=0,yt()},xt=(0,n.ref)(t.canadianTimezone);(0,n.watch)((function(){return t.canadianTimezone}),(function(e){xt.value=e}));var St=function(e){"Escape"===e.key&&(console.log("ESC pressed, modal is open"),h(),b.value=0,c.btnRedirect("/shows/".concat(l.show.slug,"/manage")))};function Et(){t.setUserTimezone(xt.value)}return(0,n.onMounted)((function(){document.addEventListener("keydown",St)})),(0,n.onUnmounted)((function(){document.removeEventListener("keydown",St)})),function(e,r){return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("dialog",M,[(0,n.createElementVNode)("div",j,[6===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:(0,n.withModifiers)(yt,["prevent"]),disabled:b.value!==S.value,class:"btn justify-end"},"Close ",8,I)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",A,[(0,n.createElementVNode)("div",null,[6!==b.value?((0,n.openBlock)(),(0,n.createElementBlock)("h2",F,[(0,n.renderSlot)(e.$slots,"form-title",{},(function(){return[(0,n.createTextVNode)("Default Form Title")]})),(0,n.createElementVNode)("span",U,"("+(0,n.toDisplayString)(xt.value)+")",1)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[b.value<=5?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"btn",onClick:(0,n.withModifiers)(bt,["prevent"])},"Cancel ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",null,[6!==b.value?((0,n.openBlock)(),(0,n.createElementBlock)("h4",R,[(0,n.renderSlot)(e.$slots,"form-description",{},(function(){return[(0,n.createTextVNode)("Default Form Description")]}))])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",z,[(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(gt,["prevent"])},[0===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",G,[g.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",K,[q,(0,n.createElementVNode)("div",Q,[(0,n.createElementVNode)("button",{onClick:r[1]||(r[1]=(0,n.withModifiers)((function(e){return L("one-time")}),["prevent"])),class:"btn btn-primary h-40 w-60 bg-indigo-500 hover:bg-indigo-700 text-white rounded-lg flex flex-col p-4"},X),(0,n.createElementVNode)("button",{onClick:r[2]||(r[2]=(0,n.withModifiers)((function(e){return L("recurring")}),["prevent"])),class:"btn btn-primary h-40 w-60 bg-indigo-500 hover:bg-indigo-700 text-white rounded-lg flex flex-col p-4"},J)]),(0,n.createElementVNode)("div",{onClick:r[3]||(r[3]=(0,n.withModifiers)((function(e){return g.value=!1}),["prevent"])),class:"mt-4 btn btn-sm"},"< change timezone")])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Y,[H,(0,n.createElementVNode)("div",W,[(0,n.withDirectives)((0,n.createElementVNode)("select",{id:"timezone-select","onUpdate:modelValue":r[0]||(r[0]=function(e){return xt.value=e}),onChange:Et,class:"ml-2 rounded-lg select select-bordered bg-white dark:bg-gray-800 dark:text-white"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(t).timezones,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e,value:e},(0,n.toDisplayString)(e),9,Z)})),128))],544),[[n.vModelSelect,xt.value]])]),(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(T,["prevent"]),class:"btn btn-primary"},"Confirm Timezone")])]))])):(0,n.createCommentVNode)("",!0),"one-time"===V.scheduleType?((0,n.openBlock)(),(0,n.createElementBlock)("div",ee,[b.value<=5&&0!==b.value?((0,n.openBlock)(),(0,n.createElementBlock)("ul",te,[(0,n.createElementVNode)("li",{onClick:r[4]||(r[4]=(0,n.withModifiers)((function(e){return tt(1)}),["prevent"])),class:(0,n.normalizeClass)(["step cursor-pointer",{"step-primary":b.value>=1&&6!==b.value}])},[re,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":1===b.value})},"Choose Start Day/Time",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":1===b.value})},(0,n.toDisplayString)(dt.value)+"",3),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":1===b.value})},(0,n.toDisplayString)(ut.value)+"",3)],2),(0,n.createElementVNode)("li",{onClick:r[5]||(r[5]=(0,n.withModifiers)((function(e){return tt(2)}),["prevent"])),class:(0,n.normalizeClass)(["step cursor-pointer",{"step-primary":b.value>=2}])},[ne,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":2===b.value})},"Set Duration",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":2===b.value})},(0,n.toDisplayString)(V.durationDisplay)+"",3),oe],2)])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",ae,[1===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",ie,[(0,n.createElementVNode)("div",se,[ce,(0,n.createVNode)(x,{date:V.startDate,onDateTimeSelected:mt},null,8,["date"])])])):(0,n.createCommentVNode)("",!0)]),2===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",le,[(0,n.createElementVNode)("div",ue,[de,(0,n.createElementVNode)("div",fe,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":r[6]||(r[6]=function(e){return V.durationHour=e}),class:"select select-bordered bg-white dark:bg-gray-800 dark:text-white"},he,512),[[n.vModelSelect,V.durationHour]]),(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":r[7]||(r[7]=function(e){return V.durationMinute=e}),class:"select select-bordered bg-white dark:bg-gray-800 dark:text-white"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(ct.value,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e,value:e},(0,n.toDisplayString)(e)+" minutes",9,pe)})),128))],512),[[n.vModelSelect,V.durationMinute]])])])])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),"recurring"===V.scheduleType?((0,n.openBlock)(),(0,n.createElementBlock)("div",me,[b.value<=5&&0!==b.value?((0,n.openBlock)(),(0,n.createElementBlock)("ul",ve,[(0,n.createElementVNode)("li",{onClick:r[8]||(r[8]=(0,n.withModifiers)((function(e){return tt(1)}),["prevent"])),class:(0,n.normalizeClass)(["step cursor-pointer",{"step-primary":b.value>=1&&6!==b.value}])},[ge,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":1===b.value})},"Choose Days",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":1===b.value})},(0,n.toDisplayString)(at.value)+"",3)],2),(0,n.createElementVNode)("li",{onClick:r[9]||(r[9]=(0,n.withModifiers)((function(e){return tt(2)}),["prevent"])),class:(0,n.normalizeClass)(["step cursor-pointer",{"step-primary":b.value>=2}])},[ye,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":2===b.value})},"Start time",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":2===b.value})},(0,n.toDisplayString)((0,n.unref)(st))+"",3)],2),(0,n.createElementVNode)("li",{onClick:r[10]||(r[10]=(0,n.withModifiers)((function(e){return tt(3)}),["prevent"])),class:(0,n.normalizeClass)(["step cursor-pointer",{"step-primary":b.value>=3}])},[we,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":3===b.value})},"Duration",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":3===b.value})},(0,n.toDisplayString)(V.durationDisplay)+"",3)],2),(0,n.createElementVNode)("li",{onClick:r[11]||(r[11]=(0,n.withModifiers)((function(e){return tt(4)}),["prevent"])),class:(0,n.normalizeClass)(["step cursor-pointer",{"step-primary":b.value>=4}])},[be,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":4===b.value})},"Start date",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":4===b.value})},(0,n.toDisplayString)(dt.value)+"",3)],2),(0,n.createElementVNode)("li",{onClick:r[12]||(r[12]=(0,n.withModifiers)((function(e){return tt(5)}),["prevent"])),class:(0,n.normalizeClass)(["step cursor-pointer",{"step-primary":b.value>=5}])},[xe,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":5===b.value})},"End date",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)({"text-primary":5===b.value})},(0,n.toDisplayString)((0,n.unref)(ft))+"",3)],2)])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",Se,[1===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ee,[ke,((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],(function(e){return(0,n.createElementVNode)("label",{key:e,class:"ml-4 cursor-pointer"},[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":r[13]||(r[13]=function(e){return V.daysOfWeek=e}),value:e,class:"cursor-pointer checkbox"},null,8,Ne),[[n.vModelCheckbox,V.daysOfWeek]]),(0,n.createTextVNode)(),(0,n.createElementVNode)("span",Ve,(0,n.toDisplayString)(e),1)])})),64))])):(0,n.createCommentVNode)("",!0),2===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Te,[Le,(0,n.createElementVNode)("div",Ce,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":r[14]||(r[14]=function(e){return V.startTime.hour=e}),class:"form-select select select-bordered text-black bg-white dark:bg-gray-800 dark:text-white"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(it),(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e,value:e},(0,n.toDisplayString)(e),9,De)})),128))],512),[[n.vModelSelect,V.startTime.hour]]),(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":r[15]||(r[15]=function(e){return V.startTime.minute=e}),class:"form-select select select-bordered text-black bg-white dark:bg-gray-800 dark:text-white"},Be,512),[[n.vModelSelect,V.startTime.minute]]),(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":r[16]||(r[16]=function(e){return V.startTime.meridian=e}),class:"form-select select select-bordered text-black bg-white dark:bg-gray-800 dark:text-white"},_e,512),[[n.vModelSelect,V.startTime.meridian]])])])):(0,n.createCommentVNode)("",!0),3===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Oe,[Pe,(0,n.createElementVNode)("div",Me,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":r[17]||(r[17]=function(e){return V.durationHour=e}),class:"select select-bordered text-black bg-white dark:bg-gray-800 dark:text-white"},je,512),[[n.vModelSelect,V.durationHour]]),(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":r[18]||(r[18]=function(e){return V.durationMinute=e}),class:"select select-bordered text-black bg-white dark:bg-gray-800 dark:text-white"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(ct.value,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e,value:e},(0,n.toDisplayString)(e)+" minutes",9,Ie)})),128))],512),[[n.vModelSelect,V.durationMinute]])])])):(0,n.createCommentVNode)("",!0),4===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ae,[Fe,(0,n.createVNode)(k,{date:V.startDate,disabledDays:ht.value,onDateTimeSelected:mt},null,8,["date","disabledDays"])])):(0,n.createCommentVNode)("",!0),5===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ue,[Re,(0,n.createVNode)(k,{date:V.endDate,disabledDays:ht.value,onDateTimeSelected:vt},null,8,["date","disabledDays"])])):(0,n.createCommentVNode)("",!0)])])):(0,n.createCommentVNode)("",!0),6===b.value&&0===Object.keys(V.errors).length?((0,n.openBlock)(),(0,n.createBlock)(C,{key:3,class:"p-4"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Congratulations!")]})),subHeader:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("You've successfully scheduled your show on notTV!")]})),_:1})):(0,n.createCommentVNode)("",!0),6===b.value&&Object.keys(V.errors).length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",ze,[(0,n.createElementVNode)("ul",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(V.errors,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t},[Array.isArray(e)?((0,n.openBlock)(),(0,n.createElementBlock)("span",Ge,(0,n.toDisplayString)(t)+":",1)):(0,n.createCommentVNode)("",!0),Array.isArray(e)?((0,n.openBlock)(),(0,n.createElementBlock)("ul",Ye,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t},(0,n.toDisplayString)(e),1)})),128))])):((0,n.openBlock)(),(0,n.createElementBlock)("span",He,(0,n.toDisplayString)(e),1))])})),128))])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",We,[b.value<=5&&0!==b.value||6===b.value&&V.errors.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:(0,n.withModifiers)(et,["prevent"]),disabled:0===b.value,class:"btn"},"Back ",8,Ze)):(0,n.createCommentVNode)("",!0),$e,E.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"px-3 text-red-700",innerHTML:E.value},null,8,Ke)):(0,n.createCommentVNode)("",!0),qe,b.value<=5&&0!==b.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:2,onClick:(0,n.withModifiers)(D,["prevent"]),disabled:b.value===S.value,class:"btn btn-primary text-white"},"Next ",8,Qe)):(0,n.createCommentVNode)("",!0),6===b.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:3,onClick:(0,n.withModifiers)(yt,["prevent"]),disabled:b.value!==S.value,class:"btn justify-self-end"},"Close ",8,Xe)):(0,n.createCommentVNode)("",!0)])],32)])])]),(0,n.createElementVNode)("dialog",{id:"confirmAddShowModal",class:"modal"},[(0,n.createElementVNode)("div",{class:"modal-box text-center bg-white dark:bg-gray-800 dark:text-white"},[Je,(0,n.createElementVNode)("div",{class:"modal-action flex flex-row justify-center"},[(0,n.createElementVNode)("button",{class:"btn btn-success text-white px-6",onClick:gt},"Yes!"),(0,n.createElementVNode)("button",{class:"btn",onClick:wt},"Go back")])])])],64)}}},tt=et;function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(){nt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new D(n||[]);return o(i,"_invoke",{value:V(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(B([])));S&&S!==r&&n.call(S,i)&&(b=S);var E=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==rt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(rt(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ot(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var at={id:"changeScheduleModal",class:"modal"},it={class:"modal-box w-11/12 max-w-5xl text-black bg-white dark:bg-gray-800 dark:text-white"},st={class:"flex flex-row justify-center text-center"},ct=(0,n.createElementVNode)("h2",{class:"font-bold text-xl"}," Change Show Schedule ",-1),lt=(0,n.createElementVNode)("div",{class:"my-6 font-medium"}," We are developing this feature. Check back soon. ",-1),ut={class:"mb-6"},dt=(0,n.createElementVNode)("div",{class:"mt-4 mb-2 text-left"},null,-1),ft={key:0,class:"mb-6 text-red-700"},ht=(0,n.createElementVNode)("div",null,"Please let Travis know.",-1),pt={class:"flex flex-row justify-center"};const mt={__name:"ChangeShowSchedule",props:{show:Object},setup:function(e){var t=(0,s.useShowStore)(),r=((0,o.qt)().props,e),a=(0,n.ref)(),i=function(){document.getElementById("changeScheduleModal").close()},c=function(){var e,n=(e=nt().mark((function e(){return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeFromSchedule("App\\Models\\Show",r.show.id);case 2:i();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ot(a,n,o,i,s,"next",e)}function s(e){ot(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("dialog",at,[(0,n.createElementVNode)("div",it,[(0,n.createElementVNode)("div",st,[(0,n.createElementVNode)("div",null,[ct,lt,(0,n.createElementVNode)("div",ut,[(0,n.createTextVNode)(" For now you can "),(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(c,["prevent"]),class:"text-blue-700 hover:text-blue-500"},"remove the show"),(0,n.createTextVNode)(" from the schedule and re-add it again. ")]),dt,(0,n.createVNode)(C),a.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",ft,[(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(a.value),1),ht])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",pt,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(i,["prevent"]),class:"btn"},"Okay")])])])])])}}};var vt=r(55112);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function yt(){yt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new D(n||[]);return o(i,"_invoke",{value:V(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(B([])));S&&S!==r&&n.call(S,i)&&(b=S);var E=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==gt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(gt(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function wt(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function bt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){wt(a,n,o,i,s,"next",e)}function s(e){wt(a,n,o,i,s,"throw",e)}i(void 0)}))}}function xt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return St(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Et={class:"flex flex-row items-start"},kt={class:"h-80"},Nt={class:"flex flex-col pl-4"},Vt={class:"hover:text-blue-600 mb-3 inline-flex items-center text-3xl font-semibold relative"},Tt=(0,n.createElementVNode)("span",{class:"text-xs font-semibold uppercase"},"Team: ",-1),Lt=(0,n.createElementVNode)("span",{class:"text-xs font-semibold mr-2 uppercase"},"Show Runner: ",-1),Ct={class:"font-medium font-bold"},Dt={class:"pt-4"},Bt=(0,n.createElementVNode)("span",{class:"text-xs font-semibold mr-2 uppercase"},"Category: ",-1),_t={class:"font-medium text-orange-800"},Ot=(0,n.createElementVNode)("span",{class:"text-xs font-semibold mr-2 uppercase"},"Sub-category: ",-1),Pt={class:"font-medium text-orange-800"},Mt={class:"mt-12 w-full h-full flex flex-col"},jt=(0,n.createElementVNode)("div",{class:"flex-grow"},null,-1),It={key:0},At={key:0},Ft={key:1},Ut={key:0},Rt={key:1},zt={key:1},Gt=["disabled"],Yt={key:0,class:"loading loading-dots text-white"},Ht={key:1,class:""},Wt={key:2},Zt=["disabled"],$t={key:0,class:"loading loading-dots text-white"},Kt={key:1},qt={key:2},Qt={key:2,class:"mt-4 text-red-600"};const Xt={__name:"ShowManageHeader",props:{show:Object,team:Object,can:Object},setup:function(e){p().extend(v()),p().extend(y());var t,r,a=(0,s.useShowStore)(),i=(0,u.useUserStore)(),c=(0,d.useNotificationStore)(),l=(0,o.qt)().props,h=e,m=(0,n.ref)(),g=(0,n.computed)((function(){var e=p()();if(a.scheduleDetails&&a.scheduleDetails.broadcastDates){var t=JSON.parse(a.scheduleDetails.broadcastDates);if(console.log("Parsed broadcastDates:",t),Array.isArray(t.broadcastDates)){var r=t.broadcastDates.map((function(e){var r=p().tz(e,t.timezone);return console.log("date:",r.toString()),r})).filter((function(t){return t.isAfter(e)})).sort((function(e,t){return e-t}));return console.log("upcomingDates:",r),r.length>0?r[0].toISOString():null}}return null})),w=(0,n.computed)((function(){return p()(a.scheduleDetails.startTime).isAfter(p()())})),b=function(e,t){var r=document.getElementById(e);if(r){var n=new MutationObserver((function(e){var n,o=xt(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;"attributes"===a.type&&"open"===a.attributeName&&(r.hasAttribute("open")||t())}}catch(e){o.e(e)}finally{o.f()}}));return n.observe(r,{attributes:!0}),n}},x=function(){var e=bt(yt().mark((function e(){return yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.setUpdatingStatus(!0,l.user.name,h.show.slug);case 3:document.getElementById("addShowToScheduleModal").showModal(),c.setToastNotification("Show meta loaded.","info"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),m.value="Failed to set saving state. Please try again.",c.setToastNotification(m.value,"error",1e4);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=bt(yt().mark((function e(){return yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.setUpdatingStatus(!0,l.user.name,h.show.slug);case 3:document.getElementById("changeScheduleModal").showModal(),c.setToastNotification("Show meta loaded.","info"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),m.value="Failed to set saving state. Please try again.",c.setToastNotification(m.value,"error",1e4);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,n.onMounted)(bt(yt().mark((function e(){var n;return yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b("addShowToScheduleModal",bt(yt().mark((function e(){return yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setUpdatingStatus(!1,l.user.name,h.show.slug);case 2:case"end":return e.stop()}}),e)})))),r=b("changeScheduleModal",bt(yt().mark((function e(){return yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setUpdatingStatus(!1,l.user.name,h.show.slug);case 2:case"end":return e.stop()}}),e)})))),!(n=h.show.meta).isUpdatingSchedule||n.updatedBy!==l.user.name){e.next=6;break}return e.next=6,a.setUpdatingStatus(!1,l.user.name,h.show.slug);case 6:case"end":return e.stop()}}),e)})))),(0,n.onBeforeUnmount)((function(){t&&t.disconnect(),r&&r.disconnect()})),function(t,r){var o,s,c=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",Et,[(0,n.createVNode)(c,{href:"/shows/".concat(e.show.slug),class:"uppercase"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",kt,[(0,n.createVNode)((0,n.unref)(f.Z),{image:e.show.image,alt:"'show poster'",class:"w-60 object-contain mr-2 justify-left"},null,8,["image"])])]})),_:1},8,["href"]),(0,n.createElementVNode)("div",Nt,[(0,n.createVNode)(c,{href:"/shows/".concat(e.show.slug),class:"uppercase"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("span",Vt,(0,n.toDisplayString)(e.show.name),1)]})),_:1},8,["href"]),(0,n.createElementVNode)("div",null,[Tt,(0,n.createVNode)(c,{href:"/teams/".concat(e.team.slug,"/manage"),class:"text-blue-500 hover:text-blue-600 ml-2 uppercase font-bold"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.team.name),1)]})),_:1},8,["href"])]),(0,n.createElementVNode)("div",null,[Lt,(0,n.createElementVNode)("span",Ct,(0,n.toDisplayString)(e.show.showRunner.name),1)]),(0,n.createElementVNode)("div",Dt,[Bt,(0,n.createElementVNode)("span",_t,(0,n.toDisplayString)(null===(o=e.show)||void 0===o||null===(o=o.category)||void 0===o?void 0:o.name),1)]),(0,n.createElementVNode)("div",null,[Ot,(0,n.createElementVNode)("span",Pt,(0,n.toDisplayString)(null===(s=e.show)||void 0===s||null===(s=s.subCategory)||void 0===s?void 0:s.name),1)]),(0,n.createElementVNode)("div",Mt,[jt,(0,n.unref)(a).isScheduled&&(0,n.unref)(a).scheduleDetails?((0,n.openBlock)(),(0,n.createElementBlock)("div",It,[g.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",At,[(0,n.createTextVNode)(" The next broadcast date is "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(i).formatDateTimeFromUtcToUserTimezone(g.value))+""+(0,n.toDisplayString)((0,n.unref)(i).timezoneAbbreviation),1),(0,n.createTextVNode)(". "),(0,n.createVNode)(vt.Z,{dateTime:g.value,class:(0,n.normalizeClass)("text-yellow-500")},null,8,["dateTime"])])):w.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ft,[(0,n.createTextVNode)(" The next broadcast date is "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(i).formatDateTimeFromUtcToUserTimezone((0,n.unref)(a).scheduleDetails.startTime))+""+(0,n.toDisplayString)((0,n.unref)(i).timezoneAbbreviation),1),(0,n.createTextVNode)(". "),(0,n.createVNode)(vt.Z,{dateTime:(0,n.unref)(a).scheduleDetails.startTime,class:(0,n.normalizeClass)("text-yellow-500")},null,8,["dateTime"])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)(" Your show is currently scheduled as "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(a).scheduleDetails.type),1),(0,n.createTextVNode)(". "),"one-time"===(0,n.unref)(a).scheduleDetails.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ut,[(0,n.createTextVNode)(" It will start on "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(i).formatDateTimeFromUtcToUserTimezone((0,n.unref)(a).scheduleDetails.startTime))+""+(0,n.toDisplayString)((0,n.unref)(i).timezoneAbbreviation),1),(0,n.createTextVNode)(" and last for "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(a).scheduleDetails.durationMinutes)+" minutes",1),(0,n.createTextVNode)(". ")])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Rt,[Array.isArray((0,n.unref)(a).scheduleDetails.daysOfWeek)?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)(" It recurs on "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(a).scheduleDetails.daysOfWeek.join(", ")),1)],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)(" It recurs on "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(a).scheduleDetails.daysOfWeek),1)],64)),(0,n.createTextVNode)(" starting at "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(i).formatTimeFromDateInUserTimezone((0,n.unref)(a).scheduleDetails.startTime))+""+(0,n.toDisplayString)((0,n.unref)(i).timezoneAbbreviation),1),(0,n.createTextVNode)(" with each occurrence lasting "),(0,n.createElementVNode)("strong",null,(0,n.toDisplayString)((0,n.unref)(a).scheduleDetails.durationMinutes)+" minutes",1),(0,n.createTextVNode)(". ")]))])])):(0,n.createCommentVNode)("",!0),e.can.editShow?((0,n.openBlock)(),(0,n.createElementBlock)("div",zt,[(0,n.unref)(a).isScheduled?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:x,disabled:(0,n.unref)(a).loadingUpdatingStatus||(0,n.unref)(a).isUpdatingSchedule||(0,n.unref)(a).isSaving,class:"btn btn-lg bg-green-500 hover:bg-green-700 border-green-500 text-white drop-shadow-lg py-2 flex flex-col disabled:text-white"},[(0,n.unref)(a).loadingUpdatingStatus?((0,n.openBlock)(),(0,n.createElementBlock)("span",Yt)):(0,n.unref)(a).isUpdatingSchedule||(0,n.unref)(a).isSaving?((0,n.openBlock)(),(0,n.createElementBlock)("span",Wt,"The schedule is being updated...")):((0,n.openBlock)(),(0,n.createElementBlock)("span",Ht,"Add Show To Schedule"))],8,Gt)),(0,n.unref)(a).isScheduled?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:S,disabled:(0,n.unref)(a).loadingUpdatingStatus||(0,n.unref)(a).isUpdatingSchedule||(0,n.unref)(a).isSaving,class:"btn btn-lg bg-indigo-500 hover:bg-indigo-700 border-indigo-500 text-white drop-shadow-lg py-2 flex flex-col"},[(0,n.unref)(a).loadingUpdatingStatus?((0,n.openBlock)(),(0,n.createElementBlock)("span",$t)):(0,n.unref)(a).isUpdatingSchedule||(0,n.unref)(a).isSaving?((0,n.openBlock)(),(0,n.createElementBlock)("span",qt,"The schedule is being updated...")):((0,n.openBlock)(),(0,n.createElementBlock)("span",Kt,"Change Schedule"))],8,Zt)):(0,n.createCommentVNode)("",!0),(0,n.unref)(a).isUpdatingSchedule?((0,n.openBlock)(),(0,n.createElementBlock)("div",Qt,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(a).updatedBy)+" is currently updating the schedule...",1)])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])])]),(0,n.createVNode)(tt,{show:e.show},{"form-title":(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Add your show to the schedule ")]})),"form-description":(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" NOTE: You may want to schedule episodes individually. ")]})),"button-label":(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Add ")]})),_:1},8,["show"]),(0,n.createVNode)(mt,{show:e.show},null,8,["show"])])}}};var Jt=r(94241),er=r(57810),tr=r(83372);var rr=r(84110),nr=r.n(rr);function or(e){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(e)}function ar(){ar=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new D(n||[]);return o(i,"_invoke",{value:V(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(B([])));S&&S!==r&&n.call(S,i)&&(b=S);var E=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==or(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(or(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ir(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var sr={key:0},cr={key:1},lr={class:"modal-box h-fit bg-white text-black"},ur={key:0},dr=(0,n.createElementVNode)("h3",{class:"text-center mb-2"},"Episode is Published",-1),fr=(0,n.createElementVNode)("p",{class:"text-center mb-2"}," Please contact the notTV Team if you need to change the episode status. This is because the episode is already promoted and distributed. ",-1),hr={class:"text-center"},pr=["href"],mr={key:0,class:"text-center mt-2"},vr={key:1},gr={key:0},yr=(0,n.createElementVNode)("h2",{class:"text-center mb-2"},"Change the Episode Status:",-1),wr=["onClick"],br={key:1},xr=(0,n.createElementVNode)("h3",{class:"text-center mb-2"},"Set the Scheduled Release Date and Time:",-1),Sr={class:"text-center"},Er=(0,n.createElementVNode)("form",{method:"dialog",class:"modal-backdrop"},[(0,n.createElementVNode)("button",null,"close")],-1),kr=["id"],Nr={class:"modal-box"},Vr=(0,n.createElementVNode)("h3",{class:"text-center font-bold text-lg"},"Are you sure you want to publish?",-1),Tr=(0,n.createElementVNode)("p",{class:"text-center py-4"},"This action cannot be undone. When you publish an episode it registers it on the blockchain and promotes it on the network.",-1),Lr={class:"modal-action"},Cr={method:"dialog"},Dr=(0,n.createElementVNode)("button",{class:"btn text-white bg-orange-600 hover:bg-orange-500"},"No, cancel",-1),Br=["id"],_r={class:"modal-box bg-gray-100 text-black"},Or=(0,n.createElementVNode)("h3",{class:"text-center font-bold text-lg"},"Change Status (Admin Only)",-1),Pr=(0,n.createElementVNode)("p",{class:"text-center py-4"},'This is the Admin Override to change the episode status. If the episode is already published and you un-publish it the episode will be reverted to "Review" and become inaccessible to the public.',-1),Mr={class:"w-full flex justify-center mt-2 pb-4"},jr={method:"dialog"},Ir=(0,n.createElementVNode)("p",{class:"text-center py-4"},[(0,n.createElementVNode)("span",{class:"font-semibold"},"Please Note:"),(0,n.createTextVNode)(" Un-publishing will have an adverse affect on the promotional links already used.")],-1);const Ar={__name:"ManageShowEpisodesStatuses",props:{episodeId:"",episodeUlid:"",episodeName:"",episodeSlug:"",episodeStatus:"",episodeStatusId:"",episodeStatuses:Object,showName:"",showSlug:"",scheduledDateTime:String},setup:function(e){var t=(0,c.useTeamStore)(),r=(0,s.useShowStore)(),a=(0,u.useUserStore)(),i=(0,d.useNotificationStore)();p().extend(nr()),p().extend(y()),p().extend(v());var l=e,f=((0,n.ref)(a.timezone),(0,n.ref)(""));(0,n.watchEffect)((function(){a.timezone&&(f.value=p().utc(l.scheduledDateTime).tz(a.timezone).format())}));(0,n.ref)("");var h=l.episodeId+"episodeStatuses",m=(0,n.ref)(null),g=(0,n.ref)(!1);function w(){document.getElementById(h).showModal()}var b=function(){g.value=!g.value},S=function(e){E.value=e,m=e.date,N(m)};console.log("we already have the user timezone: "+a.timezone);var E=(0,n.ref)(""),k=(0,n.ref)(""),N=function(e){E.value?k.value=function(e,t){return(0,tr.WU)(e,"yyyy-MM-dd HH:mm:ssXXX",{userTimezone:t})}(new(p())(e).tz(a.timezone).format()):k.value=""};function V(e,t){return T.apply(this,arguments)}function T(){var e;return e=ar().mark((function e(t,n){var a,s,c,l;return ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/shows/episode/changeEpisodeStatus",{episode_id:t,new_status_id:n,scheduled_release_dateTime:k.value});case 3:a=e.sent,i.setToastNotification(a.data.message,"success"),a.data.alert?alert(a.data.alert):(s=a.data,-1!==(c=r.episodes.data.findIndex((function(e){return e.id===s.episode_id})))&&(r.episodes.data[c].episodeStatusId=s.episode_status_id,r.episodes.data[c].scheduledReleaseDateTime=s.scheduled_release_dateTime,(l=r.episodeStatuses.find((function(e){return e.id===s.episode_status_id})))&&(r.episodes.data[c].episodeStatus=l.name))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&(i.setToastNotification(e.t0.response.data,"error"),r.errorMessage=e.t0.response.data.error);case 11:document.getElementById(h).close(),o.Nd.reload();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})),T=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ir(a,n,o,i,s,"next",e)}function s(e){ir(a,n,o,i,s,"throw",e)}i(void 0)}))},T.apply(this,arguments)}var L=function(){document.getElementById(h).close(),document.getElementById("confirmPublishModal."+l.episodeId).close(),document.getElementById("adminChangeStatusModal."+l.episodeId).close(),o.Nd.reload()},C=(0,n.computed)((function(){return{"btn m-1 w-fit font-semibold text-xl text-orange-400":1===l.episodeStatusId,"btn m-1 w-fit text-xl text-green-400":2===l.episodeStatusId,"btn m-1 w-fit font-semibold text-xl text-green-600":3===l.episodeStatusId,"btn m-1 w-fit font-bold text-xl text-green-600":4===l.episodeStatusId,"btn m-1 w-fit font-semibold text-xl text-purple-700":5===l.episodeStatusId,"btn m-1 w-fit font-italic text-xl text-pink-500":6===l.episodeStatusId,"btn m-1 w-fit font-bold text-xl light:text-black dark:text-white":7===l.episodeStatusId,"btn m-1 w-fit font-medium text-xl text-gray-500":8===l.episodeStatusId,"btn m-1 w-fit font-semibold font-italic text-xl text-red-700":9===l.episodeStatusId,"btn m-1 w-fit font-bold text-xl text-red-800":10===l.episodeStatusId}}));return function(r,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.unref)(a).isAdmin?((0,n.openBlock)(),(0,n.createElementBlock)("div",cr,[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["h-fit py-1",C.value]),onClick:o[1]||(o[1]=function(e){return w()})},(0,n.toDisplayString)(e.episodeStatus),3)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",sr,[(0,n.unref)(t).can.editShow&&9!==(0,n.unref)(l).episodeStatusId&&10!==(0,n.unref)(l).episodeStatusId?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:(0,n.normalizeClass)(C.value),onClick:o[0]||(o[0]=function(e){return w()})},(0,n.toDisplayString)(e.episodeStatus),3)):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).can.editShow&&9!==(0,n.unref)(l).episodeStatusId&&10!==(0,n.unref)(l).episodeStatusId?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)(["cursor-not-allowed",C.value])},(0,n.toDisplayString)(e.episodeStatus),3))])),(0,n.createElementVNode)("dialog",{id:h,class:"modal"},[(0,n.createElementVNode)("div",lr,[7===(0,n.unref)(l).episodeStatusId?((0,n.openBlock)(),(0,n.createElementBlock)("div",ur,[dr,fr,(0,n.createElementVNode)("p",hr,[(0,n.createTextVNode)(" Email "),(0,n.createElementVNode)("a",{class:"text-blue-600 hover:text-blue-500",href:"mailto:hello@not.tv?subject=Need%20Help%20With%20Published%20Episode%20ID:%20".concat((0,n.unref)(l).episodeUlid,"&body=Episode%20ID:%20").concat((0,n.unref)(l).episodeUlid,"%0AEpisode%20Name:%20").concat((0,n.unref)(l).episodeName,"%0AShow%20Name:%20").concat((0,n.unref)(l).showName)},"hello@not.tv",8,pr),(0,n.createTextVNode)(" for assistance ")]),(0,n.unref)(a).isAdmin?((0,n.openBlock)(),(0,n.createElementBlock)("p",mr,[(0,n.createElementVNode)("button",{onClick:o[2]||(o[2]=function(e){document.getElementById("adminChangeStatusModal."+l.episodeId).showModal()}),class:"btn btn-wide my-2 text-white bg-orange-600 hover:bg-orange-500"},"Change Status (admin only)")])):(0,n.createCommentVNode)("",!0)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",vr,[(0,n.unref)(g)?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",gr,[yr,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.episodeStatuses,(function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:r,class:"text-center"},[(0,n.createElementVNode)("div",{class:"btn btn-wide my-1",onClick:function(r){return n=e.episodeId,void(6===(o=t.id)?g.value=!g.value:7===o?document.getElementById("confirmPublishModal."+l.episodeId).showModal():6!==o&&V(n,o));var n,o}},(0,n.toDisplayString)(t.name),9,wr)])})),128))])),(0,n.unref)(g)?((0,n.openBlock)(),(0,n.createElementBlock)("div",br,[xr,(0,n.createElementVNode)("div",Sr,[(0,n.createVNode)((0,n.unref)(x),{date:f.value,onDateTimeSelected:S},null,8,["date"]),(0,n.createElementVNode)("button",{class:"btn my-2",onClick:o[3]||(o[3]=function(t){return V(e.episodeId,6)})},"Schedule it!"),(0,n.createElementVNode)("button",{class:"btn ml-2 my-2",onClick:b},"Cancel")])])):(0,n.createCommentVNode)("",!0)]))]),Er]),(0,n.createElementVNode)("dialog",{id:"confirmPublishModal.".concat(e.episodeId),class:"modal"},[(0,n.createElementVNode)("div",Nr,[Vr,Tr,(0,n.createElementVNode)("div",Lr,[(0,n.createElementVNode)("form",Cr,[(0,n.createElementVNode)("button",{onClick:o[4]||(o[4]=function(t){return V(e.episodeId,7)}),class:"btn text-white bg-green-600 hover:bg-green-500 mr-2"},"Yes! Publish Now!"),Dr])])])],8,kr),(0,n.createElementVNode)("dialog",{id:"adminChangeStatusModal.".concat(e.episodeId),class:"modal"},[(0,n.createElementVNode)("div",_r,[Or,Pr,(0,n.createElementVNode)("div",Mr,[(0,n.createElementVNode)("form",jr,[(0,n.createElementVNode)("button",{onClick:o[5]||(o[5]=function(t){return V(e.episodeId,5)}),class:"btn text-white bg-blue-600 hover:bg-blue-500 mr-2"},"Un-publish"),(0,n.createElementVNode)("button",{onClick:o[6]||(o[6]=function(t){return V(e.episodeId,9)}),class:"btn text-white bg-orange-600 hover:bg-orange-500 mr-2"},"Freeze"),(0,n.createElementVNode)("button",{onClick:o[7]||(o[7]=function(t){return V(e.episodeId,10)}),class:"btn text-white bg-red-600 hover:bg-red-500"},"Restrict")])]),Ir,(0,n.createElementVNode)("p",{class:"text-center py-4"},[(0,n.createElementVNode)("span",{class:"italic"},[(0,n.createTextVNode)("Press ESC to close or "),(0,n.createElementVNode)("button",{onClick:L,class:"text-blue-600 hover:text-blue-500"},"click here"),(0,n.createTextVNode)(" to close.")])])])],8,Br)])}}};r(76353);const Fr={__name:"ManageEpisodeEditNote",props:{episode:Object},emits:["saveNoteProcessing"],setup:function(e,t){var r=t.emit,a=(0,s.useShowStore)();a.saveNoteProcessing=!1;var i=e,c=(0,o.cI)({note:""});c.note=i.episode.notes;var l=r,u=(0,n.ref)(null);function d(){c.note===i.episode.notes&&(a.noteEdit=0),f()}function f(){a.saveNoteProcessing=!0,a.notes=c.note,l("saveNoteProcessing"),axios.post("/shows/episode/notes",{notes:c.note,episodeId:i.episode.id}).then((function(e){a.noteEdit=0,console.log("note saved"),a.saveNoteProcessing=!1})).catch((function(e){console.log(e)}))}return(0,n.onMounted)((function(){u.value.focus()})),function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("form",{onSubmit:t[1]||(t[1]=(0,n.withModifiers)((function(){}),["prevent"]))},[(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"bg-white text-black p-1 w-3/4",placeholder:"Write a note...",type:"text",ref_key:"episodeNote",ref:u,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,n.unref)(c).note=e}),onKeyup:(0,n.withKeys)(f,["enter"]),onFocusout:d},null,544),[[n.vModelText,(0,n.unref)(c).note]])],32)])}}};function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Rr(){Rr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new D(n||[]);return o(i,"_invoke",{value:V(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(B([])));S&&S!==r&&n.call(S,i)&&(b=S);var E=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ur(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ur(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function zr(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var Gr=function(e){return(0,n.pushScopeId)("data-v-6990a9f5"),e=e(),(0,n.popScopeId)(),e},Yr={key:0,class:"bg-gray-50 grid grid-cols-1 md:grid-cols-5 gap-4 p-4 mb-4 rounded-lg shadow"},Hr={class:"flex items-center text-sm w-16"},Wr={key:0},Zr={key:1},$r={class:"hover:text-blue-600 font-semibold dark:text-blue-400 dark:hover:text-blue-200"},Kr={class:"light:text-gray-600 dark:text-gray-100 text-sm flex justify-center items-center"},qr={key:2},Qr={key:0},Xr={class:"text-right"},Jr={class:"dropdown dropdown-left"},en={key:0},tn=Gr((function(){return(0,n.createElementVNode)("br",null,null,-1)})),rn={key:1},nn=Gr((function(){return(0,n.createElementVNode)("br",null,null,-1)})),on={class:"flex flex-row justify-end items-center"},an={key:1,class:"w-full text-center p-4"},sn=[Gr((function(){return(0,n.createElementVNode)("span",{class:"loading loading-infinity loading-lg"},null,-1)})),Gr((function(){return(0,n.createElementVNode)("span",{class:"ml-3"},"The episode is being deleted...",-1)}))];const cn={__name:"ManageShowEpisode",props:{episode:Object,episodeStatuses:Object,showSlug:String,showName:String},setup:function(e){var t=(0,i.useAppSettingStore)(),r=(0,c.useTeamStore)(),a=(0,s.useShowStore)(),l=(0,u.useUserStore)(),d=e,h=((0,n.ref)(!1),l.formatDateInUserTimezone(d.episode.releaseDateTime,"ddd DD MMM YYYY")),p=l.formatDateInUserTimezone(d.episode.scheduledReleaseDateTime,"ddd DD MMM YYYY, hh:mm A "+l.timezoneAbbreviation);a.noteEdit=0;var m=(0,n.ref)(0);function v(){d.episode.notes=a.notes,m.value+=1}(0,o.cI)({note:""});function g(){a.noteEdit=d.episode.id}var y=function(){var e,t=(e=Rr().mark((function e(){return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this show episode?")){e.next=11;break}return e.prev=2,a.episodeIsBeingDeleted=d.episode.id,e.next=6,axios.delete("/shows/".concat(d.showSlug,"/episode/").concat(d.episode.slug)).then((function(e){200===e.status?(a.errorMessage=e.data.message,o.Nd.reload(),a.episodeIsBeingDeleted=0):(a.errorMessage=e.statusText,console.error("Delete request failed:",e.statusText),a.episodeIsBeingDeleted=0,o.Nd.reload())})).catch((function(e){console.error("Error deleting show episode:",e),a.errorMessage=e,a.episodeIsBeingDeleted=0,o.Nd.reload()}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error deleting show episode:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){zr(a,n,o,i,s,"next",e)}function s(e){zr(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return function(i,s){return(0,n.unref)(a).episodeIsBeingDeleted!==e.episode.id?((0,n.openBlock)(),(0,n.createElementBlock)("div",Yr,[(0,n.createElementVNode)("div",Hr,[e.episode.episodeNumber?((0,n.openBlock)(),(0,n.createElementBlock)("div",Zr,(0,n.toDisplayString)(e.episode.episodeNumber),1)):((0,n.openBlock)(),(0,n.createElementBlock)("div",Wr,(0,n.toDisplayString)(e.episode.id),1))]),(0,n.createElementVNode)("div",{onClick:s[0]||(s[0]=function(t){return(0,n.unref)(o.Nd).visit("/shows/".concat(e.showSlug,"/episode/").concat(e.episode.slug,"/manage"))}),class:"hover:cursor-pointer flex items-center space-x-2"},[(0,n.createVNode)(f.Z,{image:e.episode.image,alt:e.episode.name,class:"rounded-xl min-w-16 w-16 h-16 object-cover"},null,8,["image","alt"]),(0,n.createElementVNode)("span",$r,(0,n.toDisplayString)(e.episode.name),1)]),(0,n.createElementVNode)("div",Kr,[e.episode.notes?(0,n.createCommentVNode)("",!0):(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:"italic",onClick:g},"Click here to add/edit a note.",512)),[[n.vShow,(0,n.unref)(a).noteEdit!==e.episode.id]]),e.episode.notes?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:m.value,onClick:g},(0,n.toDisplayString)(e.episode.notes),1)),[[n.vShow,(0,n.unref)(a).noteEdit!==e.episode.id]]):(0,n.createCommentVNode)("",!0),(0,n.unref)(a).noteEdit===e.episode.id?((0,n.openBlock)(),(0,n.createElementBlock)("div",qr,[(0,n.createVNode)((0,n.unref)(Fr),{episode:e.episode,onSaveNoteProcessing:v},null,8,["episode"]),(0,n.unref)(a).saveNoteProcessing?((0,n.openBlock)(),(0,n.createElementBlock)("div",Qr,"Saving...")):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Xr,[(0,n.createElementVNode)("div",Jr,[(0,n.createVNode)((0,n.unref)(Ar),{episodeStatus:e.episode.episodeStatus,episodeStatusId:e.episode.episodeStatusId,episodeStatuses:e.episodeStatuses,episodeId:e.episode.id,episodeUlid:e.episode.ulid,episodeName:e.episode.name,episodeSlug:e.episode.slug,showSlug:e.showSlug,showName:e.showName,scheduledDateTime:e.episode.scheduledReleaseDateTime},null,8,["episodeStatus","episodeStatusId","episodeStatuses","episodeId","episodeUlid","episodeName","episodeSlug","showSlug","showName","scheduledDateTime"])]),6===e.episode.episodeStatusId?((0,n.openBlock)(),(0,n.createElementBlock)("div",en,[(0,n.createTextVNode)(" Scheduled for: "),tn,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((0,n.unref)(p)),1)])):(0,n.createCommentVNode)("",!0),7===e.episode.episodeStatusId?((0,n.openBlock)(),(0,n.createElementBlock)("div",rn,[(0,n.createTextVNode)(" Released on: "),nn,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((0,n.unref)(h)),1)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",on,[(0,n.unref)(r).can.editShow?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:s[1]||(s[1]=function(r){return(0,n.unref)(t).btnRedirect("/shows/".concat(e.showSlug,"/episode/").concat(e.episode.slug,"/edit"))}),class:"px-2 py-2 text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg mr-2 w-16 h-10"}," Edit ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(r).can.manageShow&&!e.episode.isPublished?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:y,class:"px-2 py-2 text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg w-10 h-10"},[(0,n.createVNode)((0,n.unref)(er.GN),{icon:"fa-trash-can"})])):(0,n.createCommentVNode)("",!0)])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",an,sn))}}};var ln=r(93379),un=r.n(ln),dn=r(18752),fn={insert:"head",singleton:!1};un()(dn.Z,fn);dn.Z.locals;var hn=r(83744);const pn=(0,hn.Z)(cn,[["__scopeId","data-v-6990a9f5"]]);var mn=r(32379),vn={class:"overflow-x-auto"},gn=(0,n.createStaticVNode)('<div class="min-w-full divide-y divide-gray-200 grid grid-cols-1 md:grid-cols-5"><div class="font-medium p-4 text-left w-16">Ep.#</div><div class="font-medium p-4 text-left"></div><div class="font-medium p-4 text-center"></div><div class="font-medium p-4 text-right"></div><div class="font-medium p-4 text-right"></div></div>',1),yn={class:"divide-y divide-gray-200"};const wn={__name:"ManageShowEpisodesList",setup:function(e){var t=(0,i.useAppSettingStore)(),r=(0,c.useTeamStore)(),o=(0,s.useShowStore)();return function(e,a){return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",null,[(0,n.unref)(r).can.createEpisode?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:a[0]||(a[0]=function(e){return(0,n.unref)(t).btnRedirect("/showEpisodes/".concat((0,n.unref)(o).show.slug,"/episode/create"))}),class:"ml-6 my-4 px-4 py-2 text-white font-semibold bg-green-500 hover:bg-green-600 rounded-lg disabled:bg-gray-400"}," Create Episode ")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",vn,[gn,(0,n.createElementVNode)("div",yn,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(o).episodes.data,(function(e){return(0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(pn),{key:e.id,episode:e,showSlug:(0,n.unref)(o).show.slug,showName:(0,n.unref)(o).show.name,episodeStatuses:(0,n.unref)(o).episodeStatuses},null,8,["episode","showSlug","showName","episodeStatuses"])})),128))])]),(0,n.createVNode)((0,n.unref)(mn.Z),{data:(0,n.unref)(o).episodes},null,8,["data"])],64)}}};var bn={class:"min-w-full divide-y divide-gray-200"},xn=[(0,n.createElementVNode)("thead",{class:"divide-y divide-gray-200"},[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap"},[(0,n.createElementVNode)("div",{class:"flex items-center"},[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",{class:"text-sm font-medium pl-14"}," Name ")])])]),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"}," Role "),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"}," Completed Assignments "),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"}," Total Credits "),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right"}," Status ")])],-1),(0,n.createElementVNode)("tbody",{class:"bg-white divide-y divide-gray-200"},null,-1)];const Sn={},En=(0,hn.Z)(Sn,[["render",function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("table",bn,xn)}]]);var kn=r(59369),Nn=r(23311),Vn=r(22545),Tn={class:"divide-y divide-gray-200"},Ln=[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap"},[(0,n.createElementVNode)("div",{class:"flex items-center"},[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",{class:"text-sm font-semibold pl-14"}," Date ")])])]),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold"}," Start Time "),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold"}," End Time "),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold"}," Duration "),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-right"}," Expires in "),(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-right"})],-1)];const Cn={},Dn=(0,hn.Z)(Cn,[["render",function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("thead",Tn,Ln)}]]);var Bn=r(60490),_n={class:"bg-white divide-y divide-gray-200"},On=["onMouseover","onClick"],Pn={class:"px-6 py-4 whitespace-nowrap"},Mn={key:0,class:"text-xs uppercase text-orange-700 font-semibold break-words"},jn={class:"px-6 py-4 whitespace-nowrap"},In={class:"px-6 py-4 whitespace-nowrap"},An={class:"px-6 py-4 whitespace-nowrap"},Fn=(0,n.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap"},null,-1),Un={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-1"},Rn=["onClick"],zn=["onClick"],Gn={key:0,class:"copy-message"};const Yn={__name:"RecordingsListBody",setup:function(e){var t=(0,Vn.useRecordingStore)(),r=((0,Bn.VPI)(),(0,n.ref)(!1)),o=(0,n.ref)(""),a=(0,n.computed)((function(){return t.formattedRecordings})),i=(0,n.reactive)({hoveredRow:null}),s=function(){document.getElementById("confirmAddToEpisodeModal").showModal()},c=function(){document.getElementById("confirmSaveToPremiumModal").showModal()},l=(0,n.computed)((function(){return function(e){return{"hover:bg-blue-100 cursor-pointer":i.hoveredRow===e,"bg-green-100":t.nowPlayingRecordingId===e}}}));return function(e,u){var d=(0,n.resolveComponent)("font-awesome-icon");return(0,n.openBlock)(),(0,n.createElementBlock)("tbody",_n,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.value,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:e.id,onMouseover:function(t){return i.hoveredRow=e.id},onMouseleave:u[0]||(u[0]=function(e){return i.hoveredRow=null}),onClick:function(r){return function(e){t.setSelectedRecording(e),document.getElementById("confirmRecordingPlaybackModal").showModal()}(e)},class:(0,n.normalizeClass)(l.value(e.id))},[(0,n.createElementVNode)("td",Pn,[(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(e.start_date_local),1),e.comment?((0,n.openBlock)(),(0,n.createElementBlock)("div",Mn,[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)({"text-indigo-600":"automated recording"!==e.comment})},(0,n.toDisplayString)(e.comment),3)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("td",jn,(0,n.toDisplayString)(e.start_time_local),1),(0,n.createElementVNode)("td",In,(0,n.toDisplayString)(e.end_time_local),1),(0,n.createElementVNode)("td",An,(0,n.toDisplayString)((r=e.total_milliseconds_recorded,t.formatDuration(r))),1),Fn,(0,n.createElementVNode)("td",Un,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(r){return n=e.share_url,void t.shareRecording(n);var n}),["stop"]),class:"btn btn-xs bg-orange-200 hover:bg-orange-300 text-black"},[(0,n.createVNode)(d,{icon:"fa-share",class:""}),(0,n.createTextVNode)(" Share ")],8,Rn),(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(s,["stop"]),class:"btn btn-xs"},"Add To Episode"),(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(r){return function(e){t.setSelectedRecording(e),document.getElementById("confirmDownloadModal").showModal()}(e)}),["stop"]),class:"btn btn-xs btn-info"},"Download",8,zn),(0,n.createElementVNode)("div",{onClick:(0,n.withModifiers)(c,["stop"]),class:"btn btn-xs"},"Save to Premium Storage")])],42,On);var r})),128)),(0,n.createVNode)(n.Transition,{name:"fade"},{default:(0,n.withCtx)((function(){return[r.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Gn,(0,n.toDisplayString)(o.value),1)):(0,n.createCommentVNode)("",!0)]})),_:1})])}}};var Hn=r(93515),Wn={insert:"head",singleton:!1};un()(Hn.Z,Wn);Hn.Z.locals;const Zn=Yn;var $n={key:0,class:"join"},Kn=["onClick"];const qn={__name:"RecordingsPaginator",props:{totalPages:{type:Number,required:!0},currentPage:{type:Number,required:!0}},emits:["update"],setup:function(e,t){var r=t.emit,o=r;return function(t,r){return e.totalPages>1?((0,n.openBlock)(),(0,n.createElementBlock)("div",$n,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.totalPages,(function(t){return(0,n.openBlock)(),(0,n.createElementBlock)("button",{key:t,class:(0,n.normalizeClass)(["join-item","btn",{"btn-active":e.currentPage===t}]),onClick:function(e){return function(e){o("update",e)}(t)}},(0,n.toDisplayString)(t),11,Kn)})),128))])):(0,n.createCommentVNode)("",!0)}}};var Qn=r(58384),Xn={insert:"head",singleton:!1};un()(Qn.Z,Xn);Qn.Z.locals;const Jn=(0,hn.Z)(qn,[["__scopeId","data-v-fd48cf10"]]);var eo={id:"confirmRecordingPlaybackModal",class:"modal"},to={class:"modal-box w-full items-center text-center text-black bg-white dark:bg-gray-800 dark:text-white"},ro=(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"")],-1),no=(0,n.createElementVNode)("h3",{class:"font-bold text-lg"},null,-1),oo={class:"py-4 text-xl mt-4"},ao=(0,n.createElementVNode)("br",null,null,-1),io={class:"font-semibold"},so={key:0,class:"my-2 text-left"},co=(0,n.createElementVNode)("span",{class:"font-semibold"},"Path: ",-1),lo={key:1,class:"my-2 text-left"},uo=(0,n.createElementVNode)("span",{class:"font-semibold"},"Comment: ",-1),fo=(0,n.createElementVNode)("form",{method:"dialog",class:"modal-backdrop"},[(0,n.createElementVNode)("button",null,"close")],-1),ho=(0,n.createElementVNode)("dialog",{id:"confirmAddToEpisodeModal",class:"modal"},[(0,n.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"")]),(0,n.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Add Recording To Episode"),(0,n.createElementVNode)("p",{class:"py-4"},"We are working on this feature!"),(0,n.createElementVNode)("div",{class:"modal-action"},[(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn"},"Okay")])])])],-1),po=(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"")],-1),mo=(0,n.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Confirm Download",-1),vo=(0,n.createElementVNode)("p",{class:"py-4"},"Are you sure you want to download the recording?",-1),go=(0,n.createElementVNode)("dialog",{id:"downloadStarted",class:"modal"},[(0,n.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"")]),(0,n.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Download Started"),(0,n.createElementVNode)("p",{class:"py-4"},"Your recording is now downloading!"),(0,n.createElementVNode)("div",{class:"modal-action"},[(0,n.createElementVNode)("form",{method:"dialog",class:"w-full flex justify-center"},[(0,n.createElementVNode)("button",{class:"btn"},"Okay")])])])],-1),yo=(0,n.createElementVNode)("dialog",{id:"confirmSaveToPremiumModal",class:"modal"},[(0,n.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"")]),(0,n.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Save To Premium Storage"),(0,n.createElementVNode)("p",{class:"py-4"},"We are working on this feature!"),(0,n.createElementVNode)("div",{class:"modal-action"},[(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn"},"Okay")])])])],-1);const wo={__name:"ShowRecordingsModals",setup:function(e){var t=(0,Vn.useRecordingStore)(),r=(0,n.computed)((function(){return t.selectedRecording})),o=function(){t.downloadRecording()},a=function(){t.openVideo()};return function(e,t){var i;return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("dialog",eo,[(0,n.createElementVNode)("div",to,[ro,no,(0,n.createElementVNode)("p",oo,[(0,n.createTextVNode)("Would you like to play the recording"),ao,(0,n.createTextVNode)(" from "),(0,n.createElementVNode)("span",io,(0,n.toDisplayString)(null===(i=r.value)||void 0===i?void 0:i.start_date_local),1),(0,n.createTextVNode)("?")]),r.value&&r.value.path?((0,n.openBlock)(),(0,n.createElementBlock)("p",so,[co,(0,n.createTextVNode)((0,n.toDisplayString)(r.value.path),1)])):(0,n.createCommentVNode)("",!0),r.value&&r.value.comment?((0,n.openBlock)(),(0,n.createElementBlock)("p",lo,[uo,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(r.value.comment),1)])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("button",{class:"mt-4 btn",onClick:a},"Play")]),fo]),ho,(0,n.createElementVNode)("dialog",{id:"confirmDownloadModal",class:"modal"},[(0,n.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[po,mo,vo,(0,n.createElementVNode)("div",{class:"modal-action"},[(0,n.createElementVNode)("form",{method:"dialog",class:"w-full flex justify-center"},[(0,n.createElementVNode)("button",{onClick:o,class:"btn btn-info w-20"},"Yes")])])])]),go,yo])}}};var bo=(0,n.createElementVNode)("div",{class:"w-full bg-yellow-200 px-2 py-1"},[(0,n.createElementVNode)("span",{class:"font-semibold uppercase"}," NOTICE: "),(0,n.createTextVNode)(" The first time you playback a recording it will take a long time to load. This only happens the first time! ")],-1),xo={class:"min-w-full divide-y divide-gray-200"},So={class:"flex flex-row flex-wrap w-full justify-center"},Eo={class:"flex flex-col w-full justify-center mt-2"},ko={key:0},No={class:"flex"},Vo=(0,n.createElementVNode)("span",{class:"font-bold w-48"},"Path:",-1),To={class:"flex"},Lo=(0,n.createElementVNode)("span",{class:"font-bold w-48"},"Share URL:",-1),Co={class:"flex"},Do=(0,n.createElementVNode)("span",{class:"font-bold w-48"},"Download URL:",-1),Bo={class:"flex"},_o=(0,n.createElementVNode)("span",{class:"font-bold w-48"},"Playback Stream Name:",-1),Oo=(0,n.createElementVNode)("div",{class:"flex"},[(0,n.createElementVNode)("span",{class:"font-bold w-48"},"Input:"),(0,n.createElementVNode)("input",{class:"w-full"})],-1),Po={key:1},Mo=[(0,n.createElementVNode)("span",null,"No recording selected.",-1)];const jo={__name:"ShowRecordingsList",setup:function(e){var t=(0,Vn.useRecordingStore)(),r=function(e){t.fetchRecordings(e)},o=(0,n.computed)((function(){return t.pagination})),a=(0,n.computed)((function(){return t.selectedRecording})),i=(0,n.computed)((function(){return t.nowPlayingRecordingId})),s=function(e){document.getElementById(e).showModal()},c=function(){t.downloadRecording(),document.getElementById("downloadStarted").showModal()},l=function(){t.openVideo()};return(0,n.onMounted)((function(){t.fetchRecordings()})),function(e,u){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[bo,(0,n.createElementVNode)("table",xo,[(0,n.createVNode)(Dn),(0,n.createVNode)(Zn,{onOpenModal:s})]),(0,n.createElementVNode)("div",So,[(0,n.createVNode)(Jn,{totalPages:o.value.lastPage,currentPage:o.value.currentPage,onUpdate:r},null,8,["totalPages","currentPage"])]),(0,n.createElementVNode)("div",Eo,[(0,n.unref)(t).selectedRecording?((0,n.openBlock)(),(0,n.createElementBlock)("div",ko,[(0,n.createElementVNode)("div",No,[Vo,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).selectedRecording.path),1)]),(0,n.createElementVNode)("div",To,[Lo,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).selectedRecording.share_url),1)]),(0,n.createElementVNode)("div",Co,[Do,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).selectedRecording.download_url),1)]),(0,n.createElementVNode)("div",Bo,[_o,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).selectedRecording.playback_stream_name),1)]),Oo])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Po,Mo))]),(0,n.createVNode)(wo,{selectedRecording:a.value,nowPlayingRecordingId:i.value,onBeginDownload:c,onPlay:l},null,8,["selectedRecording","nowPlayingRecordingId"])])}}};function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(r),!0).forEach((function(t){Uo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uo(e,t,r){var n;return n=function(e,t){if("object"!=Io(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Io(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ro(){Ro=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new D(n||[]);return o(i,"_invoke",{value:V(e,r,s)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};l(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(B([])));S&&S!==r&&n.call(S,i)&&(b=S);var E=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Io(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,r,n){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Io(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function zo(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var Go=function(e){return(0,n.pushScopeId)("data-v-699d87b0"),e=e(),(0,n.popScopeId)(),e},Yo={id:"topDiv",class:"place-self-center flex flex-col"},Ho={class:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-gray-50 rounded px-5"},Wo={key:1,class:"alert alert-error mt-4 mx-3"},Zo=Go((function(){return(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)})),$o={class:"bg-gradient-to-r from-blue-100 via-white to-transparent p-4 text-black font-bold rounded-lg"},Ko={class:"flex justify-between mb-3 pt-6"},qo=Go((function(){return(0,n.createElementVNode)("div",{class:"font-bold mb-4 text-black align-bottom text-lg"},"MANAGE SHOW",-1)})),Qo={class:"flex flex-col"},Xo={class:"flex flex-row w-full justify-end mb-2"},Jo=Go((function(){return(0,n.createElementVNode)("br",null,null,-1)})),ea={class:"flex flex-wrap-reverse justify-end"},ta=Go((function(){return(0,n.createElementVNode)("div",{class:"flex justify-end mt-6"},null,-1)})),ra={class:"my-6 text-gray-100"},na=Go((function(){return(0,n.createElementVNode)("span",{class:"uppercase text-xs font-semibold text-black"},"SHOW NOTES: ",-1)})),oa={class:"text-black light:text-black dark:text-white"},aa={class:"flex flex-col"},ia={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},sa={class:"py-2 align-middle inline-block w-full sm:px-6 lg:px-8 space-y-4"},ca={key:0},la={class:"mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg"},ua={key:1},da={class:"mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg"},fa=Go((function(){return(0,n.createElementVNode)("div",{class:"border-1 border-t mb-3 bg-blue-100 py-1 px-2 text-xs font-semibold text-red-800"}," In development. Not currently working. ",-1)})),ha=Go((function(){return(0,n.createElementVNode)("button",{class:"bg-green-500 hover:bg-green-600 text-white ml-2 my-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max",disabled:""},"Create Assignment ",-1)})),pa={key:2},ma={class:"mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg"};const va={__name:"Manage",props:{show:Object,team:Object,episodes:Object,episodeStatuses:Object,can:Object},setup:function(e){(0,a.U)("shows/slug/manage");var t=(0,i.useAppSettingStore)(),r=(0,s.useShowStore)(),u=(0,c.useTeamStore)(),d=(0,l.useGoLiveStore)(),f=function(e){r.openComponent=r.openComponent===e?null:e},h=(0,o.qt)().props,p=e;u.setActiveTeam(p.team),u.setActiveShow(p.show),u.can=p.can;var m=(0,n.ref)([]),v=function(){d.reset(),d.preSelectedShowId=p.show.id,t.btnRedirect("/golive")};return(0,n.onMounted)((function(){r.initializeShow(p.show,p.episodes,p.episodeStatuses),console.log("Subscribing to channel creator.show.".concat(p.show.id)),Echo.join("creator.show.".concat(p.show.id)).here(function(){var e,t=(e=Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Users currently in the channel:",t),m.value=t,t.length>0&&(n=t[0],r.setLeader(n),console.log("Leader elected: ".concat(n.name))),console.log(r.isUpdatingSchedule,r.updatedBy),1!==m.value.length||!r.isUpdatingSchedule||!r.updatedBy){e.next=14;break}return e.prev=5,e.next=8,axios.put("/api/shows/".concat(p.show.slug,"/meta"),{isUpdatingSchedule:!1,updatedBy:r.updatedBy});case 8:console.log("isUpdatingSchedule and updatedBy fields reset"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error("Error updating meta:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){zo(a,n,o,i,s,"next",e)}function s(e){zo(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()).joining((function(e){console.log("User joined the channel:",e),m.value.push(e)})).leaving((function(e){if(console.log("User left the channel:",e),m.value=m.value.filter((function(t){return t.id!==e.id})),e.id===r.leader.id&&(console.log("Leader left, electing new leader"),m.value.length>0)){var t=m.value[0];r.setLeader(t),console.log("New leader elected: ".concat(t.name))}r.leader.id===h.user.id&&axios.post("/api/".concat(p.show.slug,"/user-left-channel"),{user:e,channel:"creator.show.".concat(p.show.id),showSlug:p.show.slug}).then((function(e){console.log("Successfully posted to user-left-channel:",e.data)})).catch((function(e){console.error("Error posting to user-left-channel:",e)}))})).listen(".CreatorContentStatusUpdated",(function(e){console.log("CreatorContentStatusUpdated event received:",e),r.$patch({isSaving:e.meta.isSaving,isUpdatingSchedule:e.meta.isUpdatingSchedule,updatedBy:e.meta.updatedBy})})).listen(".ShowScheduleDetailsUpdated",(function(e){console.log("ShowScheduleDetailsUpdated event received:",e);var t=e.scheduleDetails.start_DateTime;r.scheduleDetails=Fo(Fo({},e.scheduleDetails),{},{startTime:t}),console.log("Updated scheduleDetails.startTime:",r.scheduleDetails.startTime)})).error((function(e){console.error("Error subscribing to channel:",e)}))})),(0,n.onBeforeUnmount)((function(){Echo.leave("creator.show.".concat(p.show.id)),r.setUpdatingStatus(!1,h.user.name,p.show.slug),console.log("Unsubscribed from channel creator.show.".concat(p.show.id)),r.reset()})),function(o,a){var i=(0,n.resolveComponent)("Head"),s=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(i,{title:"Manage Show: ".concat(p.show.name)},null,8,["title"]),(0,n.createElementVNode)("div",Yo,[(0,n.createElementVNode)("div",Ho,[(0,n.unref)(t).showFlashMessage?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(kn.Z),{key:0,flash:o.$page.props.flash},null,8,["flash"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(r).errorMessage?((0,n.openBlock)(),(0,n.createElementBlock)("div",Wo,[Zo,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(r).errorMessage),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:a[0]||(a[0]=function(e){return(0,n.unref)(r).errorMessage=""})}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("header",$o,[(0,n.createElementVNode)("div",Ko,[qo,(0,n.createElementVNode)("div",Qo,[(0,n.createElementVNode)("div",Xo,[(0,n.createElementVNode)("button",{onClick:a[1]||(a[1]=function(r){return(0,n.unref)(t).btnRedirect("/teams/".concat(e.team.slug,"/manage"))}),class:"px-4 py-2 mr-2 mb-2 h-fit text-white font-semibold bg-orange-500 hover:bg-orange-600 rounded-lg"},[(0,n.createTextVNode)("Back to"),Jo,(0,n.createTextVNode)(" Manage Team ")])]),(0,n.createElementVNode)("div",ea,[e.can.goLive?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:v,class:"px-4 py-2 mr-2 mb-2 h-fit text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"},"Go Live ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(u).can.editShow?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:a[2]||(a[2]=function(r){return(0,n.unref)(t).btnRedirect("/shows/".concat(e.show.slug,"/edit"))}),class:"px-4 py-2 mb-2 h-fit text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"},"Edit Show ")):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(Nn.Z,{class:"mb-2"})])])]),(0,n.createVNode)((0,n.unref)(Xt),{show:p.show,team:p.team,can:e.can},null,8,["show","team","can"]),ta]),(0,n.createElementVNode)("div",ra,[na,(0,n.createElementVNode)("span",oa,(0,n.toDisplayString)(p.show.notes),1)]),(0,n.createElementVNode)("div",aa,[(0,n.createElementVNode)("div",ia,[(0,n.createElementVNode)("div",sa,[(0,n.createElementVNode)("div",{onClick:a[3]||(a[3]=function(e){return f("showEpisodes")}),class:(0,n.normalizeClass)([{"rounded-t-lg":"showEpisodes"===(0,n.unref)(r).openComponent,"rounded-lg":"showEpisodes"!==(0,n.unref)(r).openComponent},"accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-hidden shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white"])},[(0,n.createVNode)((0,n.unref)(er.GN),{icon:"fa-play-circle",class:""}),(0,n.createTextVNode)(" Episodes ")],2),"showEpisodes"===(0,n.unref)(r).openComponent?((0,n.openBlock)(),(0,n.createElementBlock)("div",ca,[(0,n.createElementVNode)("div",la,[(0,n.createVNode)((0,n.unref)(wn))])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{onClick:a[4]||(a[4]=function(e){return f("showCredits")}),class:(0,n.normalizeClass)([{"rounded-t-lg":"showCredits"===(0,n.unref)(r).openComponent,"rounded-lg":"showCredits"!==(0,n.unref)(r).openComponent},"accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white"])},[(0,n.createVNode)((0,n.unref)(er.GN),{icon:"fa-clipboard-list",class:""}),(0,n.createTextVNode)(" Credits and Assignments ")],2),"showCredits"===(0,n.unref)(r).openComponent?((0,n.openBlock)(),(0,n.createElementBlock)("div",ua,[(0,n.createElementVNode)("div",da,[fa,(0,n.unref)(u).can.createAssignment?((0,n.openBlock)(),(0,n.createBlock)(s,{key:0,href:"#"},{default:(0,n.withCtx)((function(){return[ha]})),_:1})):(0,n.createCommentVNode)("",!0),(0,n.createVNode)((0,n.unref)(En))])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{onClick:a[5]||(a[5]=function(e){return f("showRecordings")}),class:(0,n.normalizeClass)([{"rounded-t-lg":"showRecordings"===(0,n.unref)(r).openComponent,"rounded-lg":"showRecordings"!==(0,n.unref)(r).openComponent},"accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white"])},[(0,n.createVNode)((0,n.unref)(er.GN),{icon:"fa-circle",class:"text-red-700"}),(0,n.createTextVNode)(" Recordings ")],2),"showRecordings"===(0,n.unref)(r).openComponent?((0,n.openBlock)(),(0,n.createElementBlock)("div",pa,[(0,n.createElementVNode)("div",ma,[(0,n.createVNode)(jo,{showRecordings:e.show.recordings,showName:e.show.name,showSlug:e.show.slug,showImage:e.show.image},null,8,["showRecordings","showName","showSlug","showImage"])])])):(0,n.createCommentVNode)("",!0)])])]),(0,n.createVNode)((0,n.unref)(Jt.Z),{team:e.team,show:e.show},null,8,["team","show"])])])],64)}}};var ga=r(45349),ya={insert:"head",singleton:!1};un()(ga.Z,ya);ga.Z.locals;const wa=(0,hn.Z)(va,[["__scopeId","data-v-699d87b0"]])}}]);
//# sourceMappingURL=2163.js.map