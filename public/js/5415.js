"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5415],{99004:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(94015),o=n.n(r),a=n(23645),s=n.n(a)()(o());s.push([e.id,".modal-mask[data-v-1742bd38]{background:#0009;display:grid;inset:0;place-items:center;position:fixed;z-index:100}.modal-container[data-v-1742bd38]{background:#fff;border-radius:8px;color:#000;max-width:450px;padding:1rem;width:80vw}.modal-footer[data-v-1742bd38]{border-top:1px solid #ddd;font-size:.8rem;margin-top:1rem;padding-top:.5rem}","",{version:3,sources:["webpack://./resources/js/Components/Pages/Welcome/Login.vue"],names:[],mappings:"AAyJA,6BAGE,gBAA8B,CAC9B,YAAa,CAFb,OAAQ,CAGR,kBAAmB,CAJnB,cAAe,CAKf,WACF,CAEA,kCACE,eAAiB,CAKjB,iBAAkB,CAJlB,UAAY,CAGZ,eAAgB,CAFhB,YAAa,CACb,UAGF,CAEA,+BACE,yBAA0B,CAG1B,eAAgB,CAFhB,eAAgB,CAChB,iBAEF",sourcesContent:['<template>\n  <Transition\n      enter-from-class="opacity-0 scale-125"\n      enter-to-class="opacity-100 scale-100"\n      enter-active-class="transition duration-300"\n      leave-active-class="transition duration-200"\n      leave-from-class="opacity-100 scale-100"\n      leave-to-class="opacity-0 scale-125"\n  >\n    <div v-if="show" class="modal-mask overflow-auto py-32 hide-scrollbar">\n      <div class="modal-container">\n        <header class="flex justify-center uppercase text-sm font-semibold mb-2 text-center">\n          <JetAuthenticationCardLogo class="max-w-[8rem]"/>\n          <JetValidationErrors class="mb-4"/>\n          <div v-if="status" class="mb-4 font-medium text-sm text-green-600">\n            {{ status }}\n          </div>\n        </header>\n\n        <div class="text-center mt-4 py-3 text-gray-600">\n          Please log in to watch notTV and chat.\n        </div>\n        <div class="py-3 px-6">\n          <form @submit.prevent="submit">\n            <div class="w-full">\n              <label for="email" class="input input-bordered input-primary flex items-center gap-2">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"\n                     class="w-4 h-4 opacity-70">\n                  <path\n                      d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"/>\n                  <path\n                      d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"/>\n                </svg>\n                <input id="email"\n                       v-model="form.email" type="email" class="grow border-none w-full" placeholder="Email" required autofocus/>\n              </label>\n            </div>\n\n            <div class="w-full mt-4">\n              <label for="password" class="input input-bordered input-primary flex items-center gap-2">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"\n                     class="w-4 h-4 opacity-70">\n                  <path fill-rule="evenodd"\n                        d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"\n                        clip-rule="evenodd"/>\n                </svg>\n                <input id="password"\n                       v-model="form.password" type="password" class="grow border-none w-full" value="" required/>\n              </label>\n            </div>\n\n            <div class="block mt-4">\n              <label class="flex items-center">\n                <JetCheckbox v-model:checked="form.remember" name="remember"/>\n                <span class="ml-2 text-sm text-gray-600">Remember me</span>\n              </label>\n            </div>\n\n            <div class="flex flex-wrap-reverse items-center justify-end mt-4">\n              <Link :href="route(\'password.request\')" class="underline text-sm text-gray-600 hover:text-gray-900">\n                Forgot your password?\n              </Link>\n\n              <JetButton class="ml-4" :class="{ \'opacity-25\': form.processing }" :disabled="form.processing">\n                Log in\n              </JetButton>\n            </div>\n          </form>\n        </div>\n\n        <footer>\n          <div class="flex justify-between modal-footer">\n            <button\n                @click="clearForm"\n                class="bg-gray-300 p-2 rounded-md hover:bg-gray-400 hover:text-gray-800"\n            >Cancel\n            </button>\n            <div class="mt-2">\n              Need to\n              <button @click="showRegister" class="text-blue-800 hover:text-blue-600">register</button>\n              for an account?\n            </div>\n          </div>\n        </footer>\n      </div>\n    </div>\n  </Transition>\n</template>\n\n<script setup>\nimport { useWelcomeStore } from "@/Stores/WelcomeStore"\nimport { useUserStore } from "@/Stores/UserStore"\nimport { useForm } from \'@inertiajs/inertia-vue3\'\nimport JetAuthenticationCard from \'@/Jetstream/AuthenticationCard\'\nimport JetAuthenticationCardLogo from \'@/Jetstream/AuthenticationCardLogo\'\nimport JetButton from \'@/Jetstream/Button\'\nimport JetInput from \'@/Jetstream/Input\'\nimport JetCheckbox from \'@/Jetstream/Checkbox\'\nimport JetLabel from \'@/Jetstream/Label\'\nimport JetValidationErrors from \'@/Jetstream/ValidationErrors\'\n\nconst welcomeStore = useWelcomeStore()\nconst userStore = useUserStore()\n\ndefineProps({\n  canResetPassword: Boolean,\n  status: String,\n  show: Boolean\n});\n\nconst form = useForm({\n  email: \'\',\n  password: \'\',\n  remember: false,\n});\n\nconst submit = () => {\n  form.transform(data => ({\n    ...data,\n    remember: form.remember ? \'on\' : \'\',\n  })).post(route(\'login\'), {\n    onFinish: () => {\n      form.reset(\'password\'); // Reset the password field after submission\n      console.log(\'get user data on Login\')\n      userStore.fetchUserData() // Fetch user data after successful login\n          .then(() => {\n            // Handle any post-fetch logic here, e.g., redirecting the user or updating the UI\n            // Optionally, update timezone or perform other actions after login\n            // const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n            // userStore.updateUserTimezone(timezone);\n          })\n          .catch(error => {\n            console.error("Failed to fetch user data:", error);\n            // Handle any errors in fetching user data here\n          });\n    }\n  });\n};\n\nfunction clearForm() {\n  form.reset();\n  welcomeStore.showLogin = false;\n}\n\nfunction showRegister() {\n  form.reset();\n  welcomeStore.showLogin = false;\n  welcomeStore.showRegister = true;\n}\n\n<\/script>\n\n<style scoped>\n.modal-mask {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: grid;\n  place-items: center;\n  z-index: 100;\n}\n\n.modal-container {\n  background: white;\n  color: black;\n  padding: 1rem;\n  width: 80vw;\n  max-width: 450px;\n  border-radius: 8px;\n}\n\n.modal-footer {\n  border-top: 1px solid #ddd;\n  margin-top: 1rem;\n  padding-top: 0.5rem;\n  font-size: .8rem;\n}\n</style>\n'],sourceRoot:""}]);const l=s},45415:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(70821),o=n(27569),a=n(90771),s=n(39038),l=(n(32242),n(5556)),i=n(28277),c=(n(6710),n(43497)),u=(n(15957),n(30131));function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){var r;return r=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){return(0,r.pushScopeId)("data-v-1742bd38"),e=e(),(0,r.popScopeId)(),e},g={key:0,class:"modal-mask overflow-auto py-32 hide-scrollbar"},b={class:"modal-container"},h={class:"flex justify-center uppercase text-sm font-semibold mb-2 text-center"},w={key:0,class:"mb-4 font-medium text-sm text-green-600"},y=v((function(){return(0,r.createElementVNode)("div",{class:"text-center mt-4 py-3 text-gray-600"}," Please log in to watch notTV and chat. ",-1)})),x={class:"py-3 px-6"},k={class:"w-full"},A={for:"email",class:"input input-bordered input-primary flex items-center gap-2"},B=v((function(){return(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"w-4 h-4 opacity-70"},[(0,r.createElementVNode)("path",{d:"M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"}),(0,r.createElementVNode)("path",{d:"M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"})],-1)})),V={class:"w-full mt-4"},E={for:"password",class:"input input-bordered input-primary flex items-center gap-2"},C=v((function(){return(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"w-4 h-4 opacity-70"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule":"evenodd"})],-1)})),N={class:"block mt-4"},S={class:"flex items-center"},j=v((function(){return(0,r.createElementVNode)("span",{class:"ml-2 text-sm text-gray-600"},"Remember me",-1)})),L={class:"flex flex-wrap-reverse items-center justify-end mt-4"};const Z={__name:"Login",props:{canResetPassword:Boolean,status:String,show:Boolean},setup:function(e){var t=(0,o.useWelcomeStore)(),n=(0,a.useUserStore)(),d=(0,s.cI)({email:"",password:"",remember:!1}),m=function(){d.transform((function(e){return p(p({},e),{},{remember:d.remember?"on":""})})).post(route("login"),{onFinish:function(){d.reset("password"),console.log("get user data on Login"),n.fetchUserData().then((function(){})).catch((function(e){console.error("Failed to fetch user data:",e)}))}})};function f(){d.reset(),t.showLogin=!1}function v(){d.reset(),t.showLogin=!1,t.showRegister=!0}return function(t,n){var o=(0,r.resolveComponent)("Link");return(0,r.openBlock)(),(0,r.createBlock)(r.Transition,{"enter-from-class":"opacity-0 scale-125","enter-to-class":"opacity-100 scale-100","enter-active-class":"transition duration-300","leave-active-class":"transition duration-200","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-125"},{default:(0,r.withCtx)((function(){return[e.show?((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("header",h,[(0,r.createVNode)((0,r.unref)(l.Z),{class:"max-w-[8rem]"}),(0,r.createVNode)((0,r.unref)(u.Z),{class:"mb-4"}),e.status?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,(0,r.toDisplayString)(e.status),1)):(0,r.createCommentVNode)("",!0)]),y,(0,r.createElementVNode)("div",x,[(0,r.createElementVNode)("form",{onSubmit:(0,r.withModifiers)(m,["prevent"])},[(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("label",A,[B,(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"email","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,r.unref)(d).email=e}),type:"email",class:"grow border-none w-full",placeholder:"Email",required:"",autofocus:""},null,512),[[r.vModelText,(0,r.unref)(d).email]])])]),(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("label",E,[C,(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"password","onUpdate:modelValue":n[1]||(n[1]=function(e){return(0,r.unref)(d).password=e}),type:"password",class:"grow border-none w-full",value:"",required:""},null,512),[[r.vModelText,(0,r.unref)(d).password]])])]),(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("label",S,[(0,r.createVNode)((0,r.unref)(c.Z),{checked:(0,r.unref)(d).remember,"onUpdate:checked":n[2]||(n[2]=function(e){return(0,r.unref)(d).remember=e}),name:"remember"},null,8,["checked"]),j])]),(0,r.createElementVNode)("div",L,[(0,r.createVNode)(o,{href:t.route("password.request"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)(" Forgot your password? ")]})),_:1},8,["href"]),(0,r.createVNode)((0,r.unref)(i.Z),{class:(0,r.normalizeClass)(["ml-4",{"opacity-25":(0,r.unref)(d).processing}]),disabled:(0,r.unref)(d).processing},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)(" Log in ")]})),_:1},8,["class","disabled"])])],32)]),(0,r.createElementVNode)("footer",null,[(0,r.createElementVNode)("div",{class:"flex justify-between modal-footer"},[(0,r.createElementVNode)("button",{onClick:f,class:"bg-gray-300 p-2 rounded-md hover:bg-gray-400 hover:text-gray-800"},"Cancel "),(0,r.createElementVNode)("div",{class:"mt-2"},[(0,r.createTextVNode)(" Need to "),(0,r.createElementVNode)("button",{onClick:v,class:"text-blue-800 hover:text-blue-600"},"register"),(0,r.createTextVNode)(" for an account? ")])])])])])):(0,r.createCommentVNode)("",!0)]})),_:1})}}};var J=n(93379),O=n.n(J),_=n(99004),F={insert:"head",singleton:!1};O()(_.Z,F);_.Z.locals;const P=(0,n(83744).Z)(Z,[["__scopeId","data-v-1742bd38"]])},32242:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(70821),o={class:"min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-gray-100"},a={class:"w-full sm:max-w-md mt-6 px-6 py-4 bg-white shadow-md overflow-hidden sm:rounded-lg"};const s={},l=(0,n(83744).Z)(s,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createElementVNode)("div",null,[(0,r.renderSlot)(e.$slots,"logo")]),(0,r.createElementVNode)("div",a,[(0,r.renderSlot)(e.$slots,"default")])])}]])},5556:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(70821),o=n(58358),a=n(39038),s=n(9680),l=["src"];const i={__name:"AuthenticationCardLogo",setup:function(e){var t=(0,o.useAppSettingStore)();t.pageReload=!1;var n=function(){t.noLayout?(t.pageReload=!0,s.Inertia.visit("/")):s.Inertia.visit("/")};return function(e,t){return(0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.rU),{onClick:n},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("img",{src:"/storage/images/logo_black_311.png",alt:"image",class:"justify-center"},null,8,l)]})),_:1})}}}},43497:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(70821),o=["value"];const a={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup:function(e,t){var n=t.emit,a=e,s=(0,r.computed)({get:function(){return a.checked},set:function(e){n("update:checked",e)}});return function(t,n){return(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return s.value=e}),type:"checkbox",value:e.value,class:"rounded border-2 border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,8,o)),[[r.vModelCheckbox,s.value]])}}}},6710:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(70821),o=["value"];const a={__name:"Input",props:{modelValue:String},emits:["update:modelValue"],setup:function(e,t){var n=t.expose,a=(0,r.ref)(null);return(0,r.onMounted)((function(){a.value.hasAttribute("autofocus")&&a.value.focus()})),n({focus:function(){return a.value.focus()}}),function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("input",{ref_key:"input",ref:a,class:"border-2 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",value:e.modelValue,onInput:n[0]||(n[0]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,o)}}}},15957:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(70821),o={class:"block font-medium text-sm text-gray-700"},a={key:0},s={key:1};const l={__name:"Label",props:{value:String},setup:function(e){return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("label",o,[e.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",a,(0,r.toDisplayString)(e.value),1)):((0,r.openBlock)(),(0,r.createElementBlock)("span",s,[(0,r.renderSlot)(t.$slots,"default")]))])}}}},30131:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(70821),o=n(39038),a={key:0},s=(0,r.createElementVNode)("div",{class:"font-medium text-red-600"}," Whoops! Something went wrong. ",-1),l={class:"mt-3 list-disc list-inside text-sm text-red-600"};const i={__name:"ValidationErrors",setup:function(e){var t=(0,r.computed)((function(){return(0,o.qt)().props.value.errors})),n=(0,r.computed)((function(){return Object.keys(t.value).length>0}));return function(e,o){return n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[s,(0,r.createElementVNode)("ul",l,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.value,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("li",{key:t},(0,r.toDisplayString)(e),1)})),128))])])):(0,r.createCommentVNode)("",!0)}}}}}]);
//# sourceMappingURL=5415.js.map