/*! For license information please see 5832.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5832,4679],{74679:(e,t,n)=>{n.r(t),n.d(t,{useScheduleStore:()=>U});var r=n(69876),o=n(90771),a=n(58358),i=n(27484),s=n.n(i),l=n(70178),c=n.n(l),u=n(29387),d=n.n(u);s().extend(c()),s().extend(d());var m=n(45459),h=n(83372),f=n(17773),p=n(5190),g=n(23318),v=n(79212),y=n.n(v),w=n(37412),x=n.n(w),S=n(84110),b=n.n(S),A=n(1646),C=n.n(A),k=n(55183),E=n.n(k),T=n(28734),B=n.n(T);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function F(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(){V=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new F(r||[]);return o(i,"_invoke",{value:E(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",h="suspendedYield",f="executing",p="completed",g={};function v(){}function y(){}function w(){}var x={};c(x,i,(function(){return this}));var S=Object.getPrototypeOf,b=S&&S(S(O([])));b&&b!==n&&r.call(b,i)&&(x=b);var A=w.prototype=v.prototype=Object.create(x);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,s){var l=d(e[o],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==N(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function E(t,n,r){var o=m;return function(a,i){if(o===f)throw new Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=T(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?p:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=p,r.method="throw",r.arg=c.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(N(t)+" is not iterable")}return y.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},C(k.prototype),c(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(A),c(A,l,"Generator"),c(A,i,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function L(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,s,"next",e)}function s(e){L(a,r,o,i,s,"throw",e)}i(void 0)}))}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){var r;return r=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==N(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){var t=(0,o.useUserStore)();return e.data.map((function(e){console.log("Original startTime for ".concat(e.id,": ").concat(e.startTime));var n=e.startTime?t.formatDateTimeFromUtcToUserTimezone(e.startTime,"YYYY-MM-DD HH:mm:ss"):null,r=e.endTime?t.formatDateTimeFromUtcToUserTimezone(e.endTime,"YYYY-MM-DD HH:mm:ss"):null;return console.log("Converted startTime for ".concat(e.id,": ").concat(n)),j(j({},e),{},{startTime:n,endTime:r,timezone:t.timezone})}))}function Y(e){for(var t=[],n=s()(e),r=0;r<6;r++)t.push(n.add(r,"hour").toDate());return t}s().extend(b()),s().extend(C()),s().extend(d()),s().extend(E()),s().extend(B()),s().extend(c()),s().extend(y()),s().extend(x());var z=function(){return(0,o.useUserStore)().timezone},G=function(){return{baseTime:s()().tz(z()).toDate(),currentHalfHour:s()().tz(z()).startOf("hour").add(s()().minute()>=30?30:0,"minute").toDate(),fourHoursLater:s()().tz(z()).startOf("hour").add(s()().minute()>=30?30:0,"minute").add(4,"hour").toDate(),viewingWindowStart:s()().tz(z()).startOf("hour").toDate(),currentMonth:s()().tz(z()).startOf("month").toDate(),selectedDay:s()().tz(z()).toDate(),currentWeekStart:s()().tz(z()).startOf("week").toDate(),currentWeekEnd:s()().tz(z()).endOf("week").toDate(),nextFourHoursOfContent:[],nextFourHoursOfContentWithPlaceholders:[],fiveDaySixHourSchedule:[],todaysContent:[],weeklyContent:[],dataFetchLog:[],scheduleIsLoading:!1,savingToSchedule:!1,slotIntervalMinutes:30,mediumScreenSlotHours:4,smallScreenSlotHours:2,verySmallScreenSlotHours:1,timeSlots:null,timeBanners:[{id:1,name:"Early Morning",startTime:"04:00",duration:2},{id:2,name:"Morning",startTime:"06:00",duration:6},{id:3,name:"Afternoon",startTime:"12:00",duration:5},{id:4,name:"Prime Time",startTime:"17:00",duration:3},{id:5,name:"Late Prime Time",startTime:"20:00",duration:3},{id:6,name:"Late Night",startTime:"23:00",duration:2},{id:7,name:"Overnight",startTime:"01:00",duration:3}]}},U=(0,r.Q_)("scheduleStore",{state:G,actions:{resetAll:function(){Object.assign(this,G())},reset:function(){this.viewingWindowStart=s()().tz(z()).startOf("hour").toDate(),this.currentMonth=s()().tz(z()).startOf("month").toDate(),this.selectedDay=s()().tz(z()).toDate()},setSelectedDay:function(e){var t=this;return H(V().mark((function n(){var r;return V().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=s()(e),t.selectedDay=r.toDate(),t.viewingWindowStart=r.startOf("day").add(4,"hours").toDate(),t.currentWeekStart=r.startOf("week").toDate(),t.currentWeekEnd=r.endOf("week").toDate(),n.next=7,t.fetchWeekDataIfNeeded();case 7:case"end":return n.stop()}}),n)})))()},setSelectedDayToToday:function(e){var t=s()();this.selectedDay=t.toDate(),this.viewingWindowStart=t.startOf("hour").toDate()},changeDay:function(e){var t=this;return H(V().mark((function n(){var r,o,a;return V().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=z(),o=60*s()(t.viewingWindowStart).hour()+s()(t.viewingWindowStart).minute(),a=(a=s()(t.viewingWindowStart).tz(r).add(e,"day").startOf("day")).add(o,"minute"),t.viewingWindowStart=a.toDate(),t.viewingWindowStart=a,n.next=8,t.fetchWeekDataIfNeeded();case 8:case"end":return n.stop()}}),n)})))()},shiftHours:function(e){var t=this;return H(V().mark((function n(){return V().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.viewingWindowStart=s()(t.viewingWindowStart).add(e,"hour").toDate(),t.currentWeekStart=s()(t.viewingWindowStart).startOf("week").toDate(),t.currentWeekEnd=s()(t.viewingWindowStart).endOf("week").toDate(),s()(t.viewingWindowStart).isSame(s()(t.selectedDay),"day")||(t.selectedDay=s()(t.viewingWindowStart).startOf("day").toDate()),n.next=6,t.fetchWeekDataIfNeeded();case 6:case"end":return n.stop()}}),n)})))()},isElevenPM:function(e){return 23===s()(e).hour()},subtractMonth:function(){var e=this;return H(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=s()(e.currentMonth).subtract(1,"month").toDate(),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:console.log("Set selected day based on current month:",e.currentMonth),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},addMonth:function(){var e=this;return H(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=s()(e.currentMonth).add(1,"month").toDate(),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:console.log("Set selected day based on current month:",e.currentMonth),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},fetchFiveDaySixHourSchedule:function(){var e=this;return H(V().mark((function t(){var n,r;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error("fetchFiveDaySixHourSchedule"),t.prev=1,n=(0,o.useUserStore)(),t.next=5,axios.get("/api/schedule");case 5:r=t.sent,n.timezone||r.data.userTimezone||"UTC",e.fiveDaySixHourSchedule=W(r.data),console.error("fetchFiveDaySixHourSchedule",r.data),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("Failed to load schedule shows:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},fetchTodaysContent:function(){var e=this;return H(V().mark((function t(){var n,r;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=(0,o.useUserStore)(),t.next=4,axios.get("/api/schedule/today");case 4:r=t.sent,n.timezone||r.data.userTimezone||"UTC",e.todaysContent=W(r.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch today's content:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},preloadWeeklyContent:function(){var e=this;return H(V().mark((function t(){var n;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s()(e.baseTime),t.prev=1,t.next=4,e.loadWeekFromDate(n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Failed to preload weekly content:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},loadWeekFromDate:function(e){var t=this;return H(V().mark((function n(){var r,a,i,l,c,u,d,m;return V().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,t.scheduleIsLoading=!0,n.prev=2,a=(0,o.useUserStore)(),i=s()(e),l=i.toISOString(),n.next=8,axios.post("/api/schedule/week/".concat(l));case 8:c=n.sent,u=i.format("YYYY-MM-DD"),console.log("Loading week data for date: ".concat(u)),console.log("Received response:",c.data),d=a.timezone||c.data.userTimezone,console.log("Using timezone: ".concat(d)),m=W(c.data),t.weeklyContent=[].concat(F(t.weeklyContent),F(m)).filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id&&t.startTime===e.startTime}))})),t.updateFetchLogs(e),t.scheduleIsLoading=!1,n.next=24;break;case 20:n.prev=20,n.t0=n.catch(2),console.error("Failed to load content for week starting ".concat(r,":"),n.t0),t.scheduleIsLoading=!1;case 24:case"end":return n.stop()}}),n,null,[[2,20]])})))()},updateFetchLogs:function(e){var t=s()(e),n=t.startOf("week").toISOString(),r=t.endOf("week").toISOString(),o=s()().toISOString(),a=this.dataFetchLog.findIndex((function(e){return e.weekStart===n&&e.weekEnd===r}));-1!==a?this.dataFetchLog[a].lastFetch=o:this.dataFetchLog.push({weekStart:n,weekEnd:r,lastFetch:o})},needsDataForWeek:function(){var e=function(e){return s()(e).format("YYYY-MM-DD")},t=e(this.currentWeekStart),n=e(this.currentWeekEnd);console.log("Current week range: ".concat(t," to ").concat(n)),console.log("Existing data fetch log entries:",this.dataFetchLog);var r=this.dataFetchLog.some((function(r){var o=e(r.weekStart),a=e(r.weekEnd);return console.log("Comparing to fetched range: ".concat(o," to ").concat(a)),o<=t&&a>=n}));return console.log("Week from ".concat(t," to ").concat(n," has ").concat(r?"":"not ","been fetched.")),!r},calculateExtendedEndForUpcomingContent:function(){return s()(this.viewingWindowStart).add(6,"hour").toDate()},checkAndFetchForUpcomingContent:function(){var e=this;return H(V().mark((function t(){var n,r,o,a,i,l;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Y(e.viewingWindowStart),r=s()(),o=r.subtract(15,"minutes"),a=D(n),t.prev=4,l=V().mark((function t(){var n,r;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.value,r=n.format("YYYY-MM-DD"),e.weeklyContent.some((function(t){var n=s()(t.startTime).format("YYYY-MM-DD"),a=e.dataFetchLog[r],i=a&&s()(a)>o;return r===n&&i}))){t.next=7;break}return t.next=6,e.fetchDataAndUpdateLog(r,n.toDate());case 6:return t.abrupt("return",1);case 7:case"end":return t.stop()}}),t)})),a.s();case 7:if((i=a.n()).done){t.next=13;break}return t.delegateYield(l(),"t0",9);case 9:if(!t.t0){t.next=11;break}return t.abrupt("break",13);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(4),a.e(t.t1);case 18:return t.prev=18,a.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))()},fetchDataAndUpdateLog:function(e,t){var n=this;return H(V().mark((function r(){var o;return V().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=s()(t),r.next=4,n.loadWeekFromDate(o.toDate());case 4:n.dataFetchLog[e]=s()().toISOString(),console.log("Data fetched successfully for date:",e),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error("Failed to fetch data for date ".concat(e,":"),r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},fetchWeekDataIfNeeded:function(){var e=this;return H(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.needsDataForWeek()){t.next=5;break}return t.next=3,e.checkAndFetchForUpcomingContent().catch((function(e){return console.error("Failed to load data for the week:",e),!1}));case 3:t.next=6;break;case 5:console.log("Week data already loaded; no need to fetch.");case 6:case"end":return t.stop()}}),t)})))()},updateBaseTime:function(e){this.baseTime=s()(e).toDate()},setBaseTime:function(e){this.baseTime=s()(e).toDate()},updateNextFourHours:function(){var e=this;return H(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.scheduleIsLoading=!0,e.updateTimeRange(),e.setTimeSlots(),e.prepareShowsForGrid(),e.scheduleIsLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},updateTimeRange:function(){var e=s()(this.baseTime).tz(z()),t=e.minute()<30?0:30,n=e.minute(t).second(0).millisecond(0).startOf("minute"),r=n.add(4,"hours");this.currentHalfHour=n.toDate(),this.fourHoursLater=r.toDate(),console.log("Fetching shows between:",n.format("YYYY-MM-DD HH:mm:ss"),"and",r.format("YYYY-MM-DD HH:mm:ss"))},setTimeSlots:function(){var e,t=(0,a.useAppSettingStore)();e=t.isVerySmallScreen?this.verySmallScreenSlotHours:t.isSmallScreen?this.smallScreenSlotHours:this.mediumScreenSlotHours;for(var n=this.slotIntervalMinutes,r=[],o=60*e/n,i=s()(this.currentHalfHour),l=0;l<o;l++){var c=i.add(l*n,"minute");r.push(c.toDate())}return this.timeSlots=r,r.length},prepareShowsForGrid:function(){var e=this.filterShowsForTimeRange(),t=this.calculateGridSlots(e,this.timeSlots);if(this.timeSlots&&Array.isArray(this.timeSlots)&&0!==this.timeSlots.length){var n=this.processShows(t),r=this.updateColumnOccupancy(n,this.timeSlots.length),o=r.colOccupancy,a=r.maxRowUsed,i=this.fillGapsAndCreatePlaceholders(o,a,this.timeSlots.length),s=[].concat(F(n),F(i));this.nextFourHoursOfContent=this.sortShowsByPosition(s)}else console.error("timeSlots is not properly initialized.")},filterShowsForTimeRange:function(){var e=this;return this.weeklyContent.filter((function(t){if("string"!=typeof t.startTime||"number"!=typeof t.durationMinutes)return console.warn("Invalid show data:",t.startTime,t.durationMinutes),!1;var n=s()(t.startTime),r=s()(t.endTime),o=n.isBefore(e.fourHoursLater)&&r.isAfter(e.currentHalfHour);if(o){var a=n.isBefore(e.currentHalfHour)?"already started":"starts within range";console.log("Show: ".concat(t.content.name,", ").concat(a,", Start: ").concat(n.format("HH:mm:ss"),", End: ").concat(r.format("HH:mm:ss"),", Duration: ").concat(t.durationMinutes))}return o}))},calculateGridSlots:function(e,t){if(!Array.isArray(t)||0===t.length)return console.error("Invalid or empty timeSlots array"),[];var n=s()(t[0]),r=s()(t[t.length-1]).add(30,"minutes");return e.filter((function(e){var t=s()(e.startTime),o=s()(e.endTime);return t.isBefore(r)&&o.isAfter(n)})).map((function(e){var n=s()(e.startTime),r=s()(e.endTime);console.log("************************************"),console.log("Processing show: ".concat(e.content.name,", Start: ").concat(e.startTime,", End: ").concat(e.endTime));var o=t.findIndex((function(e){return n.isSameOrBefore(s()(e))}));(-1===o||n.isAfter(s()(t[o])))&&(o=Math.max(0,o)),console.log("Comparing show start ".concat(n.format()," to timeSlot index ").concat(o," at ").concat(s()(t[o]).format()));var a=t.findIndex((function(e){return r.isSameOrBefore(s()(e).add(30,"minutes"))}));-1!==a&&r.isBefore(s()(t[a]))&&a--,(-1===a||r.isSame(s()(t[t.length-1]).add(30,"minutes")))&&(a=t.length-1),console.log("Comparing show end ".concat(r.format()," to timeSlot index ").concat(a," at ").concat(-1!==a?s()(t[a]).format():"out of range"));var i=a-o+1;return console.log("Calculated gridStart: ".concat(o+1,", gridSpan: ").concat(i)),j(j({},e),{},{gridStart:o+1,gridSpan:i})}))},processShows:function(e){var t=this,n=!1;return e.forEach((function(e){var r=s()(e.startTime),o=r.add(e.durationMinutes,"minutes"),a=s()(t.baseTime);e.nowPlaying=!e.placeholder&&a.isAfter(r)&&a.isBefore(o)&&1===e.gridStart,!n&&!e.placeholder&&e.gridStart>1&&(e.comingUpNext=!0,n=!0)})),e},updateColumnOccupancy:function(e,t){var n=new Array(t).fill(null).map((function(){return new Set})),r=0;return e.forEach((function(e){for(var o=e.gridStart-1;o<e.gridStart-1+e.gridSpan;o++)o>=0&&o<t&&(n[o].add(e.gridRow),r=Math.max(r,e.gridRow))})),{colOccupancy:n,maxRowUsed:r}},fillGapsAndCreatePlaceholders:function(e,t,n){var r=[];t=Math.max(t,1);for(var o=1;o<=t;o++)r.push.apply(r,F(this.findAndFillGapsForSingleRow(e,o,n)));return r},findAndFillGapsForSingleRow:function(e,t,n){for(var r=[],o=-1,a=0;a<n;a++)e[a].has(t)?-1!==o&&(1===t?r.push(this.createPlaceholder(o+1,a-o,t)):r.push(this.createBlankSpotPlaceholder(o+1,a-o,t)),o=-1):o=-1===o?a:o;return-1!==o&&(1===t?r.push(this.createPlaceholder(o+1,n-o,t)):r.push(this.createBlankSpotPlaceholder(o+1,n-o,t))),r},sortShowsByPosition:function(e){return Array.isArray(e)?e.sort((function(e,t){return e.gridRow-t.gridRow||e.gridStart-t.gridStart})):(console.error("Expected an array of shows, received:",e),[])},createPlaceholder:function(e,t,n){return{placeholder:!0,startTime:"placeholder",priority:0,gridStart:e,gridSpan:t,gridRow:n,content:{name:"Nothing scheduled."}}},createBlankSpotPlaceholder:function(e,t,n){return{placeholder:!0,startTime:"placeholder",priority:0,gridStart:e,gridSpan:t,gridRow:n,content:{name:"Blank Spot"}}}},getters:{currentTime:function(e){return s()(e.baseTime).format("h:mm A")},preparedTimeBanners:function(e){var t=z(),n=s()().tz(t).startOf("day"),r=n.add(1,"day");return console.log("Current Time Slots:",e.timeSlots.map((function(e){return s()(e).format("HH:mm")}))),e.timeBanners.flatMap((function(t){var o=n.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),a=o.clone().add(t.duration,"hours"),i=r.hour(parseInt(t.startTime.split(":")[0])).minute(parseInt(t.startTime.split(":")[1])),l=i.clone().add(t.duration,"hours");return[j(j({},t),{},{start:o,end:a}),j(j({},t),{},{start:i,end:l})].map((function(t){var n=e.timeSlots.findIndex((function(e){return t.start.isSameOrBefore(s()(e))&&t.end.isAfter(s()(e))})),r=e.timeSlots.findIndex((function(e){return t.end.isSameOrBefore(s()(e))}));-1===r||t.end.isAfter(s()(e.timeSlots[e.timeSlots.length-1]))?r=e.timeSlots.length-1:r-=1;var o=n+1,a=r-n+1;return console.log("Processing Banner: ".concat(t.name)),console.log("StartTime: ".concat(t.start.format("HH:mm"),", EndTime: ").concat(t.end.format("HH:mm"))),console.log("StartSlotIndex: ".concat(n,", EndSlotIndex: ").concat(r)),console.log("Calculated gridStart: ".concat(o,", gridSpan: ").concat(a)),o&&a>0?j(j({},t),{},{gridStart:o,gridSpan:a}):null}))})).filter((function(e){return null!=e})).sort((function(e,t){return e.gridStart-t.gridStart}))},nextFourHoursWithHalfHourIntervals:function(e){for(var t=(0,o.useUserStore)(),n=((0,a.useAppSettingStore)(),t.timezone),r=e.timeSlots.length,i=[],l=s()(e.baseTime).tz(n),c=l.minute()<30?l.startOf("hour"):l.startOf("hour").add(30,"minutes"),u=0;u<r;u++)i.push({formatted:c.format("hh:mm A"),dateTimeString:c.format("YYYY-MM-DD HH:mm:ss")}),c=c.add(30,"minute");return i},upcomingContent:function(e){var t=s()(e.viewingWindowStart).subtract(1,"hour"),n=t.add(7,"hours"),r=e.weeklyContent.reduce((function(e,t){var n=s()(t.startTime).valueOf();return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.values(r).map((function(e){return e.reduce((function(e,t){return!e||t.priority<e.priority?t:e}),null)})).filter((function(e){var r=s()(e.startTime);return r.isSameOrAfter(t)&&r.isBefore(n)})).sort((function(e,t){return s()(e.startTime).unix()-s()(t.startTime).unix()}))},nextSixHours:function(e){for(var t=s()(e.viewingWindowStart),n=t.add(6,"hours"),r=[],o=t;o.isBefore(n);)r.push(o.toDate()),o=o.add(1,"hour");return r},dateMessage:function(e){var t=(0,m.b)(e.viewingWindowStart),n=(0,h.WU)(t,"EEEE MMMM do, yyyy");return(0,f.z)(t)?"Today - ".concat(n):(0,p.g)(t)?"Yesterday - ".concat(n):(0,g.P)(t)?"Tomorrow - ".concat(n):n},currentMonthIndex:function(e){return s()(e.currentMonth).month()},currentMonthName:function(e){return s()(e.currentMonth).format("MMMM")},currentYear:function(e){return s()(e.currentMonth).year()},isToday:function(e){var t=s()(),n=s()(e.viewingWindowStart);return t.isSame(n,"day")},daysInMonth:function(e){for(var t=s()(e.currentMonth),n=t.startOf("month"),r=t.endOf("month"),o=n.startOf("week"),a=r.endOf("week"),i=[],l=o;l.isBefore(a)||l.isSame(a,"day");)i.push(l.toDate()),l=l.add(1,"day");return i}}})},24831:(e,t,n)=>{n.d(t,{U:()=>s});n(70821);var r=n(90771),o=n(58358),a=n(40191),i=n(9680);function s(e){var t=(0,r.useUserStore)(),n=(0,o.useAppSettingStore)(),s=(0,a.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(n.ott=1,n.showOttButtons=!0),s.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,window.location.reload(!0)),i.Inertia.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:n.ott=1,""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1}},17753:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const s=i},13487:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,'.bg-gradient-show[data-v-dac283a8]{background:linear-gradient(90deg,#1f4037,#99f2c8)}.bg-gradient-show-hover[data-v-dac283a8]:hover{background:linear-gradient(90deg,#66d3fa,#6e45e2)}.bg-gradient-new-release[data-v-dac283a8]{background:linear-gradient(90deg,#654ea3,#eaafc8)}.bg-gradient-new-release-hover[data-v-dac283a8]:hover{background:linear-gradient(90deg,#c2e59c,#64b3f4)}.column-width[data-v-dac283a8]{@apply w-16}.schedule-item[data-v-dac283a8]{align-items:center;background:#f0f0f0;color:#000;display:flex;flex-direction:column;gap:10px;padding:10px}.time-slot[data-v-dac283a8]{border-bottom:1px solid #fff;grid-row:1;padding:10px 0;text-align:center}.time-banner[data-v-dac283a8]{background-color:#007bff80;border:1px solid #fff;padding:10px;text-align:center}.show-cell[data-v-dac283a8]{align-items:center;background-color:#f8f8f8;border:1px solid #ccc;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.time-cell[data-v-dac283a8]{border:1px solid #fff;padding:10px;text-align:center}.content[data-v-dac283a8]{background:#f0f0f0;border:1px solid #ddd;padding:8px}.placeholder[data-v-dac283a8]{background:#ccc;height:60px;width:100%}.schedule-grid[data-v-dac283a8]{display:grid;width:100%}.content-row[data-v-dac283a8],.header-row[data-v-dac283a8]{display:contents}.schedule-cell[data-v-dac283a8]{background:#333;color:#fff;padding:8px;text-align:center}.grid-container[data-v-dac283a8]{grid-gap:10px;display:grid;width:100%}.grid-item[data-v-dac283a8]{align-items:center;border:1px solid #ccc;display:flex;justify-content:center}.status-row[data-v-dac283a8]{display:grid}.status-cell[data-v-dac283a8],.status-row[data-v-dac283a8]{align-items:center;width:100%}.status-cell[data-v-dac283a8]{color:#fff;display:flex;font-weight:700;height:100%;justify-content:center;opacity:.8;padding:8px;transition:background-color .3s ease}.status-cell span[data-v-dac283a8]{border-radius:4px;display:block;padding:4px 8px;text-align:center}.status-cell[data-v-dac283a8]:empty:after{background:none;content:"";display:block;height:100%;width:100%}.show-cell:hover .gradient-on-hover[data-v-dac283a8]{background-image:linear-gradient(90deg,#06beb6,#48b1bf)}.coming-up-next[data-v-dac283a8],.now-playing[data-v-dac283a8]{align-items:center;border:1px solid #ccc;display:flex;justify-content:center;padding:10px}.now-playing[data-v-dac283a8]{animation:pulseAnimation-dac283a8 2s infinite;background-color:#4caf50}.coming-up-next[data-v-dac283a8]{background-color:#ff9800}@keyframes pulseAnimation-dac283a8{0%{opacity:.75}50%{opacity:1}to{opacity:.75}}@media (min-width:1280px){.xl\\:hidden[data-v-dac283a8]{display:none}}@media (min-width:1024px){.lg\\:hidden[data-v-dac283a8]{display:none}}',"",{version:3,sources:["webpack://./resources/js/Components/Global/Schedule/ScheduleGridContainer.vue"],names:[],mappings:"AA0YA,mCACE,iDACF,CAEA,+CACE,iDACF,CAEA,0CACE,iDACF,CAEA,sDACE,iDACF,CAGA,+BACE,WACF,CAGA,gCAOE,kBAAmB,CANnB,kBAAmB,CACnB,UAAW,CAEX,YAAa,CACb,qBAAsB,CACtB,QAAS,CAHT,YAKF,CAEA,4BAGE,4BAA6B,CAC7B,UAAW,CAFX,cAAe,CADf,iBAIF,CAEA,8BACE,0BAAwC,CAExC,qBAAuB,CACvB,YAAa,CAFb,iBAGF,CAEA,4BAIE,kBAAmB,CAEnB,wBAAyB,CADzB,qBAAsB,CAJtB,YAAa,CACb,qBAAsB,CAMtB,WAAY,CALZ,sBAAuB,CAIvB,UAEF,CAEA,4BACE,qBAAsB,CAEtB,YAAa,CADb,iBAEF,CAEA,0BACE,kBAAmB,CAEnB,qBAAsB,CADtB,WAEF,CAEA,8BACE,eAAgB,CAEhB,WAAY,CADZ,UAEF,CAGA,gCACE,YAAa,CACb,UACF,CAMA,2DACE,gBACF,CAEA,gCACE,eAAgB,CAChB,UAAW,CAEX,WAAY,CADZ,iBAEF,CAEA,iCAGE,aAAc,CAFd,YAAa,CACb,UAEF,CAEA,4BAEE,kBAAmB,CAEnB,qBAAsB,CAHtB,YAAa,CAEb,sBAEF,CAGA,6BACE,YAGF,CAGA,2DAJE,kBAAmB,CADnB,UAgBF,CAXA,8BAKE,UAAY,CAJZ,YAAa,CAOb,eAAiB,CADjB,WAAY,CALZ,sBAAuB,CAOvB,UAAY,CALZ,WAAY,CAMZ,oCACF,CAEA,mCAGE,iBAAkB,CAFlB,aAAc,CACd,eAAgB,CAEhB,iBACF,CAGA,0CAKE,eAAgB,CAJhB,UAAW,CACX,aAAc,CAEd,WAAY,CADZ,UAGF,CAGA,qDACE,uDACF,CAEA,+DAGE,kBAAmB,CAEnB,qBAAsB,CAJtB,YAAa,CACb,sBAAuB,CAEvB,YAEF,CAEA,8BAEE,6CAAqC,CADrC,wBAEF,CAEA,iCACE,wBACF,CAGA,mCACE,GACE,WACF,CACA,IACE,SACF,CACA,GACE,WACF,CACF,CAGA,0BAEE,6BACE,YACF,CACF,CAEA,0BAEE,6BACE,YACF,CACF",sourcesContent:['<template>\n\n  \x3c!--  We need the CurrenTime component to keep our ScheduleStore currentTime up to date\n        it has a SetInterval in it. --\x3e\n  <CurrentTime/>\n\n  <div class="mb-2 tracking-wide">\n    <span class="text-sm uppercase text-purple-500">All times are listed in your timezone.</span>\n  </div>\n\n  <div class="w-full">\n    <div class="schedule-grid" :style="{ \'grid-template-columns\': gridColumns }">\n      <div class="header-row" :style="{ \'grid-template-columns\': gridColumns }">\n        \x3c!-- Time slots header --\x3e\n        <div class="time-cell bg-gray-900 px-3 py-2 text-center font-bold"\n             v-for="interval in nextFourHoursWithHalfHourIntervals" :key="interval.dateTime">\n          {{ interval.formatted }}\n        </div>\n      </div>\n      <div v-if="scheduleIsLoading && nextFourHoursOfContent.length === 0"\n           class="w-full flex justify-center text-center items-center">\n        <span class="loading loading-ball loading-xl text-info"></span>\n      </div>\n    </div>\n    <div class="schedule-grid" :style="{ \'grid-template-columns\': gridColumns }">\n      \x3c!-- Render time banners --\x3e\n      <div v-for="banner in scheduleStore.preparedTimeBanners" :key="banner.id"\n           :style="gridItemStyle(banner)" class="time-banner">\n        {{ banner.name }}\n      </div>\n    </div>\n    <div class="schedule-grid" :style="{ \'grid-template-columns\': gridColumns }">\n\n\n      \x3c!-- Loop through combinedShows directly --\x3e\n      <div v-for="item in scheduleStore.nextFourHoursOfContent"\n           :key="item.id"\n           :style="gridItemStyle(item)"\n           class="show-cell"\n           :class="{\'hover:cursor-pointer\' : !item.placeholder}"\n           @click="handleShowClick(item)">\n        <div\n            class="item-content px-4 flex flex-col justify-between items-center w-full h-full overflow-hidden"\n            :class="{\n        \'bg-gradient-to-r from-gray-900 to-gray-700\': !item.placeholder,\n        \'bg-gradient-to-r from-tan-800 to-tan-600\': item.placeholder,  // Assume tan-800 and tan-600 are defined in your tailwind config\n        \'gradient-on-hover\': !item.placeholder\n    }">\n          <div class="show-info flex-grow flex flex-col items-center justify-center">\n            <h3 class="show-title my-4 w-full text-center text-lg font-semibold break-words"\n                :class="{\'gradient-on-hover\': !item.placeholder}">\n              {{ item.content.name || \'No Show Name\' }}</h3>\n            \x3c!--            <p>{{ item.content.id }}</p>--\x3e\n            \x3c!--            <p>Row: {{ item.gridRow }}</p>--\x3e\n            <SingleImage v-if="item.content.image"\n                         :image="item.content.image"\n                         :alt="item.content.name"\n                         :class="`w-full h-auto max-h-1/2 object-cover transition-opacity duration-300 hover:opacity-80`"/>\n            <div v-if="!item.placeholder"\n                 class="show-time w-full text-center text-sm p-2 mt-2"\n                 :class="{\'gradient-on-hover\': !item.placeholder}">\n              <p>{{ formatTime(item.startTime, true) }}</p>\n\x3c!--              <p>{{ formatTime(item.startTime) }} - {{ formatTime(item.endTime, true) }}</p>--\x3e\n              <p>{{ formatDuration(item.durationMinutes) }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n    </div>\n\n    <div v-if="allPlaceholders && nextScheduledShow" class="next-show-highlight p-5 border border-gray-300 bg-gradient-to-r from-gray-900 to-gray-700 text-center">\n      <div class="bg-green-500 text-white py-2">\n        <h2>Playing Soon</h2>\n      </div>\n      <div class="show-details mt-4 mx-auto max-w-4xl">\n        <h3 class="text-3xl mb-1">{{ nextScheduledShow.content.name }}</h3>\n        <p class="text-lg">{{ formatLongDate(nextScheduledShow.startTime) }}</p> \x3c!-- Formatted start date --\x3e\n        <p class="text-lg">{{ formatTime(nextScheduledShow.startTime, true) }} - {{ formatTime(nextScheduledShow.endTime, true) }}</p>\n        <div class="w-full flex justify-center items-center mt-4 hover:cursor-pointer"\n             @click="handleShowClick(nextScheduledShow)">\n          <SingleImage v-if="nextScheduledShow.content.image"\n               :image="nextScheduledShow.content.image"\n               :alt="nextScheduledShow.content.name"\n               :class="`w-3/4 md:w-1/2 lg:w-1/3 h-auto object-cover mx-auto transition-opacity duration-300 hover:opacity-80`"/>\n        </div>\n        <p class="text-lg">{{ formatDuration(nextScheduledShow.durationMinutes) }}</p>\n      </div>\n    </div>\n\n\n\n    <div class="schedule-grid text-center" :style="{ \'grid-template-columns\': gridColumns }">\n\n      <div v-if="nowPlayingShow" :style="statusGridItemStyle(nowPlayingShow)"\n           class="now-playing text-black font-semibold">\n        <span>NOW PLAYING</span>\n      </div>\n\n      <div v-if="comingUpNextShow" :style="statusGridItemStyle(comingUpNextShow)"\n           class="coming-up-next text-black font-semibold">\n        <span>COMING UP NEXT</span>\n\n      </div>\n\n    </div>\n  </div>\n\n</template>\n<script setup>\nimport { computed, onMounted, onUnmounted, ref, watch, watchEffect } from \'vue\'\nimport { Inertia } from \'@inertiajs/inertia\'\nimport { debounce } from \'lodash\'\nimport dayjs from \'dayjs\'\nimport advancedFormat from \'dayjs/plugin/advancedFormat\'; // for using \'a\' for AM/PM format\nimport { useScheduleStore } from \'@/Stores/ScheduleStore\'\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useUserStore } from \'@/Stores/UserStore\'\nimport ScheduleGrid from \'@/Components/Pages/Schedule/ScheduleGrid.vue\'\nimport SingleImage from \'@/Components/Global/Multimedia/SingleImage.vue\'\nimport CurrentTime from \'@/Components/Global/Schedule/CurrentTime.vue\'\n\nconst scheduleStore = useScheduleStore()\nconst appSettingStore = useAppSettingStore()\nconst userStore = useUserStore()\n\ndayjs.extend(advancedFormat);\n\nlet initialLoadHandled = false\n\n// // Computed property for the currently playing show\n// const updateNowPlaying = computed(() => {\n//   for (const show of scheduleStore.nextFourHoursOfContent) {\n//     if (isNowPlaying(show.startTime, show.durationMinutes) && !show.placeholder && show.gridStart === 1) {\n//       return show;  // ensure this has gridStart, gridSpan, gridRow\n//     }\n//   }\n//   return null;\n// });\n//\n//\n//\n// // Computed property for the show that is coming up next\n// const updateComingUpNext = computed(() => {\n//   let foundPlaying = false;\n//   for (const show of scheduleStore.nextFourHoursOfContent) {\n//     if (!show.placeholder && show.gridStart > 1) {\n//       if (foundPlaying) {\n//         return show;  // ensure this has gridStart, gridSpan, gridRow\n//       }\n//     }\n//     if (isNowPlaying(show.startTime, show.durationMinutes)) {\n//       foundPlaying = true;  // Mark as found\n//     }\n//   }\n//   return null;\n// });\n\nconst allPlaceholders = computed(() => {\n  return scheduleStore.nextFourHoursOfContent.every(item => item.placeholder);\n});\n\nconst nextScheduledShow = computed(() => {\n  const now = dayjs();\n  return scheduleStore.weeklyContent.find(show =>\n      dayjs(show.startTime).isAfter(now) && !show.placeholder\n  );\n});\n\nfunction isNowPlaying(startTime, duration) {\n  const now = dayjs()\n  const start = dayjs(startTime)\n  const end = start.add(duration, \'minutes\')\n  return now.isAfter(start) && now.isBefore(end)\n}\n\n\nconst nowPlayingShow = computed(() => {\n  return scheduleStore.nextFourHoursOfContent.find(show => show.nowPlaying)\n})\n\nconst comingUpNextShow = computed(() => {\n  return scheduleStore.nextFourHoursOfContent.find(show => show.comingUpNext)\n})\n\nwatch(() => scheduleStore.timeSlots, (newTimeSlots, oldTimeSlots) => {\n  if (newTimeSlots && newTimeSlots.length > 0 && !initialLoadHandled) {\n    console.log(\'Time slots are ready, updating next four hours.\')\n    scheduleStore.updateNextFourHours()\n    initialLoadHandled = true\n  }\n}, {immediate: true})\n\nwatch(\n    () => scheduleStore.baseTime,\n    (newTime, oldTime) => {\n      if (newTime !== oldTime) { // This check may be redundant but adds clarity\n        console.log(`Base time updated from ${oldTime} to ${newTime}`)\n        scheduleStore.updateNextFourHours()\n      }\n    },\n    {immediate: true},\n)\n//\n\n// Watch for changes in screen size indicators\nwatch(\n    [() => appSettingStore.isVerySmallScreen, () => appSettingStore.isSmallScreen],\n    ([newVerySmall, newSmall], [oldVerySmall, oldSmall]) => {\n      if (newVerySmall !== oldVerySmall || newSmall !== oldSmall) {\n        console.log(`Screen size change detected: VerySmallScreen: ${newVerySmall}, SmallScreen: ${newSmall}`)\n        scheduleStore.updateNextFourHours()\n      }\n    },\n    {immediate: true},  // Optionally run on initial setup\n)\n\nwatchEffect(() => {\n  console.log(\'nextFourHoursOfContent:\', scheduleStore.nextFourHoursOfContent)\n})\n\n// Method to format time with conditional AM/PM display\nfunction formatTime(time, showMeridiem = false) {\n  return dayjs(time).format(`h:mm ${showMeridiem ? \'a\' : \'\'}`)\n}\n\nfunction formatLongDate(date) {\n  return dayjs(date).format(\'dddd MMM D, YYYY\');\n}\n\n// Method to format duration into a readable format\nfunction formatDuration(minutes) {\n  const hours = Math.floor(minutes / 60)\n  const remainderMinutes = minutes % 60\n  if (hours === 0) return `${remainderMinutes} minutes`\n  return `${hours} hour${hours > 1 ? \'s\' : \'\'} ${remainderMinutes > 0 ? remainderMinutes + \' minutes\' : \'\'}`\n}\n\n// Define the function to calculate grid style directly\nfunction gridItemStyle(item) {\n  const style = {\n    gridColumn: `${item.gridStart} / span ${item.gridSpan}`,\n    gridRow: `row ${item.gridRow}`,\n  }\n  console.log(style)  // Log to see what styles are being returned\n  return style\n}\n\n// Dedicated function to handle status row grid styling\nfunction statusGridItemStyle(item) {\n  if (!item) return {}\n\n  // Log to debug the grid positions being applied\n  console.log(`Status Item - Grid Start: ${item.gridStart}, Grid Span: ${item.gridSpan}`)\n\n  return {\n    gridColumn: `${item.gridStart} / span ${item.gridSpan}`,\n    gridRow: `row 1`, // Assuming status rows are always in the first grid row for visibility\n  }\n}\n\n\n// Computed property to determine the number of columns\nconst gridColumns = computed(() => {\n  let numColumns\n  if (appSettingStore.isVerySmallScreen) {\n    numColumns = Math.floor((scheduleStore.verySmallScreenSlotHours * 60) / scheduleStore.slotIntervalMinutes)\n  } else if (appSettingStore.isSmallScreen) {\n    numColumns = Math.floor((scheduleStore.smallScreenSlotHours * 60) / scheduleStore.slotIntervalMinutes)\n  } else {\n    numColumns = Math.floor((scheduleStore.mediumScreenSlotHours * 60) / scheduleStore.slotIntervalMinutes)\n  }\n  document.documentElement.style.setProperty(\'--text-size\', numColumns < 4 ? \'0.8em\' : \'1em\')\n  document.documentElement.style.setProperty(\'--text-small\', numColumns < 4 ? \'0.7em\' : \'0.8em\')\n\n  return `repeat(${numColumns}, minmax(0, 1fr))` // Returns the CSS grid-template-columns value\n})\n\n// Computed property to ensure reactivity\nconst nextFourHoursWithHalfHourIntervals = computed(() => scheduleStore.nextFourHoursWithHalfHourIntervals)\nconst nextFourHoursOfContent = computed(() => scheduleStore.nextFourHoursOfContent)\nconst scheduleIsLoading = computed(() => scheduleStore.scheduleIsLoading)\n\nconst gridPlacement = (gridStart, gridSpan) => {\n  return {\n    gridColumnStart: gridStart,\n    gridColumnEnd: `span ${gridSpan}`,\n    gridRowStart: \'auto\',\n    gridRowEnd: \'span 1\', // Assuming each item occupies one row height-wise\n  }\n}\n\n// // Determines the classes for a status cell\n// const getStatusCellClasses = (index) => {\n//   const classes = [\'status-cell\']\n//   if (index === 0) classes.push(\'now-playing\')\n//   else if (index === 1) classes.push(\'coming-up-next\')\n//   else classes.push(\'status-cell-empty\') // For cells without specific content\n//   return classes\n// }\n\nfunction getCellClasses(type) {\n  const baseClass = \'column-width text-sm 2xl:text-md border border-0.5 border-green-300 hover:border-blue-500 cursor-pointer\'\n  switch (type) {\n    case \'show\':\n      return `${baseClass} bg-gradient-show hover:bg-gradient-show-hover`\n    case \'new_release\':\n      return `${baseClass} bg-gradient-new-release hover:bg-gradient-new-release-hover`\n      // Add more cases as needed\n    default:\n      return baseClass\n  }\n}\n\nfunction handleShowClick(item) {\n  Inertia.visit(`/shows/${item.content.slug}/`)\n  // if (isNowPlaying(item.startTime, item.durationMinutes)) {\n  //   // Redirect to the show\'s page if it\'s currently playing\n  //   Inertia.visit(`/shows/${item.content.slug}/`)\n  // } else {\n  //   // Open the reminder modal for shows that are not currently playing\n  //   openModal(\'getReminderModal\')\n  // }\n}\n\nfunction updateNowPlayingAndComingUpNext() {\n  // Logic to update nowPlaying and comingUpNext based on the current time and show data\n}\n\n\n// Helper function to determine the appropriate classes based on the gridStart and certain conditions\nconst getStatusCellClasses = (gridStart, isFirst, isSecond) => {\n  const classes = [\'status-cell\'] // Base class for all status cells\n  if (isFirst && gridStart === 1) {\n    // \'Now Playing\' is only assigned if it\'s the first item and it starts at the first grid column\n    classes.push(\'now-playing\')\n  } else if (isSecond && gridStart !== 1) {\n    // \'Coming Up Next\' is only assigned to the second item and it should not start at the first grid column\n    classes.push(\'coming-up-next\')\n  } else {\n    // Default class for other cells or when no specific condition is met\n    classes.push(\'status-cell-empty\')\n  }\n  return classes\n}\n// Ensure the data structure is what you expect\nconsole.log(\'All items in store:\', scheduleStore.nextFourHoursOfContent)\n\n//\n// const actualShows = computed(() => {\n//   // Flatten the nested arrays, filter out placeholders, and ignore specific content names\n//   return scheduleStore.nextFourHoursOfContent.flat().filter(item =>\n//       !item.placeholder && item.content.name !== "Nothing scheduled." && item.content.name !== "Blank Spot"\n//   );\n// });\n//\n\n\n// watch(nowPlayingShow, (newVal, oldVal) => {\n//   console.log(\'Now Playing Show changed from:\', oldVal, \'to:\', newVal);\n// });\n//\n// watch(comingUpNextShow, (newVal, oldVal) => {\n//   console.log(\'Coming Up Next Show changed from:\', oldVal, \'to:\', newVal);\n// });\n\n// Optional: Watch the entire content array if changes are frequent and need to trigger reevaluations\nwatch(() => scheduleStore.nextFourHoursOfContent, () => {\n  console.log(\'Content changed, recomputing shows...\')\n}, {deep: true})\n\n\n//\n// // Watch for changes in actualShows and log or react accordingly\n// watch(actualShows, (newShows, oldShows) => {\n//   console.log("Actual shows have updated:", newShows);\n//   // Additional reactions can be performed here\n// });\n//\n// // Optionally, watch for changes in previousItemGridEnd if needed\n// watch(previousItemGridEnd, (newEnd, oldEnd) => {\n//   console.log("Previous item grid end has updated:", newEnd);\n//   // React to changes in the end of the first show, if necessary\n// });\n\n\nfunction openModal(modalName) {\n  document.getElementById(modalName).showModal()\n}\n<\/script>\n\n<style scoped>\n\n.bg-gradient-show {\n  background: linear-gradient(to right, #1f4037, #99f2c8); /* Example green gradient */\n}\n\n.bg-gradient-show-hover:hover {\n  background: linear-gradient(to right, #66D3FA, #6E45E2); /* Example green gradient on hover */\n}\n\n.bg-gradient-new-release {\n  background: linear-gradient(to right, #654ea3, #eaafc8); /* Example purple gradient */\n}\n\n.bg-gradient-new-release-hover:hover {\n  background: linear-gradient(to right, #c2e59c, #64b3f4); /* Example purple gradient on hover */\n}\n\n\n.column-width {\n  @apply w-16\n}\n\n\n.schedule-item {\n  background: #f0f0f0;\n  color: #000;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.time-slot {\n  text-align: center;\n  padding: 10px 0;\n  border-bottom: 1px solid #fff;\n  grid-row: 1; /* Ensures all time slots are in the first row */\n}\n\n.time-banner {\n  background-color: rgba(0, 123, 255, 0.5); /* Example styling */\n  text-align: center;\n  border: 1px solid white; /* White border */\n  padding: 10px;\n}\n\n.show-cell {\n  display: flex; /* Ensure this is set to flex to control child elements with flex properties */\n  flex-direction: column; /* Align children in a column */\n  justify-content: center; /* Align items to the top */\n  align-items: center; /* Center children horizontally */\n  border: 1px solid #ccc;\n  background-color: #f8f8f8;\n  width: 100%; /* Ensures cell uses full width of its grid column */\n  height: 100%; /* Ensures cell uses full height */\n}\n\n.time-cell {\n  border: 1px solid #fff;\n  text-align: center; /* Center text if desired */\n  padding: 10px;\n}\n\n.content {\n  background: #f0f0f0;\n  padding: 8px;\n  border: 1px solid #ddd;\n}\n\n.placeholder {\n  background: #ccc;\n  width: 100%;\n  height: 60px;\n}\n\n\n.schedule-grid {\n  display: grid;\n  width: 100%;\n}\n\n.header-row {\n  display: contents; /* This makes the header-row itself not generate a box, allowing .time-cell to be direct children of .schedule-grid */\n}\n\n.content-row {\n  display: contents; /* This makes the row container disappear, directly using the grid defined in parent */\n}\n\n.schedule-cell {\n  background: #333;\n  color: #fff;\n  text-align: center;\n  padding: 8px;\n}\n\n.grid-container {\n  display: grid;\n  width: 100%;\n  grid-gap: 10px;\n}\n\n.grid-item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #ccc;\n}\n\n\n.status-row {\n  display: grid;\n  width: 100%;\n  align-items: center;\n}\n\n\n.status-cell {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n  color: white;\n  width: 100%;\n  height: 100%;\n  font-weight: bold;\n  opacity: 0.8;\n  transition: background-color 0.3s ease;\n}\n\n.status-cell span {\n  display: block;\n  padding: 4px 8px;\n  border-radius: 4px;\n  text-align: center;\n}\n\n/* Optional: If you want the empty cells to have a slight indication they are there */\n.status-cell:empty::after {\n  content: "";\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: none; /* Adjust this to a very subtle color or keep transparent */\n}\n\n/* Custom hover effect for the parent that affects children */\n.show-cell:hover .gradient-on-hover {\n  background-image: linear-gradient(to right, #06beb6, #48b1bf);\n}\n\n.now-playing, .coming-up-next {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n  border: 1px solid #ccc;\n}\n\n.now-playing {\n  background-color: #4CAF50; /* Green for now playing */\n  animation: pulseAnimation 2s infinite;\n}\n\n.coming-up-next {\n  background-color: #FF9800; /* Orange for coming up next */\n}\n\n\n@keyframes pulseAnimation {\n  0% {\n    opacity: 0.75;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0.75;\n  }\n}\n\n/* Responsive visibility */\n@media (min-width: 1280px) {\n  /* 2xl */\n  .xl\\:hidden {\n    display: none;\n  }\n}\n\n@media (min-width: 1024px) {\n  /* xl */\n  .lg\\:hidden {\n    display: none;\n  }\n}\n\n</style>'],sourceRoot:""}]);const s=i},97333:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".grid[data-v-53f3bf92]{display:grid;gap:4px;grid-auto-rows:minmax(100px,auto);grid-template-columns:repeat(8,minmax(0,1fr))}@media (max-width:640px){.grid[data-v-53f3bf92]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width:641px) and (max-width:768px){.grid[data-v-53f3bf92]{grid-template-columns:repeat(6,minmax(0,1fr))}}@media (min-width:769px){.grid[data-v-53f3bf92]{grid-template-columns:repeat(8,minmax(0,1fr))}}","",{version:3,sources:["webpack://./resources/js/Components/Pages/Schedule/ScheduleGrid.vue"],names:[],mappings:"AAgJA,uBACE,YAAa,CAGb,OAAQ,CADR,iCAAmC,CADnC,6CAGF,CAEA,yBACE,uBACE,6CACF,CACF,CACA,+CACE,uBACE,6CACF,CACF,CACA,yBACE,uBACE,6CACF,CACF",sourcesContent:["<template>\n  <div>\n    <div :class=\"gridClass\">\n      <SpotComponent\n          v-for=\"show in visibleShows\"\n          :key=\"show.id\"\n          :show=\"show\"\n          :span=\"calculateSpan(show)\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted, onUnmounted, watchEffect } from 'vue'\nimport { useScheduleStore } from '@/Stores/ScheduleStore'\nimport SpotComponent from './SpotComponent.vue';\n\nconst scheduleStore = useScheduleStore()\n\n// const shows = ref([]);\n\n// Update base time whenever current hour changes\n// const updateShows = () => {\n//   const [hours, minutes] = currentHour.value.split(':');\n//   baseTime.value.setHours(parseInt(hours), parseInt(minutes), 0, 0);\n// };\n\nconst gridClass = computed(() => {\n  // Here you can have logic based on window width or other factors\n  return 'grid grid-cols-8 gap-2 p-4'\n}); // as before\n\n\n/**\n * Calculates how many 30-minute columns a show should span within the visible grid based on its start and end times.\n * @param {Object} show - The show object containing start time and duration.\n * @returns {Number} The number of 30-minute columns the show spans within the visible grid.\n */\nconst calculateSpan = (show) => {\n\n  // gridWindowEnd is calculated as 4 hours beyond the baseTime.\n  // This covers the full span of the visible schedule grid from the current base time.\n  const gridWindowEnd = new Date(scheduleStore.baseTime.value.getTime() + 4 * 3600000); // 4 hours from baseTime\n\n  // Convert show start time and duration into JavaScript Date objects for easier manipulation.\n  const showStart = new Date(show.startTime);\n  const showEnd = new Date(showStart.getTime() + show.duration * 60000); // Convert duration from minutes to milliseconds\n\n  // Check if the show is outside the visible time window defined by baseTime and gridWindowEnd.\n  if (showEnd <= scheduleStore.baseTime || showStart >= gridWindowEnd) {\n    // If the show ends before the grid starts or begins after the grid ends, it is not visible.\n    return 0;\n  }\n\n  // Calculate the actual start and end times of the show that are visible within the grid.\n  const visibleStartTime = showStart < scheduleStore.baseTime ? scheduleStore.baseTime : showStart;\n  const visibleEndTime = showEnd > gridWindowEnd ? gridWindowEnd : showEnd;\n\n  // Calculate the visible duration of the show in minutes.\n  const visibleDuration = (visibleEndTime - visibleStartTime) / 60000; // Convert milliseconds to minutes\n\n  // Determine how many 30-minute columns this visible duration spans.\n  // Use Math.ceil to ensure that any part of a column used requires a full column allocation.\n  return Math.ceil(visibleDuration / 30);\n};\n\n\n\n\nconst timeFormat = (date) => {\n  return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n};\n\nconst endTime = (show) => {\n  return new Date(show.startTime.getTime() + show.span * 30 * 60000);\n};\n\n// const visibleShows = computed(() => {\n//   return mockShows.map(show => {\n//     // Calculate the adjusted start time based on the base time\n//     const startTime = new Date(baseTime.value.toDateString() + ' ' + show.startTime);\n//     const endTime = new Date(startTime.getTime() + show.span * 30 * 60000); // span in minutes to milliseconds\n//\n//     // Determine if the show should be visible within the current view window\n//     // For example, assuming the view window is 4 hours from the base time\n//     const viewWindowStart = baseTime.value;\n//     const viewWindowEnd = new Date(baseTime.value.getTime() + 4 * 3600000);\n//\n//     // Check if the show overlaps with the current view window\n//     const isVisible = (startTime < viewWindowEnd && endTime > viewWindowStart);\n//\n//     return {\n//       ...show,\n//       startTime,\n//       endTime, // optional, for debugging or further calculations\n//       isVisible // This can be used to conditionally render shows\n//     };\n//   }).filter(show => show.isVisible); // Optionally filter out shows not visible in the current window\n// });\n\n// const visibleShows = computed(() => {\n//   // Filter or adjust shows based on the current 'baseTime'\n//   return mockShows.map(show => ({\n//     ...show,\n//     startTime: new Date(show.startTime.getTime()) // ensure reactive updates\n//   }));\n// });\n\n// const numberOfColumns = scheduleStore.numberOfColumns;\n\n// const width = ref(window.innerWidth);\n\nonMounted(async() => {\n// Register the resize event listener to update the width\n  window.addEventListener('resize', scheduleStore.updateWidth);\n  // const response = await axios.get('@/Json/mockShows');\n  // shows.value = response.data.mockShows.map(show => ({\n  //   ...show,\n  //   startTime: new Date(baseTime.value.toDateString() + ' ' + show.startTime)\n  // }));\n});\n\nonUnmounted(() => {\n  window.removeEventListener('resize', scheduleStore.updateWidth);\n});\n\n// Assuming the current hour is 0, which represents the start of our viewing grid\n// const baseTime = new Date();\n// baseTime.setMinutes(0, 0, 0); // Normalize to the full hour for consistency\n\n// const mockShows = [\n//   { name: 'Early Morning Show', span: 2, startTime: new Date(baseTime.getTime() - 30*60000) }, // Started 30 minutes ago\n//   { name: 'Morning Show', span: 4, startTime: baseTime }, // Starts now\n//   { name: 'Late Morning Show', span: 3, startTime: new Date(baseTime.getTime() + 1*3600000) }, // Starts in 1 hour\n//   { name: 'Noon News', span: 2, startTime: new Date(baseTime.getTime() + 90*60000) }, // Starts in 1.5 hours\n//   { name: 'Afternoon Talk', span: 6, startTime: new Date(baseTime.getTime() + 2*3600000) }, // Starts in 2 hours\n//   { name: 'Evening Special', span: 1, startTime: new Date(baseTime.getTime() - 90*60000) }, // Started 1.5 hours ago\n//   { name: 'Late Show', span: 3, startTime: new Date(baseTime.getTime() + 2*3600000) }, // Starts in 2 hours\n//   { name: 'Night Owl Movie', span: 2, startTime: new Date(baseTime.getTime() + 3*3600000) } // Starts in 3 hours\n// ];\n<\/script>\n\n<style scoped>\n.grid {\n  display: grid;\n  grid-template-columns: repeat(8, minmax(0, 1fr));\n  grid-auto-rows: minmax(100px, auto);\n  gap: 4px;\n}\n\n@media (max-width: 640px) {\n  .grid {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n}\n@media (min-width: 641px) and (max-width: 768px) {\n  .grid {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n}\n@media (min-width: 769px) {\n  .grid {\n    grid-template-columns: repeat(8, minmax(0, 1fr));\n  }\n}\n</style>\n"],sourceRoot:""}]);const s=i},25470:(e,t,n)=>{n.d(t,{Z:()=>oe});var r=n(70821),o=n(74679),a=n(90771),i=n(96794),s=n(2855),l=n(83372),c=n(45459),u=n(17773),d=n(5190),m=n(23318),h=n(69876),f=n(25543),p=n(9680);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(){v=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),s=new O(r||[]);return o(i,"_invoke",{value:B(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",h="suspendedYield",f="executing",p="completed",y={};function w(){}function x(){}function S(){}var b={};c(b,i,(function(){return this}));var A=Object.getPrototypeOf,C=A&&A(A(M([])));C&&C!==n&&r.call(C,i)&&(b=C);var k=S.prototype=w.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,a,i,s){var l=d(e[o],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==g(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function B(t,n,r){var o=m;return function(a,i){if(o===f)throw new Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=N(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?p:h,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=p,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(g(t)+" is not iterable")}return x.prototype=S,o(k,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:x,configurable:!0}),x.displayName=c(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new T(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(k),c(k,l,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;F(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function y(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,s,"next",e)}function s(e){y(a,r,o,i,s,"throw",e)}i(void 0)}))}}var x=function(e){return(0,r.pushScopeId)("data-v-190f74da"),e=e(),(0,r.popScopeId)(),e},S={class:"hidden today-view container mx-auto px-4 py-8 flex flex-col"},b=x((function(){return(0,r.createElementVNode)("div",{id:"topDivForTodayView"},null,-1)})),A={class:"flex justify-center text-center mb-4"},C={class:"text-3xl font-bold mb-2"},k={class:"flex justify-between items-center mb-4"},E={class:"flex flex-col text-center"},T={class:"flex flex-col flex-grow"},B=["onClick"],N={class:"flex flex-row flex-wrap gap-x-4 gap-y-2"},D={class:"flex flex-col w-28 max-w-28 text-gray-500"},F={class:"font-bold text-black break-words"},O={class:"break-words"},M={class:"flex flex-col"},V=["onClick"],L={class:"flex flex-col items-start h-full"},H={class:"text-gray-800 text-2xl tracking-wider"},I=["onClick"],j={key:0},P={key:1},W={class:"mt-2 text-gray-700 flex flex-wrap gap-1"},Y={class:"w-fit text-xs font-semibold uppercase tracking-wide bg-gray-900 px-2 py-1 rounded"},z={key:0,class:"text-green-500"},G={key:1,class:"text-pink-500 bg-gray-900 px-2 py-1"},U={key:0,class:"w-fit text-xs font-semibold uppercase tracking-wider text-yellow-600 bg-gray-900 px-2 py-1 rounded"},_={key:0,class:""},R={key:1,class:""},Z={key:1,class:"w-fit text-xs font-semibold tracking-wide text-yellow-500 bg-gray-900 px-2 py-1 rounded"},$={key:0,class:""},q={key:1,class:""},J={class:"font-semibold"},X=x((function(){return(0,r.createElementVNode)("div",null,"Nothing scheduled.",-1)})),K={key:2,class:"my-4 p-2 bg-blue-800 text-white rounded shadow"};const Q={__name:"TodayView",setup:function(e){var t=(0,o.useScheduleStore)(),n=(0,a.useUserStore)(),g=(0,h.Jk)(t),y=g.upcomingContent,x=g.dateMessage,Q=(0,r.ref)(t.selectedDay),ee=((0,r.computed)((function(){return t.weeklyContent})),function(){var e=w(v().mark((function e(n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("topDivForTodayView").scrollIntoView({behavior:"smooth"}),e.next=4,t.shiftHours(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function te(e,t){var n=(0,i.o)(t),r=(0,s.T)(n,1),o=new Date(e.start_time);return o>=n&&o<r}function ne(e){var t=(0,i.o)(e),n=(0,s.T)(t,1);return y.value.some((function(e){var r=new Date(e.start_time);return r>=t&&r<n}))}function re(e){return(0,l.WU)(e,"h:mm aaaa")}function oe(e){var t=e.getHours();return t>=4&&t<6?{segment:"Early Morning",color:"bg-gray-200"}:t>=6&&t<12?{segment:"Morning",color:"bg-yellow-200"}:t>=12&&t<17?{segment:"Afternoon",color:"bg-green-200"}:t>=17&&t<20?{segment:"Prime Time",color:"bg-red-200"}:t>=20&&t<23?{segment:"Late Prime Time",color:"bg-purple-200"}:t>=23||t<1?{segment:"Late Night",color:"bg-blue-200"}:t>=1&&t<4?{segment:"Overnight",color:"bg-indigo-200"}:{segment:"",color:""}}(0,r.watch)(Q,(function(e){t.setSelectedDay(e)}));(0,r.computed)((function(){return t.nextSixHours.value.length>0?oe(t.nextSixHours.value[0]):null}));var ae=function(e){"show"===e.type?p.Inertia.visit("/shows/".concat(e.content.show.slug)):"movie"===e.type&&p.Inertia.visit("/movies/".concat(e.content.slug))},ie=function(e){if(e<60)return"".concat(e," minutes");if(60===e)return"1 hour";var t=Math.floor(e/60),n=e%60;return 0===n?"".concat(t," hours"):"".concat(t," hour").concat(t>1?"s":""," and ").concat(n," minutes")};return(0,r.watch)((function(){return n.timezone}),function(){var e=w(v().mark((function e(n,r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,t.preloadWeeklyContent();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{immediate:!0}),function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",S,[b,(0,r.unref)(t).isToday?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:o[0]||(o[0]=function(e){(0,r.unref)(t).setSelectedDayToToday(new Date)}),class:(0,r.normalizeClass)(["py-1 px-2 text-white rounded-lg w-fit",{"bg-blue-300":(0,r.unref)(t).isToday,"bg-green-600 hover:bg-green-700":!(0,r.unref)(t).isToday}])}," Go To Now",2)),(0,r.createElementVNode)("div",A,[(0,r.createElementVNode)("h2",C,(0,r.toDisplayString)((0,r.unref)(x)),1)]),(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return(0,r.unref)(t).changeDay(-1)}),class:"bg-gray-100 hover:bg-gray-200 text-black p-2 rounded shadow"}," < Previous Day "),(0,r.createElementVNode)("div",E,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)((0,r.unref)(n).canadianTimezoneDescription)+" Time",1)]),(0,r.createElementVNode)("button",{onClick:o[2]||(o[2]=function(e){return(0,r.unref)(t).changeDay(1)}),class:"bg-gray-100 hover:bg-gray-200 text-black p-2 rounded shadow"}," Next Day > ")]),(0,r.createElementVNode)("button",{onClick:o[3]||(o[3]=function(e){return(0,r.unref)(t).shiftHours(-6)}),class:"mb-4 bg-gray-100 hover:bg-gray-200 text-black py-2 rounded shadow"}," ↑ Back 6 Hours "),(0,r.createElementVNode)("div",T,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).nextSixHours,(function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.toString()},[0===o||oe(e).segment!==oe((0,r.unref)(t).nextSixHours[o-1]).segment?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)([oe(e).color,"mb-4 p-2 text-black text-center font-bold text-2xl rounded shadow"])},(0,r.toDisplayString)(oe(e).segment),3)):(0,r.createCommentVNode)("",!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(y),(function(t){var o,a,i,s,l,c,u,d,m,h,p,g,v,y,w,x;return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[te(t,e)?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.id,class:(0,r.normalizeClass)(["hover:bg-blue-400 hover:cursor-pointer",["p-4 rounded-lg shadow",oe(new Date(t.start_time)).color,"mb-4"]]),onClick:(0,r.withModifiers)((function(e){return ae(t)}),["prevent"])},[(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("div",D,[(0,r.createElementVNode)("div",F,(0,r.toDisplayString)(re(new Date(t.start_time)))+" "+(0,r.toDisplayString)((0,r.unref)(n).timezoneAbbreviation),1),(0,r.createElementVNode)("div",O,(0,r.toDisplayString)(ie(t.durationMinutes)),1)]),(0,r.createElementVNode)("div",M,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(e){return ae(t)}),["prevent"])},["show"===t.type?((0,r.openBlock)(),(0,r.createBlock)(f.Z,{key:0,image:null==t||null===(o=t.content)||void 0===o||null===(o=o.show)||void 0===o?void 0:o.image,alt:null==t||null===(a=t.content)||void 0===a||null===(a=a.show)||void 0===a?void 0:a.name,class:"w-20 h-20"},null,8,["image","alt"])):((0,r.openBlock)(),(0,r.createBlock)(f.Z,{key:1,image:null==t||null===(i=t.content)||void 0===i?void 0:i.image,alt:null==t||null===(s=t.content)||void 0===s?void 0:s.name,class:"w-20 h-20"},null,8,["image","alt"]))],8,V)]),(0,r.createElementVNode)("div",L,[(0,r.createElementVNode)("div",H,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(e){return ae(t)}),["prevent"]),class:"text-left"},["show"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",j,(0,r.toDisplayString)(null==t||null===(l=t.content)||void 0===l||null===(l=l.show)||void 0===l?void 0:l.name),1)):(0,r.createCommentVNode)("",!0),"movie"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",P,(0,r.toDisplayString)(null==t||null===(c=t.content)||void 0===c?void 0:c.name),1)):(0,r.createCommentVNode)("",!0)],8,I)]),(0,r.createElementVNode)("div",W,[(0,r.createElementVNode)("div",Y,["show"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",z,"show")):(0,r.createCommentVNode)("",!0),"movie"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",G,"movie")):(0,r.createCommentVNode)("",!0)]),null!=t&&null!==(u=t.content)&&void 0!==u&&null!==(u=u.show)&&void 0!==u&&null!==(u=u.category)&&void 0!==u&&u.name||null!=t&&null!==(d=t.content)&&void 0!==d&&null!==(d=d.category)&&void 0!==d&&d.name?((0,r.openBlock)(),(0,r.createElementBlock)("div",U,["show"===t.type&&null!=t&&null!==(m=t.content)&&void 0!==m&&null!==(m=m.show)&&void 0!==m&&null!==(m=m.category)&&void 0!==m&&m.name?((0,r.openBlock)(),(0,r.createElementBlock)("span",_,(0,r.toDisplayString)(null==t||null===(h=t.content)||void 0===h||null===(h=h.show)||void 0===h||null===(h=h.category)||void 0===h?void 0:h.name),1)):(0,r.createCommentVNode)("",!0),"movie"===t.type&&null!=t&&null!==(p=t.content)&&void 0!==p&&null!==(p=p.subCategory)&&void 0!==p&&p.name?((0,r.openBlock)(),(0,r.createElementBlock)("span",R,(0,r.toDisplayString)(null==t||null===(g=t.content)||void 0===g||null===(g=g.category)||void 0===g?void 0:g.name),1)):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),null!=t&&null!==(v=t.content)&&void 0!==v&&null!==(v=v.show)&&void 0!==v&&null!==(v=v.subCategory)&&void 0!==v&&v.name||null!=t&&null!==(y=t.content)&&void 0!==y&&null!==(y=y.subCategory)&&void 0!==y&&y.name?((0,r.openBlock)(),(0,r.createElementBlock)("div",Z,["show"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",$,(0,r.toDisplayString)(null==t||null===(w=t.content)||void 0===w||null===(w=w.show)||void 0===w||null===(w=w.subCategory)||void 0===w?void 0:w.name),1)):(0,r.createCommentVNode)("",!0),"movie"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",q,(0,r.toDisplayString)(null==t||null===(x=t.content)||void 0===x||null===(x=x.subCategory)||void 0===x?void 0:x.name),1)):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)])])])],10,B)):(0,r.createCommentVNode)("",!0)],64)})),256)),ne(e)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:(0,r.normalizeClass)([oe(e).color,"mb-4 p-4 rounded-lg shadow text-gray-500"])},[(0,r.createElementVNode)("div",J,(0,r.toDisplayString)(re(e))+" "+(0,r.toDisplayString)((0,r.unref)(n).timezoneAbbreviation),1),X],2)),(0,r.unref)(t).isElevenPM(e)&&(0,r.unref)(t).nextSixHours[o+1]?((0,r.openBlock)(),(0,r.createElementBlock)("div",K,(0,r.toDisplayString)((a=(0,r.unref)(s.T)(e,1),i=(0,c.b)(a),h=(0,l.WU)(i,"EEEE, MMMM do"),(0,u.z)(i)?"Today - ".concat(h):(0,d.g)(i)?"Yesterday - ".concat(h):(0,m.P)(i)?"Tomorrow - ".concat(h):h)),1)):(0,r.createCommentVNode)("",!0)]);var a,i,h})),128))]),(0,r.createElementVNode)("button",{onClick:o[4]||(o[4]=function(e){return ee(6)}),class:"bg-gray-100 hover:bg-gray-200 text-black py-2 rounded shadow"}," ↓ Forward 6 Hours ")])}}};var ee=n(93379),te=n.n(ee),ne=n(17753),re={insert:"head",singleton:!1};te()(ne.Z,re);ne.Z.locals;const oe=(0,n(83744).Z)(Q,[["__scopeId","data-v-190f74da"]])},59369:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(70821),o=n(9680),a=n(58358);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function m(e,t,n,r){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),s=new O(r||[]);return o(i,"_invoke",{value:B(e,n,s)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var f="suspendedStart",p="suspendedYield",g="executing",v="completed",y={};function w(){}function x(){}function S(){}var b={};d(b,l,(function(){return this}));var A=Object.getPrototypeOf,C=A&&A(A(M([])));C&&C!==n&&r.call(C,l)&&(b=C);var k=S.prototype=w.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,a,s,l){var c=h(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function B(t,n,r){var o=f;return function(a,i){if(o===g)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var l=N(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?v:p,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=S,o(k,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:x,configurable:!0}),x.displayName=d(S,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,d(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(T.prototype),d(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new T(m(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(k),d(k,u,"Generator"),d(k,l,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;F(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var c={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m={key:1,class:"alert alert-success mt-4 mx-3"},h=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f={key:2,class:"alert alert-warning mt-4 mx-3"},p=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),g={key:3,class:"alert alert-error mt-4 mx-3"},v=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const y={__name:"Messages",props:{flash:Object},setup:function(e){(0,a.useAppSettingStore)().showFlashMessage=!0;var t=e,n=((0,r.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Inertia.post(route("flash.clear"));case 2:o.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.unref)(t).flash.message?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.message),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.success?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[h,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.success),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.warning?((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[p,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.warning),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[v,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.error),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0)])}}}},38575:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(70821),o=n(83004),a=["id"],i={class:"modal-box text-center my-auto border-2 border-secondary","data-theme":"dark"},s={class:"font-bold text-3xl text-secondary"},l={class:"py-4 text-xl"},c={class:"modal-action justify-center w-full"},u={method:"dialog"};const d={__name:"PopUpModal",props:{id:String},setup:function(e){var t=(0,o.useNotificationStore)();return function(n,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("dialog",{id:e.id,class:"modal"},[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("h2",s,[(0,r.renderSlot)(n.$slots,"header")]),(0,r.createElementVNode)("p",l,[(0,r.renderSlot)(n.$slots,"main")]),(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("form",u,[(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,r.unref)(t).showPopUpModal=!1}),class:"btn btn-secondary"},"Okay")])])])],8,a)])}}}},30117:(e,t,n)=>{n.d(t,{Z:()=>X});var r=n(70821),o=n(9680),a=(n(96486),n(27484)),i=n.n(a),s=n(28734),l=n.n(s),c=n(74679),u=n(58358),d=n(90771);var m=n(93379),h=n.n(m),f=n(97333),p={insert:"head",singleton:!1};h()(f.Z,p);f.Z.locals;var g=n(83744);var v=n(25543),y=n(70178),w=n.n(y),x=n(29387),S=n.n(x);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C={class:"tracking-wide"},k={class:"tracking-wide text-4xl font-semibold mb-2"},E={class:"tracking-wide text-xl text-gray-300"},T={class:"text-white font-medium"};const B={__name:"CurrentTime",setup:function(e){var t=(0,d.useUserStore)(),n=(0,c.useScheduleStore)();i().extend(w()),i().extend(S());var o=null,a=null,s=!1,l=(0,r.computed)((function(){return i()().format("dddd")}));function u(){var e=t.timezone||"UTC",r=i()().tz(e).format("YYYY-MM-DD HH:mm:ss");n.setBaseTime(r),console.log("Time updated:",r)}(0,r.onMounted)((function(){var e=i()(),t=1e3*(60-e.second())-e.millisecond();a=setTimeout((function(){!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];clearInterval(o),e&&!s&&(u(),s=!0),o=setInterval((function(){u()}),6e4),console.log("Interval started, ID:",o)}()}),t)})),(0,r.onUnmounted)((function(){clearInterval(o),console.log("Interval stopped, ID:",o),o=null,clearTimeout(a),a=null,console.log("Auto-update canceled.")}));(0,r.computed)({get:function(){return i()(n.baseTime).format("HH:mm")},set:function(e){var t=b(e.split(":").map(Number),2),r=t[0],o=t[1],a=i()(n.baseTime).hour(r).minute(o).toDate();n.setBaseTime(a)}});return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",C,[(0,r.createElementVNode)("p",k,(0,r.toDisplayString)(l.value),1),(0,r.createElementVNode)("p",E,[(0,r.createTextVNode)("Current Time: "),(0,r.createElementVNode)("span",T,(0,r.toDisplayString)((0,r.unref)(n).currentTime)+" "+(0,r.toDisplayString)((0,r.unref)(t).timezoneAbbreviation),1)])])}}},N=B;function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){return(0,r.pushScopeId)("data-v-dac283a8"),e=e(),(0,r.popScopeId)(),e},M=O((function(){return(0,r.createElementVNode)("div",{class:"mb-2 tracking-wide"},[(0,r.createElementVNode)("span",{class:"text-sm uppercase text-purple-500"},"All times are listed in your timezone.")],-1)})),V={class:"w-full"},L={key:0,class:"w-full flex justify-center text-center items-center"},H=[O((function(){return(0,r.createElementVNode)("span",{class:"loading loading-ball loading-xl text-info"},null,-1)}))],I=["onClick"],j={class:"show-info flex-grow flex flex-col items-center justify-center"},P={key:0,class:"next-show-highlight p-5 border border-gray-300 bg-gradient-to-r from-gray-900 to-gray-700 text-center"},W=O((function(){return(0,r.createElementVNode)("div",{class:"bg-green-500 text-white py-2"},[(0,r.createElementVNode)("h2",null,"Playing Soon")],-1)})),Y={class:"show-details mt-4 mx-auto max-w-4xl"},z={class:"text-3xl mb-1"},G={class:"text-lg"},U={class:"text-lg"},_={class:"text-lg"},R=[O((function(){return(0,r.createElementVNode)("span",null,"NOW PLAYING",-1)}))],Z=[O((function(){return(0,r.createElementVNode)("span",null,"COMING UP NEXT",-1)}))];const $={__name:"ScheduleGridContainer",setup:function(e){var t=(0,c.useScheduleStore)(),n=(0,u.useAppSettingStore)();(0,d.useUserStore)();i().extend(l());var a=!1,s=(0,r.computed)((function(){return t.nextFourHoursOfContent.every((function(e){return e.placeholder}))})),m=(0,r.computed)((function(){var e=i()();return t.weeklyContent.find((function(t){return i()(t.startTime).isAfter(e)&&!t.placeholder}))}));var h=(0,r.computed)((function(){return t.nextFourHoursOfContent.find((function(e){return e.nowPlaying}))})),f=(0,r.computed)((function(){return t.nextFourHoursOfContent.find((function(e){return e.comingUpNext}))}));function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i()(e).format("h:mm ".concat(t?"a":""))}function g(e){var t=Math.floor(e/60),n=e%60;return 0===t?"".concat(n," minutes"):"".concat(t," hour").concat(t>1?"s":""," ").concat(n>0?n+" minutes":"")}function y(e){var t={gridColumn:"".concat(e.gridStart," / span ").concat(e.gridSpan),gridRow:"row ".concat(e.gridRow)};return console.log(t),t}function w(e){return e?(console.log("Status Item - Grid Start: ".concat(e.gridStart,", Grid Span: ").concat(e.gridSpan)),{gridColumn:"".concat(e.gridStart," / span ").concat(e.gridSpan),gridRow:"row 1"}):{}}(0,r.watch)((function(){return t.timeSlots}),(function(e,n){e&&e.length>0&&!a&&(console.log("Time slots are ready, updating next four hours."),t.updateNextFourHours(),a=!0)}),{immediate:!0}),(0,r.watch)((function(){return t.baseTime}),(function(e,n){e!==n&&(console.log("Base time updated from ".concat(n," to ").concat(e)),t.updateNextFourHours())}),{immediate:!0}),(0,r.watch)([function(){return n.isVerySmallScreen},function(){return n.isSmallScreen}],(function(e,n){var r=D(e,2),o=r[0],a=r[1],i=D(n,2),s=i[0],l=i[1];o===s&&a===l||(console.log("Screen size change detected: VerySmallScreen: ".concat(o,", SmallScreen: ").concat(a)),t.updateNextFourHours())}),{immediate:!0}),(0,r.watchEffect)((function(){console.log("nextFourHoursOfContent:",t.nextFourHoursOfContent)}));var x=(0,r.computed)((function(){var e;return e=n.isVerySmallScreen?Math.floor(60*t.verySmallScreenSlotHours/t.slotIntervalMinutes):n.isSmallScreen?Math.floor(60*t.smallScreenSlotHours/t.slotIntervalMinutes):Math.floor(60*t.mediumScreenSlotHours/t.slotIntervalMinutes),document.documentElement.style.setProperty("--text-size",e<4?"0.8em":"1em"),document.documentElement.style.setProperty("--text-small",e<4?"0.7em":"0.8em"),"repeat(".concat(e,", minmax(0, 1fr))")})),S=(0,r.computed)((function(){return t.nextFourHoursWithHalfHourIntervals})),b=(0,r.computed)((function(){return t.nextFourHoursOfContent})),A=(0,r.computed)((function(){return t.scheduleIsLoading}));function C(e){o.Inertia.visit("/shows/".concat(e.content.slug,"/"))}return console.log("All items in store:",t.nextFourHoursOfContent),(0,r.watch)((function(){return t.nextFourHoursOfContent}),(function(){console.log("Content changed, recomputing shows...")}),{deep:!0}),function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(N),M,(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("div",{class:"schedule-grid",style:(0,r.normalizeStyle)({"grid-template-columns":x.value})},[(0,r.createElementVNode)("div",{class:"header-row",style:(0,r.normalizeStyle)({"grid-template-columns":x.value})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(S.value,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"time-cell bg-gray-900 px-3 py-2 text-center font-bold",key:e.dateTime},(0,r.toDisplayString)(e.formatted),1)})),128))],4),A.value&&0===b.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",L,H)):(0,r.createCommentVNode)("",!0)],4),(0,r.createElementVNode)("div",{class:"schedule-grid",style:(0,r.normalizeStyle)({"grid-template-columns":x.value})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).preparedTimeBanners,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,style:(0,r.normalizeStyle)(y(e)),class:"time-banner"},(0,r.toDisplayString)(e.name),5)})),128))],4),(0,r.createElementVNode)("div",{class:"schedule-grid",style:(0,r.normalizeStyle)({"grid-template-columns":x.value})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).nextFourHoursOfContent,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,style:(0,r.normalizeStyle)(y(e)),class:(0,r.normalizeClass)(["show-cell",{"hover:cursor-pointer":!e.placeholder}]),onClick:function(t){return C(e)}},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item-content px-4 flex flex-col justify-between items-center w-full h-full overflow-hidden",{"bg-gradient-to-r from-gray-900 to-gray-700":!e.placeholder,"bg-gradient-to-r from-tan-800 to-tan-600":e.placeholder,"gradient-on-hover":!e.placeholder}])},[(0,r.createElementVNode)("div",j,[(0,r.createElementVNode)("h3",{class:(0,r.normalizeClass)(["show-title my-4 w-full text-center text-lg font-semibold break-words",{"gradient-on-hover":!e.placeholder}])},(0,r.toDisplayString)(e.content.name||"No Show Name"),3),e.content.image?((0,r.openBlock)(),(0,r.createBlock)(v.Z,{key:0,image:e.content.image,alt:e.content.name,class:(0,r.normalizeClass)("w-full h-auto max-h-1/2 object-cover transition-opacity duration-300 hover:opacity-80")},null,8,["image","alt"])):(0,r.createCommentVNode)("",!0),e.placeholder?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:(0,r.normalizeClass)(["show-time w-full text-center text-sm p-2 mt-2",{"gradient-on-hover":!e.placeholder}])},[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(p(e.startTime,!0)),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(g(e.durationMinutes)),1)],2))])],2)],14,I)})),128))],4),s.value&&m.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",P,[W,(0,r.createElementVNode)("div",Y,[(0,r.createElementVNode)("h3",z,(0,r.toDisplayString)(m.value.content.name),1),(0,r.createElementVNode)("p",G,(0,r.toDisplayString)((o=m.value.startTime,i()(o).format("dddd MMM D, YYYY"))),1),(0,r.createElementVNode)("p",U,(0,r.toDisplayString)(p(m.value.startTime,!0))+" - "+(0,r.toDisplayString)(p(m.value.endTime,!0)),1),(0,r.createElementVNode)("div",{class:"w-full flex justify-center items-center mt-4 hover:cursor-pointer",onClick:n[0]||(n[0]=function(e){return C(m.value)})},[m.value.content.image?((0,r.openBlock)(),(0,r.createBlock)(v.Z,{key:0,image:m.value.content.image,alt:m.value.content.name,class:(0,r.normalizeClass)("w-3/4 md:w-1/2 lg:w-1/3 h-auto object-cover mx-auto transition-opacity duration-300 hover:opacity-80")},null,8,["image","alt"])):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("p",_,(0,r.toDisplayString)(g(m.value.durationMinutes)),1)])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{class:"schedule-grid text-center",style:(0,r.normalizeStyle)({"grid-template-columns":x.value})},[h.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,style:(0,r.normalizeStyle)(w(h.value)),class:"now-playing text-black font-semibold"},R,4)):(0,r.createCommentVNode)("",!0),f.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,style:(0,r.normalizeStyle)(w(f.value)),class:"coming-up-next text-black font-semibold"},Z,4)):(0,r.createCommentVNode)("",!0)],4)])],64);var o}}};var q=n(13487),J={insert:"head",singleton:!1};h()(q.Z,J);q.Z.locals;const X=(0,g.Z)($,[["__scopeId","data-v-dac283a8"]])},65832:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(70821),o=n(24831),a=n(58358),i=n(74679),s=n(59369),l=n(38575),c=n(25470),u=n(30117),d={class:"place-self-center flex flex-col w-full overscroll-x-none pb-64 px-4"},m=(0,r.createStaticVNode)('<div id="topDiv" class="flex justify-end px-5"><div class="relative w-32 h-32 mt-8 -mb-8 mr-8"><div class="absolute top-3 left-0 w-full h-full flex justify-center items-center z-20"><h1 class="text-4xl font-bold text-white bg-black bg-opacity-80 px-4 py-1 text-center">Broadcast<br>Schedule</h1></div><div class="absolute top-3 left-0 w-full h-full flex justify-center items-center z-10"><img src="/storage/images/Ping.png" alt="notTV Ping"></div></div></div>',1),h=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This modal is temporary. This will take you to the now playing show or episode page.",-1),f=(0,r.createElementVNode)("span",{class:"text-orange-500"},[(0,r.createTextVNode)("This modal is temporary. Set a reminder when this show starts and/or subscribe to the show to get all notifications when new episodes are released or the show goes live. "),(0,r.createElementVNode)("br"),(0,r.createElementVNode)("br"),(0,r.createElementVNode)("span",{class:"font-semibold text-yellow-600"},"NOTE: Monthly and Yearly contributors get first access to new features.")],-1);const p={__name:"Index",props:{can:Object},setup:function(e){(0,o.U)("schedule");var t=(0,a.useAppSettingStore)();(0,i.useScheduleStore)();return function(e,n){var o=(0,r.resolveComponent)("Head");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(o,{title:"Schedule"}),(0,r.createElementVNode)("div",d,[m,(0,r.unref)(t).showFlashMessage?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(s.Z),{key:0,flash:e.$page.props.flash},null,8,["flash"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(u.Z),(0,r.createVNode)((0,r.unref)(l.Z),{id:"goToNowPlayingModal"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Now Playing")]})),main:(0,r.withCtx)((function(){return[h]})),_:1}),(0,r.createVNode)((0,r.unref)(l.Z),{id:"getReminderModal"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Set Reminder")]})),main:(0,r.withCtx)((function(){return[f]})),_:1}),(0,r.createVNode)(c.Z)])],64)}}}}}]);
//# sourceMappingURL=5832.js.map