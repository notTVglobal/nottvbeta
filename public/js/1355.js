/*! For license information please see 1355.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1355,1493,7166],{71493:(e,t,r)=>{r.r(t),r.d(t,{useGoLiveStore:()=>s});var n=r(69876);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),c=new B(n||[]);return a(i,"_invoke",{value:C(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function x(){}function b(){}var S={};d(S,l,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(I([])));k&&k!==r&&n.call(k,l)&&(S=k);var N=b.prototype=w.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(i,a,c,l){var s=f(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==o(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,l)}))}l(s.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,r,n){var o=p;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var l=T(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:v,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(L.prototype),d(L.prototype,s,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new L(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},V(N),d(N,u,"Generator"),d(N,l,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function a(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,l,"next",e)}function l(e){a(i,n,o,c,l,"throw",e)}c(void 0)}))}}var l=function(){return{preSelectedShowId:null,selectedShowId:null,selectedShow:null,shows:[],streamKey:"",isLive:!1,streamInfo:null}},s=(0,n.Q_)("goLiveStore",{state:l,actions:{reset:function(){Object.assign(this,{preSelectedShowId:null,selectedShowId:null,selectedShow:null,shows:[],streamKey:"",isLive:!1,streamInfo:null})},fetchShows:function(){var e=this;return c(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/go-live/shows");case 3:r=t.sent,e.shows=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to fetch shows:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},generateStreamKey:function(){var e=this;return c(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedShowId){t.next=3;break}return console.error("No show selected"),t.abrupt("return");case 3:return t.prev=3,t.next=6,axios.post("/go-live/shows/".concat(e.selectedShowId,"/stream-key"));case 6:r=t.sent,console.log("Stream key generated:",r.data),e.streamKey=r.data.streamKey,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error("Error generating stream key:",t.t0.response?t.t0.response.data:t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},setSelectedShowId:function(e){this.selectedShowId=e,this.updateSelectedShow()},updateSelectedShow:function(){var e=this;this.selectedShow=this.shows.find((function(t){return t.id===e.selectedShowId}))||null},goLive:function(){this.isLive=!0},stopLive:function(){this.isLive=!1},fetchStreamInfo:function(e){var t=this;return c(i().mark((function r(){var n,o,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=encodeURIComponent(e),r.prev=1,r.next=4,fetch("http://mist.nottv.io:8080/json_".concat(n,".js"));case 4:if((o=r.sent).ok){r.next=7;break}throw new Error("Failed to fetch");case 7:return r.next=9,o.json();case 9:a=r.sent,t.streamInfo=a,r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),console.error("Error fetching server info:",r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},clearStreamInfo:function(){this.streamInfo=null}},getters:{selectedShow:function(e){return e.shows.find((function(t){return t.id===e.selectedShowId}))||null}}})},87166:(e,t,r)=>{r.r(t),r.d(t,{useVideoAuxPlayerStore:()=>g});var n=r(69876),o=r(58358),i=r(53489),a=r(90771),c=r(26331),l=r(69812),s=r(40365),u=r(72200),d=(r(39038),r(70821)),h=r(83004);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),c=new B(n||[]);return o(a,"_invoke",{value:C(e,r,c)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function x(){}function b(){}var S={};s(S,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(I([])));k&&k!==r&&n.call(k,a)&&(S=k);var N=b.prototype=w.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(o,i,a,c){var l=d(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==f(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,r,n){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var l=T(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?y:v,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(f(t)+" is not iterable")}return x.prototype=b,o(N,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:x,configurable:!0}),x.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(L.prototype),s(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new L(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},V(N),s(N,l,"Generator"),s(N,a,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function v(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,c,"next",e)}function c(e){v(i,n,o,a,c,"throw",e)}a(void 0)}))}}var y=function(){return{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1}},g=(0,n.Q_)("videoAuxPlayerStore",{state:y,actions:{reset:function(){Object.assign(this,{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1})},getMistServerUri:function(){var e=this;return m(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/mist-server/uri");case 3:r=t.sent,e.mistServerUri=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setPlayer:function(e){var t=this;this.player=e,this.initializePlayer().then((function(){t.attachEventListeners()})).catch((function(e){console.error("Error during video player initialization:",e)}))},initializePlayer:function(){var e=this;return m(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player){t.next=3;break}return console.error("Video.js player is not initialized."),t.abrupt("return");case 3:return t.next=5,(0,d.nextTick)();case 5:return t.next=7,(0,s.useAudioStore)().ensureAudioContextAndNodesReady(e.player);case 7:e.player.controls(!1),e.player.muted(e.muted),e.player.ready((function(){e.player.play().then((function(){console.log("Playback started successfully")})).catch((function(e){console.error("Error trying to play the video:",e)}))}));case 10:case"end":return t.stop()}}),t)})))()},attachEventListeners:function(){this.player&&!this.eventListenersAttached?(this.player.on("timeupdate",this.handleTimeUpdate),this.player.on("fullscreenchange",this.handleFullscreenChange),this.player.on("play",this.handlePlay),this.player.on("pause",this.handlePause),this.player.on("error",this.handleError),this.eventListenersAttached=!0,console.log("Event listeners attached.")):console.log("Event listeners are already attached or video player is not initialized.")},detachEventListeners:function(){this.player&&this.eventListenersAttached?((0,s.useAudioStore)().stopAudioLevelMonitoring(),this.player.off("timeupdate",this.handleTimeUpdate),this.player.off("fullscreenchange",this.handleFullscreenChange),this.player.off("play",this.handlePlay),this.player.off("pause",this.handlePause),this.player.off("error",this.handleError),this.eventListenersAttached=!1,console.log("Event listeners detached.")):console.log("Event listeners are already detached or video player is not initialized.")},disposePlayer:function(){this.player?(this.detachEventListeners(),this.player.dispose(),this.player=null,console.log("Video player disposed and cleaned up.")):console.error("Video player is not initialized.")},prepareForNewVideoSource:function(e){console.log("Preparing for new video source"),(0,c.useChannelStore)().clearChannel(),this.loadNewVideo(e)},resetPlayback:function(){this.player&&(this.player.pause(),this.player.muted(!0),this.player.currentTime(0),this.detachEventListeners())},handleTimeUpdate:function(){this.currentTime=this.player.currentTime(),this.duration=this.player.duration();this.currentTime,this.duration;this.formattedTime="".concat(this.formatDuration(this.currentTime)," / ").concat(this.formatDuration(this.duration))},formatDuration:function(e){return[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%60)].map((function(e){return e.toString().padStart(2,"0")})).join(":")},handleFullscreenChange:function(){var e,t=this;console.log("Handling fullscreenchange..."),null===(e=this.player)||void 0===e||e.on("fullscreenchange",(function(){t.player.isFullscreen()||!1===t.player.paused()&&t.player.play()}))},handlePlay:function(){var e,t=this;console.log("Handling play..."),null===(e=this.player)||void 0===e||e.on("play",(function(){t.paused=!1}))},handlePause:function(){var e,t=this;console.log("Handling pause..."),null===(e=this.player)||void 0===e||e.on("pause",(function(){t.paused=!0}))},handleError:function(){var e;console.log("Handling error..."),null===(e=this.player)||void 0===e||e.on("error",(function(){var e=this.player.error();console.error("Video.js Error:",e.code,e.message)}))},makeBlue:function(){this.blue=!0},toggleMute:function(){this.muted?this.unMute():this.mute()},mute:function(){this.player&&(this.player.muted(!0),this.muted=!0,console.log("Video muted"))},unMute:function(){this.player&&(this.player.muted(!1),this.muted=!1,console.log("Video muted"))},togglePlay:function(){var e=(0,u.Z)("aux-player");this.paused?e.play():e.pause()},load:function(){(0,u.Z)("aux-player").load()},loadNewLiveSource:function(e,t){var r=(0,u.Z)("aux-player"),n=this.mistServerUri+"/hls/"+e+"/index.m3u8";r.src({src:n,type:t}),r.play()},pause:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.pause(),this.paused=!0},play:function(){var e=(0,u.Z)("aux-player");e.play(),e.controls(!1),this.paused=!1},next:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.nextSource)},back:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.previousSource)},fullscreen:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.requestFullscreen()},getVideoCurrentTime:function(){var e=(0,u.Z)("aux-player");e.controls(!1),this.videoCurrentTime=e.currentTime},getSourceDetails:function(e){var t,r;(console.log("getSourceDetails called with source:",e),r=e.type||"video/mp4",console.log("Determined Video Source Type: ".concat(r)),"externalVideo"===e.mediaType)?(t=e.video_url,console.log("Using external video source:",t)):(console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),t="".concat(e.cdn_endpoint).concat(e.cloud_folder).concat(e.folder,"/")+e.file_name,console.log("Constructed internal video source:",t));return console.log("Final Constructed Video Source: ".concat(t,", Type: ").concat(r)),{videoSrc:t,videoSourceType:r}},loadNewVideo:function(e){var t=this;try{var r=(0,u.Z)("aux-player");console.log("LOAD NEW VIDEO");var n=(0,s.useAudioStore)(),o=this.getSourceDetails(e),i=o.videoSrc,a=o.videoSourceType;r&&(r.src({src:i,type:a}),r.ready((function(){n.deferAudioSetup=!1,n.ensureAudioContextAndNodesReady(r).then((function(){r.play().catch((function(e){(0,h.useNotificationStore)().setGeneralServiceNotification("Error","Playback initiation error: "+e),console.error("Playback initiation error: ",e)})),r.muted(!1),t.muted=!1}))})))}catch(e){(0,h.useNotificationStore)().setGeneralServiceNotification("Error","Error loading new video: "+e),console.error("Error loading new video: ",e)}},playNewVideo:function(){var e=this;console.log("PLAY NEW VIDEO"),this.player&&this.player.ready((function(){e.player.play(),e.player.muted(!1),e.muted=!1}))},loadNewSourceFromYouTube:function(e){this.videoIsYoutube=!0,(0,c.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="video/youtube",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewLiveSourceFromRumble:function(e){this.videoIsYoutube=!0,(0,c.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewSourceFromUrl:function(e){try{this.videoIsYoutube=!1,(0,c.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");if(!e.video_url||!e.type)throw(0,h.useNotificationStore)().setGeneralServiceNotification("Error","Invalid video source."),new Error("Invalid video source.");this.videoSource=e.video_url,this.videoSourceType=e.type,t.src({src:e.video_url,type:e.type}),this.unMute(),this.paused=!1}catch(e){throw(0,h.useNotificationStore)().setGeneralServiceNotification("Error","Failed to load new source: "+e),console.error("Failed to load new source:",e),e}},loadNewSourceFromMist:function(e){this.videoIsYoutube=!1;var t=(0,u.Z)("aux-player");this.videoSource="https://mist.not.tv/hls/"+e+"/index.m3u8",this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadNewSourceFromFile:function(e){this.videoIsYoutube=!1,(0,c.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player"),r=e.cdn_endpoint+e.cloud_folder+e.folder+"/";this.videoSource=e.file_name,this.videoSourceType=e.type,t.src({src:r+this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadExternalSourceVideo:function(){},loadPlaylistVideos:function(){},loadMistStreamVideo:function(e){var t=this;return m(p().mark((function r(){var n;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.mistServerUri){r.next=4;break}return console.log("Mist Server URI not set, fetching..."),r.next=4,t.getMistServerUri();case 4:t.mistServerUri?(n=t.mistServerUri,t.videoSource=n+"hls/"+e.name+"/index.m3u8",t.videoSourceType="application/vnd.apple.mpegURL",(0,u.Z)("aux-player").src({src:t.videoSource,type:t.videoSourceType}),t.unMute(),t.paused=!1):console.error("Mist Server URI is still not set after fetching.");case 5:case"end":return r.stop()}}),r)})))()},loadVideoFromFile:function(e){var t=this;return m(p().mark((function r(){var n;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("Video Source Type:",e.type),console.log("Video URL:",e.video_url),console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),n=e.cdn_endpoint+e.cloud_folder+e.folder+"/"+e.file_name,(0,u.Z)("aux-player").src({src:n,type:e.type}),t.unMute(),t.paused=!1;case 11:case"end":return r.stop()}}),r)})))()},setNowPlayingInfoVideoFile:function(e){this.nowPlayingType="Video File",this.nowPlayingName=e.file_name,(0,i.useStreamStore)().currentChannel="On Demand"},setNowPlayingInfoShow:function(e,t){this.clearNowPlayingInfo();var r=(0,l.useShowStore)();e.firstPlayVideo?(r.setName(e.firstPlayVideo.name),r.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(source.firstPlayVideo.slug))):t?(r.setName(e.name),r.setUrl("/shows/".concat(e.slug)),r.setEpisodeName(t.name),r.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(t.slug))):(r.setName(e.name),r.setUrl("/shows/".concat(e.slug)))},makeVideoPiP:function(){},makeVideoFullPage:function(){var e=(0,o.useAppSettingStore)(),t=(0,a.useUserStore)();e.fullPage=!0,e.hidePage=!0,e.ott=0,this.videoContainerClass="fullPageVideoContainer",this.class="fullPageVideoClass",this.controls=!t.isMobile},makeVideoTopRight:function(){var e=(0,o.useAppSettingStore)();e.fullPage=!1,e.hidePage=!1,e.currentPageIsStream=!1,this.videoContainerClass="topRightVideoContainer",this.class="topRightVideoClass",this.controls=!1},makeVideoWelcomePage:function(){var e=(0,o.useAppSettingStore)();this.videoContainerClass="welcomeVideoContainer",this.class="welcomeVideoClass",e.loggedIn=!1,e.fullPage=!0,e.hidePage=!1}},getters:{}})},24831:(e,t,r)=>{r.d(t,{U:()=>c});var n=r(70821),o=r(90771),i=r(58358),a=r(40191);r(9680);function c(e){var t=(0,o.useUserStore)(),r=(0,i.useAppSettingStore)(),c=(0,a.useVideoPlayerStore)();r.currentPage=e,r.showFlashMessage=!0,r.pageIsHidden=!1,t.isMobile&&(r.ott=0),c.makeVideoTopRight(),(0,n.onBeforeMount)((function(){r.pageReload&&(r.pageReload=!1,window.location.reload(!0))})),(0,n.onMounted)((function(){if(!(""!==window.location.search)){var e=document.getElementById("topDiv");e&&e.scrollIntoView()}r.setPrevUrl(),r.noLayout=!1,r.showOttButtons=!0}))}},86410:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(94015),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".toggle[data-v-25a66e04]{background:none;border:none;cursor:pointer;margin-right:5px}.nested[data-v-25a66e04]{margin-left:20px}.item[data-v-25a66e04]{margin-bottom:5px}","",{version:3,sources:["webpack://./resources/js/Components/Global/MistStreams/RecursivePropertyList.vue"],names:[],mappings:"AAyCA,yBACE,eAAgB,CAChB,WAAY,CACZ,cAAe,CACf,gBACF,CAEA,yBACE,gBACF,CAEA,uBACE,iBACF",sourcesContent:['\x3c!-- RecursivePropertyList.vue --\x3e\n<template>\n  <div>\n    <ul class="list-unstyled">\n      <li v-for="(value, key) in object" :key="key" class="item">\n        \x3c!-- Toggle Button --\x3e\n        <input type="checkbox" v-if="isComplex(value)" @click="toggle(key, $event)" class="toggle toggle-sm mr-1"/>\n\n        \x3c!-- Key Display --\x3e\n        <strong>{{ key }}:</strong>\n\n        \x3c!-- Direct value or Recursion --\x3e\n        <span v-if="!isComplex(value)">{{ value }}</span>\n        <ul v-else-if="isOpen(key)" class="nested">\n          <RecursivePropertyList v-if="typeof value === \'object\'" :object="value" />\n        </ul>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, reactive } from \'vue\';\n\nconst props = defineProps({\n  object: Object\n});\n\n\n// Helper functions\nconst isComplex = (value) => typeof value === \'object\';\nconst opened = reactive({});\n\nconst toggle = (key, event) => {\n  opened[key] = !opened[key];\n  event.target.blur(); // Add this line to remove focus from the checkbox\n};\nconst isOpen = (key) => !!opened[key];\n<\/script>\n\n<style scoped>\n.toggle {\n  background: none;\n  border: none;\n  cursor: pointer;\n  margin-right: 5px;\n}\n\n.nested {\n  margin-left: 20px; /* Indentation for nested objects */\n}\n\n.item {\n  margin-bottom: 5px;\n}\n</style>'],sourceRoot:""}]);const c=a},19204:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(70821),o=r(9680),i=r(58358),a=r(90771);const c={__name:"CancelButton",props:{url:String},setup:function(e){var t=(0,i.useAppSettingStore)(),r=(0,a.useUserStore)(),c=e;function l(){if(t.prevUrl)c.url?o.Inertia.visit(c.url):o.Inertia.visit(t.prevUrl);else if(c.url)o.Inertia.visit(c.url);else{var e=r.isCreator?"/dashboard":"/";o.Inertia.visit(e)}}return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(l,["prevent"]),class:"ml-2 px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg"},"Cancel ")])}}}},59369:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(70821),o=r(9680),i=r(58358);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),c=new B(n||[]);return o(a,"_invoke",{value:C(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function x(){}function b(){}var S={};d(S,l,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(I([])));k&&k!==r&&n.call(k,l)&&(S=k);var N=b.prototype=w.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(o,i,c,l){var s=f(e[o],e,i);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,l)}))}l(s.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function C(t,r,n){var o=p;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var l=T(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:v,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=b,o(N,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(L.prototype),d(L.prototype,s,(function(){return this})),t.AsyncIterator=L,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new L(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},V(N),d(N,u,"Generator"),d(N,l,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function l(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var s={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),h={key:1,class:"alert alert-success mt-4 mx-3"},f=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:2,class:"alert alert-warning mt-4 mx-3"},v=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),m={key:3,class:"alert alert-error mt-4 mx-3"},y=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const g={__name:"Messages",props:{flash:Object},setup:function(e){(0,i.useAppSettingStore)().showFlashMessage=!0;var t=e,r=((0,n.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Inertia.post(route("flash.clear"));case 2:o.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){l(i,n,o,a,c,"next",e)}function c(e){l(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.unref)(t).flash.message?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,[d,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.message),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.success?((0,n.openBlock)(),(0,n.createElementBlock)("div",h,[f,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.success),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.warning?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[v,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.warning),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[y,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.error),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0)])}}}},38575:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(70821),o=["id"],i={class:"modal-box text-center my-auto border-2 border-secondary","data-theme":"dark"},a={class:"font-bold text-3xl text-secondary"},c={class:"py-4 text-xl"},l=(0,n.createElementVNode)("div",{class:"modal-action justify-center w-full"},[(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn btn-secondary"},"Okay")])],-1);const s={__name:"PopUpModal",props:{id:String},setup:function(e){return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("dialog",{id:e.id,class:"modal"},[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("h2",a,[(0,n.renderSlot)(t.$slots,"header")]),(0,n.createElementVNode)("p",c,[(0,n.renderSlot)(t.$slots,"main")]),l])],8,o)])}}}},36537:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(70821),o=r(72200),i=(r(90111),r(87166)),a=r(58358),c=r(53489),l=(r(94268),{class:"w-full h-fit bg-yellow-400"}),s=["id"],u=["src","type"];const d={__name:"VideoJsAux",props:{options:Object,id:String,source:String,sourceType:String},setup:function(e){(0,a.useAppSettingStore)();var t=(0,i.useVideoAuxPlayerStore)(),r=((0,c.useStreamStore)(),e);return(0,n.onMounted)((function(){var e=r.id,n={controlBar:{audioTrackButton:!1,autoHide:!0,captionsButton:!1,chaptersButton:!1,currentTimeDisplay:!1,customControlSpacer:!1,descriptionsButton:!1,durationDisplay:!1,fullscreenToggle:!1,liveDisplay:!1,pictureInPictureToggle:!1,playToggle:!1,playbackRateMenuButton:!1,progressControl:{seekBar:!1},remainingTimeDisplay:!1,seekToLive:!1,subsCapsButton:!1,subtitlesButton:!1,timeDivider:!1,volumePanel:{inline:!0,volumeBar:{vertical:!1,liveDisplay:!1}}},userActions:{hotkeys:!0},controls:!0,muted:!1,inactivityTimeout:0,autoplay:!0,preload:"auto",html5:{hls:{overrideNative:!o.Z.browser.IS_SAFARI}}},i=(0,o.Z)(e,n);t.setPlayer(i),i.el().addEventListener("contextmenu",(function(e){e.preventDefault()}))})),(0,n.onBeforeUnmount)((function(){(0,o.Z)(r.id).dispose()})),function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("video-js",{id:e.id,class:"video-js vjs-layout-tiny w-96 h-64 bg-blue-400",autoplay:"",muted:"",playsinline:"",crossorigin:"anonymous"},[(0,n.createElementVNode)("source",{src:e.source,type:e.sourceType},null,8,u)],8,s)])}}}},95399:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(70821),o=r(38575),i=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),a=(0,n.createElementVNode)("p",null,"Set how many minutes until you go live. If you have already scheduled the show you will automatically go live at the set time. You can change the set time here if needed. The audience will receive notifications that the live is about to begin 2 minutes in advance.",-1),c=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),l=(0,n.createElementVNode)("p",null,"Notifications will immediately go out to subscribers and your show will appear in the shows list with a live badge.",-1),s=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),u=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),d=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),h=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),f=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),p=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can schedule the release from the Show Edit page.",-1),v=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),m=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can edit the description on the episode Edit page.",-1);const y={__name:"ManageShowEpisodeNoticeModals",setup:function(e){return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)((0,n.unref)(o.Z),{id:"startCountdownNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Set Countdown Timer")]})),main:(0,n.withCtx)((function(){return[i,a]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"startLiveStreamNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Start Live Stream")]})),main:(0,n.withCtx)((function(){return[c,l]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"setPushDestinationsNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Set Push Destinations")]})),main:(0,n.withCtx)((function(){return[s]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"setCommercialBreakNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Commercial Breaks")]})),main:(0,n.withCtx)((function(){return[u]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"teleprompterNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("TELEPROMPTER")]})),main:(0,n.withCtx)((function(){return[d]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"vtrNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("VTR")]})),main:(0,n.withCtx)((function(){return[h]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"graphicsNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Graphics (like Chryon)")]})),main:(0,n.withCtx)((function(){return[f]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"scheduleReleaseNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Schedule Release")]})),main:(0,n.withCtx)((function(){return[p]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"addBonusContentNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Add Bonus Content")]})),main:(0,n.withCtx)((function(){return[v]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"editDescriptionNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Edit Episode Description")]})),main:(0,n.withCtx)((function(){return[m]})),_:1})])}}}},71355:(e,t,r)=>{r.r(t),r.d(t,{default:()=>le});var n=r(70821),o=r(24831),i=r(58358),a=r(40191),c=r(87166),l=r(71493),s=r(59369),u=r(19204),d=r(36537),h=r(72200);var f=r(93379),p=r.n(f),v=r(86410),m={insert:"head",singleton:!1};p()(v.Z,m);v.Z.locals;r(83744);var y={class:"mx-0 md:mx-4 mt-4 mb-2 px-2 md:px-6 py-1"},g={class:"flex flex-row flex-wrap-reverse w-full justify-between"},w={class:"font-bold"},x=(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("RTMP url: "),(0,n.createElementVNode)("span",{class:"font-bold"},"rtmp://stream.not.tv/live/")],-1),b={class:"font-bold"},S={class:""},E={key:2,class:"text-xs text-green-500 font-semibold tracking-wider"},k=(0,n.createElementVNode)("div",null,null,-1),N=(0,n.createElementVNode)("div",null,"Live will begin in... ",-1),V={class:"flex flex-col justify-center mt-3 h-fit"},L=(0,n.createElementVNode)("div",{class:"text-xs tracking-wider font-semibold mb-1 pl-1"},"VIDEO STREAM",-1),C={class:"flex flex-row flex-wrap"},T={class:"flex flex-col"},_={class:"px-10 h-fit w-fit"},P={key:0,class:"w-full bg-red-700 text-white text-center uppercase font-bold"},B={class:"flex flex-row px-10"},I={class:"mt-2"},j={class:"mt-2 ml-2"},O=(0,n.createElementVNode)("h3",null,"Stream Info",-1),A=(0,n.createElementVNode)("strong",null,"Width:",-1),F=(0,n.createElementVNode)("strong",null,"Height:",-1),M={key:0},G=(0,n.createElementVNode)("h4",{class:"font-semibold"},"Tracks",-1),D={key:1},Z=[(0,n.createElementVNode)("div",{class:"flex flex-col"},[(0,n.createElementVNode)("span",{class:"mb-2"},"Loading stream data..."),(0,n.createElementVNode)("span",{class:"loading loading-spinner text-neutral"})],-1)],U=(0,n.createElementVNode)("div",{class:"mx-4 mt-4 mb-2 px-6 py-1"},[(0,n.createElementVNode)("div",{class:"text-sm font-semibold bg-blue-600 text-white text-center w-full border-2 border-blue-600 rounded uppercase px-6 py-1"}," Push Destinations "),(0,n.createElementVNode)("div",{class:"shadow bg-blue-100 overflow-hidden border-2 border-blue-600 rounded p-6 space-y-3"},[(0,n.createElementVNode)("div"),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("Set up "),(0,n.createElementVNode)("span",{class:"font-bold"},"push destinations:")]),(0,n.createElementVNode)("div",null,"Here you can set additional streaming destinations such as Facebook, YouTube, Rumble, Twitch, etc. and notTV will automatically start pushing to those destinations when you go live. "),(0,n.createElementVNode)("div",{class:"w-full flex justify-center pt-4"},[(0,n.createElementVNode)("button",{onclick:"setPushDestinationsNotice.showModal()",class:"bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg px-4 py-2"},"Set Push Destinations ")])])],-1),R=(0,n.createElementVNode)("div",{class:"mx-4 mt-4 mb-8 px-6 py-1"},[(0,n.createElementVNode)("div",{class:"text-sm font-semibold bg-orange-600 text-white text-center w-full border-2 border-orange-600 rounded uppercase px-6 py-1"}," Commercial Breaks "),(0,n.createElementVNode)("div",{class:"shadow bg-orange-100 overflow-hidden border-2 border-orange-600 rounded p-6 space-y-3"},[(0,n.createElementVNode)("div"),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("Click the "),(0,n.createElementVNode)("span",{class:"font-bold"},"Trigger Commercial Break"),(0,n.createTextVNode)(" button below to go to commercial.")]),(0,n.createElementVNode)("div",null,"You will see a countdown timer until the show resumes. This will be 1-2 minutes."),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("As a notTV creator, your voice matters. How can this feature be improved to better serve you and your sponsors? Please email and let us know: "),(0,n.createElementVNode)("a",{href:"mailto:hello@not.tv",target:"_blank",class:"text-blue-500 hover:text-blue-600"},"hello@not.tv")]),(0,n.createElementVNode)("div",{class:"w-full flex justify-center pt-4"},[(0,n.createElementVNode)("button",{onclick:"setCommercialBreakNotice.showModal()",class:"bg-orange-600 hover:bg-orange-500 text-white font-semibold rounded-lg px-4 py-2"},"Trigger Commercial Break ")])])],-1);const Y={__name:"GoLive",props:{show:Object},setup:function(e){var t=(0,a.useVideoPlayerStore)(),r=(0,c.useVideoAuxPlayerStore)(),o=(0,l.useGoLiveStore)(),i="https://mist.nottv.io/hls/"+o.selectedShow.mist_stream_wildcard.name+"/index.m3u8";o.fetchStreamInfo(o.selectedShow.mist_stream_wildcard.name);var s=function(){var e=o.selectedShow.mist_stream_wildcard.name,t=r.mistServerUri+"hls/"+e+"/index.m3u8";console.log("source url: "+t);(0,h.Z)("aux-player").src({src:t,type:"application/vnd.apple.mpegurl"}),console.log("reload player"),o.fetchStreamInfo(o.selectedShow.mist_stream_wildcard.name)};(0,n.onMounted)((function(){p(),console.log("onPlayerReady AUX")}));var u=(0,n.ref)(300),f=(0,n.computed)((function(){var e=Math.floor(u.value/60),t=u.value%60;return"".concat(e.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))})),p=function e(){var t=setInterval((function(){u.value--,u.value<0&&(clearInterval(t),u.value=300,e())}),1e3)};return function(e,a){var c,l,u;return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["text-sm font-semibold text-white text-center w-full border-2 rounded uppercase px-0 md:px-6 py-1",[(0,n.unref)(o).isLive?"bg-gray-600 border-gray-600 ":"bg-red-600 border-red-600"]])}," Go Live Instructions ",2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["shadow overflow-hidden border-2 border-red-600 rounded p-2 md:p-6",[(0,n.unref)(o).isLive?"bg-gray-100":"bg-red-100"]])},[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("RTMP full url: "),(0,n.createElementVNode)("span",w,"rtmp://stream.not.tv/live/"+(0,n.toDisplayString)((0,n.unref)(o).selectedShow.mist_stream_wildcard.name),1)]),x,(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("RTMP stream key: "),(0,n.createElementVNode)("span",b,(0,n.toDisplayString)((0,n.unref)(o).selectedShow.mist_stream_wildcard.name),1)])]),(0,n.createElementVNode)("div",S,[(0,n.unref)(o).isLive?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:a[1]||(a[1]=function(){var e;return(0,n.unref)(o).stopLive&&(e=(0,n.unref)(o)).stopLive.apply(e,arguments)}),class:"btn text-white bg-red-700 hover:bg-red-900 uppercase"},"End Live ")):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:a[0]||(a[0]=function(){var e;return(0,n.unref)(o).goLive&&(e=(0,n.unref)(o)).goLive.apply(e,arguments)}),class:"btn text-white bg-green-500 hover:bg-green-700 uppercase"},"Go Live Now ")),(0,n.unref)(o).isLive?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",E,"Premium Creator Service")),k,N,(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(f.value),1)])]),(0,n.createElementVNode)("div",V,[L,(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("div",T,[(0,n.createElementVNode)("div",_,[(0,n.createElementVNode)("button",{onClick:s,class:(0,n.normalizeClass)(["btn btn-xs w-full",[(0,n.unref)(o).isLive?"bg-gray-200 hover:bg-400":""]])},"Reload Player ",2),(0,n.unref)(o).isLive?((0,n.openBlock)(),(0,n.createElementBlock)("div",P,"LIVE + RECORDING ")):(0,n.createCommentVNode)("",!0),(0,n.createVNode)((0,n.unref)(d.Z),{id:"aux-player",source:(0,n.unref)(i),sourceType:(0,n.unref)("application/x-mpegURL"),class:(0,n.normalizeClass)(["",[(0,n.unref)(o).isLive?"border-4 border-red-700":""]])},null,8,["source","sourceType","class"])]),(0,n.createElementVNode)("div",B,[(0,n.createElementVNode)("div",I,[(0,n.unref)(t).muted?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:(0,n.normalizeClass)(["btn",[(0,n.unref)(o).isLive?"bg-gray-200 hover:bg-400":""]]),onClick:a[3]||(a[3]=function(){var e;return(0,n.unref)(t).unMute&&(e=(0,n.unref)(t)).unMute.apply(e,arguments)})},"Turn On Main Player Audio ",2)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:(0,n.normalizeClass)(["btn",[(0,n.unref)(o).isLive?"bg-gray-200 hover:bg-400":""]]),onClick:a[2]||(a[2]=function(){var e;return(0,n.unref)(t).mute&&(e=(0,n.unref)(t)).mute.apply(e,arguments)})},"Mute Main Player Audio ",2))]),(0,n.createElementVNode)("div",j,[(0,n.unref)(r).muted?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:(0,n.normalizeClass)(["btn",[(0,n.unref)(o).isLive?"bg-gray-200 hover:bg-400":""]]),onClick:a[5]||(a[5]=function(){var e;return(0,n.unref)(r).unMute&&(e=(0,n.unref)(r)).unMute.apply(e,arguments)})},"Turn On Live Stream Audio ",2)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:(0,n.normalizeClass)(["btn",[(0,n.unref)(o).isLive?"bg-gray-200 hover:bg-400":""]]),onClick:a[4]||(a[4]=function(){var e;return(0,n.unref)(r).mute&&(e=(0,n.unref)(r)).mute.apply(e,arguments)})},"Mute Live Stream Video ",2))])])]),(0,n.unref)(o).streamInfo?((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"w-fit",key:(0,n.unref)(o).selectedShowId},[(0,n.createElementVNode)("div",null,[O,(0,n.createElementVNode)("p",null,[A,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(null===(c=(0,n.unref)(o).streamInfo)||void 0===c?void 0:c.width),1)]),(0,n.createElementVNode)("p",null,[F,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(null===(l=(0,n.unref)(o).streamInfo)||void 0===l?void 0:l.height),1)]),null!==(u=(0,n.unref)(o).streamInfo)&&void 0!==u&&null!==(u=u.meta)&&void 0!==u&&u.tracks?((0,n.openBlock)(),(0,n.createElementBlock)("div",M,[G,(0,n.createElementVNode)("ul",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(o).streamInfo.meta.tracks,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t},"  "+(0,n.toDisplayString)(t)+" - Codec: "+(0,n.toDisplayString)(e.codec)+", Rate: "+(0,n.toDisplayString)(e.rate),1)})),128))])])):(0,n.createCommentVNode)("",!0)])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",D,Z))])]),U],2)]),R],64)}}};var z=r(95399);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function K(){K=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),c=new _(n||[]);return o(a,"_invoke",{value:V(e,r,c)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function w(){}var x={};s(x,a,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(P([])));S&&S!==r&&n.call(S,a)&&(x=S);var E=w.prototype=y.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,i,a,c){var l=d(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==H(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function V(t,r,n){var o=h;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var l=L(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:f,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function L(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(H(t)+" is not iterable")}return g.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),s(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new N(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,l,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function W(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function $(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){W(i,n,o,a,c,"next",e)}function c(e){W(i,n,o,a,c,"throw",e)}a(void 0)}))}}var Q={class:"place-self-center flex flex-col gap-y-3"},q={id:"topDiv",class:"bg-white text-black p-5 mb-10"},J={class:"flex justify-between mx-4 px-6"},X=(0,n.createElementVNode)("div",{class:"grid grid-cols-1 grid-rows-2"},[(0,n.createElementVNode)("h1",{class:"text-3xl font-semibold"},"Go Live")],-1),ee={key:1,class:"mb-6 mx-4 px-6"},te=(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-light text-gray-700",for:"show"}," Select Show To Go Live On ",-1),re=(0,n.createElementVNode)("option",{disabled:"",value:""},"Select show",-1),ne=["value"],oe={key:2,class:"bg-black w-3/4 text-center px-10 py-6 text-white mx-auto border-red-700 border-2"},ie={key:3,class:"text-2xl font-semibold text-center w-full"},ae={key:5,class:"flex flex-col justify-items-center text-center px-16"},ce=(0,n.createElementVNode)("div",{class:"mb-3"},"Please generate a stream key:",-1);const le={__name:"GoLive",props:{shows:Object},setup:function(e){(0,o.U)("goLive");var t=(0,i.useAppSettingStore)(),r=(0,a.useVideoPlayerStore)(),d=(0,c.useVideoAuxPlayerStore)(),f=(0,l.useGoLiveStore)();(0,n.onMounted)($(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.fetchShows().then((function(){f.preSelectedShowId&&(f.selectedShowId=f.preSelectedShowId)}));case 1:case"end":return e.stop()}}),e)}))));var p=function(){var e=f.selectedShow.mist_stream_wildcard.name,t=d.mistServerUri+"hls/"+e+"/index.m3u8";console.log("source url: "+t);(0,h.Z)("aux-player").src({src:t,type:"application/vnd.apple.mpegurl"}),f.fetchStreamInfo(f.selectedShow.mist_stream_wildcard.name),console.log("reload player")},v=function(){var e=$(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.generateStreamKey();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,n.watch)(f.preSelectedShowId,(function(e,t){""!==e&&r.mute()})),function(e,r){var o=(0,n.resolveComponent)("Head"),i=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(o,{title:"Go Live"}),(0,n.createElementVNode)("div",Q,[(0,n.createElementVNode)("div",q,[(0,n.unref)(t).showFlashMessage?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(s.Z),{key:0,flash:e.$page.props.flash},null,8,["flash"])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",J,[X,(0,n.createElementVNode)("div",null,[(0,n.createVNode)((0,n.unref)(u.Z))])]),(0,n.unref)(f).shows&&(0,n.unref)(f).shows.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",ee,[te,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"border border-gray-400 text-gray-800 p-2 w-full rounded-lg block my-2 uppercase font-bold text-xs","onUpdate:modelValue":r[0]||(r[0]=function(e){return(0,n.unref)(f).selectedShowId=e}),onChange:p},[re,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(f).shows,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,ne)})),128))],544),[[n.vModelSelect,(0,n.unref)(f).selectedShowId]])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",oe," You don't have any shows to go live with... please check your show(s). ")),(0,n.unref)(f).selectedShow?((0,n.openBlock)(),(0,n.createElementBlock)("div",ie,[(0,n.createVNode)(i,{href:"/shows/".concat((0,n.unref)(f).selectedShow.slug,"/manage")},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(f).selectedShow.name),1)]})),_:1},8,["href"])])):(0,n.createCommentVNode)("",!0),(0,n.unref)(f).selectedShow&&(0,n.unref)(f).selectedShow.mist_stream_wildcard_id?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Y),{key:4})):(0,n.createCommentVNode)("",!0),(0,n.unref)(f).selectedShow&&!(0,n.unref)(f).selectedShow.mist_stream_wildcard_id?((0,n.openBlock)(),(0,n.createElementBlock)("div",ae,[ce,(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("button",{onClick:v,class:"btn btn-sm w-fit bg-green-500 hover:bg-green-700 text-white"},"generate key")])])):(0,n.createCommentVNode)("",!0)])]),(0,n.createVNode)(z.Z)],64)}}}}}]);
//# sourceMappingURL=1355.js.map