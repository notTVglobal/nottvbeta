"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5006],{24831:(e,t,r)=>{r.d(t,{U:()=>s});var n=r(70821),o=r(90771),l=r(58358),a=r(40191),i=r(87879);function s(e){var t=(0,o.useUserStore)(),r=(0,l.useAppSettingStore)(),s=(0,a.useVideoPlayerStore)();r.currentPage=e,r.showFlashMessage=!0,r.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||r.fullPage?r.ott=0:(0===r.ott&&(r.ott=4),r.showOttButtons=!0),s.makeVideoTopRight(),r.pageReload&&(r.pageReload=!1,r.pageWasReloaded=!0,window.location.reload()),i.Nd.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||r.fullPage?r.ott=0:0===r.ott&&(r.ott=4),""!==window.location.search&&!r.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),r.shouldScrollToTop=!1})),r.setPrevUrl(),r.showOttButtons=!0,r.noLayout=!1,(0,n.watch)((function(){return r.isSmallScreen}),(function(e){r.ott=e?0:4}),{immediate:!0})}},33409:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(70821),o=r(58358),l=r(87879),a=r(36808),i=r(83004),s={class:"flex items-center"};const c={__name:"OpenInboxButtonWithCount",setup:function(e){var t=(0,a.useNewsPersonMessageStore)();(0,i.useNotificationStore)(),(0,l.qt)();(0,n.onMounted)((function(){t.fetchMessageCount()}));(0,n.computed)((function(){return t.computedMessageCount}));var r=(0,n.computed)((function(){return t.newMessageCount})),o=(0,n.computed)((function(){return r.value>0?"bg-pink-600 hover:bg-pink-700 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded":"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded"}));function c(){l.Nd.get("/news-person-messages")}return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("button",{onClick:c,class:(0,n.normalizeClass)(o.value)}," Inbox ("+(0,n.toDisplayString)(r.value)+") ",3)])}}};var u={class:"w-full mx-auto -mt-6 b-3 pb-3 border-b border-gray-500 pt-12 px-12 bg-yellow-950 text-white"},d={class:"w-full mx-auto flex flex-wrap justify-between mb-3 pb-3 gap-x-2 gap-y-2"},m={class:"text-4xl font-semibold text-center lg:text-left"},f={class:"flex align-items-end mt-4 gap-2"},p={class:"w-full overflow-hidden shadow-sm sm:rounded-lg"},b={class:"w-full p-6 dark:bg-gray-900 border-b border-gray-200"},g={class:"w-full relative bg-gray-200 overflow-x-auto shadow-md sm:rounded-lg py-6 px-6"},v={class:"flex flex-wrap justify-start ml-0 lg:ml-16 mt-6 mr-6 lg:mt-0 gap-x-2 gap-y-3 md:gap-x-8"},w=["onClick","disabled"];const y={__name:"NewsHeader",props:{search:String},setup:function(e){var t=(0,o.useAppSettingStore)();var r=(0,n.reactive)([{name:"News Stories",path:"/newsroom",enabled:!0},{name:"News RSS Feeds",path:"/newsRssFeedItemsTemp",enabled:!0},{name:"News RSS Archive",path:"/newsRssArchive",enabled:!0},{name:"Categories",path:"/categories",enabled:!1},{name:"Cities",path:"/cities",enabled:!1},{name:"Districts",path:"/news-districts",enabled:!0},{name:"Press Releases",path:"/pressReleases",enabled:!1},{name:"Calendar",path:"/calendar",enabled:!1}]);return function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("div",m,[(0,n.renderSlot)(e.$slots,"default")]),(0,n.createVNode)(c),(0,n.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,n.unref)(t).btnRedirect("/dashboard")}),class:"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max"},"Dashboard ")])]),(0,n.createElementVNode)("div",f,[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("ul",v,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e.name,class:""},[(0,n.createElementVNode)("button",{onClick:function(r){return e.enabled?(0,n.unref)(t).btnRedirect(e.path):null},class:(0,n.normalizeClass)((r=e.enabled,r?"py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 transition ease-in-out duration-150":"py-2 px-4 bg-gray-400 text-white font-semibold rounded-lg shadow-md cursor-not-allowed")),disabled:!e.enabled},(0,n.toDisplayString)(e.name),11,w)]);var r})),128))])])])])])],64)}}}},85006:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var n=r(70821),o=r(24831),l=r(87879),a=r(36808),i=r(58358),s=r(83004),c=r(25543);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t,r){var n;return n=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={class:"w-full mr-4 relative"},f={key:0,ref:"scrollableContainer",class:"absolute z-10 w-full bg-white text-black text-left mt-1 max-h-50 rounded-lg shadow-lg overflow-auto border border-gray-200"},p=["onClick"],b={class:"flex items-center gap-2"};const g={__name:"NewsPersonSelector",emits:["select"],setup:function(e,t){var r=t.emit,o=(0,a.useNewsPersonMessageStore)(),l=(0,n.ref)(""),i=(0,n.computed)((function(){return o.filteredNewsPersons})),s=(0,n.ref)(!1),u=(0,n.ref)(-1),g=r,v=function(){setTimeout((function(){s.value=!1}),200)},w=function(e){switch(e.key){case"ArrowDown":u.value<i.value.length-1&&u.value++;break;case"ArrowUp":u.value>0&&u.value--;break;case"Enter":u.value>=0&&u.value<i.value.length&&y(i.value[u.value])}},y=function(e){l.value=e.name,o.setSearchInput(l.value),o.recipient=e,s.value=!1,g("select",e.id)};return(0,n.watch)((function(){return o.recipient}),(function(e){e&&(l.value=e.name,g("select",e.id))}),{immediate:!0}),(0,n.onMounted)((function(){o.fetchNewsPersons()})),(0,n.watch)(l,(function(e){o.setSearchInput(e)})),function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",m,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.value=e}),type:"search",class:"w-full rounded-lg mt-2 bg-white text-black p-2",placeholder:"Search...",onFocus:t[1]||(t[1]=function(e){return s.value=!0}),onBlur:v,onKeydown:w,required:""},null,544),[[n.vModelText,l.value]]),s.value&&i.value.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("ul",f,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.value,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t,class:(0,n.normalizeClass)(["cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-gray-100",d({"bg-gray-200":t===u.value,"dropdown-item":!0},"dropdown-item-".concat(t),!0)]),onClick:function(t){return y(e)}},[(0,n.createElementVNode)("div",b,[(0,n.createVNode)(c.Z,{image:e.image,alt:"NewsPerson Image",class:(0,n.normalizeClass)("w-8 h-8 rounded-full")},null,8,["image"]),(0,n.createTextVNode)(" "+(0,n.toDisplayString)(e.name),1)])],10,p)})),128))],512)):(0,n.createCommentVNode)("",!0)])])}}};var v=r(33409);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,a,i=[],s=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=l.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h={class:"place-self-center flex flex-col"},x={id:"topDiv",class:"bg-white h-screen text-black dark:bg-gray-900 dark:text-gray-50"},k={class:"w-full max-w-7xl px-8 bg-gray-50 text-black dark:bg-gray-800 dark:text-gray-50"},N={class:"py-8 px-4 lg:px-16"},S=(0,n.createElementVNode)("h1",{class:"text-3xl font-bold mb-6"},"Create News Person Message",-1),V=(0,n.createElementVNode)("label",{for:"recipient_id",class:"block text-lg font-medium mb-2"},"Recipient",-1),E={key:0,class:"text-red-600"},C=(0,n.createElementVNode)("label",{for:"subject",class:"block text-lg font-medium mb-2"},"Subject",-1),B={key:0,class:"text-red-600"},j=(0,n.createElementVNode)("label",{for:"message",class:"block text-lg font-medium mb-2"},"Message",-1),M={key:0,class:"text-red-600"},P=(0,n.createElementVNode)("button",{type:"submit",class:"w-full py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition"}," Send ",-1);const R={__name:"Create",setup:function(e){var t=(0,a.useNewsPersonMessageStore)(),r=(0,i.useAppSettingStore)(),c=(0,s.useNotificationStore)();(0,o.U)("newsPersonMessages.create");var u=(0,l.cI)({recipient_id:t.recipient?t.recipient.id:"",subject:"",message:""}),d=(0,n.computed)((function(){return t.recipient})),m=(0,n.computed)((function(){return t.subject}));function f(){console.log("Submitting form with values:",u),u.post("/news-person-messages",{preserveScroll:!0,onSuccess:function(){c.setToastNotification("Message successfully sent.","info"),u.reset()},onError:function(e){console.error("Error submitting form:",e)}})}function p(){t.clearRecipient(),t.clearSubject(),r.btnRedirect("/news-person-messages")}return(0,n.watch)([d,m],(function(e){var t=w(e,2),r=t[0],n=t[1];r&&(u.recipient_id=r.id),n&&(u.subject="".concat(n))}),{immediate:!0}),(0,n.onBeforeUnmount)((function(){t.clearRecipient(),t.clearSubject(),t.setSearchInput("")})),function(e,t){var r=(0,n.resolveComponent)("Head");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(r,{title:"Create News Person Message"}),(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",x,[(0,n.createVNode)(v.Z,null,{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Newsroom")]})),_:1}),(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("div",N,[S,(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(f,["prevent"]),class:"space-y-6"},[(0,n.createElementVNode)("div",null,[V,(0,n.createVNode)(g,{modelValue:(0,n.unref)(u).recipient_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,n.unref)(u).recipient_id=e}),initialRecipient:d.value},null,8,["modelValue","initialRecipient"]),(0,n.unref)(u).errors.recipient_id?((0,n.openBlock)(),(0,n.createElementBlock)("span",E,(0,n.toDisplayString)((0,n.unref)(u).errors.recipient_id),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[C,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,n.unref)(u).subject=e}),id:"subject",type:"text",class:"w-full p-4 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-gray-50",required:""},null,512),[[n.vModelText,(0,n.unref)(u).subject]])]),(0,n.unref)(u).errors.subject?((0,n.openBlock)(),(0,n.createElementBlock)("span",B,(0,n.toDisplayString)((0,n.unref)(u).errors.subject),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",null,[j,(0,n.withDirectives)((0,n.createElementVNode)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,n.unref)(u).message=e}),id:"message",class:"w-full p-4 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-gray-50",rows:"6",required:""},null,512),[[n.vModelText,(0,n.unref)(u).message]]),(0,n.unref)(u).errors.message?((0,n.openBlock)(),(0,n.createElementBlock)("span",M,(0,n.toDisplayString)((0,n.unref)(u).errors.message),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",{class:"flex space-x-4"},[P,(0,n.createElementVNode)("button",{type:"button",onClick:p,class:"w-full py-3 px-6 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition"}," Cancel ")])],32)])])])])])}}}}}]);
//# sourceMappingURL=5006.js.map