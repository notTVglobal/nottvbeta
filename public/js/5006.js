"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5006],{24831:(e,t,n)=>{n.d(t,{U:()=>s});var r=n(70821),o=n(90771),a=n(58358),l=n(40191),i=n(87879);function s(e){var t=(0,o.useUserStore)(),n=(0,a.useAppSettingStore)(),s=(0,l.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(0===n.ott&&(n.ott=4),n.showOttButtons=!0),s.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,n.pageWasReloaded=!0,window.location.reload()),i.Nd.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:0===n.ott&&(n.ott=4),""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1,(0,r.watch)((function(){return n.isSmallScreen}),(function(e){n.ott=e?0:4}),{immediate:!0})}},33409:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(70821),o=n(58358),a=n(87879),l=n(36808),i=n(83004),s={class:"flex items-center"};const c={__name:"OpenInboxButtonWithCount",setup:function(e){var t=(0,l.useNewsPersonMessageStore)();(0,i.useNotificationStore)(),(0,a.qt)();(0,r.onMounted)((function(){t.fetchMessageCount()}));(0,r.computed)((function(){return t.computedMessageCount}));var n=(0,r.computed)((function(){return t.newMessageCount})),o=(0,r.computed)((function(){return n.value>0?"bg-pink-600 hover:bg-pink-700 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded":"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded"}));function c(){a.Nd.get("/news-person-messages")}return function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",s,[(0,r.createElementVNode)("button",{onClick:c,class:(0,r.normalizeClass)(o.value)}," Inbox ("+(0,r.toDisplayString)((0,r.unref)(t).newMessageCount)+") ",3)])}}};var u={class:"w-full mx-auto -mt-6 b-3 pb-3 border-b border-gray-500 pt-12 px-12 bg-yellow-950 text-white"},d={class:"w-full mx-auto flex flex-wrap justify-between mb-3 pb-3 gap-x-2 gap-y-2"},m={class:"text-4xl font-semibold text-center lg:text-left"},f={class:"flex align-items-end mt-4 gap-2"},p={class:"w-full overflow-hidden shadow-sm sm:rounded-lg"},b={class:"w-full p-6 dark:bg-gray-900 border-b border-gray-200"},g={class:"w-full relative bg-gray-200 overflow-x-auto shadow-md sm:rounded-lg py-6 px-6"},v={class:"flex flex-wrap justify-start ml-0 lg:ml-16 mt-6 mr-6 lg:mt-0 gap-x-2 gap-y-3 md:gap-x-8"},w=["onClick","disabled"];const y={__name:"NewsHeader",props:{search:String},setup:function(e){var t=(0,o.useAppSettingStore)();var n=(0,r.reactive)([{name:"News Stories",path:"/newsroom",enabled:!0},{name:"News RSS Feeds",path:"/newsRssFeedItemsTemp",enabled:!0},{name:"News RSS Archive",path:"/newsRssArchive",enabled:!0},{name:"Categories",path:"/categories",enabled:!1},{name:"Cities",path:"/cities",enabled:!1},{name:"Districts",path:"/news-districts",enabled:!0},{name:"Press Releases",path:"/pressReleases",enabled:!1},{name:"Calendar",path:"/calendar",enabled:!1},{name:"Public News Page",path:"/news",enabled:!0}]);return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",m,[(0,r.renderSlot)(e.$slots,"default")]),(0,r.createVNode)(c),(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,r.unref)(t).btnRedirect("/dashboard")}),class:"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max"},"Dashboard ")])]),(0,r.createElementVNode)("div",f,[(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("ul",v,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("li",{key:e.name,class:""},[(0,r.createElementVNode)("button",{onClick:function(n){return e.enabled?(0,r.unref)(t).btnRedirect(e.path):null},class:(0,r.normalizeClass)((n=e.enabled,n?"py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 transition ease-in-out duration-150":"py-2 px-4 bg-gray-400 text-white font-semibold rounded-lg shadow-md cursor-not-allowed")),disabled:!e.enabled},(0,r.toDisplayString)(e.name),11,w)]);var n})),128))])])])])])],64)}}}},85006:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(70821),o=n(24831),a=n(87879),l=n(36808),i=n(58358),s=n(83004),c=n(25543);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t,n){var r;return r=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={class:"w-full mr-4 relative"},f={key:0,ref:"scrollableContainer",class:"absolute z-10 w-full bg-white text-black text-left mt-1 max-h-50 rounded-lg shadow-lg overflow-auto border border-gray-200"},p=["onClick"],b={class:"flex items-center gap-2"};const g={__name:"NewsPersonSelector",emits:["select"],setup:function(e,t){var n=t.emit,o=(0,l.useNewsPersonMessageStore)(),a=(0,r.ref)(""),i=(0,r.computed)((function(){return o.filteredNewsPersons})),s=(0,r.ref)(!1),u=(0,r.ref)(-1),g=n,v=function(){setTimeout((function(){s.value=!1}),200)},w=function(e){switch(e.key){case"ArrowDown":u.value<i.value.length-1&&u.value++;break;case"ArrowUp":u.value>0&&u.value--;break;case"Enter":u.value>=0&&u.value<i.value.length&&y(i.value[u.value])}},y=function(e){a.value=e.name,o.setSearchInput(a.value),o.recipient=e,s.value=!1,g("select",e.id)};return(0,r.watch)((function(){return o.recipient}),(function(e){e&&(a.value=e.name,g("select",e.id))}),{immediate:!0}),(0,r.onMounted)((function(){o.fetchNewsPersons()})),(0,r.watch)(a,(function(e){o.setSearchInput(e)})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",m,[(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value=e}),type:"search",class:"w-full rounded-lg mt-2 bg-white text-black p-2",placeholder:"Search...",onFocus:t[1]||(t[1]=function(e){return s.value=!0}),onBlur:v,onKeydown:w,required:""},null,544),[[r.vModelText,a.value]]),s.value&&i.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("ul",f,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("li",{key:t,class:(0,r.normalizeClass)(["cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-gray-100",d({"bg-gray-200":t===u.value,"dropdown-item":!0},"dropdown-item-".concat(t),!0)]),onClick:function(t){return y(e)}},[(0,r.createElementVNode)("div",b,[(0,r.createVNode)(c.Z,{image:e.image,alt:"NewsPerson Image",class:(0,r.normalizeClass)("w-8 h-8 rounded-full")},null,8,["image"]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.name),1)])],10,p)})),128))],512)):(0,r.createCommentVNode)("",!0)])])}}};var v=n(33409);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={class:"place-self-center flex flex-col"},x={id:"topDiv",class:"bg-white h-screen text-black dark:bg-gray-900 dark:text-gray-50"},k={class:"w-full max-w-7xl px-8 bg-gray-50 text-black dark:bg-gray-800 dark:text-gray-50"},N={class:"py-8 px-4 lg:px-16"},S=(0,r.createElementVNode)("h1",{class:"text-3xl font-bold mb-6"},"Create News Person Message",-1),V=(0,r.createElementVNode)("label",{for:"recipient_id",class:"block text-lg font-medium mb-2"},"Recipient",-1),E={key:0,class:"text-red-600"},C=(0,r.createElementVNode)("label",{for:"subject",class:"block text-lg font-medium mb-2"},"Subject",-1),B={key:0,class:"text-red-600"},j=(0,r.createElementVNode)("label",{for:"message",class:"block text-lg font-medium mb-2"},"Message",-1),M={key:0,class:"text-red-600"},P=(0,r.createElementVNode)("button",{type:"submit",class:"w-full py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition"}," Send ",-1);const R={__name:"Create",setup:function(e){var t=(0,l.useNewsPersonMessageStore)(),n=(0,i.useAppSettingStore)(),c=(0,s.useNotificationStore)();(0,o.U)("newsPersonMessages.create");var u=(0,a.cI)({recipient_id:t.recipient?t.recipient.id:"",subject:"",message:""}),d=(0,r.computed)((function(){return t.recipient})),m=(0,r.computed)((function(){return t.subject}));function f(){console.log("Submitting form with values:",u),u.post("/news-person-messages",{preserveScroll:!0,onSuccess:function(){c.setToastNotification("Message successfully sent.","info"),u.reset()},onError:function(e){console.error("Error submitting form:",e)}})}function p(){t.clearRecipient(),t.clearSubject(),n.btnRedirect("/news-person-messages")}return(0,r.watch)([d,m],(function(e){var t=w(e,2),n=t[0],r=t[1];n&&(u.recipient_id=n.id),r&&(u.subject="".concat(r))}),{immediate:!0}),(0,r.onBeforeUnmount)((function(){t.clearRecipient(),t.clearSubject(),t.setSearchInput("")})),function(e,t){var n=(0,r.resolveComponent)("Head");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)(n,{title:"Create News Person Message"}),(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("div",x,[(0,r.createVNode)(v.Z,null,{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Newsroom")]})),_:1}),(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("div",N,[S,(0,r.createElementVNode)("form",{onSubmit:(0,r.withModifiers)(f,["prevent"]),class:"space-y-6"},[(0,r.createElementVNode)("div",null,[V,(0,r.createVNode)(g,{modelValue:(0,r.unref)(u).recipient_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,r.unref)(u).recipient_id=e}),initialRecipient:d.value},null,8,["modelValue","initialRecipient"]),(0,r.unref)(u).errors.recipient_id?((0,r.openBlock)(),(0,r.createElementBlock)("span",E,(0,r.toDisplayString)((0,r.unref)(u).errors.recipient_id),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",null,[C,(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,r.unref)(u).subject=e}),id:"subject",type:"text",class:"w-full p-4 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-gray-50",required:""},null,512),[[r.vModelText,(0,r.unref)(u).subject]])]),(0,r.unref)(u).errors.subject?((0,r.openBlock)(),(0,r.createElementBlock)("span",B,(0,r.toDisplayString)((0,r.unref)(u).errors.subject),1)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",null,[j,(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,r.unref)(u).message=e}),id:"message",class:"w-full p-4 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-gray-50",rows:"6",required:""},null,512),[[r.vModelText,(0,r.unref)(u).message]]),(0,r.unref)(u).errors.message?((0,r.openBlock)(),(0,r.createElementBlock)("span",M,(0,r.toDisplayString)((0,r.unref)(u).errors.message),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",{class:"flex space-x-4"},[P,(0,r.createElementVNode)("button",{type:"button",onClick:p,class:"w-full py-3 px-6 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition"}," Cancel ")])],32)])])])])])}}}}}]);
//# sourceMappingURL=5006.js.map