{"version":3,"file":"js/9735.js","mappings":";wIAGIA,QAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,GAAI,GAAG,CAAC,QAAU,EAAE,QAAU,GAAG,MAAQ,GAAG,SAAW,GAAG,WAAa,MAEhH,+5OCSMC,GAAYC,EAAAA,EAAAA,gBAEZC,GAAUC,EAAAA,EAAAA,KAAI,IAGdC,GAAmBD,EAAAA,EAAAA,MAAwB,QAApBE,EAAAL,EAAUM,kBAAU,IAAAD,OAAA,EAApBA,EAAsBN,KAAM,KAG9BQ,EAAAA,EAAAA,WAAS,WAClC,OAAOL,EAAQM,MAAMC,MAAK,SAAAC,GAAM,OAAIA,EAAOX,KAAOK,EAAiBI,KAAK,KAAK,IAC/E,WAGAG,EAAAA,EAAAA,OAAMP,GAAkB,SAACQ,GACvB,IAAMC,EAAiBX,EAAQM,MAAMC,MAAK,SAAAC,GAAM,OAAIA,EAAOX,KAAOa,CAAQ,IACtEC,IACFb,EAAUc,cAAc,CACtBf,GAAIc,EAAed,GACnBgB,KAAMF,EAAeE,OAEvBf,EAAUgB,2BAEd,KAEAC,EAAAA,EAAAA,WAASC,EAAAC,IAAAC,MAAC,SAAAC,IAAA,OAAAF,IAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACFzB,EAAU0B,mBAAkB,OAGlCxB,EAAQM,MAAQR,EAAU2B,YAAYC,KAAI,SAAAC,GAAM,MAAK,CACnD9B,GAAI8B,EAAO9B,GACXgB,KAAMc,EAAOd,KACbe,MAAOD,EAAOC,MACdC,mBAAoBF,EAAOE,mBAC3BC,kBAAmBH,EAAOG,kBAC3B,IAEGhC,EAAUM,aACZF,EAAiBI,MAAQR,EAAUM,WAAWP,IAC/C,wBAAAwB,EAAAU,OAAA,GAAAZ,EAAA,mgBCnDCnB,EAAU,CAEdA,OAAiB,OACjBA,WAAoB,GAEP,IAAI,IAASA,GAIX,IAAQgC,OCNvB,MAEA,GAFiC,cAAgB,EAAQ,CAAC,CAAC,YAAY,qYCDvE,2ECaA,IAAMlC,GAAYC,EAAAA,EAAAA","sources":["webpack:///./resources/js/Components/Pages/News/ChangeNewsPersonAsWriter.vue?1262","webpack:///./resources/js/Components/Pages/News/ChangeNewsPersonAsWriter.vue","webpack:///./resources/js/Components/Pages/News/ChangeNewsPersonAsWriter.vue?a9e6","webpack:///./resources/js/Components/Pages/News/ChangeNewsPersonAsWriter.vue?a9d0","webpack:///./resources/js/Components/Pages/News/NewsSelectPersonContainer.vue?a0a0","webpack:///./resources/js/Components/Pages/News/NewsSelectPersonContainer.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n  <div class=\"flex flex-col py-4 px-6\">\n    <div class=\"font-semibold text-xs uppercase mb-2\">Select News Person as author</div>\n    <select v-model=\"selectedPersonId\" class=\"py-2\">\n      <option value=\"\" disabled>Select News Person</option>\n      <option v-for=\"person in options\" :key=\"person.id\" :value=\"person.id\">\n        {{ person.name }}\n      </option>\n    </select>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { useNewsStore } from '@/Stores/NewsStore'\n\nconst newsStore = useNewsStore()\n\nconst options = ref([])\n\n// Store only the id in the select element\nconst selectedPersonId = ref(newsStore.newsPerson?.id || [])\n\n// Computed property for the selected news person\nconst selectedNewsPerson = computed(() => {\n  return options.value.find(option => option.id === selectedPersonId.value) || null\n})\n\n// Watcher to update newsStore when the selection changes\nwatch(selectedPersonId, (newValue) => {\n  const selectedPerson = options.value.find(option => option.id === newValue)\n  if (selectedPerson) {\n    newsStore.setNewsPerson({\n      id: selectedPerson.id,\n      name: selectedPerson.name\n    })\n    newsStore.toggleNewsPersonSelector()\n  }\n})\n\nonMounted(async () => {\n  await newsStore.fetchNewsPersons()\n\n  // Map the newsPersons to the desired format\n  options.value = newsStore.newsPersons.map(person => ({\n    id: person.id,\n    name: person.name,\n    roles: person.roles,\n    profile_photo_path: person.profile_photo_path,\n    profile_photo_url: person.profile_photo_url\n  }))\n\n  if (newsStore.newsPerson) {\n    selectedPersonId.value = newsStore.newsPerson.id\n  }\n})\n\n\n// watch(selectedPersonId, onSelect)\n</script>\n\n<style scoped>\n/* Add any scoped styles here */\n</style>\n","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-10.use[1]!../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-10.use[2]!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./ChangeNewsPersonAsWriter.vue?vue&type=style&index=0&id=df12149a&scoped=true&lang=css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import script from \"./ChangeNewsPersonAsWriter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChangeNewsPersonAsWriter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChangeNewsPersonAsWriter.vue?vue&type=style&index=0&id=df12149a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df12149a\"]])\n\nexport default __exports__","import script from \"./NewsSelectPersonContainer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewsSelectPersonContainer.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div v-if=\"can.publish\" class=\"flex flex-col py-4 px-6 mb-6 bg-white shadow rounded-lg\">\n    <div v-if=\"!newsStore.showNewsPersonSelector\">\n      <div class=\"font-semibold text-xs uppercase mb-2 text-gray-700\">News Writer</div>\n      <p class=\"text-gray-900 font-semibold\">{{ newsStore?.newsPerson?.name }}</p>\n      <button @click.prevent=\"newsStore.toggleNewsPersonSelector\" class=\"btn btn-primary mt-2\">Change News Writer</button>\n    </div>\n    <div v-else>\n      <div class=\"font-semibold text-xs uppercase mb-2 text-gray-700\">News Writer</div>\n      <ChangeNewsPersonAsWriter @updateNewsPerson=\"newsStore.toggleNewsPersonSelector\"/>\n      <button @click.prevent=\"newsStore.toggleNewsPersonSelector\" class=\"btn btn-secondary mt-2\">Cancel</button>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { useNewsStore } from '@/Stores/NewsStore'\nimport ChangeNewsPersonAsWriter from '@/Components/Pages/News/ChangeNewsPersonAsWriter.vue'\n\nconst newsStore = useNewsStore()\n\nconst props = defineProps ({\n  can: Object\n})\n</script>"],"names":["___CSS_LOADER_EXPORT___","push","module","id","newsStore","useNewsStore","options","ref","selectedPersonId","_newsStore$newsPerson","newsPerson","computed","value","find","option","watch","newValue","selectedPerson","setNewsPerson","name","toggleNewsPersonSelector","onMounted","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetchNewsPersons","newsPersons","map","person","roles","profile_photo_path","profile_photo_url","stop","locals"],"sourceRoot":""}