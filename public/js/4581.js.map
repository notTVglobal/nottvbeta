{"version":3,"file":"js/4581.js","mappings":"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","sources":["webpack:///./resources/js/Utilities/PageSetup.js","webpack:///./resources/js/Components/Global/Modals/Messages.vue?dfe9","webpack:///./resources/js/Components/Global/Modals/Messages.vue","webpack:///./resources/js/Components/Global/Paginators/Pagination.vue?0305","webpack:///./resources/js/Components/Global/Paginators/Pagination.vue","webpack:///./resources/js/Components/Pages/Admin/AdminHeader.vue","webpack:///./resources/js/Components/Pages/Admin/AdminHeader.vue?239a","webpack:///./resources/js/Pages/Admin/InviteCodes.vue?0e93","webpack:///./resources/js/Pages/Admin/InviteCodes.vue"],"sourcesContent":["import { onBeforeMount, onMounted } from 'vue'\nimport { useUserStore } from \"@/Stores/UserStore\"\nimport { useAppSettingStore } from \"@/Stores/AppSettingStore\"\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore\"\nimport { Inertia } from \"@inertiajs/inertia\"\n\nexport function usePageSetup(pageName) {\n    const userStore = useUserStore()\n    const appSettingStore = useAppSettingStore()\n    const videoPlayerStore = useVideoPlayerStore()\n\n    appSettingStore.currentPage = pageName\n    appSettingStore.showFlashMessage = true\n    appSettingStore.pageIsHidden = false\n\n    if (userStore.isMobile) {\n        appSettingStore.ott = 0\n    }\n\n    videoPlayerStore.makeVideoTopRight()\n\n    onBeforeMount(() => {\n        // reload page\n        if (appSettingStore.pageReload) {\n            appSettingStore.pageReload = false\n            window.location.reload(true);\n        }\n    });\n\n    onMounted(() => {\n        // Check if the URL contains query strings\n        const hasQueryStrings = window.location.search !== '';\n\n        // Only scroll into view if there are no query strings\n        if (!hasQueryStrings) {\n            const topDiv = document.getElementById(\"topDiv\")\n            if (topDiv) {\n                topDiv.scrollIntoView()\n            }\n        }\n        // Only update if we're not already on this page to avoid overwriting with the current URL\n        appSettingStore.setPrevUrl()\n        appSettingStore.noLayout = false\n        appSettingStore.showOttButtons = true\n        // Inertia.reload()\n\n    });\n}\n","import script from \"./Messages.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Messages.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"mx-4 my-4\">\n    <div class=\"alert alert-info mt-4\"\n         v-if=\"props.flash.message\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"stroke-current shrink-0 w-6 h-6\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n      </svg>\n      <span>{{ props.flash.message }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n    <div class=\"alert alert-success mt-4 mx-3\"\n         v-if=\"props.flash.success\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n      </svg>\n      <span>{{ props.flash.success }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n    <div class=\"alert alert-warning mt-4 mx-3\"\n         v-if=\"props.flash.warning\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"/>\n      </svg>\n      <span>{{ props.flash.warning }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n    <div class=\"alert alert-error mt-4 mx-3\"\n         v-if=\"props.flash.error\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n      </svg>\n      <span>{{ props.flash.error }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport { Inertia } from \"@inertiajs/inertia\"\nimport { computed } from \"vue\"\nimport { useAppSettingStore } from \"@/Stores/AppSettingStore\"\n\nconst appSettingStore = useAppSettingStore()\n\nappSettingStore.showFlashMessage = true\n\nlet props = defineProps({\n  flash: Object,\n\n})\n\nconst messageType = computed(() => ({\n  'text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800': props.flash.success,\n  'text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800': props.flash.message,\n  'text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800': props.flash.warning,\n  'text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800': props.flash.error,\n}))\n\nconst clearFlashMessage = async () => {\n  await Inertia.post(route('flash.clear'));\n  Inertia.reload();\n};\n</script>\n","import script from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div v-if=\"data.last_page > 1\" class=\"flex flex-wrap justify-center my-4 space-x-4 space-y-2\">\n    <div></div>\n    <Component\n        :is=\"link.url ? 'Link' : 'span'\"\n        v-for=\"(link, key) in data.links\"\n        :key=\"key\"\n        :href=\"link.url\"\n        @click.prevent=\"saveScrollPosition\"\n        v-html=\"link.label\"\n        class=\"px-4 py-3 text-sm leading-4 h-fit\"\n        :class=\"{ 'text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400': link.active,\n                      'rounded mt-2 mr-0.5 text-gray-300 dark:text-gray-700': ! link.url,\n                      'rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow': link.url }\"\n    />\n  </div>\n</template>\n\n\n<script setup>\nimport { onMounted, onUpdated } from 'vue'\n\ndefineProps({\n  data: Object,\n})\nlet savedScrollPosition = 0\nconst saveScrollPosition = () => {\n  savedScrollPosition = window.scrollY\n}\nonMounted(() => {\n  window.scrollTo(0, savedScrollPosition)\n})\n</script>\n\n\n<!--class=\"px-1 text-gray-800 dark:text-gray-50 dark:hover:text-blue-400 hover:text-blue-400\"-->\n<!--:class=\"{ 'text-gray-300 dark:text-gray-700 dark:hover:text-gray-700 hover:text-gray-300': ! link.url, 'font-bold' : link.active }\"-->\n","<template>\n  <header>\n    <div class=\"flex justify-between my-3\">\n      <div class=\"mb-4\">\n        <h1 class=\"text-3xl font-semibold\">\n          <slot/>\n        </h1>\n      </div>\n      <div>\n        <div class=\"flex flex-wrap-reverse justify-end gap-2\">\n          <Link :href=\"`/admin/settings`\">\n            <button\n                class=\"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg\"\n            >Admin Settings\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  </header>\n\n</template>\n\n<script setup>\n\n</script>\n","import { render } from \"./AdminHeader.vue?vue&type=template&id=02887064\"\nconst script = {}\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./InviteCodes.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InviteCodes.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n  <Head :title=\"`Invite Codes`\"/>\n\n  <div class=\"place-self-center flex flex-col gap-y-3\">\n    <div id=\"topDiv\" class=\"bg-white dark:bg-gray-800 rounded text-black dark:text-gray-50 p-5\">\n\n      <Message v-if=\"appSettingStore.showFlashMessage\" :flash=\"$page.props.flash\"/>\n\n      <AdminHeader>Invite Codes</AdminHeader>\n\n      <div>\n        <form @submit.prevent=\"submit\">\n          <div class=\"mb-6\">\n            <label class=\"block mb-2 uppercase font-bold text-xs text-gray-700 dark:text-gray-300\"\n                   for=\"code\"\n            >\n              NEW CODE\n            </label>\n\n            <input v-model=\"form.code\"\n                   class=\"border border-gray-400 p-2 w-1/4 rounded-lg text-black\"\n                   type=\"text\"\n                   name=\"code\"\n                   id=\"code\"\n            >\n            <div v-if=\"form.errors.code\" v-text=\"form.errors.code\"\n                 class=\"text-xs text-red-600 mt-1\"></div>\n          </div>\n\n          <div class=\"flex justify-start my-6 mr-6\">\n            <button\n                @click.prevent=\"submit\"\n                class=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded disabled:bg-gray-400\"\n                :disabled=\"form.processing\"\n            >\n              Add Code\n            </button>\n\n            <button\n                @click.prevent=\"exportCodes\"\n                class=\"bg-blue-500 hover:bg-blue-600 text-white ml-2 px-4 py-2 h-fit rounded disabled:bg-gray-400\"\n            >\n              Export Codes\n            </button>\n\n\n            <!--                        <JetValidationErrors class=\"ml-4\" :key=\"props.messageKey\"/>-->\n          </div>\n\n          <div class=\"text-gray-600\"> The form is a bit buggy.. if you enter a code that is already claimed and then\n            enter a new code sometimes the error message disappears and sometimes it does not.\n          </div>\n\n        </form>\n\n\n        <div class=\"flex justify-between mt-4\">\n\n          <div class=\"flex flex-row justify-end gap-x-4 mb-6\">\n            <input v-model=\"search\" type=\"search\" placeholder=\"Search...\" class=\"text-black border px-2 rounded-lg\"/>\n          </div>\n        </div>\n\n        <table\n            class=\"w-full text-sm text-left text-gray-500 dark:text-gray-400\"\n        >\n          <thead\n              class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\"\n          >\n          <tr>\n            <th scope=\"col\" class=\"px-6 py-3 w-1/4\">\n              Code\n            </th>\n            <th scope=\"col\" class=\"px-6 py-3\">\n              Created by\n            </th>\n            <th scope=\"col\" class=\"px-6 py-3\">\n              Date created\n            </th>\n            <th scope=\"col\" class=\"px-6 py-3\">\n              Claimed by\n            </th>\n            <th scope=\"col\" class=\"px-6 py-3\">\n              Date claimed\n            </th>\n            <th scope=\"col\" class=\"px-6 py-3\">\n              Notes\n            </th>\n            <th scope=\"col\" class=\"px-6 py-3\">\n              <!--                            buttons for \"reset the code\", \"claim the code\"-->\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr\n              v-for=\"code in invite_codes.data\"\n              :key=\"code.id\"\n              class=\"w-1/4 bg-white border-b dark:bg-gray-800 dark:border-gray-700\"\n          >\n            <th\n                scope=\"row\"\n                class=\"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap\"\n            >\n              {{ code.code }}\n            </th>\n            <th\n                scope=\"row\"\n                class=\"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap\"\n            >\n              {{ code.created_by }}\n            </th>\n            <th\n                scope=\"row\"\n                class=\"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap\"\n            >\n              {{ code.created_at }}\n            </th>\n            <th\n                scope=\"row\"\n                class=\"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap\"\n            >\n              {{ code.claimed_by }}\n            </th>\n            <th\n                scope=\"row\"\n                class=\"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap\"\n            >\n              {{ code.claimed_at }}\n            </th>\n            <th\n                scope=\"row\"\n                class=\"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap\"\n            >\n              {{ code.notes }}\n            </th>\n            <td class=\"px-6 py-4 space-x-2\">\n              <Link :href=\"`#`\">\n                <button\n                    disabled\n                    class=\"px-4 py-2 mb-2 text-white bg-red-600 hover:bg-red-500 rounded-lg disabled:bg-gray-400\"\n                >Claim (if unclaimed)\n                </button>\n              </Link>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n\n        <!--                Paginator-->\n        <Pagination :data=\"invite_codes\" class=\"mb-6\"/>\n\n\n        <div>\n          TO DO's:\n        </div>\n        <div>\n          * Update \"Add Code\" with an Invite Code creation form... create batches of invite codes for admin use, or\n          assign them to creators.\n        </div>\n        <div>\n          * Assign a user_role to the Invite codes, so they will automatically create that user type. Requires a pivot\n          table invite_codes_roles\n        </div>\n        <div>\n          * Plus any notes about the code (this would be human readable to describe the promotional event which created\n          the codes\n        </div>\n        <div>\n          *\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { Inertia } from \"@inertiajs/inertia\";\nimport { onMounted, ref, watch } from \"vue\"\nimport { useForm } from \"@inertiajs/inertia-vue3\"\nimport throttle from \"lodash/throttle\"\nimport { usePageSetup } from '@/Utilities/PageSetup'\nimport { useAppSettingStore } from \"@/Stores/AppSettingStore\"\nimport AdminHeader from \"@/Components/Pages/Admin/AdminHeader\"\nimport Message from \"@/Components/Global/Modals/Messages\"\nimport Pagination from \"@/Components/Global/Paginators/Pagination\"\n\nusePageSetup('Admin/InviteCodes')\n\nconst appSettingStore = useAppSettingStore()\n\nlet props = defineProps({\n  invite_codes: Object,\n  filters: String,\n  messageKey: 1,\n})\n\nlet form = useForm({\n  code: '',\n})\n\nlet search = ref(props.filters.search);\n\nlet submit = () => {\n  form.post(route('admin.inviteCodes'));\n  form.code = '';\n};\n\nlet exportCodes = () => {\n  Inertia.visit('/admin/export_invite_codes');\n}\n\nonMounted(async () => {\n  props.message = '';\n});\n\nwatch(search, throttle(function (value) {\n  Inertia.get('/admin/invite_codes', {search: value}, {\n    preserveState: true,\n    replace: true\n  });\n}, 300));\n\n</script>\n"],"names":["usePageSetup","pageName","userStore","useUserStore","appSettingStore","useAppSettingStore","videoPlayerStore","useVideoPlayerStore","currentPage","showFlashMessage","pageIsHidden","isMobile","ott","makeVideoTopRight","onBeforeMount","pageReload","window","location","reload","onMounted","search","topDiv","document","getElementById","scrollIntoView","setPrevUrl","noLayout","showOttButtons","props","__props","clearFlashMessage","computed","flash","success","message","warning","error","_ref","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","Inertia","post","route","stop","apply","arguments","savedScrollPosition","saveScrollPosition","scrollY","scrollTo","class","_createElementVNode","script","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_renderSlot","_ctx","$slots","_hoisted_4","_createVNode","_component_Link","href","_withCtx","_hoisted_5","_","form","useForm","code","ref","filters","submit","exportCodes","visit","_asyncToGenerator","watch","throttle","value","get","preserveState","replace"],"sourceRoot":""}