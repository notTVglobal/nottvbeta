/*! For license information please see 5773.js.LICENSE.txt */
"use strict";(self.webpackChunknottvbeta=self.webpackChunknottvbeta||[]).push([[5773,4526,4339,1677,632],{34526:(e,t,n)=>{n.r(t),n.d(t,{useGoLiveStore:()=>d});var r=n(38839),o=n(7447),a=(n(58088),n(10632));n(75137);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new B(r||[]);return o(i,"_invoke",{value:L(e,n,s)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var S={};d(S,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,c)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,s,c){var l=p(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=h;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?v:m,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(C.prototype),d(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(f(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))}}var u=function(){return{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,selectedEpisodeId:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],otherShowDestinations:[],loadingOtherDestinations:!1,isLoadingDestinations:!1,loadingDestinationId:null,processingRecordingChange:!1,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null,mistStreamPushDestinationFormModalMode:null,destinationDetails:{}}},d=(0,r.nY)("goLiveStore",{state:u,actions:{reset:function(){Object.assign(this,{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,selectedEpisodeId:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],otherShowDestinations:[],loadingOtherDestinations:!1,isLoadingDestinations:!1,loadingDestinationId:null,processingRecordingChange:!1,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null,mistStreamPushDestinationFormModalMode:null,destinationDetails:{}})},fetchShows:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/go-live/shows");case 3:n=t.sent,e.shows=n.data,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},generateStreamKey:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedShowId){t.next=2;break}throw new Error("No show selected");case 2:return t.prev=2,t.next=5,axios.post("/go-live/shows/".concat(e.selectedShowId,"/stream-key"));case 5:return n=t.sent,e.selectedShowId&&n.data.stream_key&&(e.selectedShow.mist_stream_wildcard=n.data,e.selectedShow.mist_stream_wildcard_id=n.data.stream_key),t.abrupt("return",n.data);case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},updateAndGetStreamKey:function(){var e,t=this,n=this.shows.find((function(e){return e.id===t.selectedShowId}))||null,r=(null==n||null===(e=n.mist_stream_wildcard)||void 0===e?void 0:e.name)||" < RELOAD THIS PAGE TO GET YOUR STREAM KEY > ";return this.streamKey=r,r},setSelectedShowId:function(e){this.selectedShowId=e,this.updateSelectedShow()},updateSelectedShow:function(){var e=this;this.selectedShow=this.shows.find((function(t){return t.id===e.selectedShowId}))||null},goLive:function(){this.isLive=!0},stopLive:function(){this.isLive=!1},startRecording:function(){var e=this;return l(s().mark((function t(){var n,r,a,i,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),r=e.selectedShow.slug,e.processingRecordingChange=!0,t.prev=3,t.next=6,axios.post("/mist-stream/start-recording/"+r,{stream_name:e.streamKey});case 6:a=t.sent,i=a.data,c=i.message,l=i.status,n.setToastNotification(c,l),e.isRecording=!0,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),n.setToastNotification("Failed to start recording.","error");case 15:return t.prev=15,e.processingRecordingChange=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},stopRecording:function(){var e=this;return l(s().mark((function t(){var n,r,a,i,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),r=e.selectedShow.slug,e.processingRecordingChange=!0,t.prev=3,t.next=6,axios.post("/mist-stream/stop-recording/"+r,{stream_name:e.streamKey});case 6:a=t.sent,i=a.data,c=i.message,l=i.status,n.setToastNotification(c,l),e.isRecording=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),n.setToastNotification("Failed to stop push.","error");case 15:return t.prev=15,e.processingRecordingChange=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},fetchStreamInfo:function(){var e=this;return l(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,o.useNotificationStore)(),t.prev=1,e.mistServerUri){t.next=5;break}return t.next=5,e.fetchMistServerUri();case 5:return t.next=7,axios.post("/fetch-stream-info",{streamName:e.streamKey,mistServerUri:e.mistServerUri});case 7:r=t.sent,e.streamInfo=r.data.streamInfo||[],r.data.streamInfo.error?(r.data.streamInfo.error,"error"):r.data.message&&r.data.success?(r.data.message,"info"):"info",t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.setToastNotification("Failed to fetch stream info.","error");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},fetchRtmpUri:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/fetch-rtmp-uri");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("Failed to fetch");case 6:return t.next=8,n.text();case 8:e.rtmpUri=t.sent,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},clearStreamInfo:function(){this.streamInfo=null},toggleDisplayEpisodeGoLiveComponent:function(e){var t;this.displayEpisodeGoLiveComponent=!this.displayEpisodeGoLiveComponent,this.isEpisode=!!this.displayEpisodeGoLiveComponent,this.episode=e,this.selectedShowId=null==this||null===(t=this.episode)||void 0===t?void 0:t.show_id},updateEpisode:function(e){this.episode=e},fetchMistServerUri:function(){var e=this;return l(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,a.useVideoAuxPlayerStore)(),t.next=3,axios.get("/mist-server/uri");case 3:r=t.sent,e.mistServerUri=r.data,n.setMistServerUri(e.mistServerUri);case 6:case"end":return t.stop()}}),t)})))()},reloadPlayer:function(){var e=this;return l(s().mark((function t(){var n,r,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,a.useVideoAuxPlayerStore)(),r=(0,o.useNotificationStore)(),e.playerIsReloading=!0,t.prev=3,i={name:e.streamKey},t.next=7,n.loadMistStreamVideo(i,!0).then();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),r.setToastNotification("Failed to reload player.","error");case 12:return t.prev=12,e.playerIsReloading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,9,12,15]])})))()},fetchOtherShowDestinations:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Starting fetchOtherShowDestinations..."),console.log("Current selectedShowId:",e.selectedShowId),console.log("Current selectedEpisodeId:",e.selectedEpisodeId),e.loadingOtherDestinations=!0,t.prev=4,t.next=7,axios.get("/go-live/existing-destinations",{params:{showId:e.selectedShowId,episodeId:e.selectedEpisodeId}});case 7:n=t.sent,console.log("Response from fetchOtherShowDestinations:",n.data),e.otherShowDestinations=n.data.destinations,e.loadingOtherDestinations=!1,console.log("Finished fetchOtherShowDestinations successfully."),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(4),notificationStore.setToastNotification("Failed to fetch destinations.","error"),console.error("Error fetching other show destinations",t.t0),e.loadingOtherDestinations=!1;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})))()},copyDestinations:function(e){var t=this;return l(s().mark((function n(){var r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loadingOtherDestinations=!0,n.prev=1,r={destinationIds:e,showId:t.selectedShowId,episodeId:t.selectedEpisodeId,mistStreamWildcardId:t.wildcardId},console.log("Sending copy destinations request",r),n.next=6,axios.post("/go-live/copy-destinations",r);case 6:return a=n.sent,console.log("Received response",a.data),t.destinations=a.data.destinations||[],(0,o.useNotificationStore)().setToastNotification(a.data.message,a.data.status),t.loadingOtherDestinations=!1,n.abrupt("return",!0);case 15:return n.prev=15,n.t0=n.catch(1),console.error("Error copying destinations",n.t0),(0,o.useNotificationStore)().setToastNotification("Failed to copy destinations.","error"),t.loadingOtherDestinations=!1,n.abrupt("return",!1);case 22:case"end":return n.stop()}}),n,null,[[1,15]])})))()},fetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var n,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),e.isLoadingDestinations=!0,t.prev=2,t.next=5,axios.post("/go-live/fetch-push-destinations",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!1});case 5:r=t.sent,e.destinations=r.data.destinations||[],e.isRecording=r.data.recording||!1,console.log("response about recording: "+r.data.recording),a=r.data,a.message,a.status,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.setToastNotification("Failed to fetch push destinations.","error");case 15:return t.prev=15,e.isLoadingDestinations=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})))()},backgroundFetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoadingDestinations=!0,t.prev=1,t.next=4,axios.post("/go-live/fetch-push-destinations/",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!0});case 4:n=t.sent,e.destinations=n.data.destinations||[],e.isRecording=n.data.recording||!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),notificationStore.setToastNotification("Failed to fetch push destinations.","error");case 12:return t.prev=12,e.isLoadingDestinations=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},deleteDestination:function(e){var t=this;return l(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm("Are you sure you want to delete the destination with ID: ".concat(e,"?"))){n.next=10;break}return n.prev=1,n.next=4,axios.delete("/mist-stream-push-destinations/"+e);case 4:t.destinations=t.destinations.filter((function(t){return t.id!==e})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),notificationStore.setGeneralServiceNotification("Error deleting destination",n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},startPush:function(e,t){var n=this;return l(s().mark((function r(){var a,i,c,l,u,d;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=(0,o.useNotificationStore)(),n.loadingDestinationId=e,r.prev=2,r.next=5,axios.post("/mist-stream/start-push",{destination_id:e,full_push_uri:t,stream_name:n.streamKey});case 5:i=r.sent,c=i.data,l=c.message,u=c.status,a.setToastNotification(l,u),-1!==(d=n.destinations.findIndex((function(t){return t.id===e})))&&(n.destinations[d].push_is_started=1),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),a.setToastNotification("Failed to start push.","error");case 15:return r.prev=15,n.loadingDestinationId=null,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})))()},stopPush:function(e){var t=this;return l(s().mark((function n(){var r,a,i,c,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.useNotificationStore)(),t.loadingDestinationId=e,n.prev=2,n.next=5,axios.post("/mist-stream/stop-push",{destination_id:e});case 5:a=n.sent,i=a.data,c=i.message,l=i.status,r.setToastNotification(c,l),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r.setToastNotification("Failed to stop push.","error");case 13:return n.prev=13,t.loadingDestinationId=null,-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].push_is_started=0),n.finish(13);case 18:case"end":return n.stop()}}),n,null,[[2,10,13,18]])})))()},enableAutoPush:function(e){var t=this;return l(s().mark((function n(){var r,a,i,c,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loadingDestinationId=e,r=(0,o.useNotificationStore)(),n.prev=2,n.next=5,axios.post("/mist-stream/push-auto-add/"+e);case 5:a=n.sent,i=a.data,c=i.message,l=i.status,r.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),r.setToastNotification("Failed to enable auto push.","error");case 15:return n.prev=15,t.loadingDestinationId=null,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))()},disableAutoPush:function(e){var t=this;return l(s().mark((function n(){var r,a,i,c,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.useNotificationStore)(),t.loadingDestinationId=e,n.prev=2,n.next=5,axios.post("/mist-stream/push-auto-remove/"+e);case 5:a=n.sent,i=a.data,c=i.message,l=i.status,r.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=0),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),r.setToastNotification("Failed to disable auto push.","error");case 15:return n.prev=15,t.loadingDestinationId=null,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))()},disableAllAutoPushes:function(){var e=this;return l(s().mark((function t(){var n,r,a,i,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.useNotificationStore)(),e.isProcessingDisableAllAutoPushes=!0,t.prev=2,t.next=5,axios.post("/mist-stream/remove-all-auto-pushes-for-stream",{streamName:e.streamKey});case 5:return r=t.sent,a=r.data,i=a.message,c=a.status,n.setToastNotification(i,c),t.next=10,e.fetchPushDestinations();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.setToastNotification("Failed to disable auto push.","error");case 15:return t.prev=15,e.isProcessingDisableAllAutoPushes=!1,t.next=19,e.fetchPushDestinations();case 19:return t.finish(15);case 20:case"end":return t.stop()}}),t,null,[[2,12,15,20]])})))()}},getters:{selectedShow:function(e){var t,n,r,o=e.shows.find((function(t){return t.id===e.selectedShowId}))||null;return e.streamKey=(null==o||null===(t=o.mist_stream_wildcard)||void 0===t?void 0:t.name)||"Fallback value if undefined",e.wildcardId=(null==o||null===(n=o.mist_stream_wildcard)||void 0===n?void 0:n.id)||"Fallback value if undefined",e.isRecording=(null==o||null===(r=o.mist_stream_wildcard)||void 0===r?void 0:r.is_recording)||!1,o},fullRtmpUri:function(e){return e.rtmpUri?e.rtmpUri+"live/":""},fullUrl:function(e){var t=e.rtmpUri?e.rtmpUri+"live/":"";return"".concat(t).concat(e.streamKey)},activeDestinations:function(e){return e.destinations.filter((function(e){return e.push_is_started}))},sourceName:function(e){var t,n;return null!==(t=e.selectedShow)&&void 0!==t&&null!==(t=t.mist_stream_wildcard)&&void 0!==t&&t.name?e.selectedShow.mist_stream_wildcard.name:null!==(n=e.episode)&&void 0!==n&&null!==(n=n.mist_stream_wildcard)&&void 0!==n&&n.name?e.episode.mist_stream_wildcard.name:null},streamOffline:function(e){var t,n;return"Stream is offline"===(null!==(t=null===(n=e.streamInfo)||void 0===n?void 0:n.error)&&void 0!==t?t:"")}}})},64339:(e,t,n)=>{n.r(t),n.d(t,{useRecordingStore:()=>N});var r=n(38839),o=n(94335),a=n(74353),i=n.n(a),s=n(83826),c=n.n(s),l=n(88569),u=n.n(l),d=n(20715),f=n(58088),p=n(20973),h=n(33788),m=n(67405),g=n(7447);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){x=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new B(r||[]);return o(i,"_invoke",{value:L(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function y(){}function b(){}function w(){}var S={};l(S,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,i)&&(S=k);var N=w.prototype=y.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==v(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=w,o(N,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),l(N,c,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function S(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){S(a,r,o,i,s,"next",e)}function s(e){S(a,r,o,i,s,"throw",e)}i(void 0)}))}}i().extend(c()),i().extend(u());var k=function(){return{recordings:[],pagination:{currentPage:1,lastPage:1,total:0},selectedRecording:null,nowPlayingRecording:null,nowPlayingRecordingId:null,isLoading:!1,showCopyMessage:!1,copyMessage:""}},N=(0,r.nY)("recordingStore",{state:k,actions:{fetchRecordings:function(){var e=arguments,t=this;return E(x().mark((function n(){var r,a,i,s,c;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:1,t.isLoading=!0,i=(0,m.useShowStore)(),s=null===(r=i.show)||void 0===r?void 0:r.id){n.next=8;break}return console.error("No show ID available"),t.isLoading=!1,n.abrupt("return");case 8:return n.prev=8,n.next=11,o.A.get("/api/recordings",{params:{show_id:s,page:a}});case 11:c=n.sent,t.recordings=c.data.data,t.pagination={currentPage:c.data.current_page,lastPage:c.data.last_page,total:c.data.total},n.next=19;break;case 16:n.prev=16,n.t0=n.catch(8),console.error("Failed to fetch recordings:",n.t0);case 19:return n.prev=19,t.isLoading=!1,n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[8,16,19,22]])})))()},updateRecording:function(e){var t=this;return E(x().mark((function n(){var r,a,i,s,c,l;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,m.useShowStore)(),a=(0,g.useNotificationStore)(),t.isLoading=!0,n.prev=3,console.log("Updating recording with meta:",e),n.next=7,o.A.patch("/api/recordings/".concat(t.selectedRecording.id),{meta:e,show_id:r.show.id});case 7:s=n.sent,c=s.data.recording,a.setToastNotification("Recording updated successfully.","success"),-1!==(l=t.recordings.findIndex((function(e){return e.id===c.id})))&&(t.recordings[l]=c),(null===(i=t.selectedRecording)||void 0===i?void 0:i.id)===c.id&&(t.selectedRecording=c),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(3),console.error("Failed to update recording:",n.t0),a.setToastNotification(n.t0.message,"error");case 19:return n.prev=19,t.isLoading=!1,n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[3,15,19,22]])})))()},reset:function(){Object.assign(this,{recordings:[],pagination:{currentPage:1,lastPage:1,total:0},selectedRecording:null,nowPlayingRecording:null,nowPlayingRecordingId:null,isLoading:!1,showCopyMessage:!1,copyMessage:""})},formatDateInUserTimezone:function(e){return(0,d.useUserStore)().formatDateInUserTimezone(e)},formatTimeFromDateInUserTimezone:function(e){return(0,d.useUserStore)().formatTimeFromDateInUserTimezone(e)},formatDuration:function(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60);t%=60,n%=60;var o=r.toString().padStart(2,"0"),a=n.toString().padStart(2,"0"),i=t.toString().padStart(2,"0");return"".concat(o,"h ").concat(a,"m ").concat(i,"s")},setSelectedRecording:function(e){this.selectedRecording=e},clearSelectedRecording:function(){this.selectedRecording=null},openVideo:function(){var e=this;return E(x().mark((function t(){var n,r,o,a,i,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,f.useVideoPlayerStore)(),r=(0,p.useAppSettingStore)(),o=(0,h.useNowPlayingStore)(),a=(0,m.useShowStore)(),i=a.show,s={mediaType:"recording",recording:{source:e.selectedRecording.playback_stream_name,sourceType:"video/mp4"}},t.prev=6,t.next=9,n.loadNewVideo(s);case 9:e.nowPlayingRecordingId=e.selectedRecording.id,r.toggleOttInfo(),o.setActiveMedia(s.mediaType,{primaryName:i.name,secondaryName:"".concat(e.formatDateInUserTimezone(e.selectedRecording.start_time)," ").concat(e.formatTimeFromDateInUserTimezone(e.selectedRecording.start_time)," Recording"),description:e.selectedRecording.comment||null,primaryUrl:"shows/".concat(i.slug),image:i.image}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),console.error("Error loading new video:",t.t0);case 17:case"end":return t.stop()}}),t,null,[[6,14]])})))()},downloadRecording:function(){if(this.selectedRecording){var e=this.selectedRecording.download_url,t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}},getters:{formattedRecordings:function(e){var t=(0,d.useUserStore)();return e.recordings.map((function(e){return b(b({},e),{},{start_date_local:i().utc(e.start_dateTime).tz(t.timezone).format("ddd DD MMM"),start_time_local:i().utc(e.start_dateTime).tz(t.timezone).format("h:mm a"),end_time_local:i().utc(e.end_dateTime).tz(t.timezone).format("h:mm a")})}))}}})},61677:(e,t,n)=>{n.r(t),n.d(t,{useTeamStore:()=>N});var r=n(38839),o=n(74353),a=n.n(o),i=n(48018),s=n.n(i),c=n(88569),l=n.n(c),u=n(20715),d=n(7447);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n){var r=a()().tz(n);return e.filter((function(e){var o,i=a()(e.broadcastDate).add(e.broadcastDetails.duration_minutes,"minute").utc().tz(n),s=r.isBefore(i),c=!(t&&t.broadcastDate===e.broadcastDate&&a()(t.broadcastDate).add((null===(o=t.broadcastDetails)||void 0===o?void 0:o.duration_minutes)||0,"minute").utc().tz(n).isSame(i));return s&&c})).sort((function(e,t){return a()(e.broadcastDate).tz(n).diff(a()(t.broadcastDate).tz(n))})).map((function(e){return h(h({},e),{},{localDate:a()(e.broadcastDate).tz(n).format()})}))}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){x=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new B(r||[]);return o(i,"_invoke",{value:L(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function y(){}function b(){}function w(){}var S={};l(S,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,i)&&(S=k);var N=w.prototype=y.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==v(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=w,o(N,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),l(N,c,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function S(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){S(a,r,o,i,s,"next",e)}function s(e){S(a,r,o,i,s,"throw",e)}i(void 0)}))}}a().extend(s()),a().extend(l()),a().extend(s()),a().extend(l());var k=function(){return{team:{},shows:{},contributors:{},members:{},managers:[],teamOwner:[],teamLeader:[],can:{},id:0,name:"",description:"",slug:"",totalSpots:"",memberSpots:"",activeShow:[],activeEpisode:[],showModal:Boolean,confirmDialog:!1,confirmManagerDialog:!1,selectedManagerName:"",selectedManagerId:0,addManager:!1,removeManager:!1,deleteMemberName:"",deleteMemberId:0,noteEdit:0,note:"",noteKey:0,saveNoteProcessing:Boolean,goLiveDisplay:!1,openComponent:"teamShows",nextBroadcastLoaded:{scheduleIndexId:null,broadcastDate:null,broadcastDetails:{},type:"",image:null,category:null,subCategory:null,slug:null,name:null,description:null},nextBroadcastZoomLink:""}},N=(0,r.nY)("teamStore",{state:k,actions:{reset:function(){Object.assign(this,k())},initializeTeam:function(e){console.log("incoming team: ",e),this.team=e||{}},initializeShows:function(e){this.shows=e||{}},initializeContributors:function(e){this.contributors=e||{}},setCan:function(e){this.can=e||{}},setActiveTeam:function(e){this.team.id=e.id,this.team.name=e.name,this.team.description=e.description,this.team.slug=e.slug,this.team.members=e.members,this.team.managers=e.managers,this.team.totalSpots=e.totalSpots},setActiveShow:function(e){this.activeShow=e},setActiveEpisode:function(e){this.activeShow=e},addMember:function(e){this.members.push(e),this.team.memberCount++},removeMember:function(e){this.team.members.data=this.team.members.data.filter((function(t){return t.id!==e})),this.team.memberCount--},updateCreatorTeams:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.creators.find((function(t){return t.id===e}));r&&(n?r.teams=r.teams.filter((function(e){return e.id!==t})):r.teams.push({id:t,is_manager:!1}))},deleteTeamMemberCancel:function(){this.confirmDialog=!1},confirmTeamManagerCancel:function(){this.confirmManagerDialog=!1},deleteTeamMember:function(){var e=this;return E(x().mark((function t(){var n,r,o;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,d.useNotificationStore)(),r={user_id:e.deleteMemberId,team_id:e.team.id},t.prev=2,t.next=5,axios.post(route("teams.removeTeamMember"),r);case 5:200===(o=t.sent).status?(e.removeMember(e.deleteMemberId),e.updateCreatorTeams(e.deleteMemberId,e.team.id,!0),e.confirmDialog=!1,n.setToastNotification(o.data.message,"success")):(e.confirmDialog=!1,n.setToastNotification("Failed to remove member from the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmDialog=!1,n.setToastNotification("An error occurred while removing the member from the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},addTeamManager:function(){var e=this;return E(x().mark((function t(){var n,r,o;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,d.useNotificationStore)(),r={user_id:e.selectedManagerId,team_id:e.team.id,team_slug:e.team.slug},t.prev=2,t.next=5,axios.post(route("teams.addTeamManager"),r);case 5:200===(o=t.sent).status?(e.team.managers.push(o.data.manager),e.confirmManagerDialog=!1,n.setToastNotification(o.data.message,"success")):(e.confirmManagerDialog=!1,n.setToastNotification("Failed to add manager to the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmManagerDialog=!1,n.setToastNotification("An error occurred while adding the manager to the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},removeTeamManager:function(){var e=this;return E(x().mark((function t(){var n,r,o;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,d.useNotificationStore)(),r={user_id:e.selectedManagerId,team_id:e.team.id,team_slug:e.team.slug},t.prev=2,t.next=5,axios.post(route("teams.removeTeamManager"),r);case 5:200===(o=t.sent).status?(e.team.managers=e.team.managers.filter((function(t){return t.id!==e.selectedManagerId})),e.confirmManagerDialog=!1,n.setToastNotification(o.data.message,"success")):(e.confirmManagerDialog=!1,n.setToastNotification("Failed to remove manager from the team.","warning")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.confirmManagerDialog=!1,n.setToastNotification("An error occurred while removing the manager from the team.","error");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},toggleGoLiveDisplay:function(){this.goLiveDisplay=!this.goLiveDisplay},fetchTeamMembers:function(){return E(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/team/team-members").then().error();case 2:case"end":return e.stop()}}),e)})))()},setCreators:function(e){this.creators=e},updatePublicMessage:function(e){this.team.public_message=e}},getters:{spotsRemaining:function(e){return e.team.memberCount?e.team.memberCount?(this.totalSpots=e.team.totalSpots,Math.max(e.team.totalSpots-e.team.memberCount,0)):void 0:e.team.totalSpots},membersCount:function(e){return e.team.memberCount?e.team.memberCount?(e.memberSpots=e.team.memberCount,e.team.memberCount):void 0:0},membersCountDisplay:function(e){if(e.team.memberCount)return e.team.memberCount>99?"99+":e.team.memberCount},setManagers:function(e){return e.managers=e.team.managers,e.managers},setMembers:function(e){return e.members=e.team.members.data,e.members},nextBroadcast:function(e){var t=this.sortedBroadcasts;return t.length>0?t[0]:null},nextBroadcastIsOver:function(e){var t,n=(0,u.useUserStore)(),r=a()().tz(n.timezone),o=this.nextBroadcast;if(!o||!o.broadcastDate||null===(t=o.broadcastDetails)||void 0===t||!t.duration_minutes)return!1;var i=a()(o.broadcastDate).add(o.broadcastDetails.duration_minutes,"minute").tz(n.timezone);return r.isAfter(i)},setTeamNextBroadcast:function(e,t){var n=(0,u.useUserStore)();e.team.nextBroadcast=t.map((function(e){return b(b({},e),{},{broadcastDate:n.convertUtcToUserTimezone(e.broadcastDate)})}))},sortedBroadcasts:function(e){if(!e.team.nextBroadcast||0===e.team.nextBroadcast.length)return[];var t=(0,u.useUserStore)(),n=g(e.team.nextBroadcast,e.nextBroadcastLoaded,t.timezone);if(n.length>0){var r=n[0];e.nextBroadcastLoaded=r,r.broadcastDetails&&r.broadcastDetails.zoomLink?e.nextBroadcastZoomLink=r.broadcastDetails.zoomLink:e.nextBroadcastZoomLink=null}else e.nextBroadcastLoaded=null,e.nextBroadcastZoomLink=null;return n},futureBroadcasts:function(e){if(!e.team.nextBroadcast||0===e.team.nextBroadcast.length)return[];var t=(0,u.useUserStore)();return g(e.team.nextBroadcast,e.nextBroadcastLoaded,t.timezone).slice(1)}}})},10632:(e,t,n)=>{n.r(t),n.d(t,{useVideoAuxPlayerStore:()=>y});var r=n(38839),o=n(20973),a=n(65226),i=n(20715),s=n(44411),c=n(67405),l=n(55208),u=n(75137),d=(n(92995),n(29726)),f=n(7447);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(){h=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new B(r||[]);return o(i,"_invoke",{value:L(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var S={};l(S,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,i)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==p(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?v:m,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),l(N,c,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function m(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,s,"next",e)}function s(e){m(a,r,o,i,s,"throw",e)}i(void 0)}))}}var v=function(){return{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1}},y=(0,r.nY)("videoAuxPlayerStore",{state:v,actions:{reset:function(){Object.assign(this,{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1})},getMistServerUri:function(){var e=this;return g(h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/mist-server/uri");case 3:n=t.sent,e.mistServerUri=n.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setPlayer:function(e){var t=this;this.player=e,this.initializePlayer().then((function(){t.attachEventListeners()})).catch((function(e){console.error("Error during video player initialization:",e)}))},initializePlayer:function(){var e=this;return g(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player){t.next=3;break}return console.error("Video.js player is not initialized."),t.abrupt("return");case 3:return t.next=5,(0,d.nextTick)();case 5:return t.next=7,(0,l.useAudioStore)().ensureAudioContextAndNodesReady(e.player);case 7:e.player.controls(!1),e.player.muted(e.muted),e.player.ready((function(){e.player.play().then((function(){console.log("Playback started successfully")})).catch((function(e){console.error("Error trying to play the video:",e)}))}));case 10:case"end":return t.stop()}}),t)})))()},attachEventListeners:function(){this.player&&!this.eventListenersAttached?(this.player.on("timeupdate",this.handleTimeUpdate),this.player.on("fullscreenchange",this.handleFullscreenChange),this.player.on("play",this.handlePlay),this.player.on("pause",this.handlePause),this.player.on("error",this.handleError),this.eventListenersAttached=!0,console.log("Event listeners attached.")):console.log("Event listeners are already attached or video player is not initialized.")},detachEventListeners:function(){this.player&&this.eventListenersAttached?((0,l.useAudioStore)().stopAudioLevelMonitoring(),this.player.off("timeupdate",this.handleTimeUpdate),this.player.off("fullscreenchange",this.handleFullscreenChange),this.player.off("play",this.handlePlay),this.player.off("pause",this.handlePause),this.player.off("error",this.handleError),this.eventListenersAttached=!1,console.log("Event listeners detached.")):console.log("Event listeners are already detached or video player is not initialized.")},disposePlayer:function(){this.player?(this.detachEventListeners(),this.player.dispose(),this.player=null,console.log("Video player disposed and cleaned up.")):console.error("Video player is not initialized.")},prepareForNewVideoSource:function(e){console.log("Preparing for new video source"),this.loadNewVideo(e)},resetPlayback:function(){this.player&&(this.player.pause(),this.player.muted(!0),this.player.currentTime(0),this.detachEventListeners())},handleTimeUpdate:function(){this.currentTime=this.player.currentTime(),this.duration=this.player.duration();this.currentTime,this.duration;this.formattedTime="".concat(this.formatDuration(this.currentTime)," / ").concat(this.formatDuration(this.duration))},formatDuration:function(e){return[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%60)].map((function(e){return e.toString().padStart(2,"0")})).join(":")},handleFullscreenChange:function(){var e,t=this;console.log("Handling fullscreenchange..."),null===(e=this.player)||void 0===e||e.on("fullscreenchange",(function(){t.player.isFullscreen()||!1===t.player.paused()&&t.player.play()}))},handlePlay:function(){var e,t=this;console.log("Handling play..."),null===(e=this.player)||void 0===e||e.on("play",(function(){t.paused=!1}))},handlePause:function(){var e,t=this;console.log("Handling pause..."),null===(e=this.player)||void 0===e||e.on("pause",(function(){t.paused=!0}))},handleError:function(){var e;console.log("Handling error..."),null===(e=this.player)||void 0===e||e.on("error",(function(){var e=this.player.error();console.error("Video.js Error:",e.code,e.message)}))},makeBlue:function(){this.blue=!0},toggleMute:function(){this.muted?this.unMute():this.mute()},mute:function(){this.player&&(this.player.muted(!0),this.muted=!0)},unMute:function(){this.player&&(this.player.muted(!1),this.muted=!1)},togglePlay:function(){var e=(0,u.A)("aux-player");this.paused?e.play():e.pause()},load:function(){(0,u.A)("aux-player").load()},loadNewLiveSource:function(e,t){var n=(0,u.A)("aux-player"),r=this.mistServerUri+"/hls/"+e+"/index.m3u8";n.src({src:r,type:t}),n.play()},pause:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.pause(),this.paused=!0},play:function(){var e=(0,u.A)("aux-player");e.play(),e.controls(!1),this.paused=!1},next:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.src(this.nextSource)},back:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.src(this.previousSource)},fullscreen:function(){var e=(0,u.A)("aux-player");e.controls(!1),e.requestFullscreen()},getVideoCurrentTime:function(){var e=(0,u.A)("aux-player");e.controls(!1),this.videoCurrentTime=e.currentTime},getSourceDetails:function(e){var t,n;(console.log("getSourceDetails called with source:",e),n=e.type||"video/mp4",console.log("Determined Video Source Type: ".concat(n)),"externalVideo"===e.mediaType)?(t=e.video_url,console.log("Using external video source:",t)):(console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),t="".concat(e.cdn_endpoint).concat(e.cloud_folder).concat(e.folder,"/")+e.file_name,console.log("Constructed internal video source:",t));return console.log("Final Constructed Video Source: ".concat(t,", Type: ").concat(n)),{videoSrc:t,videoSourceType:n}},loadNewVideo:function(e){var t=this;try{var n=(0,u.A)("aux-player");console.log("LOAD NEW VIDEO");var r=(0,l.useAudioStore)(),o=this.getSourceDetails(e),a=o.videoSrc,i=o.videoSourceType;n&&(n.src({src:a,type:i}),n.ready((function(){r.deferAudioSetup=!1,r.ensureAudioContextAndNodesReady(n).then((function(){n.play().catch((function(e){(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Playback initiation error: "+e),console.error("Playback initiation error: ",e)})),n.muted(!1),t.muted=!1}))})))}catch(e){(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Error loading new video: "+e),console.error("Error loading new video: ",e)}},playNewVideo:function(){var e=this;console.log("PLAY NEW VIDEO"),this.player&&this.player.ready((function(){e.player.play(),e.player.muted(!1),e.muted=!1}))},loadNewSourceFromYouTube:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player");this.videoSource=e,this.videoSourceType="video/youtube",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewLiveSourceFromRumble:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player");this.videoSource=e,this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewSourceFromUrl:function(e){try{this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player");if(!e.video_url||!e.type)throw(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Invalid video source."),new Error("Invalid video source.");this.videoSource=e.video_url,this.videoSourceType=e.type,t.src({src:e.video_url,type:e.type}),this.unMute(),this.paused=!1}catch(e){throw(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Failed to load new source: "+e),console.error("Failed to load new source:",e),e}},loadNewSourceFromMist:function(e){this.videoIsYoutube=!1;var t=(0,u.A)("aux-player");this.videoSource="https://mist.not.tv/hls/"+e+"/index.m3u8",this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadNewSourceFromFile:function(e){this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.A)("aux-player"),n=e.cdn_endpoint+e.cloud_folder+e.folder+"/";this.videoSource=e.file_name,this.videoSourceType=e.type,t.src({src:n+this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadExternalSourceVideo:function(){},loadPlaylistVideos:function(){},loadMistStreamVideo:function(e,t){var n=this;return g(h().mark((function r(){var o,a;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=!0,t&&(o=!1),n.mistServerUri){r.next=7;break}return console.log("Mist Server URI not set, fetching..."),r.next=7,n.getMistServerUri();case 7:n.mistServerUri?(a=n.mistServerUri,n.videoSource=a+"hls/"+e.name+"/index.m3u8",n.videoSourceType="application/vnd.apple.mpegURL",(0,u.A)("aux-player").src({src:n.videoSource,type:n.videoSourceType}),o&&n.unMute(),n.paused=!1):console.error("Mist Server URI is still not set after fetching.");case 8:case"end":return r.stop()}}),r)})))()},loadVideoFromFile:function(e){var t=this;return g(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("Video Source Type:",e.type),console.log("Video URL:",e.video_url),console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),r=e.cdn_endpoint+e.cloud_folder+e.folder+"/"+e.file_name,(0,u.A)("aux-player").src({src:r,type:e.type}),t.unMute(),t.paused=!1;case 11:case"end":return n.stop()}}),n)})))()},setNowPlayingInfoVideoFile:function(e){this.nowPlayingType="Video File",this.nowPlayingName=e.file_name,(0,a.useStreamStore)().currentChannel="On Demand"},setNowPlayingInfoShow:function(e,t){this.clearNowPlayingInfo();var n=(0,c.useShowStore)();e.firstPlayVideo?(n.setName(e.firstPlayVideo.name),n.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(source.firstPlayVideo.slug))):t?(n.setName(e.name),n.setUrl("/shows/".concat(e.slug)),n.setEpisodeName(t.name),n.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(t.slug))):(n.setName(e.name),n.setUrl("/shows/".concat(e.slug)))},makeVideoPiP:function(){},makeVideoFullPage:function(){var e=(0,o.useAppSettingStore)(),t=(0,i.useUserStore)();e.fullPage=!0,e.hidePage=!0,e.ott=0,this.videoContainerClass="fullPageVideoContainer",this.class="fullPageVideoClass",this.controls=!t.isMobile},makeVideoTopRight:function(){var e=(0,o.useAppSettingStore)();e.fullPage=!1,e.hidePage=!1,e.currentPageIsStream=!1,this.videoContainerClass="topRightVideoContainer",this.class="topRightVideoClass",this.controls=!1},makeVideoWelcomePage:function(){var e=(0,o.useAppSettingStore)();this.videoContainerClass="welcomeVideoContainer",this.class="welcomeVideoClass",e.loggedIn=!1,e.fullPage=!0,e.hidePage=!1},setMistServerUri:function(e){this.mistServerUri=e}},getters:{}})},2435:(e,t,n)=>{n.d(t,{c:()=>c});var r=n(29726),o=n(20715),a=n(20973),i=n(58088),s=n(92995);function c(e){var t=(0,o.useUserStore)(),n=(0,a.useAppSettingStore)(),c=(0,i.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(0===n.ott&&(n.ott=4),n.showOttButtons=!0),c.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,n.pageWasReloaded=!0,window.location.reload()),s.QB.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:0===n.ott&&(n.ott=4),""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1,(0,r.watch)((function(){return n.isSmallScreen}),(function(e){n.ott=e?0:4}),{immediate:!0})}},88254:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),a=n(76314),i=n.n(a)()(o());i.push([e.id,"@keyframes fadeSlideUp-94b628f0{0%{opacity:0;transform:translateY(20px)}10%{opacity:1;transform:translateY(0)}90%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-20px)}}.copied-animation[data-v-94b628f0]{animation:fadeSlideUp-94b628f0 3s ease-in-out forwards;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 4px #0003;padding:4px 8px;position:absolute;transform:translateX(-50%);white-space:nowrap;z-index:10}","",{version:3,sources:["webpack://./resources/js/Components/Global/Text/CopyClipboard.vue"],names:[],mappings:"AAgFA,gCACE,GACE,SAAU,CACV,0BACF,CACA,IACE,SAAU,CACV,uBACF,CACA,IACE,SAAU,CACV,uBACF,CACA,GACE,SAAU,CACV,2BACF,CACF,CAEA,mCACE,sDAA8C,CAG9C,eAAkC,CAClC,qBAAsB,CAGtB,iBAAkB,CAFlB,0BAA0C,CAC1C,eAAgB,CALhB,iBAAkB,CAOlB,0BAA2B,CAC3B,kBAAmB,CAPnB,UAQF",sourcesContent:["<template>\n  <div class=\"relative\">\n    <template v-if=\"mode === 'icon'\">\n      <button class=\"\" @click=\"copyToClipboard(text, id, 'text')\">\n        <font-awesome-icon icon=\"fa-clipboard\" :class=\"buttonColor\" class=\"ml-2 hover:cursor-pointer\"/>\n      </button>\n    </template>\n    <template v-else>\n      <button :class=\"[buttonColor, buttonClass]\" @click=\"copyToClipboard(text, id, 'text')\">\n        {{ buttonText }}\n      </button>\n    </template>\n    <transition name=\"fade-slide-up\">\n      <div v-if=\"lastCopied.id === id && lastCopied.type === 'text'\"\n           class=\"copied-animation text-green-500 absolute\"\n           :class=\"labelPosition\">\n        Copied to clipboard!\n      </div>\n    </transition>\n  </div>\n</template>\n<script setup>\nimport { useClipboard } from '@vueuse/core'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport { computed, ref } from 'vue'\n\nconst props = defineProps({\n  text: String,\n  id: {\n    type: Number,\n    default: 1\n  },\n  mode: {\n    type: String,\n    default: 'icon'\n  },\n  labelPosition: {\n    // Top: Adjust this value to position it closer or further\n    // Left: Center horizontally relative to the button\n    type: String,\n    default: '-top-10 left-0'\n  },\n  buttonText: {\n    type: String,\n    default: 'Copy'\n  },\n  buttonClass: {\n    type: String,\n    default: 'px-3 py-2 mb-2 mr-4 text-xs rounded-lg'\n  },\n  buttonColor: {\n    type: String,\n    default: 'blue'\n  }\n})\n\n// Dynamically set source for the clipboard\nconst sourceToCopy = ref('')\nconst {copy, copied} = useClipboard()\nconst lastCopied = ref({id: null, type: null})\n\nfunction copyToClipboard(text, id, type) {\n  sourceToCopy.value = text\n  copy(text)\n  lastCopied.value = {id, type}\n\n  setTimeout(() => {\n    lastCopied.value = {id: null, type: null} // Reset after the animation\n  }, 3000) // Ensure this matches your animation duration\n}\n\n// Computed property to generate the class names dynamically\nconst buttonColor = computed(() => {\n  const baseClass = `text-${props.buttonColor}-500`;\n  const hoverClass = `hover:text-${props.buttonColor}-700`;\n  return `${baseClass} ${hoverClass}`;\n});\n\n<\/script>\n<style scoped>\n@keyframes fadeSlideUp {\n  0% {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  10% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  90% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n}\n\n.copied-animation {\n  animation: fadeSlideUp 3s ease-in-out forwards;\n  position: absolute;\n  z-index: 10; /* Ensure it's above other content */\n  background: rgba(255, 255, 255, 1); /* Semi-transparent white background */\n  border: 1px solid #ccc; /* Optional: adds a subtle border */\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2); /* Optional: adds a slight shadow for depth */\n  padding: 4px 8px;\n  border-radius: 4px; /* Soften the edges */\n  transform: translateX(-50%); /* Center it */\n  white-space: nowrap; /* Keep the message on one line */\n}\n</style>"],sourceRoot:""}]);const s=i},67988:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),a=n(76314),i=n.n(a)()(o());i.push([e.id,".modal-box[data-v-db095cc4]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:.5rem}.input[data-v-db095cc4]{border:none;outline:none;transition:background-color .2s ease-in-out}.input[data-v-db095cc4]:focus{background-color:#edf2f7}.btn-primary[data-v-db095cc4]{background-color:#5a67d8;color:#fff}.btn-primary[data-v-db095cc4]:hover{background-color:#434190}.btn-success[data-v-db095cc4]{background-color:#48bb78;color:#fff}.btn-success[data-v-db095cc4]:hover{background-color:#38a169}.btn-outline[data-v-db095cc4]{border:1px solid #fff;color:#fff}.btn-outline[data-v-db095cc4]:hover{background-color:#fff;color:#5a67d8}","",{version:3,sources:["webpack://./resources/js/Components/Global/Url/ShortUrlManager.vue"],names:[],mappings:"AA8LA,4BACE,kDAA6D,CAC7D,mBACF,CAEA,wBACE,WAAY,CACZ,YAAa,CACb,2CACF,CAEA,8BACE,wBACF,CAEA,8BACE,wBAAyB,CACzB,UACF,CAEA,oCACE,wBACF,CAEA,8BACE,wBAAyB,CACzB,UACF,CAEA,oCACE,wBACF,CAEA,8BACE,qBAAsB,CACtB,UACF,CAEA,oCACE,qBAAsB,CACtB,aACF",sourcesContent:['<template>\n  <div>\n    <button class="btn btn-primary btn-sm mt-2" @click.prevent="openModal">Set/Change Short URL</button>\n\n    <dialog id="shortUrlManagerModal" class="modal">\n      <div class="modal-box bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white rounded-lg shadow-lg">\n\n        <h2 class="text-2xl font-bold mb-4">Set/Change Short URL</h2>\n\n        <form @submit.prevent="saveShortUrl" class="space-y-4">\n          <div>\n            <label for="customName" class="block text-sm font-medium mb-1">\n              Custom Name: <span class="text-sm text-gray-300">{{ shortUrlPreview }}</span>\n            </label>\n            <input v-model="customName" id="customName" class="input input-bordered w-full bg-gray-100 text-gray-800 rounded-md px-4 py-2" placeholder="Enter custom name" required/>\n          </div>\n\n          <div>\n            <label for="originalUrl" class="block text-sm font-medium mb-1">Original URL:</label>\n            <input v-model="originalUrl" id="originalUrl" class="input input-bordered w-full bg-gray-100 text-gray-800 rounded-md px-4 py-2" placeholder="Enter original URL" required/>\n          </div>\n\n          <button type="submit" class="btn btn-success w-full py-2 mt-4">Save</button>\n        </form>\n\n        <div class="modal-action flex justify-between items-center mt-6">\n          <form method="dialog">\n            \x3c!-- if there is a button in form, it will close the modal --\x3e\n            <button class="btn btn-outline btn-white" @click="closeModal">Close</button>\n            <button class="btn btn-sm btn-circle btn-ghost text-white hover:bg-white hover:text-indigo-600 absolute right-2 top-2">✕</button>\n          </form>\n        </div>\n\n        \x3c!-- Display Short URL Information --\x3e\n        <div v-if="shortUrlData" class="mt-6">\n          <div class="flex flex-row">\n            <strong>Short URL:</strong> &nbsp; <a :href="shortUrl" class="text-blue-300 underline">{{ shortUrl }}</a>\n            <CopyClipboard :text="shortUrl" :buttonColor="`yellow`" :labelPosition="`-top-10 -left-20`"/>\n          </div>\n          <p>\n            <strong>Clicks:</strong> {{ shortUrlData.clicks }}\n            <button @click.prevent="resetClicks" class="text-sm text-blue-300 underline ml-2">Reset</button>\n          </p>\n          <p>\n            <strong>Active:</strong> &nbsp;\n            <span :class="{\'text-green-400\': shortUrlData.is_active, \'text-red-400\': !shortUrlData.is_active}">\n              {{ shortUrlData.is_active ? \'Yes\' : \'No\' }}\n            </span>\n            <button @click.prevent="toggleActiveStatus" class="text-sm text-blue-300 underline ml-2">\n              {{ shortUrlData.is_active ? \'Disable\' : \'Enable\' }}\n            </button>\n          </p>\n          <p><strong>Last Edited By:</strong> {{ shortUrlData.user ? shortUrlData.user.name : \'N/A\' }}</p>\n        </div>\n        <div v-else class="mt-6 text-yellow-300">\n          <p>No short URL set for this show yet.</p>\n        </div>\n      </div>\n    </dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \'vue\'\nimport { useShowStore } from \'@/Stores/ShowStore\'\nimport { useNotificationStore } from \'@/Stores/NotificationStore\'\nimport CopyClipboard from \'@/Components/Global/Text/CopyClipboard.vue\'\n\nconst showStore = useShowStore()\nconst notificationStore = useNotificationStore()\n\nconst customName = ref(\'\')\nconst originalUrl = ref(\'\')\nconst shortUrlData = ref(null)\n\n// Open the modal\nconst openModal = () => {\n  document.getElementById(\'shortUrlManagerModal\').showModal()\n  // Load the current short URL data when the modal opens\n  loadShortUrlData()\n}\n\n// Close the modal\nconst closeModal = () => {\n  document.getElementById(\'shortUrlManagerModal\').close()\n}\n\n// Load the current short URL data\nconst loadShortUrlData = async () => {\n  try {\n    const response = await axios.get(`/api/short-urls/${showStore.slug}`);\n    shortUrlData.value = response.data;\n    customName.value = shortUrlData.value.custom_name;\n    originalUrl.value = shortUrlData.value.original_url;\n  } catch (error) {\n    if (error.response && error.response.status === 404) {\n      notificationStore.setToastNotification(\'No short URL set yet.\', \'warning\')\n      shortUrlData.value = null; // No short URL set yet\n      customName.value = \'\'; // Reset the custom name field\n      originalUrl.value = \'\'; // Reset the original URL field\n    } else {\n      // Check if the error has a response and message\n      const errorMessage = error.response && error.response.data && error.response.data.error\n          ? error.response.data.error\n          : \'An unknown error occurred.\';\n\n      notificationStore.setGeneralServiceNotification(\'Error\', errorMessage);\n    }\n  }\n}\n\n// Save or update the short URL\nconst saveShortUrl = async () => {\n  if (!isValidUrl(originalUrl.value)) {\n    notificationStore.setGeneralServiceNotification(\'Alert\', \'Please enter a valid URL.\')\n    return\n  }\n\n  try {\n    const response = await axios.post(\'/short-urls\', {\n      show_id: showStore.id,\n      custom_name: customName.value,\n      original_url: originalUrl.value,\n    })\n\n    shortUrlData.value = response.data\n    closeModal()\n  } catch (error) {\n    // Check if the error has a response and message\n    const errorMessage = error.response && error.response.data && error.response.data.error\n        ? error.response.data.error\n        : \'An unknown error occurred.\';\n\n    notificationStore.setGeneralServiceNotification(\'Error\', errorMessage);\n  }\n}\n\n// Reset the clicks count\nconst resetClicks = async () => {\n  try {\n    const response = await axios.post(`/short-urls/${showStore.slug}/reset-clicks`);\n    shortUrlData.value.clicks = response.data.clicks;\n    notificationStore.setToastNotification(\'Click count reset successfully.\', \'success\');\n  } catch (error) {\n    // Check if the error has a response and message\n    const errorMessage = error.response && error.response.data && error.response.data.error\n        ? error.response.data.error\n        : \'An unknown error occurred.\';\n\n    notificationStore.setToastNotification(errorMessage, \'error\');\n  }\n}\n\n// Toggle the active status\nconst toggleActiveStatus = async () => {\n  try {\n    const response = await axios.post(`/short-urls/${showStore.slug}/toggle-active`);\n    shortUrlData.value.is_active = response.data.is_active;\n    notificationStore.setToastNotification(`Short URL is now ${response.data.is_active ? \'active\' : \'disabled\'}.`, \'success\');\n  } catch (error) {\n    // Check if the error has a response and message\n    const errorMessage = error.response && error.response.data && error.response.data.error\n        ? error.response.data.error\n        : \'An unknown error occurred.\';\n\n    notificationStore.setToastNotification(errorMessage, \'error\');\n  }\n}\n\n// Check if the URL is valid\nconst isValidUrl = (url) => {\n  try {\n    new URL(url)\n    return true\n  } catch (_) {\n    return false\n  }\n}\n\n// Get the full short URL\nconst shortUrl = computed(() => {\n  return shortUrlData.value ? `${window.location.origin}/r/${shortUrlData.value.custom_name}` : \'\'\n})\n\nconst shortUrlPreview = computed(() => {\n  return `${window.location.origin}/r/${customName.value}`;\n});\n\n<\/script>\n<style scoped>\n.modal-box {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 0.5rem;\n}\n\n.input {\n  border: none;\n  outline: none;\n  transition: background-color 0.2s ease-in-out;\n}\n\n.input:focus {\n  background-color: #edf2f7;\n}\n\n.btn-primary {\n  background-color: #5A67D8;\n  color: #fff;\n}\n\n.btn-primary:hover {\n  background-color: #434190;\n}\n\n.btn-success {\n  background-color: #48BB78;\n  color: #fff;\n}\n\n.btn-success:hover {\n  background-color: #38A169;\n}\n\n.btn-outline {\n  border: 1px solid #fff;\n  color: #fff;\n}\n\n.btn-outline:hover {\n  background-color: #fff;\n  color: #5A67D8;\n}\n</style>'],sourceRoot:""}]);const s=i},28941:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),a=n(76314),i=n.n(a)()(o());i.push([e.id,".copy-message{background-color:#000000bf;border-radius:10px;bottom:50%;color:#fff;font-size:1.5rem;left:50%;padding:20px;position:fixed;transform:translateX(-50%);z-index:100}.copy-message,.fade-enter-active,.fade-leave-active{transition:opacity .5s ease}.fade-enter-from,.fade-leave-to{opacity:0}","",{version:3,sources:["webpack://./resources/js/Components/Pages/ShowRecordings/RecordingsListBody.vue"],names:[],mappings:"AAwGA,cAKE,0BAAqC,CAGrC,kBAAmB,CANnB,UAAW,CAIX,UAAY,CAGZ,gBAAiB,CANjB,QAAS,CAIT,YAAa,CANb,cAAe,CAGf,0BAA2B,CAM3B,WAEF,CAEA,oDAHE,2BAKF,CAEA,gCACE,SACF",sourcesContent:['<template>\n  <tbody class="bg-white divide-y divide-gray-200">\n  <tr v-for="recording in recordings" :key="recording.id"\n      @mouseover="state.hoveredRow = recording.id"\n      @mouseleave="state.hoveredRow = null"\n      @click="selectRecording(recording)"\n      :class="rowClass(recording.id)">\n    <td class="px-6 py-4 whitespace-nowrap">\n      <div>{{ recording?.meta?.title }}</div>\n      <div>{{ recording.start_date_local }}</div>\n      <div v-if="recording.comment" class="text-xs uppercase text-orange-700 font-semibold break-words">\n        <span :class="{ \'text-indigo-600\': recording.comment !== \'automated recording\' }">{{ recording.comment }}</span>\n      </div>\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap">\n      {{ recording.start_time_local }}\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap">\n      {{ recording.end_time_local }}\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap">\n      {{ formatDuration(recording.total_milliseconds_recorded) }}\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap">\n      <span v-if="recording.meta?.good" class="bg-green-500 text-white rounded-full p-1 text-xs">✔️</span>\n      <span v-if="recording.meta?.ng" class="bg-orange-500 text-white rounded-full p-1 text-xs">❌</span>\n    </td>\n    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-1">\n      <button @click.stop="shareRecording(recording.share_url)"\n              class="btn btn-xs bg-orange-200 hover:bg-orange-300 text-black">\n        <font-awesome-icon icon="fa-share" class=""/> Share\n      </button>\n      <button @click.stop="confirmAddToEpisode"\n              class="btn btn-xs">Add To Episode</button>\n      <button @click.stop="confirmDownload(recording)"\n              class="btn btn-xs btn-info">Download</button>\n      <div @click.stop="confirmSaveToPremium" class="btn btn-xs">Save to Premium Storage</div>\n      <transition name="fade">\n        <div v-if="state.showCopyMessage" class="copy-message">\n          {{ state.copyMessage }}\n        </div>\n      </transition>\n    </td>\n  </tr>\n  </tbody>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \'vue\'\nimport { useRecordingStore } from \'@/Stores/RecordingStore\';\n\nconst recordingStore = useRecordingStore();\nconst emit = defineEmits([\'select-recording\']);\n\nconst state = reactive({\n  hoveredRow: null,\n  showCopyMessage: false,\n  copyMessage: \'\',\n});\n\nconst recordings = computed(() => recordingStore.formattedRecordings);\n\nconst selectRecording = (recording) => {\n  recordingStore.setSelectedRecording(recording);\n  emit(\'select-recording\');\n};\n\nconst shareRecording = (shareUrl) => {\n  navigator.clipboard.writeText(shareUrl).then(() => {\n    state.copyMessage = \'Video share URL copied!\';\n    state.showCopyMessage = true;\n    setTimeout(() => {\n      state.showCopyMessage = false;\n    }, 1000); // Hide after 1 second\n  }).catch(err => {\n    console.error(\'Failed to copy: \', err);\n  });\n};\n\nconst confirmAddToEpisode = () => {\n  document.getElementById(\'confirmAddToEpisodeModal\').showModal();\n};\n\nconst confirmDownload = (recording) => {\n  recordingStore.setSelectedRecording(recording);\n  document.getElementById(\'confirmDownloadModal\').showModal();\n};\n\nconst confirmSaveToPremium = () => {\n  document.getElementById(\'confirmSaveToPremiumModal\').showModal();\n};\n\nconst rowClass = computed(() => (recordingId) => ({\n  \'hover:bg-blue-100 cursor-pointer\': state.hoveredRow === recordingId,\n  \'bg-gray-200\': recordingStore.selectedRecording?.id === recordingId,\n  \'bg-green-100\': recordingStore.nowPlayingRecordingId === recordingId,\n}));\n\nconst formatDuration = (totalMilliseconds) => {\n  return recordingStore.formatDuration(totalMilliseconds);\n};\n<\/script>\n\n<style>\n.copy-message {\n  position: fixed;\n  bottom: 50%;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.75);\n  color: white;\n  padding: 20px;\n  border-radius: 10px;\n  font-size: 1.5rem;\n  z-index: 100;\n  transition: opacity 0.5s ease;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s ease;\n}\n\n.fade-enter-from, .fade-leave-to {\n  opacity: 0;\n}\n</style>\n'],sourceRoot:""}]);const s=i},69092:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),a=n(76314),i=n.n(a)()(o());i.push([e.id,".join[data-v-7ac11629]{display:flex;gap:4px;justify-content:center}.btn[data-v-7ac11629]{transition:background-color .3s ease}.btn[data-v-7ac11629]:hover{background-color:tomato}.btn-active[data-v-7ac11629]{background-color:coral}@media (prefers-color-scheme:dark){.btn[data-v-7ac11629]{background-color:#333;color:#fff}.btn[data-v-7ac11629]:hover{background-color:#555}.btn-active[data-v-7ac11629]{background-color:coral}}","",{version:3,sources:["webpack://./resources/js/Components/Pages/ShowRecordings/RecordingsPaginator.vue"],names:[],mappings:"AAiCA,uBACE,YAAa,CAEb,OAAQ,CADR,sBAEF,CAEA,sBACE,oCACF,CAGA,4BACE,uBACF,CAEA,6BACE,sBACF,CAGA,mCACE,sBAEE,qBAAyB,CADzB,UAEF,CAEA,4BACE,qBACF,CAEA,6BACE,sBACF,CACF",sourcesContent:['<template>\n  <div v-if="totalPages > 1" class="join">\n    <button\n        v-for="page in totalPages"\n        :key="page"\n        :class="[\'join-item\', \'btn\', { \'btn-active\': currentPage === page }]"\n        @click="goToPage(page)"\n    >\n      {{ page }}\n    </button>\n  </div>\n</template>\n\n<script setup>\nconst props = defineProps({\n  totalPages: {\n    type: Number,\n    required: true,\n  },\n  currentPage: {\n    type: Number,\n    required: true,\n  },\n});\n\nconst emit = defineEmits([\'update\']);\n\nconst goToPage = (page) => {\n  emit(\'update\', page);\n};\n<\/script>\n\n<style scoped>\n.join {\n  display: flex;\n  justify-content: center;\n  gap: 4px;\n}\n\n.btn {\n  transition: background-color 0.3s ease;\n}\n\n/* Default hover effect */\n.btn:hover {\n  background-color: #ff6347; /* Example hover color */\n}\n\n.btn-active {\n  background-color: #ff7f50; /* Active color in dark mode */\n}\n\n/* Dark mode styles */\n@media (prefers-color-scheme: dark) {\n  .btn {\n    color: #ffffff;\n    background-color: #333333;\n  }\n\n  .btn:hover {\n    background-color: #555555; /* Example dark mode hover color */\n  }\n\n  .btn-active {\n    background-color: #ff7f50; /* Active color in dark mode */\n  }\n}\n</style>\n'],sourceRoot:""}]);const s=i},62266:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),a=n(76314),i=n.n(a)()(o());i.push([e.id,".grid[data-v-20187ebd]{display:grid;grid-template-columns:1fr}@media (min-width:768px){.grid[data-v-20187ebd]{grid-template-columns:4rem 1fr 1fr 1fr 1fr}}.min-w-16[data-v-20187ebd]{min-width:4rem}.max-w-16[data-v-20187ebd]{max-width:4rem}.max-h-16[data-v-20187ebd]{max-height:4rem}","",{version:3,sources:["webpack://./resources/js/Components/Pages/Shows/Elements/ManageShowEpisode.vue"],names:[],mappings:"AAqJA,uBACE,YAAa,CACb,yBACF,CAEA,yBACE,uBACE,0CACF,CACF,CAEA,2BACE,cACF,CAEA,2BACE,cACF,CAEA,2BACE,eACF",sourcesContent:['<template>\n  <div v-if="showStore.episodeIsBeingDeleted !== episode.id" class="bg-gray-50 grid grid-cols-1 md:grid-cols-5 gap-4 p-4 mb-4 rounded-lg shadow">\n    <div class="flex items-center text-sm w-16">\n      <div v-if="!episode.episodeNumber">{{ episode.id }}</div>\n      <div v-else>{{ episode.episodeNumber }}</div>\n    </div>\n    <div @click="router.visit(`/shows/${showSlug}/episode/${episode.slug}/manage`)" class="hover:cursor-pointer flex items-center space-x-2">\n      <SingleImage :image="episode.image" :alt="episode.name" class="rounded-xl min-w-16 w-16 h-16 object-cover" />\n      <span class="hover:text-blue-600 font-semibold dark:text-blue-400 dark:hover:text-blue-200">\n        {{ episode.name }}\n      </span>\n    </div>\n    <div class="light:text-gray-600 dark:text-gray-100 text-sm flex justify-center items-center">\n      <span v-if="!episode.notes" v-show="showStore.noteEdit !== episode.id" class="italic" @click="editNote">Click here to add/edit a note.</span>\n      <span v-if="episode.notes" v-show="showStore.noteEdit !== episode.id" :key="componentKey" @click="editNote">{{ episode.notes }}</span>\n      <div v-if="showStore.noteEdit === episode.id">\n        <EpisodeNoteEdit :episode="episode" @saveNoteProcessing="reloadNote" />\n        <div v-if="showStore.saveNoteProcessing">Saving...</div>\n      </div>\n    </div>\n    <div class="text-right">\n      <div class="dropdown dropdown-left">\n        <ManageShowEpisodeStatuses\n            :episodeStatus="episode.episodeStatus"\n            :episodeStatusId="episode.episodeStatusId"\n            :episodeStatuses="episodeStatuses"\n            :episodeId="episode.id"\n            :episodeUlid="episode.ulid"\n            :episodeName="episode.name"\n            :episodeSlug="episode.slug"\n            :showSlug="showSlug"\n            :showName="showName"\n            :scheduledDateTime="episode.scheduledReleaseDateTime"\n        />\n      </div>\n      <div v-if="episode.episodeStatusId === 6">\n        Scheduled for: <br />\n        {{ scheduledReleaseDateTime }}\n      </div>\n      <div v-if="episode.episodeStatusId === 7">\n        Released on: <br/>\n        {{ releaseDateTime }}\n      </div>\n    </div>\n    <div class="flex flex-row justify-end items-center">\n      <button\n          v-if="teamStore.can.editShow"\n          @click="appSettingStore.btnRedirect(`/shows/${showSlug}/episode/${episode.slug}/edit`)"\n          class="px-2 py-2 text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg mr-2 w-16 h-10"\n      >\n        Edit\n      </button>\n      <button\n          v-if="teamStore.can.manageShow && !episode.isPublished"\n          @click="deleteShowEpisode"\n          class="px-2 py-2 text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg w-10 h-10"\n      >\n        <font-awesome-icon icon="fa-trash-can" />\n      </button>\n    </div>\n  </div>\n  <div v-else class="w-full text-center p-4">\n    <span class="loading loading-infinity loading-lg"></span>\n    <span class="ml-3">The episode is being deleted...</span>\n  </div>\n</template>\n\n<script setup>\nimport { router } from \'@inertiajs/vue3\';\nimport { useForm } from "@inertiajs/vue3";\nimport { ref } from "vue";\nimport { useAppSettingStore } from "@/Stores/AppSettingStore";\nimport { useTeamStore } from "@/Stores/TeamStore";\nimport { useShowStore } from "@/Stores/ShowStore";\nimport { useUserStore } from "@/Stores/UserStore";\nimport { FontAwesomeIcon } from "@fortawesome/vue-fontawesome";\nimport ManageShowEpisodeStatuses from "@/Components/Pages/Shows/Elements/ManageShowEpisodesStatuses";\nimport EpisodeNoteEdit from "@/Components/Pages/Shows/Elements/ManageEpisodeEditNote";\nimport SingleImage from \'@/Components/Global/Multimedia/SingleImage.vue\';\n\nconst appSettingStore = useAppSettingStore();\nconst teamStore = useTeamStore();\nconst showStore = useShowStore();\nconst userStore = useUserStore();\n\nconst props = defineProps({\n  episode: Object,\n  episodeStatuses: Object,\n  showSlug: String,\n  showName: String,\n});\n\nconst showEpisodeStatuses = ref(false);\nconst releaseDateTime = userStore.formatLongDateTimeFromUtcToUserTimezone(props.episode.releaseDateTime);\nconst scheduledReleaseDateTime = userStore.formatDateInUserTimezone(props.episode.scheduledReleaseDateTime, \'ddd DD MMM YYYY, hh:mm A\' + \' \' + userStore.timezoneAbbreviation);\n\nshowStore.noteEdit = 0;\nconst componentKey = ref(0);\n\nfunction reloadNote() {\n  props.episode.notes = showStore.notes;\n  componentKey.value += 1;\n}\n\nlet form = useForm({\n  note: \'\',\n});\n\nfunction editNote() {\n  showStore.noteEdit = props.episode.id;\n}\n\nfunction openEpisodeStatuses() {\n  document.getElementById(\'episodeStatuses\').showModal();\n}\n\nconst deleteShowEpisode = async () => {\n  const confirmation = confirm(\'Are you sure you want to delete this show episode?\');\n\n  if (confirmation) {\n    try {\n      showStore.episodeIsBeingDeleted = props.episode.id;\n      await axios.delete(`/shows/${props.showSlug}/episode/${props.episode.slug}`)\n          .then((response) => {\n            if (response.status === 200) {\n              showStore.errorMessage = response.data.message;\n              router.reload();\n              showStore.episodeIsBeingDeleted = 0;\n            } else {\n              showStore.errorMessage = response.statusText;\n              console.error(\'Delete request failed:\', response.statusText);\n              showStore.episodeIsBeingDeleted = 0;\n              router.reload();\n            }\n          })\n          .catch((error) => {\n            console.error(\'Error deleting show episode:\', error);\n            showStore.errorMessage = error;\n            showStore.episodeIsBeingDeleted = 0;\n            router.reload();\n          });\n    } catch (error) {\n      console.error(\'Error deleting show episode:\', error);\n    }\n  }\n};\n<\/script>\n\n<style scoped>\n.grid {\n  display: grid;\n  grid-template-columns: 1fr;\n}\n\n@media (min-width: 768px) {\n  .grid {\n    grid-template-columns: 4rem 1fr 1fr 1fr 1fr;\n  }\n}\n\n.min-w-16 {\n  min-width: 4rem;\n}\n\n.max-w-16 {\n  max-width: 4rem;\n}\n\n.max-h-16 {\n  max-height: 4rem;\n}\n</style>\n'],sourceRoot:""}]);const s=i},8974:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(54991),o=n.n(r),a=n(76314),i=n.n(a)()(o());i.push([e.id,"@keyframes wave-bg-7e803eea{0%,to{background-color:#dbeafe}50%{background-color:#bfdbfe}}.wave-background[data-v-7e803eea]{animation:wave-bg-7e803eea 5s ease-in-out infinite;background-color:#dbeafe}","",{version:3,sources:["webpack://./resources/js/Pages/Shows/{$id}/Manage.vue"],names:[],mappings:"AA8SA,4BACE,MACE,wBACF,CACA,IACE,wBACF,CACF,CAEA,kCACE,kDAA0C,CAC1C,wBACF",sourcesContent:['<template>\n\n  <Head :title="`Manage Show: ${props.show.name}`"/>\n\n  <div id="topDiv" class="place-self-center flex flex-col">\n    <div class="min-h-screen bg-white text-black dark:bg-gray-900 dark:text-gray-50 rounded px-5">\n\n      <Message v-if="appSettingStore.showFlashMessage" :flash="$page.props.flash"/>\n      <div class="alert alert-error mt-4 mx-3"\n           v-if="showStore.errorMessage">\n        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"/>\n        </svg>\n        <span>{{ showStore.errorMessage }}</span>\n        <button class="text-xs ml-12" @click="showStore.errorMessage = \'\'"> Close</button>\n      </div>\n\n      <header class="bg-gradient-to-r from-blue-100 via-white to-transparent p-4 text-black font-bold rounded-lg">\n        \x3c!--            <header class="wave-background p-4 text-black font-bold rounded-lg">--\x3e\n\n        <div class="flex justify-between mb-3 pt-6">\n          <div class="font-bold mb-4 text-black align-bottom text-lg">MANAGE SHOW</div>\n\n          <div class="flex flex-col">\n            <div class="flex flex-row w-full justify-end mb-2">\n              <button\n                  @click="appSettingStore.btnRedirect(`/teams/${team.slug}/manage`)"\n                  class="px-4 py-2 mr-2 mb-2 h-fit text-white font-semibold bg-orange-500 hover:bg-orange-600 rounded-lg"\n              >\n                <font-awesome-icon :icon="[\'fas\', \'users-cog\']" class="hover:text-blue-800 mr-1"/>\n                Manage Team\n              </button>\n            </div>\n            <div class="flex flex-wrap-reverse justify-end gap-2">\n              <button\n                  v-if="can.goLive"\n                  @click="goLive"\n                  class="px-4 py-2 h-fit text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"\n              >\n                <font-awesome-icon :icon="[\'fas\', \'broadcast-tower\']" class="hover:text-blue-800 mr-1"/>\n                Go Live\n              </button>\n              <button\n                  @click="appSettingStore.btnRedirect(`/shows/${show.slug}`)"\n                  class="px-4 py-2 h-fit text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"\n              >\n                <font-awesome-icon :icon="[\'fas\', \'eye\']" class="hover:text-blue-800 mr-1"/>\n                View Show\n              </button>\n              <button\n                  v-if="teamStore.can.editShow"\n                  @click="appSettingStore.btnRedirect(`/shows/${show.slug}/edit`)"\n                  class="px-4 py-2 h-fit text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"\n              >\n                <font-awesome-icon :icon="[\'fas\', \'pen\']" class="hover:text-blue-800 mr-1"/>\n                Edit Show\n              </button>\n\n              <DashboardButton class=""/>\n\n            </div>\n            <div class="flex flex-wrap-reverse justify-end gap-2">\n              <ShortUrlManager />\n            </div>\n          </div>\n\n        </div>\n\n        <ShowManageHeader\n            :show="props.show"\n            :team="props.team"\n            :can="can"\n        />\n\n        <div class="flex justify-end mt-6">\n\n\n        </div>\n      </header>\n\n      <div class="my-6 text-gray-100">\n        <span class="uppercase text-xs font-semibold text-black">SHOW NOTES: </span>\n        <span class="text-black light:text-black dark:text-white">{{ props.show.notes }}</span>\n      </div>\n\n\n      <div class="flex flex-col">\n        <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">\n          <div class="py-2 align-middle inline-block w-full sm:px-6 lg:px-8 space-y-4">\n\n            <div @click="toggleComponent(\'showEpisodes\')"\n                 :class="{\'rounded-t-lg\': showStore.openComponent === \'showEpisodes\', \'rounded-lg\': showStore.openComponent !== \'showEpisodes\'}"\n                 class="accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-hidden shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white">\n              <font-awesome-icon icon="fa-play-circle" class=""/>\n              Episodes\n            </div>\n            <div v-if="showStore.openComponent === \'showEpisodes\'">\n              <div class="mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg">\n                <ManageShowEpisodesList/>\n              </div>\n            </div>\n\n            <div @click="toggleComponent(\'showCredits\')"\n                 :class="{\'rounded-t-lg\': showStore.openComponent === \'showCredits\', \'rounded-lg\': showStore.openComponent !== \'showCredits\'}"\n                 class="accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white">\n              <font-awesome-icon icon="fa-clipboard-list" class=""/>\n              Credits and Assignments\n            </div>\n            <div v-if="showStore.openComponent === \'showCredits\'">\n              <div class="mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg">\n                <div class="border-1 border-t mb-3 bg-blue-100 py-1 px-2 text-xs font-semibold text-red-800">\n                  In development. Not currently working.\n                </div>\n                <Link\n                    :href="`#`"\n                    v-if="teamStore.can.createAssignment">\n                  <button\n                      class="bg-green-500 hover:bg-green-600 text-white ml-2 my-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max"\n                      disabled\n                  >Create Assignment\n                  </button>\n                </Link>\n\n                <ShowCreditsList/>\n              </div>\n            </div>\n\n            <div @click="toggleComponent(\'showRecordings\')"\n                 :class="{\'rounded-t-lg\': showStore.openComponent === \'showRecordings\', \'rounded-lg\': showStore.openComponent !== \'showRecordings\'}"\n                 class="accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white">\n              <font-awesome-icon icon="fa-circle" class="text-red-700"/>\n              Recordings\n            </div>\n            <div v-if="showStore.openComponent === \'showRecordings\'">\n              <div class="mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg">\n                <ShowRecordingsList :showRecordings="show.recordings" :showName="show.name" :showSlug="show.slug"\n                                    :showImage="show.image"/>\n\n                \x3c!--            </div>--\x3e\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <ShowFooter :team="team" :show="show"/>\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport { onBeforeUnmount, onMounted, onUnmounted, ref } from \'vue\'\nimport { usePage } from \'@inertiajs/vue3\'\nimport { usePageSetup } from \'@/Utilities/PageSetup\'\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useShowStore } from \'@/Stores/ShowStore\'\nimport { useTeamStore } from \'@/Stores/TeamStore\'\nimport { useGoLiveStore } from \'@/Stores/GoLiveStore\'\nimport ShowManageHeader from \'@/Components/Pages/Shows/Layout/ShowManageHeader\'\nimport ShowFooter from \'@/Components/Pages/Shows/Layout/ShowFooter\'\nimport ManageShowEpisodesList from \'@/Components/Pages/Shows/Elements/ManageShowEpisodesList\'\nimport ShowCreditsList from \'@/Components/Pages/Shows/Elements/ManageShowCreditsList\'\nimport Message from \'@/Components/Global/Modals/Messages\'\nimport DashboardButton from \'@/Components/Global/Buttons/DashboardButton.vue\'\nimport ShowRecordingsList from \'@/Components/Pages/ShowRecordings/ShowRecordingsList.vue\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\nimport ShortUrlManager from \'@/Components/Global/Url/ShortUrlManager.vue\'\n\nusePageSetup(\'shows/slug/manage\')\n\nconst appSettingStore = useAppSettingStore()\nconst showStore = useShowStore()\nconst teamStore = useTeamStore()\nconst goLiveStore = useGoLiveStore()\n\nconst toggleComponent = (componentName) => {\n  showStore.openComponent = showStore.openComponent === componentName ? null : componentName\n}\n\nconst page = usePage().props\n\nconst props = defineProps({\n  show: Object,\n  team: Object,\n  episodes: Object,\n  episodeStatuses: Object,\n  // filters: Object,\n  can: Object,\n})\n\nteamStore.setActiveTeam(props.team)\nteamStore.setActiveShow(props.show)\nteamStore.can = props.can\n\nconst currentUsers = ref([])\n\nconst goLive = () => {\n  goLiveStore.reset()\n  goLiveStore.preSelectedShowId = props.show.id\n  appSettingStore.btnRedirect(`/golive`)\n}\n\nonMounted(() => {\n  showStore.initializeShow(props.show, props.episodes, props.episodeStatuses)\n  console.log(`Subscribing to channel creator.show.${props.show.id}`)\n\n  Echo.join(`creator.show.${props.show.id}`)\n      .here(async (users) => {\n        console.log(\'Users currently in the channel:\', users)\n        currentUsers.value = users\n        // Elect the leader (first user in the list)\n        if (users.length > 0) {\n          const leader = users[0]\n          showStore.setLeader(leader)\n          console.log(`Leader elected: ${leader.name}`)\n        }\n\n        console.log(showStore.isUpdatingSchedule, showStore.updatedBy)\n        // Check if the user is the only one in the channel\n        if (currentUsers.value.length === 1 && showStore.isUpdatingSchedule && showStore.updatedBy) {\n          try {\n            // Reset the isUpdatingSchedule and updatedBy fields\n            await axios.put(`/api/shows/${props.show.slug}/meta`, {\n              isUpdatingSchedule: false,\n              updatedBy: showStore.updatedBy,\n            })\n            console.log(\'isUpdatingSchedule and updatedBy fields reset\')\n\n          } catch (error) {\n            console.error(\'Error updating meta:\', error)\n          }\n        }\n      })\n      .joining((user) => {\n        console.log(\'User joined the channel:\', user)\n        currentUsers.value.push(user)\n      })\n      .leaving((user) => {\n        console.log(\'User left the channel:\', user)\n        currentUsers.value = currentUsers.value.filter(u => u.id !== user.id)\n\n        if (user.id === showStore.leader.id) {\n          console.log(\'Leader left, electing new leader\')\n          // Elect a new leader if the current leader leaves\n          if (currentUsers.value.length > 0) {\n            const newLeader = currentUsers.value[0]\n            showStore.setLeader(newLeader)\n            console.log(`New leader elected: ${newLeader.name}`)\n          }\n        }\n        // If current user is still the leader, run the command\n        if (showStore.leader.id === page.user.id) {\n          axios.post(`/api/${props.show.slug}/user-left-channel`, {\n            user: user,\n            channel: `creator.show.${props.show.id}`,\n            showSlug: props.show.slug, // Pass the show slug\n          }).then(response => {\n            console.log(\'Successfully posted to user-left-channel:\', response.data)\n          }).catch(error => {\n            console.error(\'Error posting to user-left-channel:\', error)\n          })\n        }\n      })\n      .listen(\'.CreatorContentStatusUpdated\', (event) => {\n        console.log(\'CreatorContentStatusUpdated event received:\', event)\n        showStore.$patch({\n          isSaving: event.meta.isSaving,\n          isUpdatingSchedule: event.meta.isUpdatingSchedule,\n          updatedBy: event.meta.updatedBy,\n        })\n      })\n      .listen(\'.ShowScheduleDetailsUpdated\', (event) => {\n        console.log(\'ShowScheduleDetailsUpdated event received:\', event)\n        // Assuming `start_DateTime` needs to be transformed into `startTime`\n        const formattedStartTime = event.scheduleDetails.start_DateTime\n        showStore.scheduleDetails = {\n          ...event.scheduleDetails,\n          startTime: formattedStartTime,\n        }\n        console.log(\'Updated scheduleDetails.startTime:\', showStore.scheduleDetails.startTime)\n      })\n      .error((error) => {\n        console.error(\'Error subscribing to channel:\', error)\n      })\n\n})\n\nonBeforeUnmount(() => {\n  // Echo.leave(`creator.show.${props.show.id}`);\n  Echo.leave(`creator.show.${props.show.id}`)\n\n  showStore.setUpdatingStatus(false, page.user.name, props.show.slug)\n\n  console.log(`Unsubscribed from channel creator.show.${props.show.id}`)\n  showStore.reset()\n})\n\n<\/script>\n\n\n<style scoped>\n@keyframes wave-bg {\n  0%, 100% {\n    background-color: #dbeafe; /* Original color */\n  }\n  50% {\n    background-color: #bfdbfe; /* Slightly lighter color */\n  }\n}\n\n.wave-background {\n  animation: wave-bg 5s infinite ease-in-out;\n  background-color: #dbeafe; /* Starting color */\n}\n\n\n</style>\n'],sourceRoot:""}]);const s=i},28256:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(29726),o=n(20973);const a={__name:"DashboardButton",setup:function(e){var t=(0,o.useAppSettingStore)();return function(e,n){var o=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("button",{onClick:n[0]||(n[0]=function(e){return(0,r.unref)(t).btnRedirect("/dashboard")}),class:"bg-black hover:bg-gray-800 text-white font-semibold mt-2 px-4 py-2 rounded-lg disabled:bg-gray-400 h-max w-max"},[(0,r.createVNode)(o,{icon:["fas","tachometer-alt"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Dashboard ")])])}}}},7734:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(29726),o=n(74209),a=(n(19232),n(20715)),i=n(74353),s=n.n(i),c=n(83826),l=n.n(c),u=n(88569),d=n.n(u);const f={__name:"DateTimePicker",props:{date:null,timezone:String},emits:["date-time-selected"],setup:function(e,t){var n=t.emit,i=(0,a.useUserStore)();s().extend(l()),s().extend(d());var c,u=e,f=n,p=(0,r.ref)(u.timezone||i.timezone),h=(0,r.ref)((c=s()().minute(30*Math.floor(s()().minute()/30)).second(0).format(),u.date?s()(u.date).tz(p.value).startOf("minute").format("YYYY-MM-DDTHH:mm:ssZ"):s()(c).tz(p.value).format("YYYY-MM-DDTHH:mm:ssZ"))),m=(0,r.ref)([{key:"today",dot:!0,dates:s()().tz(p.value).format()}]),g=(0,r.ref)({minutes:{interval:30}});return(0,r.watch)(h,(function(e){var t=s()(e).tz(p.value,!0).format();console.log("DateTimePicker watch Selected date: "+t),f("date-time-selected",{date:t})})),(0,r.watch)((function(){return u.timezone}),(function(e){console.log("Timezone prop changed:",e),p.value=e||i.timezone,h.value=s()(h.value).tz(p.value).startOf("minute").format("YYYY-MM-DDTHH:mm:ssZ")})),(0,r.onMounted)((function(){console.log("Effective Timezone on mount: ",p.value),console.log("onMounted Selected Date: "+h.value)})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)((0,r.unref)(o.lr),{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.value=e}),mode:"dateTime",timezone:p.value,attributes:m.value,rules:g.value},null,8,["modelValue","timezone","attributes","rules"])])}}}},85967:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(29726),o=n(74209);n(19232);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=["onClick"],c={class:"w-full px-4 pb-3"};const l={__name:"DateTimePickerSelect",props:{inputValue:String,date:String},emits:["date-time-selected"],setup:function(e,t){var n=e,i=t.emit,l=(0,r.ref)(n.date),u=function(){d.value=null,i("date-time-selected",{date:null})},d=((0,r.ref)(null),(0,r.ref)(n.inputValue||null),(0,r.ref)([{key:"today",highlight:!0,dates:new Date}])),f=(0,r.ref)({minutes:{interval:30}});return(0,r.watch)([l],(function(e){var t=a(e,1)[0];d.value=null,i("date-time-selected",{date:t})})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)((0,r.unref)(o.lr),{modelValue:(0,r.unref)(l),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,r.isRef)(l)?l.value=e:l=e}),mode:"dateTime",attributes:d.value,rules:f.value,"hide-time-header":""},{default:(0,r.withCtx)((function(t){var n=t.togglePopover;return[(0,r.createElementVNode)("button",{class:"px-3 py-2 bg-blue-500 text-sm text-white font-semibold rounded-md",onClick:(0,r.withModifiers)(n,["prevent"])},[(0,r.renderSlot)(e.$slots,"buttonName",{},(function(){return[(0,r.createTextVNode)("Select date")]}))],8,s)]})),footer:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("button",{class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold w-full px-3 py-1 rounded-md",onClick:(0,r.withModifiers)(u,["prevent"])}," Clear ")])]})),_:3},8,["modelValue","attributes","rules"])])}}}},47212:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(29726),o=n(92995),a=n(20973);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new B(r||[]);return o(i,"_invoke",{value:L(e,n,s)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var S={};d(S,c,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,c)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,s,c){var l=p(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=h;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?v:m,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(C.prototype),d(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(f(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f={key:1,class:"alert alert-success mt-4 mx-3"},p=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),h={key:2,class:"alert alert-warning mt-4 mx-3"},m=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),g={key:3,class:"alert alert-error mt-4 mx-3"},v=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const y={__name:"Messages",props:{flash:Object},setup:function(e){(0,a.useAppSettingStore)().showFlashMessage=!0;var t=e,n=((0,r.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.QB.post(route("flash.clear"));case 2:o.QB.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.unref)(t).flash.message?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.message),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.success?((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[p,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.success),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.warning?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,[m,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.warning),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[v,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.error),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0)])}}}},95092:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(29726),o=n(20973),a={key:0,class:"flex flex-wrap justify-center my-4 space-x-4 space-y-2"},i=(0,r.createElementVNode)("div",null,null,-1);const s={__name:"Pagination",props:{data:Object},setup:function(e){var t=(0,o.useAppSettingStore)();t.savedScrollPosition=0;var n=function(){t.savedScrollPosition=window.scrollY};return window.scrollTo(0,t.savedScrollPosition),function(t,o){return e.data.last_page>1?((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[i,e.data&&e.data.links?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(e.data.links,(function(e,t){return(0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.url?"Link":"span"),{key:t,href:e.url,onClick:(0,r.withModifiers)(n,["prevent"]),innerHTML:e.label,class:(0,r.normalizeClass)(["px-4 py-3 text-sm leading-4 h-fit",{"text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400":e.active,"rounded mt-2 mr-0.5 text-gray-300 dark:text-gray-700":!e.url,"rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow":e.url}])},null,8,["href","innerHTML","class"])})),128)):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)}}}},8393:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(29726),o=n(92995),a={class:"text-2xl mb-2 text-center text-indigo-600"},i={class:"mb-6 text-center text-indigo-600"},s=(0,r.createStaticVNode)('<p class="mt-6 mb-4 px-8 text-left">Here&#39;s what you need to know:</p><ul class="list-disc space-y-2 mb-6 px-8 mx-auto text-left text-black font-medium"><li>The countdown to your next live is on your Manage Show page and Dashboard.</li><li>In case of scheduling conflicts, priority is determined on a first-come, first-served basis. Early scheduling takes precedence. </li><li>Changing your schedule is possible at any time, but be aware of priority spot changes.</li><li>Creators are limited to 3 shows during our beta phase to ensure quality and accessibility.</li><li>Ensure your live stream is connected at least 5 minutes before your scheduled live to maintain priority. </li><li>Unable to go live? Schedule a pre-recorded episode to keep your priority spot.</li></ul><div class="text-center mt-12"><h3 class="text-xl mb-2 text-orange-600">Ready to grow your audience?</h3><p class="mb-4">Invite creators and fans to join notTV with these invite codes.</p></div>',3),c={class:"flex justify-center items-center space-x-4 mt-4 mb-6"};const l={__name:"StepSixCongratulations",setup:function(e){return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("h1",a,[(0,r.renderSlot)(e.$slots,"header")]),(0,r.createElementVNode)("p",i,[(0,r.renderSlot)(e.$slots,"subHeader")]),s,(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){return(0,r.unref)(o.QB).visit("/invite")}),class:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out"}," Invite Creator "),(0,r.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return(0,r.unref)(o.QB).visit("/invite")}),class:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out"}," View My Invite Codes ")])])}}}},67425:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(29726),o=n(96433),a=n(61273),i={class:"relative"};const s={__name:"CopyClipboard",props:{text:String,id:{type:Number,default:1},mode:{type:String,default:"icon"},labelPosition:{type:String,default:"-top-10 left-0"},buttonText:{type:String,default:"Copy"},buttonClass:{type:String,default:"px-3 py-2 mb-2 mr-4 text-xs rounded-lg"},buttonColor:{type:String,default:"blue"}},setup:function(e){var t=e,n=(0,r.ref)(""),s=(0,o.iDZ)(),c=s.copy,l=(s.copied,(0,r.ref)({id:null,type:null}));function u(e,t,r){n.value=e,c(e),l.value={id:t,type:r},setTimeout((function(){l.value={id:null,type:null}}),3e3)}var d=(0,r.computed)((function(){var e="text-".concat(t.buttonColor,"-500"),n="hover:text-".concat(t.buttonColor,"-700");return"".concat(e," ").concat(n)}));return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,["icon"===e.mode?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:"",onClick:n[0]||(n[0]=function(t){return u(e.text,e.id,"text")})},[(0,r.createVNode)((0,r.unref)(a.gc),{icon:"fa-clipboard",class:(0,r.normalizeClass)([d.value,"ml-2 hover:cursor-pointer"])},null,8,["class"])])):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:(0,r.normalizeClass)([d.value,e.buttonClass]),onClick:n[1]||(n[1]=function(t){return u(e.text,e.id,"text")})},(0,r.toDisplayString)(e.buttonText),3)),(0,r.createVNode)(r.Transition,{name:"fade-slide-up"},{default:(0,r.withCtx)((function(){return[l.value.id===e.id&&"text"===l.value.type?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(["copied-animation text-green-500 absolute",e.labelPosition])}," Copied to clipboard! ",2)):(0,r.createCommentVNode)("",!0)]})),_:1})])}}};var c=n(85072),l=n.n(c),u=n(88254),d={insert:"head",singleton:!1};l()(u.A,d);u.A.locals;const f=(0,n(66262).A)(s,[["__scopeId","data-v-94b628f0"]])},17111:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(29726),o=["onKeydown","value","placeholder"];const a={__name:"TabbableTextarea",props:{modelValue:String,placeholder:String},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,a=function(e){n("update:modelValue",e.target.value)};function i(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;t.value=n.substring(0,r)+"\t"+n.substring(o),t.selectionStart=t.selectionEnd=r+1}return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("textarea",{onKeydown:(0,r.withKeys)((0,r.withModifiers)(i,["prevent"]),["tab"]),onInput:a,value:e.modelValue,placeholder:e.placeholder,class:"textarea textarea-bordered text-black bg-white dark:bg-gray-800 dark:text-white"},null,40,o)}}}},61762:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(29726),o=n(20973),a={class:"flex flex-row flex-wrap-reverse justify-between mt-64 mb-4"},i=(0,r.createElementVNode)("span",{class:"text-xs uppercase font-semibold"},"Show ID: ",-1),s={class:"text-xs"},c={class:"flex flex-wrap justify-end text-right"},l={class:"text-gray-200 ml-2 uppercase"},u={key:0},d={key:1},f={key:2,class:"text-xs font-semibold text-gray-500"},p={key:3,class:"text-xs font-semibold text-gray-500"},h={key:4,class:"text-xs font-semibold text-gray-500"};const m={__name:"ShowFooter",props:{team:Object,show:Object},setup:function(e){(0,o.useAppSettingStore)(),(new Date).getFullYear();return function(t,n){var o,m,g;return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",null,[i,(0,r.createElementVNode)("span",s,(0,r.toDisplayString)(e.show.ulid),1)]),(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",l,(0,r.toDisplayString)(e.show.name)+"  ",1),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)(" © "),e.show.last_release_year>0?((0,r.openBlock)(),(0,r.createElementBlock)("span",u,(0,r.toDisplayString)(e.show.first_release_year)+"-"+(0,r.toDisplayString)(e.show.last_release_year),1)):(0,r.createCommentVNode)("",!0),!e.show.last_release_year&&e.show.first_release_year?((0,r.openBlock)(),(0,r.createElementBlock)("span",d,(0,r.toDisplayString)(e.show.first_release_year),1)):(0,r.createCommentVNode)("",!0),e.show.last_release_year||e.show.first_release_year||!e.show.copyrightYear?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("span",f,(0,r.toDisplayString)(e.show.copyrightYear),1)),7===(null===(o=e.show.creative_commons)||void 0===o?void 0:o.id)?((0,r.openBlock)(),(0,r.createElementBlock)("span",p," © ")):(0,r.createCommentVNode)("",!0),null!==(m=e.show.creative_commons)&&void 0!==m&&m.name?((0,r.openBlock)(),(0,r.createElementBlock)("span",h," • "+(0,r.toDisplayString)(null===(g=e.show.creative_commons)||void 0===g?void 0:g.name)+" • ",1)):(0,r.createCommentVNode)("",!0)])])])}}}},55773:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ra});var r=n(29726),o=n(92995),a=n(2435),i=n(20973),s=n(67405),c=n(61677),l=n(34526),u=n(20715),d=n(7447),f=n(37150),p=(n(44540),n(8393));function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(){m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new B(r||[]);return o(i,"_invoke",{value:L(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",g="executing",v="completed",y={};function b(){}function w(){}function x(){}var S={};l(S,i,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==n&&r.call(k,i)&&(S=k);var N=x.prototype=b.prototype=Object.create(S);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==h(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?v:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(h(t)+" is not iterable")}return w.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},V(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},V(N),l(N,c,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function g(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var v={id:"changeScheduleModal",class:"modal"},y={class:"modal-box w-11/12 max-w-5xl text-black bg-white dark:bg-gray-800 dark:text-white"},b={class:"flex flex-row justify-center text-center"},w=(0,r.createElementVNode)("h2",{class:"font-bold text-xl"}," Change Show Schedule ",-1),x=(0,r.createElementVNode)("div",{class:"my-6 font-medium"}," We are developing this feature. Check back soon. ",-1),S={class:"mb-6"},E=(0,r.createElementVNode)("div",{class:"mt-4 mb-2 text-left"},null,-1),k={key:0,class:"mb-6 text-red-700"},N=(0,r.createElementVNode)("div",null,"Please let Travis know.",-1),V={class:"flex flex-row justify-center"};const C={__name:"ChangeShowSchedule",props:{show:Object},setup:function(e){var t=(0,s.useShowStore)(),n=((0,o.N5)().props,e),a=(0,r.ref)(),i=function(){document.getElementById("changeScheduleModal").close()},c=function(){var e,r=(e=m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeFromSchedule("App\\Models\\Show",n.show.id);case 2:i();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,s,"next",e)}function s(e){g(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("dialog",v,[(0,r.createElementVNode)("div",y,[(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("div",null,[w,x,(0,r.createElementVNode)("div",S,[(0,r.createTextVNode)(" For now you can "),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(c,["prevent"]),class:"text-blue-700 hover:text-blue-500"},"remove the show"),(0,r.createTextVNode)(" from the schedule and re-add it again. ")]),E,(0,r.createVNode)(p.A),a.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",k,[(0,r.createElementVNode)("div",null,(0,r.toDisplayString)(a.value),1),N])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(i,["prevent"]),class:"btn"},"Okay")])])])])])}}};var L=n(74353),A=n.n(L),_=n(83826),T=n.n(_),B=n(88569),D=n.n(B),P=n(49829);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(){j=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:V(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==n&&r.call(S,i)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==O(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(O(t)+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new N(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function M(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){M(a,r,o,i,s,"next",e)}function s(e){M(a,r,o,i,s,"throw",e)}i(void 0)}))}}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return R(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var F={class:"flex flex-row items-start"},G={class:"h-80"},z={class:"flex flex-col pl-4"},Y={class:"hover:text-blue-600 mb-3 inline-flex items-center text-3xl font-semibold relative"},$=(0,r.createElementVNode)("span",{class:"text-xs font-semibold uppercase"},"Team: ",-1),H=(0,r.createElementVNode)("span",{class:"text-xs font-semibold mr-2 uppercase"},"Show Runner: ",-1),K={class:"font-medium font-bold"},W={class:"pt-4"},q=(0,r.createElementVNode)("span",{class:"text-xs font-semibold mr-2 uppercase"},"Category: ",-1),Q={class:"font-medium text-orange-800"},Z=(0,r.createElementVNode)("span",{class:"text-xs font-semibold mr-2 uppercase"},"Sub-category: ",-1),X={class:"font-medium text-orange-800"},J={class:"mt-12 w-full h-full flex flex-col"},ee=(0,r.createElementVNode)("div",{class:"flex-grow"},null,-1),te={key:0},ne={key:0},re={key:1},oe={key:0},ae={key:1},ie={key:1},se=["disabled"],ce={key:0,class:"loading loading-dots text-white"},le={key:1,class:""},ue={key:2},de=["disabled"],fe={key:0,class:"loading loading-dots text-white"},pe={key:1},he={key:2},me={key:2,class:"mt-4 text-red-600"};const ge={__name:"ShowManageHeader",props:{show:Object,team:Object,can:Object},setup:function(e){var t=(0,r.defineAsyncComponent)((function(){return Promise.all([n.e(3660),n.e(2266)]).then(n.bind(n,72266))}));A().extend(T()),A().extend(D());var a,i,c=(0,s.useShowStore)(),l=(0,u.useUserStore)(),p=(0,d.useNotificationStore)(),h=(0,o.N5)().props,m=e,g=(0,r.ref)(),v=(0,r.computed)((function(){var e=A()();if(c.scheduleDetails&&c.scheduleDetails.broadcastDates){var t=JSON.parse(c.scheduleDetails.broadcastDates);if(Array.isArray(t.broadcastDates)){var n=t.broadcastDates.map((function(e){return A().tz(e,t.timezone)})).filter((function(t){return t.isAfter(e)})).sort((function(e,t){return e-t}));return n.length>0?n[0].toISOString():null}}return null})),y=(0,r.computed)((function(){return A()(c.scheduleDetails.startTime).isAfter(A()())})),b=function(e,t){var n=document.getElementById(e);if(n){var r=new MutationObserver((function(e){var r,o=U(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;"attributes"===a.type&&"open"===a.attributeName&&(n.hasAttribute("open")||t())}}catch(e){o.e(e)}finally{o.f()}}));return r.observe(n,{attributes:!0}),r}},w=function(){var e=I(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.setUpdatingStatus(!0,h.user.name,m.show.slug);case 3:document.getElementById("addShowToScheduleModal").showModal(),p.setToastNotification("Show meta loaded.","info"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),g.value="Failed to set saving state. Please try again.",p.setToastNotification(g.value,"error",1e4);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=I(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.setUpdatingStatus(!0,h.user.name,m.show.slug);case 3:document.getElementById("changeScheduleModal").showModal(),p.setToastNotification("Show meta loaded.","info"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),g.value="Failed to set saving state. Please try again.",p.setToastNotification(g.value,"error",1e4);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,r.onMounted)(I(j().mark((function e(){var t;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b("addShowToScheduleModal",I(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setUpdatingStatus(!1,h.user.name,m.show.slug);case 2:case"end":return e.stop()}}),e)})))),i=b("changeScheduleModal",I(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setUpdatingStatus(!1,h.user.name,m.show.slug);case 2:case"end":return e.stop()}}),e)})))),!(t=m.show.meta)||!t.isUpdatingSchedule||t.updatedBy!==h.user.name){e.next=6;break}return e.next=6,c.setUpdatingStatus(!1,h.user.name,m.show.slug);case 6:case"end":return e.stop()}}),e)})))),(0,r.onBeforeUnmount)((function(){a&&a.disconnect(),i&&i.disconnect()})),function(n,o){var a,i,s=(0,r.resolveComponent)("Link"),u=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",F,[(0,r.createVNode)(s,{href:"/shows/".concat(e.show.slug),class:"uppercase"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",G,[(0,r.createVNode)((0,r.unref)(f.A),{image:e.show.image,alt:"'show poster'",class:"w-60 object-contain mr-2 justify-left"},null,8,["image"])])]})),_:1},8,["href"]),(0,r.createElementVNode)("div",z,[(0,r.createVNode)(s,{href:"/shows/".concat(e.show.slug),class:"uppercase"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("span",Y,(0,r.toDisplayString)(e.show.name),1)]})),_:1},8,["href"]),(0,r.createElementVNode)("div",null,[$,(0,r.createVNode)(s,{href:"/teams/".concat(e.team.slug,"/manage"),class:"text-blue-500 hover:text-blue-600 ml-2 uppercase font-bold"},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.team.name),1)]})),_:1},8,["href"])]),(0,r.createElementVNode)("div",null,[H,(0,r.createElementVNode)("span",K,(0,r.toDisplayString)(e.show.showRunner.name),1)]),(0,r.createElementVNode)("div",W,[q,(0,r.createElementVNode)("span",Q,(0,r.toDisplayString)(null===(a=e.show)||void 0===a||null===(a=a.category)||void 0===a?void 0:a.name),1)]),(0,r.createElementVNode)("div",null,[Z,(0,r.createElementVNode)("span",X,(0,r.toDisplayString)(null===(i=e.show)||void 0===i||null===(i=i.subCategory)||void 0===i?void 0:i.name),1)]),(0,r.createElementVNode)("div",J,[ee,(0,r.unref)(c).isScheduled&&(0,r.unref)(c).scheduleDetails?((0,r.openBlock)(),(0,r.createElementBlock)("div",te,[v.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",ne,[(0,r.createTextVNode)(" The next broadcast date is "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(l).formatDateTimeFromUtcToUserTimezone(v.value))+" "+(0,r.toDisplayString)((0,r.unref)(l).timezoneAbbreviation),1),(0,r.createTextVNode)(". "),(0,r.createVNode)(P.A,{dateTime:v.value,class:(0,r.normalizeClass)("text-yellow-500")},null,8,["dateTime"])])):y.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",re,[(0,r.createTextVNode)(" The next broadcast date is "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(l).formatDateTimeFromUtcToUserTimezone((0,r.unref)(c).scheduleDetails.startTime))+" "+(0,r.toDisplayString)((0,r.unref)(l).timezoneAbbreviation),1),(0,r.createTextVNode)(". "),(0,r.createVNode)(P.A,{dateTime:(0,r.unref)(c).scheduleDetails.startTime,class:(0,r.normalizeClass)("text-yellow-500")},null,8,["dateTime"])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)(" Your show is currently scheduled as "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(c).scheduleDetails.type),1),(0,r.createTextVNode)(". "),"one-time"===(0,r.unref)(c).scheduleDetails.type?((0,r.openBlock)(),(0,r.createElementBlock)("div",oe,[(0,r.createTextVNode)(" It will start on "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(l).formatDateTimeFromUtcToUserTimezone((0,r.unref)(c).scheduleDetails.startTime))+" "+(0,r.toDisplayString)((0,r.unref)(l).timezoneAbbreviation),1),(0,r.createTextVNode)(" and last for "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(c).scheduleDetails.durationMinutes)+" minutes",1),(0,r.createTextVNode)(". ")])):((0,r.openBlock)(),(0,r.createElementBlock)("div",ae,[Array.isArray((0,r.unref)(c).scheduleDetails.daysOfWeek)?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createTextVNode)(" It recurs on "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(c).scheduleDetails.daysOfWeek.join(", ")),1)],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)(" It recurs on "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(c).scheduleDetails.daysOfWeek),1)],64)),(0,r.createTextVNode)(" starting at "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(l).formatTimeFromDateInUserTimezone((0,r.unref)(c).scheduleDetails.startTime))+" "+(0,r.toDisplayString)((0,r.unref)(l).timezoneAbbreviation),1),(0,r.createTextVNode)(" with each occurrence lasting "),(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)((0,r.unref)(c).scheduleDetails.durationMinutes)+" minutes",1),(0,r.createTextVNode)(". ")]))])])):(0,r.createCommentVNode)("",!0),e.can.editShow?((0,r.openBlock)(),(0,r.createElementBlock)("div",ie,[(0,r.unref)(c).isScheduled?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:w,disabled:(0,r.unref)(c).loadingUpdatingStatus||(0,r.unref)(c).isUpdatingSchedule||(0,r.unref)(c).isSaving,class:"btn btn-lg bg-green-500 hover:bg-green-700 border-green-500 text-white drop-shadow-lg py-2 flex flex-col disabled:text-white"},[(0,r.unref)(c).loadingUpdatingStatus?((0,r.openBlock)(),(0,r.createElementBlock)("span",ce)):(0,r.unref)(c).isUpdatingSchedule||(0,r.unref)(c).isSaving?((0,r.openBlock)(),(0,r.createElementBlock)("span",ue,"The schedule is being updated...")):((0,r.openBlock)(),(0,r.createElementBlock)("span",le,[(0,r.createVNode)(u,{icon:["fas","calendar-plus"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Add Show To Schedule ")]))],8,se)),(0,r.unref)(c).isScheduled?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:x,disabled:(0,r.unref)(c).loadingUpdatingStatus||(0,r.unref)(c).isUpdatingSchedule||(0,r.unref)(c).isSaving,class:"btn btn-lg bg-indigo-500 hover:bg-indigo-700 border-indigo-500 text-white drop-shadow-lg py-2 flex flex-col"},[(0,r.unref)(c).loadingUpdatingStatus?((0,r.openBlock)(),(0,r.createElementBlock)("span",fe)):(0,r.unref)(c).isUpdatingSchedule||(0,r.unref)(c).isSaving?((0,r.openBlock)(),(0,r.createElementBlock)("span",he,"The schedule is being updated...")):((0,r.openBlock)(),(0,r.createElementBlock)("span",pe,[(0,r.createVNode)(u,{icon:["fas","calendar-alt"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Change Schedule ")]))],8,de)):(0,r.createCommentVNode)("",!0),(0,r.unref)(c).isUpdatingSchedule?((0,r.openBlock)(),(0,r.createElementBlock)("div",me,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(c).updatedBy)+" is currently updating the schedule...",1)])):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)])])]),(0,r.createVNode)((0,r.unref)(t),{show:e.show},{"form-title":(0,r.withCtx)((function(){return[(0,r.createTextVNode)(" Add your show to the schedule ")]})),"form-description":(0,r.withCtx)((function(){return[(0,r.createTextVNode)(" NOTE: You may want to schedule episodes individually. ")]})),"button-label":(0,r.withCtx)((function(){return[(0,r.createTextVNode)(" Add ")]})),_:1},8,["show"]),(0,r.createVNode)(C,{show:e.show},null,8,["show"])])}}};var ve=n(61762),ye=n(61273),be=n(63756),we=n(7734),xe=(n(85967),n(6279)),Se=n.n(xe);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function ke(){ke=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:V(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==n&&r.call(S,i)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ee(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ee(t)+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new N(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Ne(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Ve={key:0},Ce={key:1},Le={class:"modal-box h-fit bg-white text-black"},Ae={key:0},_e=(0,r.createElementVNode)("h3",{class:"text-center mb-2"},"Episode is Published",-1),Te=(0,r.createElementVNode)("p",{class:"text-center mb-2"}," Please contact the notTV Team if you need to change the episode status. This is because the episode is already promoted and distributed. ",-1),Be={class:"text-center"},De=["href"],Pe={key:0,class:"text-center mt-2"},Oe={key:1},je={key:0},Me=(0,r.createElementVNode)("h2",{class:"text-center mb-2"},"Change the Episode Status:",-1),Ie=["onClick"],Ue={key:1},Re=(0,r.createElementVNode)("h3",{class:"text-center mb-2"},"Set the Scheduled Release Date and Time:",-1),Fe={class:"text-center"},Ge=(0,r.createElementVNode)("form",{method:"dialog",class:"modal-backdrop"},[(0,r.createElementVNode)("button",null,"close")],-1),ze=["id"],Ye={class:"modal-box"},$e=(0,r.createElementVNode)("h3",{class:"text-center font-bold text-lg"},"Are you sure you want to publish?",-1),He=(0,r.createElementVNode)("p",{class:"text-center py-4"},"This action cannot be undone. When you publish an episode it registers it on the blockchain and promotes it on the network.",-1),Ke={class:"modal-action"},We={method:"dialog"},qe=(0,r.createElementVNode)("button",{class:"btn text-white bg-orange-600 hover:bg-orange-500"},"No, cancel",-1),Qe=["id"],Ze={class:"modal-box bg-gray-100 text-black"},Xe=(0,r.createElementVNode)("h3",{class:"text-center font-bold text-lg"},"Change Status (Admin Only)",-1),Je=(0,r.createElementVNode)("p",{class:"text-center py-4"},'This is the Admin Override to change the episode status. If the episode is already published and you un-publish it the episode will be reverted to "Review" and become inaccessible to the public.',-1),et={class:"w-full flex justify-center mt-2 pb-4"},tt={method:"dialog"},nt=(0,r.createElementVNode)("p",{class:"text-center py-4"},[(0,r.createElementVNode)("span",{class:"font-semibold"},"Please Note:"),(0,r.createTextVNode)(" Un-publishing will have an adverse affect on the promotional links already used.")],-1);const rt={__name:"ManageShowEpisodesStatuses",props:{episodeId:"",episodeUlid:"",episodeName:"",episodeSlug:"",episodeStatus:"",episodeStatusId:"",episodeStatuses:Object,showName:"",showSlug:"",scheduledDateTime:String},setup:function(e){var t=(0,c.useTeamStore)(),n=(0,s.useShowStore)(),a=(0,u.useUserStore)(),i=(0,d.useNotificationStore)();A().extend(Se()),A().extend(D()),A().extend(T());var l=e,f=((0,r.ref)(a.timezone),(0,r.ref)(""));(0,r.watchEffect)((function(){a.timezone&&(f.value=A().utc(l.scheduledDateTime).tz(a.timezone).format())}));(0,r.ref)("");var p=l.episodeId+"episodeStatuses",h=(0,r.ref)(null),m=(0,r.ref)(!1);function g(){document.getElementById(p).showModal()}var v=function(){m.value=!m.value},y=function(e){b.value=e,h=e.date,x(h)};console.log("we already have the user timezone: "+a.timezone);var b=(0,r.ref)(""),w=(0,r.ref)(""),x=function(e){b.value?w.value=function(e,t){return(0,be.GP)(e,"yyyy-MM-dd HH:mm:ssXXX",{userTimezone:t})}(new(A())(e).tz(a.timezone).format()):w.value=""};function S(e,t){return E.apply(this,arguments)}function E(){var e;return e=ke().mark((function e(t,r){var a,s,c,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/shows/episode/changeEpisodeStatus",{episode_id:t,new_status_id:r,scheduled_release_dateTime:w.value});case 3:a=e.sent,i.setToastNotification(a.data.message,"success"),a.data.alert?alert(a.data.alert):(s=a.data,-1!==(c=n.episodes.data.findIndex((function(e){return e.id===s.episode_id})))&&(n.episodes.data[c].episodeStatusId=s.episode_status_id,n.episodes.data[c].scheduledReleaseDateTime=s.scheduled_release_dateTime,(l=n.episodeStatuses.find((function(e){return e.id===s.episode_status_id})))&&(n.episodes.data[c].episodeStatus=l.name))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&(i.setToastNotification(e.t0.response.data,"error"),n.errorMessage=e.t0.response.data.error);case 11:document.getElementById(p).close(),o.QB.reload();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})),E=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ne(a,r,o,i,s,"next",e)}function s(e){Ne(a,r,o,i,s,"throw",e)}i(void 0)}))},E.apply(this,arguments)}var k=function(){document.getElementById(p).close(),document.getElementById("confirmPublishModal."+l.episodeId).close(),document.getElementById("adminChangeStatusModal."+l.episodeId).close(),o.QB.reload()},N=(0,r.computed)((function(){return{"btn m-1 w-fit font-semibold text-xl text-orange-400":1===l.episodeStatusId,"btn m-1 w-fit text-xl text-green-400":2===l.episodeStatusId,"btn m-1 w-fit font-semibold text-xl text-green-600":3===l.episodeStatusId,"btn m-1 w-fit font-bold text-xl text-green-600":4===l.episodeStatusId,"btn m-1 w-fit font-semibold text-xl text-purple-700":5===l.episodeStatusId,"btn m-1 w-fit font-italic text-xl text-pink-500":6===l.episodeStatusId,"btn m-1 w-fit font-bold text-xl light:text-black dark:text-white":7===l.episodeStatusId,"btn m-1 w-fit font-medium text-xl text-gray-500":8===l.episodeStatusId,"btn m-1 w-fit font-semibold font-italic text-xl text-red-700":9===l.episodeStatusId,"btn m-1 w-fit font-bold text-xl text-red-800":10===l.episodeStatusId}}));return function(n,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.unref)(a).isAdmin?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ce,[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["h-fit py-1",N.value]),onClick:o[1]||(o[1]=function(e){return g()})},(0,r.toDisplayString)(e.episodeStatus),3)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ve,[(0,r.unref)(t).can.editShow&&9!==(0,r.unref)(l).episodeStatusId&&10!==(0,r.unref)(l).episodeStatusId?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:(0,r.normalizeClass)(N.value),onClick:o[0]||(o[0]=function(e){return g()})},(0,r.toDisplayString)(e.episodeStatus),3)):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).can.editShow&&9!==(0,r.unref)(l).episodeStatusId&&10!==(0,r.unref)(l).episodeStatusId?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:(0,r.normalizeClass)(["cursor-not-allowed",N.value])},(0,r.toDisplayString)(e.episodeStatus),3))])),(0,r.createElementVNode)("dialog",{id:p,class:"modal"},[(0,r.createElementVNode)("div",Le,[7===(0,r.unref)(l).episodeStatusId?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ae,[_e,Te,(0,r.createElementVNode)("p",Be,[(0,r.createTextVNode)(" Email "),(0,r.createElementVNode)("a",{class:"text-blue-600 hover:text-blue-500",href:"mailto:hello@not.tv?subject=Need%20Help%20With%20Published%20Episode%20ID:%20".concat((0,r.unref)(l).episodeUlid,"&body=Episode%20ID:%20").concat((0,r.unref)(l).episodeUlid,"%0AEpisode%20Name:%20").concat((0,r.unref)(l).episodeName,"%0AShow%20Name:%20").concat((0,r.unref)(l).showName)},"hello@not.tv",8,De),(0,r.createTextVNode)(" for assistance ")]),(0,r.unref)(a).isAdmin?((0,r.openBlock)(),(0,r.createElementBlock)("p",Pe,[(0,r.createElementVNode)("button",{onClick:o[2]||(o[2]=function(e){document.getElementById("adminChangeStatusModal."+l.episodeId).showModal()}),class:"btn btn-wide my-2 text-white bg-orange-600 hover:bg-orange-500"},"Change Status (admin only)")])):(0,r.createCommentVNode)("",!0)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Oe,[(0,r.unref)(m)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",je,[Me,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.episodeStatuses,(function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:"text-center"},[(0,r.createElementVNode)("div",{class:"btn btn-wide my-1",onClick:function(n){return r=e.episodeId,void(6===(o=t.id)?m.value=!m.value:7===o?document.getElementById("confirmPublishModal."+l.episodeId).showModal():6!==o&&S(r,o));var r,o}},(0,r.toDisplayString)(t.name),9,Ie)])})),128))])),(0,r.unref)(m)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ue,[Re,(0,r.createElementVNode)("div",Fe,[(0,r.createVNode)((0,r.unref)(we.A),{date:f.value,onDateTimeSelected:y},null,8,["date"]),(0,r.createElementVNode)("button",{class:"btn my-2",onClick:o[3]||(o[3]=function(t){return S(e.episodeId,6)})},"Schedule it!"),(0,r.createElementVNode)("button",{class:"btn ml-2 my-2",onClick:v},"Cancel")])])):(0,r.createCommentVNode)("",!0)]))]),Ge]),(0,r.createElementVNode)("dialog",{id:"confirmPublishModal.".concat(e.episodeId),class:"modal"},[(0,r.createElementVNode)("div",Ye,[$e,He,(0,r.createElementVNode)("div",Ke,[(0,r.createElementVNode)("form",We,[(0,r.createElementVNode)("button",{onClick:o[4]||(o[4]=function(t){return S(e.episodeId,7)}),class:"btn text-white bg-green-600 hover:bg-green-500 mr-2"},"Yes! Publish Now!"),qe])])])],8,ze),(0,r.createElementVNode)("dialog",{id:"adminChangeStatusModal.".concat(e.episodeId),class:"modal"},[(0,r.createElementVNode)("div",Ze,[Xe,Je,(0,r.createElementVNode)("div",et,[(0,r.createElementVNode)("form",tt,[(0,r.createElementVNode)("button",{onClick:o[5]||(o[5]=function(t){return S(e.episodeId,5)}),class:"btn text-white bg-blue-600 hover:bg-blue-500 mr-2"},"Un-publish"),(0,r.createElementVNode)("button",{onClick:o[6]||(o[6]=function(t){return S(e.episodeId,9)}),class:"btn text-white bg-orange-600 hover:bg-orange-500 mr-2"},"Freeze"),(0,r.createElementVNode)("button",{onClick:o[7]||(o[7]=function(t){return S(e.episodeId,10)}),class:"btn text-white bg-red-600 hover:bg-red-500"},"Restrict")])]),nt,(0,r.createElementVNode)("p",{class:"text-center py-4"},[(0,r.createElementVNode)("span",{class:"italic"},[(0,r.createTextVNode)("Press ESC to close or "),(0,r.createElementVNode)("button",{onClick:k,class:"text-blue-600 hover:text-blue-500"},"click here"),(0,r.createTextVNode)(" to close.")])])])],8,Qe)])}}};n(19003);const ot={__name:"ManageEpisodeEditNote",props:{episode:Object},emits:["saveNoteProcessing"],setup:function(e,t){var n=t.emit,a=(0,s.useShowStore)();a.saveNoteProcessing=!1;var i=e,c=(0,o.mN)({note:""});c.note=i.episode.notes;var l=n,u=(0,r.ref)(null);function d(){c.note===i.episode.notes&&(a.noteEdit=0),f()}function f(){a.saveNoteProcessing=!0,a.notes=c.note,l("saveNoteProcessing"),axios.post("/shows/episode/notes",{notes:c.note,episodeId:i.episode.id}).then((function(e){a.noteEdit=0,console.log("note saved"),a.saveNoteProcessing=!1})).catch((function(e){console.log(e)}))}return(0,r.onMounted)((function(){u.value.focus()})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("form",{onSubmit:t[1]||(t[1]=(0,r.withModifiers)((function(){}),["prevent"]))},[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"bg-white text-black p-1 w-3/4",placeholder:"Write a note...",type:"text",ref_key:"episodeNote",ref:u,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,r.unref)(c).note=e}),onKeyup:(0,r.withKeys)(f,["enter"]),onFocusout:d},null,544),[[r.vModelText,(0,r.unref)(c).note]])],32)])}}};function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function it(){it=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:V(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==n&&r.call(S,i)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==at(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(at(t)+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new N(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function st(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var ct=function(e){return(0,r.pushScopeId)("data-v-20187ebd"),e=e(),(0,r.popScopeId)(),e},lt={key:0,class:"bg-gray-50 grid grid-cols-1 md:grid-cols-5 gap-4 p-4 mb-4 rounded-lg shadow"},ut={class:"flex items-center text-sm w-16"},dt={key:0},ft={key:1},pt={class:"hover:text-blue-600 font-semibold dark:text-blue-400 dark:hover:text-blue-200"},ht={class:"light:text-gray-600 dark:text-gray-100 text-sm flex justify-center items-center"},mt={key:2},gt={key:0},vt={class:"text-right"},yt={class:"dropdown dropdown-left"},bt={key:0},wt=ct((function(){return(0,r.createElementVNode)("br",null,null,-1)})),xt={key:1},St=ct((function(){return(0,r.createElementVNode)("br",null,null,-1)})),Et={class:"flex flex-row justify-end items-center"},kt={key:1,class:"w-full text-center p-4"},Nt=[ct((function(){return(0,r.createElementVNode)("span",{class:"loading loading-infinity loading-lg"},null,-1)})),ct((function(){return(0,r.createElementVNode)("span",{class:"ml-3"},"The episode is being deleted...",-1)}))];const Vt={__name:"ManageShowEpisode",props:{episode:Object,episodeStatuses:Object,showSlug:String,showName:String},setup:function(e){var t=(0,i.useAppSettingStore)(),n=(0,c.useTeamStore)(),a=(0,s.useShowStore)(),l=(0,u.useUserStore)(),d=e,p=((0,r.ref)(!1),l.formatLongDateTimeFromUtcToUserTimezone(d.episode.releaseDateTime)),h=l.formatDateInUserTimezone(d.episode.scheduledReleaseDateTime,"ddd DD MMM YYYY, hh:mm A "+l.timezoneAbbreviation);a.noteEdit=0;var m=(0,r.ref)(0);function g(){d.episode.notes=a.notes,m.value+=1}(0,o.mN)({note:""});function v(){a.noteEdit=d.episode.id}var y=function(){var e,t=(e=it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this show episode?")){e.next=11;break}return e.prev=2,a.episodeIsBeingDeleted=d.episode.id,e.next=6,axios.delete("/shows/".concat(d.showSlug,"/episode/").concat(d.episode.slug)).then((function(e){200===e.status?(a.errorMessage=e.data.message,o.QB.reload(),a.episodeIsBeingDeleted=0):(a.errorMessage=e.statusText,console.error("Delete request failed:",e.statusText),a.episodeIsBeingDeleted=0,o.QB.reload())})).catch((function(e){console.error("Error deleting show episode:",e),a.errorMessage=e,a.episodeIsBeingDeleted=0,o.QB.reload()}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error deleting show episode:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){st(a,r,o,i,s,"next",e)}function s(e){st(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return function(i,s){return(0,r.unref)(a).episodeIsBeingDeleted!==e.episode.id?((0,r.openBlock)(),(0,r.createElementBlock)("div",lt,[(0,r.createElementVNode)("div",ut,[e.episode.episodeNumber?((0,r.openBlock)(),(0,r.createElementBlock)("div",ft,(0,r.toDisplayString)(e.episode.episodeNumber),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",dt,(0,r.toDisplayString)(e.episode.id),1))]),(0,r.createElementVNode)("div",{onClick:s[0]||(s[0]=function(t){return(0,r.unref)(o.QB).visit("/shows/".concat(e.showSlug,"/episode/").concat(e.episode.slug,"/manage"))}),class:"hover:cursor-pointer flex items-center space-x-2"},[(0,r.createVNode)(f.A,{image:e.episode.image,alt:e.episode.name,class:"rounded-xl min-w-16 w-16 h-16 object-cover"},null,8,["image","alt"]),(0,r.createElementVNode)("span",pt,(0,r.toDisplayString)(e.episode.name),1)]),(0,r.createElementVNode)("div",ht,[e.episode.notes?(0,r.createCommentVNode)("",!0):(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:"italic",onClick:v},"Click here to add/edit a note.",512)),[[r.vShow,(0,r.unref)(a).noteEdit!==e.episode.id]]),e.episode.notes?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:m.value,onClick:v},(0,r.toDisplayString)(e.episode.notes),1)),[[r.vShow,(0,r.unref)(a).noteEdit!==e.episode.id]]):(0,r.createCommentVNode)("",!0),(0,r.unref)(a).noteEdit===e.episode.id?((0,r.openBlock)(),(0,r.createElementBlock)("div",mt,[(0,r.createVNode)((0,r.unref)(ot),{episode:e.episode,onSaveNoteProcessing:g},null,8,["episode"]),(0,r.unref)(a).saveNoteProcessing?((0,r.openBlock)(),(0,r.createElementBlock)("div",gt,"Saving...")):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",vt,[(0,r.createElementVNode)("div",yt,[(0,r.createVNode)((0,r.unref)(rt),{episodeStatus:e.episode.episodeStatus,episodeStatusId:e.episode.episodeStatusId,episodeStatuses:e.episodeStatuses,episodeId:e.episode.id,episodeUlid:e.episode.ulid,episodeName:e.episode.name,episodeSlug:e.episode.slug,showSlug:e.showSlug,showName:e.showName,scheduledDateTime:e.episode.scheduledReleaseDateTime},null,8,["episodeStatus","episodeStatusId","episodeStatuses","episodeId","episodeUlid","episodeName","episodeSlug","showSlug","showName","scheduledDateTime"])]),6===e.episode.episodeStatusId?((0,r.openBlock)(),(0,r.createElementBlock)("div",bt,[(0,r.createTextVNode)(" Scheduled for: "),wt,(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(h)),1)])):(0,r.createCommentVNode)("",!0),7===e.episode.episodeStatusId?((0,r.openBlock)(),(0,r.createElementBlock)("div",xt,[(0,r.createTextVNode)(" Released on: "),St,(0,r.createTextVNode)(" "+(0,r.toDisplayString)((0,r.unref)(p)),1)])):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",Et,[(0,r.unref)(n).can.editShow?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:s[1]||(s[1]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.showSlug,"/episode/").concat(e.episode.slug,"/edit"))}),class:"px-2 py-2 text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg mr-2 w-16 h-10"}," Edit ")):(0,r.createCommentVNode)("",!0),(0,r.unref)(n).can.manageShow&&!e.episode.isPublished?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:y,class:"px-2 py-2 text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg w-10 h-10"},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:"fa-trash-can"})])):(0,r.createCommentVNode)("",!0)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",kt,Nt))}}};var Ct=n(85072),Lt=n.n(Ct),At=n(62266),_t={insert:"head",singleton:!1};Lt()(At.A,_t);At.A.locals;var Tt=n(66262);const Bt=(0,Tt.A)(Vt,[["__scopeId","data-v-20187ebd"]]);var Dt=n(95092),Pt={class:"overflow-x-auto"},Ot=(0,r.createStaticVNode)('<div class="min-w-full divide-y divide-gray-200 grid grid-cols-1 md:grid-cols-5"><div class="font-medium p-4 text-left w-16">Ep.#</div><div class="font-medium p-4 text-left"></div><div class="font-medium p-4 text-center"></div><div class="font-medium p-4 text-right"></div><div class="font-medium p-4 text-right"></div></div>',1),jt={class:"divide-y divide-gray-200"};const Mt={__name:"ManageShowEpisodesList",setup:function(e){var t=(0,i.useAppSettingStore)(),n=(0,c.useTeamStore)(),o=(0,s.useShowStore)();return function(e,a){return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",null,[(0,r.unref)(n).can.createEpisode?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:a[0]||(a[0]=function(e){return(0,r.unref)(t).btnRedirect("/showEpisodes/".concat((0,r.unref)(o).show.slug,"/episode/create"))}),class:"ml-6 my-4 px-4 py-2 text-white font-semibold bg-green-500 hover:bg-green-600 rounded-lg disabled:bg-gray-400"}," Create Episode ")):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",Pt,[Ot,(0,r.createElementVNode)("div",jt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(o).episodes.data,(function(e){return(0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Bt),{key:e.id,episode:e,showSlug:(0,r.unref)(o).show.slug,showName:(0,r.unref)(o).show.name,episodeStatuses:(0,r.unref)(o).episodeStatuses},null,8,["episode","showSlug","showName","episodeStatuses"])})),128))])]),(0,r.createVNode)((0,r.unref)(Dt.A),{data:(0,r.unref)(o).episodes},null,8,["data"])],64)}}};var It={class:"min-w-full divide-y divide-gray-200"},Ut=[(0,r.createElementVNode)("thead",{class:"divide-y divide-gray-200"},[(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap"},[(0,r.createElementVNode)("div",{class:"flex items-center"},[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("div",{class:"text-sm font-medium pl-14"}," Name ")])])]),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"}," Role "),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"}," Completed Assignments "),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"}," Total Credits "),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right"}," Status ")])],-1),(0,r.createElementVNode)("tbody",{class:"bg-white divide-y divide-gray-200"},null,-1)];const Rt={},Ft=(0,Tt.A)(Rt,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("table",It,Ut)}]]);var Gt=n(47212),zt=n(28256),Yt=n(64339),$t={class:"divide-y divide-gray-200"},Ht=[(0,r.createElementVNode)("tr",null,[(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap"},[(0,r.createElementVNode)("div",{class:"flex items-center"},[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("div",{class:"text-sm font-semibold pl-14"}," Date ")])])]),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold"}," Start Time "),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold"}," End Time "),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold"}," Duration "),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-right"}," Expires in "),(0,r.createElementVNode)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-right"})],-1)];const Kt={},Wt=(0,Tt.A)(Kt,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("thead",$t,Ht)}]]);var qt={class:"bg-white divide-y divide-gray-200"},Qt=["onMouseover","onClick"],Zt={class:"px-6 py-4 whitespace-nowrap"},Xt={key:0,class:"text-xs uppercase text-orange-700 font-semibold break-words"},Jt={class:"px-6 py-4 whitespace-nowrap"},en={class:"px-6 py-4 whitespace-nowrap"},tn={class:"px-6 py-4 whitespace-nowrap"},nn={class:"px-6 py-4 whitespace-nowrap"},rn={key:0,class:"bg-green-500 text-white rounded-full p-1 text-xs"},on={key:1,class:"bg-orange-500 text-white rounded-full p-1 text-xs"},an={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-1"},sn=["onClick"],cn=["onClick"],ln={key:0,class:"copy-message"};const un={__name:"RecordingsListBody",emits:["select-recording"],setup:function(e,t){var n=t.emit,o=(0,Yt.useRecordingStore)(),a=n,i=(0,r.reactive)({hoveredRow:null,showCopyMessage:!1,copyMessage:""}),s=(0,r.computed)((function(){return o.formattedRecordings})),c=function(){document.getElementById("confirmAddToEpisodeModal").showModal()},l=function(){document.getElementById("confirmSaveToPremiumModal").showModal()},u=(0,r.computed)((function(){return function(e){var t;return{"hover:bg-blue-100 cursor-pointer":i.hoveredRow===e,"bg-gray-200":(null===(t=o.selectedRecording)||void 0===t?void 0:t.id)===e,"bg-green-100":o.nowPlayingRecordingId===e}}}));return function(e,t){var n=(0,r.resolveComponent)("font-awesome-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("tbody",qt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value,(function(e){var s,d,f,p;return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{key:e.id,onMouseover:function(t){return i.hoveredRow=e.id},onMouseleave:t[0]||(t[0]=function(e){return i.hoveredRow=null}),onClick:function(t){return function(e){o.setSelectedRecording(e),a("select-recording")}(e)},class:(0,r.normalizeClass)(u.value(e.id))},[(0,r.createElementVNode)("td",Zt,[(0,r.createElementVNode)("div",null,(0,r.toDisplayString)(null==e||null===(s=e.meta)||void 0===s?void 0:s.title),1),(0,r.createElementVNode)("div",null,(0,r.toDisplayString)(e.start_date_local),1),e.comment?((0,r.openBlock)(),(0,r.createElementBlock)("div",Xt,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)({"text-indigo-600":"automated recording"!==e.comment})},(0,r.toDisplayString)(e.comment),3)])):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("td",Jt,(0,r.toDisplayString)(e.start_time_local),1),(0,r.createElementVNode)("td",en,(0,r.toDisplayString)(e.end_time_local),1),(0,r.createElementVNode)("td",tn,(0,r.toDisplayString)((p=e.total_milliseconds_recorded,o.formatDuration(p))),1),(0,r.createElementVNode)("td",nn,[null!==(d=e.meta)&&void 0!==d&&d.good?((0,r.openBlock)(),(0,r.createElementBlock)("span",rn,"✔️")):(0,r.createCommentVNode)("",!0),null!==(f=e.meta)&&void 0!==f&&f.ng?((0,r.openBlock)(),(0,r.createElementBlock)("span",on,"❌")):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("td",an,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(t){return n=e.share_url,void navigator.clipboard.writeText(n).then((function(){i.copyMessage="Video share URL copied!",i.showCopyMessage=!0,setTimeout((function(){i.showCopyMessage=!1}),1e3)})).catch((function(e){console.error("Failed to copy: ",e)}));var n}),["stop"]),class:"btn btn-xs bg-orange-200 hover:bg-orange-300 text-black"},[(0,r.createVNode)(n,{icon:"fa-share",class:""}),(0,r.createTextVNode)(" Share ")],8,sn),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(c,["stop"]),class:"btn btn-xs"},"Add To Episode"),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(t){return function(e){o.setSelectedRecording(e),document.getElementById("confirmDownloadModal").showModal()}(e)}),["stop"]),class:"btn btn-xs btn-info"},"Download",8,cn),(0,r.createElementVNode)("div",{onClick:(0,r.withModifiers)(l,["stop"]),class:"btn btn-xs"},"Save to Premium Storage"),(0,r.createVNode)(r.Transition,{name:"fade"},{default:(0,r.withCtx)((function(){return[i.showCopyMessage?((0,r.openBlock)(),(0,r.createElementBlock)("div",ln,(0,r.toDisplayString)(i.copyMessage),1)):(0,r.createCommentVNode)("",!0)]})),_:1})])],42,Qt)})),128))])}}};var dn=n(28941),fn={insert:"head",singleton:!1};Lt()(dn.A,fn);dn.A.locals;const pn=un;var hn={key:0,class:"join"},mn=["onClick"];const gn={__name:"RecordingsPaginator",props:{totalPages:{type:Number,required:!0},currentPage:{type:Number,required:!0}},emits:["update"],setup:function(e,t){var n=t.emit,o=n;return function(t,n){return e.totalPages>1?((0,r.openBlock)(),(0,r.createElementBlock)("div",hn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.totalPages,(function(t){return(0,r.openBlock)(),(0,r.createElementBlock)("button",{key:t,class:(0,r.normalizeClass)(["join-item","btn",{"btn-active":e.currentPage===t}]),onClick:function(e){return function(e){o("update",e)}(t)}},(0,r.toDisplayString)(t),11,mn)})),128))])):(0,r.createCommentVNode)("",!0)}}};var vn=n(69092),yn={insert:"head",singleton:!1};Lt()(vn.A,yn);vn.A.locals;const bn=(0,Tt.A)(gn,[["__scopeId","data-v-7ac11629"]]);var wn={id:"confirmRecordingPlaybackModal",class:"modal"},xn={class:"modal-box w-full items-center text-center text-black bg-white dark:bg-gray-800 dark:text-white"},Sn=(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")],-1),En=(0,r.createElementVNode)("h3",{class:"font-bold text-lg"},null,-1),kn={class:"py-4 text-xl mt-4"},Nn=(0,r.createElementVNode)("br",null,null,-1),Vn={class:"font-semibold"},Cn={key:0,class:"my-2 text-left"},Ln=(0,r.createElementVNode)("span",{class:"font-semibold"},"Path: ",-1),An={key:1,class:"my-2 text-left"},_n=(0,r.createElementVNode)("span",{class:"font-semibold"},"Comment: ",-1),Tn=(0,r.createElementVNode)("form",{method:"dialog",class:"modal-backdrop"},[(0,r.createElementVNode)("button",null,"close")],-1),Bn=(0,r.createElementVNode)("dialog",{id:"confirmAddToEpisodeModal",class:"modal"},[(0,r.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")]),(0,r.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Add Recording To Episode"),(0,r.createElementVNode)("p",{class:"py-4"},"We are working on this feature!"),(0,r.createElementVNode)("div",{class:"modal-action"},[(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn"},"Okay")])])])],-1),Dn=(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")],-1),Pn=(0,r.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Confirm Download",-1),On=(0,r.createElementVNode)("p",{class:"py-4"},"Are you sure you want to download the recording?",-1),jn=(0,r.createElementVNode)("dialog",{id:"downloadStarted",class:"modal"},[(0,r.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")]),(0,r.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Download Started"),(0,r.createElementVNode)("p",{class:"py-4"},"Your recording is now downloading!"),(0,r.createElementVNode)("div",{class:"modal-action"},[(0,r.createElementVNode)("form",{method:"dialog",class:"w-full flex justify-center"},[(0,r.createElementVNode)("button",{class:"btn"},"Okay")])])])],-1),Mn=(0,r.createElementVNode)("dialog",{id:"confirmSaveToPremiumModal",class:"modal"},[(0,r.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")]),(0,r.createElementVNode)("h3",{class:"font-bold text-lg pt-8"},"Save To Premium Storage"),(0,r.createElementVNode)("p",{class:"py-4"},"We are working on this feature!"),(0,r.createElementVNode)("div",{class:"modal-action"},[(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn"},"Okay")])])])],-1);const In={__name:"ShowRecordingsModals",setup:function(e){var t=(0,Yt.useRecordingStore)(),n=(0,r.computed)((function(){return t.selectedRecording})),o=function(){t.downloadRecording()},a=function(){t.openVideo(),document.getElementById("confirmRecordingPlaybackModal").close()};return function(e,t){var i;return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("dialog",wn,[(0,r.createElementVNode)("div",xn,[Sn,En,(0,r.createElementVNode)("p",kn,[(0,r.createTextVNode)("Would you like to play the recording"),Nn,(0,r.createTextVNode)(" from "),(0,r.createElementVNode)("span",Vn,(0,r.toDisplayString)(null===(i=n.value)||void 0===i?void 0:i.start_date_local),1),(0,r.createTextVNode)("?")]),n.value&&n.value.path?((0,r.openBlock)(),(0,r.createElementBlock)("p",Cn,[Ln,(0,r.createTextVNode)((0,r.toDisplayString)(n.value.path),1)])):(0,r.createCommentVNode)("",!0),n.value&&n.value.comment?((0,r.openBlock)(),(0,r.createElementBlock)("p",An,[_n,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(n.value.comment),1)])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("button",{class:"mt-4 btn",onClick:a},"Play")]),Tn]),Bn,(0,r.createElementVNode)("dialog",{id:"confirmDownloadModal",class:"modal"},[(0,r.createElementVNode)("div",{class:"modal-box text-center text-black bg-white dark:bg-gray-800 dark:text-white"},[Dn,Pn,On,(0,r.createElementVNode)("div",{class:"modal-action"},[(0,r.createElementVNode)("form",{method:"dialog",class:"w-full flex justify-center"},[(0,r.createElementVNode)("button",{onClick:o,class:"btn btn-info w-20"},"Yes")])])])]),jn,Mn])}}};var Un=n(17111);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Rn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(){zn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:V(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==n&&r.call(S,i)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Rn(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Rn(t)+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new N(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Yn(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var $n={key:0,class:"flex w-fit mx-auto justify-center my-8"},Hn=[(0,r.createElementVNode)("span",{class:"loading loading-spinner text-info text-lg"},null,-1)],Kn={key:1},Wn={class:"p-4 max-w-4xl mx-auto bg-white rounded-lg shadow-md"},qn={class:"flex flex-col lg:flex-row lg:space-x-4 mt-2"},Qn=(0,r.createElementVNode)("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),Zn=(0,r.createElementVNode)("label",{for:"notes",class:"block text-sm font-medium text-gray-700"},"Notes",-1),Xn={class:"flex flex-col justify-start items-start"},Jn={class:"form-control"},er={class:"cursor-pointer label"},tr=(0,r.createElementVNode)("span",{class:"label-text ml-2 block text-sm font-medium text-gray-700"},"Good",-1),nr={class:"form-control"},rr={class:"cursor-pointer label"},or=(0,r.createElementVNode)("span",{class:"label-text ml-2 block text-sm font-medium text-gray-700"},"NG",-1),ar=(0,r.createElementVNode)("label",{for:"updated_by",class:"block text-sm font-medium text-gray-700"},"Last Updated By",-1),ir=(0,r.createElementVNode)("label",{for:"updated_at",class:"block text-sm font-medium text-gray-700"},"Last Updated At",-1),sr=(0,r.createElementVNode)("button",{type:"submit",class:"w-full py-2 px-4 bg-indigo-600 text-white font-semibold rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50"},"Save",-1),cr={class:"mt-4 lg:mt-0 lg:ml-4 max-w-lg bg-gray-50 p-4 rounded-lg shadow-sm flex-1"},lr={class:"flex justify-between items-center mb-4"},ur=(0,r.createElementVNode)("h3",{class:"text-lg font-semibold"},"Recording Details",-1),dr={key:0},fr=(0,r.createElementVNode)("strong",null,"Comment:",-1),pr=(0,r.createElementVNode)("strong",null,"Stream Name:",-1),hr=(0,r.createElementVNode)("strong",null,"Path:",-1),mr=(0,r.createElementVNode)("strong",null,"File Extension:",-1),gr=(0,r.createElementVNode)("strong",null,"Mime Type:",-1),vr=(0,r.createElementVNode)("strong",null,"Start DateTime:",-1),yr=(0,r.createElementVNode)("strong",null,"End DateTime:",-1),br=(0,r.createElementVNode)("strong",null,"Bytes Recorded:",-1),wr=(0,r.createElementVNode)("strong",null,"Seconds Spent Recording:",-1),xr=(0,r.createElementVNode)("strong",null,"Total Milliseconds Recorded:",-1),Sr=(0,r.createElementVNode)("strong",null,"Milliseconds First Packet:",-1),Er=(0,r.createElementVNode)("strong",null,"Milliseconds Last Packet:",-1),kr=(0,r.createElementVNode)("strong",null,"Reason for Exit:",-1),Nr=(0,r.createElementVNode)("strong",null,"Human Readable Reason for Exit:",-1),Vr=(0,r.createElementVNode)("strong",null,"Mist Stream Wildcard ID:",-1),Cr=(0,r.createElementVNode)("strong",null,"Model Type:",-1),Lr=(0,r.createElementVNode)("strong",null,"Model ID:",-1),Ar={class:"break-all"},_r=(0,r.createElementVNode)("strong",null,"Download URL:",-1),Tr=["href"],Br={class:"break-all"},Dr=(0,r.createElementVNode)("strong",null,"Share URL:",-1),Pr=["href"],Or={class:"break-all"},jr=(0,r.createElementVNode)("strong",null,"Playback Stream Name:",-1),Mr=(0,r.createElementVNode)("strong",null,"Expires At:",-1);const Ir={__name:"SelectedRecordingMeta",setup:function(e){var t=(0,Yt.useRecordingStore)(),n=(0,u.useUserStore)(),o=(0,r.ref)(null),a=(0,r.ref)({title:"",notes:"",updated_by:"",updated_at:"",good:!1,ng:!1}),i=function(){var e,n=(e=zn().mark((function e(){return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateRecording(a.value);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Yn(a,r,o,i,s,"next",e)}function s(e){Yn(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),s=function(){document.getElementById("confirmRecordingPlaybackModal").showModal()};(0,r.watch)((function(){return t.selectedRecording}),(function(e){e&&(o.value=e,a.value=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.meta),a.value.updated_at&&(a.value.updated_at=n.formatDateInUserTimezone(a.value.updated_at,"YYYY-MM-DDTHH:mm")))}),{immediate:!0}),(0,r.watch)((function(){return a.value.good}),(function(e){e&&(a.value.ng=!1)})),(0,r.watch)((function(){return a.value.ng}),(function(e){e&&(a.value.good=!1)}));var c=function(e){return n.formatDateInUserTimezone(e,"YYYY-MM-DD HH:mm:ss")},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]};return function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.unref)(t).isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",$n,Hn)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Kn,[(0,r.createElementVNode)("div",Wn,[(0,r.createElementVNode)("div",qn,[(0,r.createElementVNode)("form",{onSubmit:(0,r.withModifiers)(i,["prevent"]),class:"space-y-4 flex-1"},[(0,r.createElementVNode)("div",null,[Qn,(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"title","onUpdate:modelValue":n[0]||(n[0]=function(e){return a.value.title=e}),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50"},null,512),[[r.vModelText,a.value.title]])]),(0,r.createElementVNode)("div",null,[Zn,(0,r.createVNode)(Un.A,{modelValue:a.value.notes,"onUpdate:modelValue":n[1]||(n[1]=function(e){return a.value.notes=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50",name:"notes",id:"notes",rows:"10",cols:"30"},null,8,["modelValue"])]),(0,r.createElementVNode)("div",Xn,[(0,r.createElementVNode)("div",Jn,[(0,r.createElementVNode)("label",er,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=function(e){return a.value.good=e}),class:"checkbox checkbox-info text-md"},null,512),[[r.vModelCheckbox,a.value.good]]),tr])]),(0,r.createElementVNode)("div",nr,[(0,r.createElementVNode)("label",rr,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":n[3]||(n[3]=function(e){return a.value.ng=e}),class:"checkbox checkbox-warning text-md"},null,512),[[r.vModelCheckbox,a.value.ng]]),or])])]),(0,r.createElementVNode)("div",null,[ar,(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"updated_by","onUpdate:modelValue":n[4]||(n[4]=function(e){return a.value.updated_by=e}),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50",readonly:""},null,512),[[r.vModelText,a.value.updated_by]])]),(0,r.createElementVNode)("div",null,[ir,(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"updated_at","onUpdate:modelValue":n[5]||(n[5]=function(e){return a.value.updated_at=e}),type:"datetime-local",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50",readonly:""},null,512),[[r.vModelText,a.value.updated_at]])]),sr],32),(0,r.createElementVNode)("div",cr,[(0,r.createElementVNode)("div",lr,[ur,(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(s,["prevent"]),class:"py-2 px-4 bg-green-600 text-white font-semibold rounded-md shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"},"Play")]),o.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",dr,[(0,r.createElementVNode)("p",null,[fr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.comment),1)]),(0,r.createElementVNode)("p",null,[pr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.stream_name),1)]),(0,r.createElementVNode)("p",null,[hr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.path),1)]),(0,r.createElementVNode)("p",null,[mr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.file_extension),1)]),(0,r.createElementVNode)("p",null,[gr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.mime_type),1)]),(0,r.createElementVNode)("p",null,[vr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(c(o.value.start_dateTime)),1)]),(0,r.createElementVNode)("p",null,[yr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(c(o.value.end_dateTime)),1)]),(0,r.createElementVNode)("p",null,[br,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.bytes_recorded)+" ("+(0,r.toDisplayString)(l(o.value.bytes_recorded))+")",1)]),(0,r.createElementVNode)("p",null,[wr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.seconds_spent_recording)+" ("+(0,r.toDisplayString)((u=o.value.seconds_spent_recording,d=Math.floor(u/3600),f=Math.floor(u%3600/60),p=u%60,"".concat(d.toString().padStart(2,"0"),":").concat(f.toString().padStart(2,"0"),":").concat(p.toString().padStart(2,"0"))))+")",1)]),(0,r.createElementVNode)("p",null,[xr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.total_milliseconds_recorded),1)]),(0,r.createElementVNode)("p",null,[Sr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.milliseconds_first_packet),1)]),(0,r.createElementVNode)("p",null,[Er,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.milliseconds_last_packet),1)]),(0,r.createElementVNode)("p",null,[kr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.reason_for_exit),1)]),(0,r.createElementVNode)("p",null,[Nr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.human_readable_reason_for_exit),1)]),(0,r.createElementVNode)("p",null,[Vr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.mist_stream_wildcard_id),1)]),(0,r.createElementVNode)("p",null,[Cr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.model_type),1)]),(0,r.createElementVNode)("p",null,[Lr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.model_id),1)]),(0,r.createElementVNode)("p",Ar,[_r,(0,r.createTextVNode)(),(0,r.createElementVNode)("a",{href:o.value.download_url,target:"_blank"},(0,r.toDisplayString)(o.value.download_url),9,Tr)]),(0,r.createElementVNode)("p",Br,[Dr,(0,r.createTextVNode)(),(0,r.createElementVNode)("a",{href:o.value.share_url,target:"_blank"},(0,r.toDisplayString)(o.value.share_url),9,Pr)]),(0,r.createElementVNode)("p",Or,[jr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.playback_stream_name),1)]),(0,r.createElementVNode)("p",null,[Mr,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.value.expires_at),1)])])):(0,r.createCommentVNode)("",!0)])])])]))]);var u,d,f,p}}};var Ur=(0,r.createElementVNode)("div",{class:"w-full bg-yellow-200 px-2 py-1"},[(0,r.createElementVNode)("span",{class:"font-semibold uppercase"},"⚠️ NOTICE: "),(0,r.createTextVNode)(" The first time you playback a recording it will take a long time to load. This only happens the first time! ")],-1),Rr={class:"min-w-full divide-y divide-gray-200"},Fr={class:"flex flex-row flex-wrap w-full justify-center mt-6"},Gr={class:"flex flex-col w-full justify-center mt-2",id:"recordingDetailsContainer"},zr={key:0},Yr={key:1,class:"pl-6"},$r=[(0,r.createElementVNode)("span",null,"No recording selected.",-1)];const Hr={__name:"ShowRecordingsList",setup:function(e){var t=(0,Yt.useRecordingStore)(),n=function(e){t.fetchRecordings(e),t.clearSelectedRecording()},o=(0,r.computed)((function(){return t.pagination})),a=(0,r.computed)((function(){return t.selectedRecording})),i=(0,r.computed)((function(){return t.nowPlayingRecordingId})),s=function(e){document.getElementById(e).showModal()},c=function(){t.downloadRecording(),document.getElementById("downloadStarted").showModal()},l=function(){t.openVideo()},u=function(){(0,r.nextTick)((function(){requestAnimationFrame((function(){var e=document.getElementById("recordingDetailsContainer");e?e.scrollIntoView({behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})}))}))};return(0,r.onMounted)((function(){t.reset(),t.fetchRecordings()})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[Ur,(0,r.createElementVNode)("table",Rr,[(0,r.createVNode)(Wt),(0,r.createVNode)(pn,{onOpenModal:s,onSelectRecording:u})]),(0,r.createElementVNode)("div",Fr,[(0,r.createVNode)(bn,{totalPages:o.value.lastPage,currentPage:o.value.currentPage,onUpdate:n},null,8,["totalPages","currentPage"])]),(0,r.createElementVNode)("div",Gr,[a.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",zr,[(0,r.createVNode)(Ir)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Yr,$r))]),(0,r.createVNode)(In,{selectedRecording:a.value,nowPlayingRecordingId:i.value,onBeginDownload:c,onPlay:l},null,8,["selectedRecording","nowPlayingRecordingId"])])}}};var Kr=n(67425);function Wr(e){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(e)}function qr(){qr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:V(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==n&&r.call(S,i)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Wr(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Wr(t)+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new N(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Qr(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Qr(a,r,o,i,s,"next",e)}function s(e){Qr(a,r,o,i,s,"throw",e)}i(void 0)}))}}var Xr=function(e){return(0,r.pushScopeId)("data-v-db095cc4"),e=e(),(0,r.popScopeId)(),e},Jr={id:"shortUrlManagerModal",class:"modal"},eo={class:"modal-box bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white rounded-lg shadow-lg"},to=Xr((function(){return(0,r.createElementVNode)("h2",{class:"text-2xl font-bold mb-4"},"Set/Change Short URL",-1)})),no={for:"customName",class:"block text-sm font-medium mb-1"},ro={class:"text-sm text-gray-300"},oo=Xr((function(){return(0,r.createElementVNode)("label",{for:"originalUrl",class:"block text-sm font-medium mb-1"},"Original URL:",-1)})),ao=Xr((function(){return(0,r.createElementVNode)("button",{type:"submit",class:"btn btn-success w-full py-2 mt-4"},"Save",-1)})),io=Xr((function(){return(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost text-white hover:bg-white hover:text-indigo-600 absolute right-2 top-2"},"✕",-1)})),so={key:0,class:"mt-6"},co={class:"flex flex-row"},lo=Xr((function(){return(0,r.createElementVNode)("strong",null,"Short URL:",-1)})),uo=["href"],fo=Xr((function(){return(0,r.createElementVNode)("strong",null,"Clicks:",-1)})),po=Xr((function(){return(0,r.createElementVNode)("strong",null,"Active:",-1)})),ho=Xr((function(){return(0,r.createElementVNode)("strong",null,"Last Edited By:",-1)})),mo={key:1,class:"mt-6 text-yellow-300"},go=[Xr((function(){return(0,r.createElementVNode)("p",null,"No short URL set for this show yet.",-1)}))];const vo={__name:"ShortUrlManager",setup:function(e){var t=(0,s.useShowStore)(),n=(0,d.useNotificationStore)(),o=(0,r.ref)(""),a=(0,r.ref)(""),i=(0,r.ref)(null),c=function(){document.getElementById("shortUrlManagerModal").showModal(),u()},l=function(){document.getElementById("shortUrlManagerModal").close()},u=function(){var e=Zr(qr().mark((function e(){var r,s;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/api/short-urls/".concat(t.slug));case 3:r=e.sent,i.value=r.data,o.value=i.value.custom_name,a.value=i.value.original_url,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&404===e.t0.response.status?(n.setToastNotification("No short URL set yet.","warning"),i.value=null,o.value="",a.value=""):(s=e.t0.response&&e.t0.response.data&&e.t0.response.data.error?e.t0.response.data.error:"An unknown error occurred.",n.setGeneralServiceNotification("Error",s));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Zr(qr().mark((function e(){var r,s;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(a.value)){e.next=3;break}return n.setGeneralServiceNotification("Alert","Please enter a valid URL."),e.abrupt("return");case 3:return e.prev=3,e.next=6,axios.post("/short-urls",{show_id:t.id,custom_name:o.value,original_url:a.value});case 6:r=e.sent,i.value=r.data,l(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),s=e.t0.response&&e.t0.response.data&&e.t0.response.data.error?e.t0.response.data.error:"An unknown error occurred.",n.setGeneralServiceNotification("Error",s);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Zr(qr().mark((function e(){var r,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/short-urls/".concat(t.slug,"/reset-clicks"));case 3:r=e.sent,i.value.clicks=r.data.clicks,n.setToastNotification("Click count reset successfully.","success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data&&e.t0.response.data.error?e.t0.response.data.error:"An unknown error occurred.",n.setToastNotification(o,"error");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Zr(qr().mark((function e(){var r,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/short-urls/".concat(t.slug,"/toggle-active"));case 3:r=e.sent,i.value.is_active=r.data.is_active,n.setToastNotification("Short URL is now ".concat(r.data.is_active?"active":"disabled","."),"success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data&&e.t0.response.data.error?e.t0.response.data.error:"An unknown error occurred.",n.setToastNotification(o,"error");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(e){try{return new URL(e),!0}catch(e){return!1}},g=(0,r.computed)((function(){return i.value?"".concat(window.location.origin,"/r/").concat(i.value.custom_name):""})),v=(0,r.computed)((function(){return"".concat(window.location.origin,"/r/").concat(o.value)}));return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("button",{class:"btn btn-primary btn-sm mt-2",onClick:(0,r.withModifiers)(c,["prevent"])},"Set/Change Short URL"),(0,r.createElementVNode)("dialog",Jr,[(0,r.createElementVNode)("div",eo,[to,(0,r.createElementVNode)("form",{onSubmit:(0,r.withModifiers)(f,["prevent"]),class:"space-y-4"},[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("label",no,[(0,r.createTextVNode)(" Custom Name: "),(0,r.createElementVNode)("span",ro,(0,r.toDisplayString)(v.value),1)]),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e}),id:"customName",class:"input input-bordered w-full bg-gray-100 text-gray-800 rounded-md px-4 py-2",placeholder:"Enter custom name",required:""},null,512),[[r.vModelText,o.value]])]),(0,r.createElementVNode)("div",null,[oo,(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.value=e}),id:"originalUrl",class:"input input-bordered w-full bg-gray-100 text-gray-800 rounded-md px-4 py-2",placeholder:"Enter original URL",required:""},null,512),[[r.vModelText,a.value]])]),ao],32),(0,r.createElementVNode)("div",{class:"modal-action flex justify-between items-center mt-6"},[(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-outline btn-white",onClick:l},"Close"),io])]),i.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",so,[(0,r.createElementVNode)("div",co,[lo,(0,r.createTextVNode)("   "),(0,r.createElementVNode)("a",{href:g.value,class:"text-blue-300 underline"},(0,r.toDisplayString)(g.value),9,uo),(0,r.createVNode)(Kr.A,{text:g.value,buttonColor:"yellow",labelPosition:"-top-10 -left-20"},null,8,["text"])]),(0,r.createElementVNode)("p",null,[fo,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(i.value.clicks)+" ",1),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(p,["prevent"]),class:"text-sm text-blue-300 underline ml-2"},"Reset")]),(0,r.createElementVNode)("p",null,[po,(0,r.createTextVNode)("   "),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)({"text-green-400":i.value.is_active,"text-red-400":!i.value.is_active})},(0,r.toDisplayString)(i.value.is_active?"Yes":"No"),3),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(h,["prevent"]),class:"text-sm text-blue-300 underline ml-2"},(0,r.toDisplayString)(i.value.is_active?"Disable":"Enable"),1)]),(0,r.createElementVNode)("p",null,[ho,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(i.value.user?i.value.user.name:"N/A"),1)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",mo,go))])])])}}};var yo=n(67988),bo={insert:"head",singleton:!1};Lt()(yo.A,bo);yo.A.locals;const wo=(0,Tt.A)(vo,[["__scopeId","data-v-db095cc4"]]);function xo(e){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(){No=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:V(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==n&&r.call(S,i)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==xo(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function V(t,n,r){var o=f;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(xo(t)+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new N(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Vo(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Co=function(e){return(0,r.pushScopeId)("data-v-7e803eea"),e=e(),(0,r.popScopeId)(),e},Lo={id:"topDiv",class:"place-self-center flex flex-col"},Ao={class:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-gray-50 rounded px-5"},_o={key:1,class:"alert alert-error mt-4 mx-3"},To=Co((function(){return(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)})),Bo={class:"bg-gradient-to-r from-blue-100 via-white to-transparent p-4 text-black font-bold rounded-lg"},Do={class:"flex justify-between mb-3 pt-6"},Po=Co((function(){return(0,r.createElementVNode)("div",{class:"font-bold mb-4 text-black align-bottom text-lg"},"MANAGE SHOW",-1)})),Oo={class:"flex flex-col"},jo={class:"flex flex-row w-full justify-end mb-2"},Mo={class:"flex flex-wrap-reverse justify-end gap-2"},Io={class:"flex flex-wrap-reverse justify-end gap-2"},Uo=Co((function(){return(0,r.createElementVNode)("div",{class:"flex justify-end mt-6"},null,-1)})),Ro={class:"my-6 text-gray-100"},Fo=Co((function(){return(0,r.createElementVNode)("span",{class:"uppercase text-xs font-semibold text-black"},"SHOW NOTES: ",-1)})),Go={class:"text-black light:text-black dark:text-white"},zo={class:"flex flex-col"},Yo={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},$o={class:"py-2 align-middle inline-block w-full sm:px-6 lg:px-8 space-y-4"},Ho={key:0},Ko={class:"mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg"},Wo={key:1},qo={class:"mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg"},Qo=Co((function(){return(0,r.createElementVNode)("div",{class:"border-1 border-t mb-3 bg-blue-100 py-1 px-2 text-xs font-semibold text-red-800"}," In development. Not currently working. ",-1)})),Zo=Co((function(){return(0,r.createElementVNode)("button",{class:"bg-green-500 hover:bg-green-600 text-white ml-2 my-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max",disabled:""},"Create Assignment ",-1)})),Xo={key:2},Jo={class:"mt-4 mb-12 pb-6 shadow overflow-auto border-b border-gray-200 sm:rounded-lg"};const ea={__name:"Manage",props:{show:Object,team:Object,episodes:Object,episodeStatuses:Object,can:Object},setup:function(e){(0,a.c)("shows/slug/manage");var t=(0,i.useAppSettingStore)(),n=(0,s.useShowStore)(),u=(0,c.useTeamStore)(),d=(0,l.useGoLiveStore)(),f=function(e){n.openComponent=n.openComponent===e?null:e},p=(0,o.N5)().props,h=e;u.setActiveTeam(h.team),u.setActiveShow(h.show),u.can=h.can;var m=(0,r.ref)([]),g=function(){d.reset(),d.preSelectedShowId=h.show.id,t.btnRedirect("/golive")};return(0,r.onMounted)((function(){n.initializeShow(h.show,h.episodes,h.episodeStatuses),console.log("Subscribing to channel creator.show.".concat(h.show.id)),Echo.join("creator.show.".concat(h.show.id)).here(function(){var e,t=(e=No().mark((function e(t){var r;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Users currently in the channel:",t),m.value=t,t.length>0&&(r=t[0],n.setLeader(r),console.log("Leader elected: ".concat(r.name))),console.log(n.isUpdatingSchedule,n.updatedBy),1!==m.value.length||!n.isUpdatingSchedule||!n.updatedBy){e.next=14;break}return e.prev=5,e.next=8,axios.put("/api/shows/".concat(h.show.slug,"/meta"),{isUpdatingSchedule:!1,updatedBy:n.updatedBy});case 8:console.log("isUpdatingSchedule and updatedBy fields reset"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error("Error updating meta:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Vo(a,r,o,i,s,"next",e)}function s(e){Vo(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()).joining((function(e){console.log("User joined the channel:",e),m.value.push(e)})).leaving((function(e){if(console.log("User left the channel:",e),m.value=m.value.filter((function(t){return t.id!==e.id})),e.id===n.leader.id&&(console.log("Leader left, electing new leader"),m.value.length>0)){var t=m.value[0];n.setLeader(t),console.log("New leader elected: ".concat(t.name))}n.leader.id===p.user.id&&axios.post("/api/".concat(h.show.slug,"/user-left-channel"),{user:e,channel:"creator.show.".concat(h.show.id),showSlug:h.show.slug}).then((function(e){console.log("Successfully posted to user-left-channel:",e.data)})).catch((function(e){console.error("Error posting to user-left-channel:",e)}))})).listen(".CreatorContentStatusUpdated",(function(e){console.log("CreatorContentStatusUpdated event received:",e),n.$patch({isSaving:e.meta.isSaving,isUpdatingSchedule:e.meta.isUpdatingSchedule,updatedBy:e.meta.updatedBy})})).listen(".ShowScheduleDetailsUpdated",(function(e){console.log("ShowScheduleDetailsUpdated event received:",e);var t=e.scheduleDetails.start_DateTime;n.scheduleDetails=Eo(Eo({},e.scheduleDetails),{},{startTime:t}),console.log("Updated scheduleDetails.startTime:",n.scheduleDetails.startTime)})).error((function(e){console.error("Error subscribing to channel:",e)}))})),(0,r.onBeforeUnmount)((function(){Echo.leave("creator.show.".concat(h.show.id)),n.setUpdatingStatus(!1,p.user.name,h.show.slug),console.log("Unsubscribed from channel creator.show.".concat(h.show.id)),n.reset()})),function(o,a){var i=(0,r.resolveComponent)("Head"),s=(0,r.resolveComponent)("Link");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(i,{title:"Manage Show: ".concat(h.show.name)},null,8,["title"]),(0,r.createElementVNode)("div",Lo,[(0,r.createElementVNode)("div",Ao,[(0,r.unref)(t).showFlashMessage?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Gt.A),{key:0,flash:o.$page.props.flash},null,8,["flash"])):(0,r.createCommentVNode)("",!0),(0,r.unref)(n).errorMessage?((0,r.openBlock)(),(0,r.createElementBlock)("div",_o,[To,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(n).errorMessage),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:a[0]||(a[0]=function(e){return(0,r.unref)(n).errorMessage=""})}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("header",Bo,[(0,r.createElementVNode)("div",Do,[Po,(0,r.createElementVNode)("div",Oo,[(0,r.createElementVNode)("div",jo,[(0,r.createElementVNode)("button",{onClick:a[1]||(a[1]=function(n){return(0,r.unref)(t).btnRedirect("/teams/".concat(e.team.slug,"/manage"))}),class:"px-4 py-2 mr-2 mb-2 h-fit text-white font-semibold bg-orange-500 hover:bg-orange-600 rounded-lg"},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:["fas","users-cog"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Manage Team ")])]),(0,r.createElementVNode)("div",Mo,[e.can.goLive?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:g,class:"px-4 py-2 h-fit text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:["fas","broadcast-tower"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Go Live ")])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("button",{onClick:a[2]||(a[2]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.show.slug))}),class:"px-4 py-2 h-fit text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:["fas","eye"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" View Show ")]),(0,r.unref)(u).can.editShow?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:a[3]||(a[3]=function(n){return(0,r.unref)(t).btnRedirect("/shows/".concat(e.show.slug,"/edit"))}),class:"px-4 py-2 h-fit text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:["fas","pen"],class:"hover:text-blue-800 mr-1"}),(0,r.createTextVNode)(" Edit Show ")])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(zt.A,{class:""})]),(0,r.createElementVNode)("div",Io,[(0,r.createVNode)(wo)])])]),(0,r.createVNode)((0,r.unref)(ge),{show:h.show,team:h.team,can:e.can},null,8,["show","team","can"]),Uo]),(0,r.createElementVNode)("div",Ro,[Fo,(0,r.createElementVNode)("span",Go,(0,r.toDisplayString)(h.show.notes),1)]),(0,r.createElementVNode)("div",zo,[(0,r.createElementVNode)("div",Yo,[(0,r.createElementVNode)("div",$o,[(0,r.createElementVNode)("div",{onClick:a[4]||(a[4]=function(e){return f("showEpisodes")}),class:(0,r.normalizeClass)([{"rounded-t-lg":"showEpisodes"===(0,r.unref)(n).openComponent,"rounded-lg":"showEpisodes"!==(0,r.unref)(n).openComponent},"accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-hidden shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white"])},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:"fa-play-circle",class:""}),(0,r.createTextVNode)(" Episodes ")],2),"showEpisodes"===(0,r.unref)(n).openComponent?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ho,[(0,r.createElementVNode)("div",Ko,[(0,r.createVNode)((0,r.unref)(Mt))])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{onClick:a[5]||(a[5]=function(e){return f("showCredits")}),class:(0,r.normalizeClass)([{"rounded-t-lg":"showCredits"===(0,r.unref)(n).openComponent,"rounded-lg":"showCredits"!==(0,r.unref)(n).openComponent},"accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white"])},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:"fa-clipboard-list",class:""}),(0,r.createTextVNode)(" Credits and Assignments ")],2),"showCredits"===(0,r.unref)(n).openComponent?((0,r.openBlock)(),(0,r.createElementBlock)("div",Wo,[(0,r.createElementVNode)("div",qo,[Qo,(0,r.unref)(u).can.createAssignment?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,href:"#"},{default:(0,r.withCtx)((function(){return[Zo]})),_:1})):(0,r.createCommentVNode)("",!0),(0,r.createVNode)((0,r.unref)(Ft))])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{onClick:a[6]||(a[6]=function(e){return f("showRecordings")}),class:(0,r.normalizeClass)([{"rounded-t-lg":"showRecordings"===(0,r.unref)(n).openComponent,"rounded-lg":"showRecordings"!==(0,r.unref)(n).openComponent},"accordion-header p-2 font-bold transition duration-300 ease-in-out transform focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 overflow-auto shadow-lg bg-blue-100 hover:bg-blue-300 dark:hover:bg-blue-900 text-black hover:text-blue-900 dark:text-blue-100 dark:hover:text-white"])},[(0,r.createVNode)((0,r.unref)(ye.gc),{icon:"fa-circle",class:"text-red-700"}),(0,r.createTextVNode)(" Recordings ")],2),"showRecordings"===(0,r.unref)(n).openComponent?((0,r.openBlock)(),(0,r.createElementBlock)("div",Xo,[(0,r.createElementVNode)("div",Jo,[(0,r.createVNode)(Hr,{showRecordings:e.show.recordings,showName:e.show.name,showSlug:e.show.slug,showImage:e.show.image},null,8,["showRecordings","showName","showSlug","showImage"])])])):(0,r.createCommentVNode)("",!0)])])]),(0,r.createVNode)((0,r.unref)(ve.A),{team:e.team,show:e.show},null,8,["team","show"])])])],64)}}};var ta=n(8974),na={insert:"head",singleton:!1};Lt()(ta.A,na);ta.A.locals;const ra=(0,Tt.A)(ea,[["__scopeId","data-v-7e803eea"]])}}]);
//# sourceMappingURL=5773.js.map