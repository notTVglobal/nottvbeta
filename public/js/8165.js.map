{"version":3,"file":"js/8165.js","mappings":"8RAKA,E,qCCwDA,IAAMA,GAAmBC,EAAAA,EAAAA,uBACnBC,GAAOC,EAAAA,EAAAA,gBAETC,GAAOC,EAAAA,EAAAA,IAAQ,CACfC,QAAS,KAiBb,SAASC,IAEgB,KAAjBH,EAAKE,SAITE,MAAMC,KAAK,gBAAiB,CACxBH,QAASF,EAAKE,UAKfI,MAAK,SAAAC,GACoB,MAApBA,EAASC,SACTR,EAAKE,QAAU,GAEfO,QAAQC,IAAK,oCAErB,IAAE,OACU,SAAAC,GACJF,QAAQC,IAAKC,EACjB,GAER,C,OArCAC,gBAAgBC,YAAc,YAE9BC,EAAAA,EAAAA,YAAU,WACNlB,EAAiBmB,mBACrB,IAEgBC,KAAI,QAAS,sBACrBC,YAAW,WACfR,QAAQC,IAAI,kCAChB,IAAGQ,OAAO,eAAe,SAACC,GACtBV,QAAQC,IAAIS,GACZrB,EAAKsB,SAASC,KAAKF,EAAMjB,QAC7B,I","sources":["webpack:///./resources/js/Pages/ChatTest.vue?681b","webpack:///./resources/js/Pages/ChatTest.vue"],"sourcesContent":["import script from \"./ChatTest.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatTest.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n<!--    <Head title=\"Chat Test\" />-->\n    <div class=\"mt-10 ml-5\">\n<!--        <div class=\"box\">-->\n<!--            <p v-if=\"!messages.length\">Start typing the first message</p>-->\n\n<!--            <div v-for=\"message in messages\">-->\n<!--                <chat-test-my-message-->\n<!--                    v-if=\"message.user === userId\"-->\n<!--                    :message=\"message.text\"-->\n<!--                ></chat-test-my-message>-->\n\n<!--                <chat-test-message-->\n<!--                    v-if=\"message.user !== userId\"-->\n<!--                    :message=\"message.text\"-->\n<!--                    :user=\"message.user\"-->\n<!--                ></chat-test-message>-->\n<!--            </div>-->\n<!--        </div>-->\n\n<!--        <form @submit.prevent=\"sendMessage\">-->\n<!--            <div class=\"field has-addons has-addons-fullwidth\">-->\n<!--                <div class=\"control is-expanded\">-->\n<!--                    <input class=\"input\" type=\"text\" placeholder=\"Type a message\" v-model=\"newMessage\">-->\n<!--                </div>-->\n<!--                <div class=\"control\">-->\n<!--                    <button type=\"submit\" class=\"button is-danger\" :disabled=\"!newMessage\">-->\n<!--                        Send-->\n<!--                    </button>-->\n<!--                </div>-->\n<!--            </div>-->\n<!--        </form>-->\n\n        <div id=\"messages\" v-for=\"(message, index) in chat.messages\" :key=\"index\">\n            <div>{{message}}</div>\n<!--            <message-item :id=\"message.id\" :message=\"message\" :time=\"time(message.created_at)\"/>-->\n        </div>\n\n        <form @submit.prevent=\"\">\n            <label for=\"input-message\"></label>\n            <input type=\"text\"\n                   placeholder=\"Type a message\"\n                   v-model=\"form.message\"\n                   class=\"text-black\"\n                   @keyup.enter=\"sendMessage\">\n                            <div class=\"control\">\n                                <button type=\"submit\" class=\"button is-danger\" :disabled=\"!newMessage\" @click=\"sendMessage\" >\n                                    Send\n                                </button>\n                            </div>\n        </form>\n    </div>\n\n</template>\n\n<script setup>\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore.js\";\nimport { useChatStore } from \"@/Stores/ChatStore.js\";\nimport {onMounted} from \"vue\";\nimport {useForm} from \"@inertiajs/inertia-vue3\";\n\nconst videoPlayerStore = useVideoPlayerStore()\nconst chat = useChatStore()\n\nlet form = useForm({\n    message: '',\n});\n\nappSettingStore.currentPage = 'chatTest'\n\nonMounted(() => {\n    videoPlayerStore.makeVideoTopRight();\n});\n\nconst channel = Echo.private('private.chatTest.1')\nchannel.subscribed(() => {\n    console.log('Joined Chat Channel: ' + 'playground')\n}).listen('.playground', (event) => {\n    console.log(event)\n    chat.messages.push(event.message)\n})\n\nfunction sendMessage() {\n    //\n    if (form.message === \"\"){\n        return;\n    }\n    //POST request to the messages route with the message data in order for our Laravel server to broadcast it.\n    axios.post('/api/chatTest', {\n        message: form.message,\n        // channel_id: chatStore.currentChannel.id,\n        // channel_id: 'playground',\n        // user_name: form.user_name,\n        // user_profile_photo_path: form.user_profile_photo_path,\n    }).then(response => {\n        if( response.status === 201 ) {\n            form.message = '';\n            // emit('messagesent');\n            console.log( 'NEW MESSAGE SENT WITH AXIOS.POST' );\n        }\n    })\n        .catch( error => {\n            console.log( error );\n        })\n\n}\n\n</script>\n\n<!--<script>-->\n<!--import ChatTestMyMessage from \"../Components/Chat/ChatTestMyMessage.vue\";-->\n<!--import ChatTestMessage from \"../Components/Chat/ChatTestMessage.vue\";-->\n\n<!--export default {-->\n<!--    components: {ChatTestMessage, ChatTestMyMessage},-->\n<!--    data () {-->\n<!--        return {-->\n<!--            userId: Math.random().toString(36).slice(-5),-->\n<!--            messages: [],-->\n<!--            newMessage: ''-->\n<!--        }-->\n<!--    },-->\n<!--    mounted () {-->\n<!--        // Echo.channel('playground')-->\n<!--        //     .listen('NewChatMessage', (e) => {-->\n<!--        //         if(e.user !== this.userId) {-->\n<!--        //             this.messages.push({-->\n<!--        //                 text: e.message,-->\n<!--        //                 user: e.user-->\n<!--        //             });-->\n<!--        //         }-->\n<!--        //     });-->\n<!--    },-->\n<!--    methods: {-->\n<!--        submit() {-->\n<!--            axios.post(`/api/chatTestMessage`, {-->\n<!--                user: this.userId,-->\n<!--                message: this.newMessage-->\n<!--            }).then((response) => {-->\n<!--                this.messages.push({-->\n<!--                    text: this.newMessage,-->\n<!--                    user: this.userId-->\n<!--                });-->\n\n<!--                this.newMessage = '';-->\n<!--            }, (error) => {-->\n<!--                console.log(error);-->\n<!--            });-->\n\n<!--        }-->\n<!--    }-->\n<!--}-->\n<!--</script>-->\n\n\n"],"names":["videoPlayerStore","useVideoPlayerStore","chat","useChatStore","form","useForm","message","sendMessage","axios","post","then","response","status","console","log","error","appSettingStore","currentPage","onMounted","makeVideoTopRight","Echo","subscribed","listen","event","messages","push"],"sourceRoot":""}