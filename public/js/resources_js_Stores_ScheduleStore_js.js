"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["resources_js_Stores_ScheduleStore_js"],{

/***/ "./resources/js/Stores/ScheduleStore.js":
/*!**********************************************!*\
  !*** ./resources/js/Stores/ScheduleStore.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useScheduleStore: () => (/* binding */ useScheduleStore)\n/* harmony export */ });\n/* harmony import */ var pinia__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! pinia */ \"./node_modules/pinia/dist/pinia.mjs\");\n/* harmony import */ var _Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/Stores/UserStore */ \"./resources/js/Stores/UserStore.js\");\n/* harmony import */ var _Stores_AppSettingStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/Stores/AppSettingStore */ \"./resources/js/Stores/AppSettingStore.js\");\n/* harmony import */ var _Utilities_TimeUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/Utilities/TimeUtils */ \"./resources/js/Utilities/TimeUtils.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/startOfDay.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/format.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/isToday.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/isYesterday.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/isTomorrow.mjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs */ \"./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs/plugin/isSameOrAfter */ \"./node_modules/dayjs/plugin/isSameOrAfter.js\");\n/* harmony import */ var dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs/plugin/isSameOrBefore */ \"./node_modules/dayjs/plugin/isSameOrBefore.js\");\n/* harmony import */ var dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dayjs/plugin/relativeTime */ \"./node_modules/dayjs/plugin/relativeTime.js\");\n/* harmony import */ var dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dayjs/plugin/timezone */ \"./node_modules/dayjs/plugin/timezone.js\");\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! dayjs/plugin/utc */ \"./node_modules/dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dayjs/plugin/weekOfYear */ \"./node_modules/dayjs/plugin/weekOfYear.js\");\n/* harmony import */ var dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! dayjs/plugin/advancedFormat */ \"./node_modules/dayjs/plugin/advancedFormat.js\");\n/* harmony import */ var dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_10__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\n\n\n// Import dayjs and its plugins\n\n\n // To check if the day is the same\n\n\n\n // For week start and end calculations\n // For more complex formatting options\n\n// Extend dayjs with the plugins\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_7___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_9___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_10___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_8___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5___default()));\nfunction convertScheduleToTimezone(scheduleData) {\n  var userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)(); // Access the UserStore\n\n  return scheduleData.data.map(function (item) {\n    // Convert top-level start_time and end_time using UserStore methods\n    // console.log(`Original startTime for ${item.id}: ${item.startTime}`);\n    var startTimeInUserTz = item.startTime ? userStore.formatDateTimeFromUtcToUserTimezone(item.startTime, 'YYYY-MM-DD HH:mm:ss') : null;\n    var endTimeInUserTz = item.endTime ? userStore.formatDateTimeFromUtcToUserTimezone(item.endTime, 'YYYY-MM-DD HH:mm:ss') : null;\n    // Add debug logging to help trace conversion issues or confirm correct conversions\n    // console.log(`Converted startTime for ${item.id}: ${startTimeInUserTz}`);\n\n    return _objectSpread(_objectSpread({}, item), {}, {\n      startTime: startTimeInUserTz,\n      endTime: endTimeInUserTz,\n      timezone: userStore.timezone\n    });\n  });\n}\nfunction convertDateTimeToGridTime(dateTime) {\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'YYYY-MM-DD HH:mm:ss';\n  var userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)(); // Access the UserStore\n  return userStore.formatDateTimeFromUtcToUserTimezone(dateTime, format);\n}\n\n// Helper function to get dates within the next 6 hours from viewingWindowStart\nfunction getUpcomingContentDates(viewingWindowStart) {\n  var dates = [];\n  var start = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(viewingWindowStart); // Ensure viewingWindowStart is a Day.js object\n\n  for (var i = 0; i < 6; i++) {\n    // Add i hours to the start time, each time creating a new Day.js object\n    dates.push(start.add(i, 'hour').toDate()); // Convert to Date if necessary; otherwise keep as Day.js object\n  }\n  return dates;\n}\n\n// function resolveSchedulingConflicts(shows) {\n//     // Sort shows by start time, then by priority for shows with the same start time\n//     const sortedShows = shows.sort((a, b) => {\n//         const startTimeComparison = new Date(a.startTime) - new Date(b.startTime)\n//         if (startTimeComparison === 0) { // If start times are the same\n//             return a.priority - b.priority // Compare by priority\n//         }\n//         return startTimeComparison\n//     })\n//\n//     const resolvedShows = []\n//     const showsByStartTime = {}\n//\n//     // Group shows by their start time\n//     sortedShows.forEach(show => {\n//         const startTime = new Date(show.startTime).toISOString() // Ensure it's in ISO format for keying\n//         if (!showsByStartTime[startTime]) {\n//             showsByStartTime[startTime] = []\n//         }\n//         showsByStartTime[startTime].push(show)\n//     })\n//\n//     console.log(\"Shows grouped by start time:\", showsByStartTime);\n//\n//     // For each start time, select the show with the highest priority (lowest priority number)\n//     Object.values(showsByStartTime).forEach(group => {\n//         if (group.length > 1) {\n//             console.log(\"Conflict at time\", group[0].startTime, \"- resolving with:\", group[0]);\n//             // If there are conflicts, push only the show with the highest priority\n//             resolvedShows.push(group[0]) // Assuming the group is already sorted by priority\n//         } else {\n//             // No conflict, push the single show\n//             resolvedShows.push(group[0])\n//         }\n//     })\n//\n//     return resolvedShows\n// }\n\n// function resolveSchedulingConflicts(shows) {\n//     // Convert start times to timestamps for sorting and conflict detection\n//     shows.forEach(show => {\n//         show.timestamp = new Date(show.startTime).getTime() // Add a timestamp property\n//     })\n//\n//     // Sort shows by timestamp, then by priority for shows with the same timestamp\n//     const sortedShows = shows.sort((a, b) => {\n//         const startTimeComparison = a.timestamp - b.timestamp\n//         if (startTimeComparison === 0) { // If timestamps are the same\n//             return a.priority - b.priority // Compare by priority\n//         }\n//         return startTimeComparison\n//     })\n//\n//     const resolvedShows = []\n//     const showsByStartTime = {}\n//\n//     // Group shows by their timestamp\n//     sortedShows.forEach(show => {\n//         if (!showsByStartTime[show.timestamp]) {\n//             showsByStartTime[show.timestamp] = []\n//         }\n//         showsByStartTime[show.timestamp].push(show)\n//     })\n//\n//     // console.log('Shows grouped by timestamp:', showsByStartTime)\n//\n//     // For each group of shows with the same start time, select the show with the highest priority (lowest priority number)\n//     Object.values(showsByStartTime).forEach(group => {\n//         if (group.length > 1) {\n//             console.log('Conflict at time', group[0].startTime, '- priority goes to:', group[0].content.name)\n//             // If there are conflicts, push only the show with the highest priority\n//             resolvedShows.push(group[0]) // Assuming the group is already sorted by priority\n//         } else {\n//             // No conflict, push the single show\n//             resolvedShows.push(group[0])\n//         }\n//     })\n//\n//     return resolvedShows.map(show => {\n//         // Return the show in its original format, without the temporary timestamp property\n//         const {timestamp, ...originalShow} = show\n//         return originalShow\n//     })\n// }\n\n//\n// function adjustShowsForGrid(shows) {\n//     const userStore = useUserStore()\n//     const appSettingStore = useAppSettingStore()\n//     const timezone = userStore.timezone || 'UTC'\n//     const now = dayjs()\n//     const startOfCurrentHalfHour = now.subtract(now.minute() % 30, 'minutes').startOf('minute').tz(timezone).toDate()\n//     const cols = appSettingStore.isVerySmallScreen ? 4 : appSettingStore.isSmallScreen ? 6 : 8\n//\n//     // Make sure the timeSlots are logged to verify their correctness\n//     console.log('Time Slots:', this.timeSlots.map(slot => new Date(slot).toString()))\n//\n//\n//     // Sort shows by their start times to ensure they are processed in chronological order\n//     shows.sort((a, b) => new Date(a.startTime) - new Date(b.startTime))\n//\n//     // Initialize an array to keep track of column and row availability\n//     let colOccupancy = new Array(cols).fill(null).map(() => [])\n//\n//     // Processing each show for grid placement\n//     return shows.map(show => {\n//         const showStart = new Date(show.startTime)\n//         const showEnd = new Date(showStart.getTime() + show.durationMinutes * 60000)\n//\n//         let adjustedStart = (showStart < startOfCurrentHalfHour && showEnd > startOfCurrentHalfHour) ? startOfCurrentHalfHour : showStart\n//         let effectiveEnd = showEnd > now.toDate() ? now.toDate() : showEnd // Ensure end is no later than now\n//\n//         let slotIndex = this.timeSlots.findIndex(slot => adjustedStart >= slot && adjustedStart < new Date(slot.getTime() + 30 * 60000))\n//         if (slotIndex === -1) {\n//             slotIndex = adjustedStart < this.timeSlots[0] ? 0 : this.timeSlots.length - 1 // Handle out of range start times\n//         }\n//\n//         let durationInMilliseconds = effectiveEnd.getTime() - adjustedStart.getTime()\n//         let totalMinutes = durationInMilliseconds / (30 * 60000)\n//         let span = Math.ceil(totalMinutes)\n//         span = Math.max(1, span) // Ensure span is at least 1\n//         span = slotIndex + span > cols ? cols - slotIndex : span // Adjust span to not exceed total columns\n//\n//         // Find the minimum unoccupied row\n//         let minRow = 1\n//         for (let i = slotIndex; i < slotIndex + span; i++) {\n//             while (colOccupancy[i].includes(minRow)) {\n//                 minRow++\n//             }\n//         }\n//\n//         // Register this show in the occupied columns\n//         for (let i = slotIndex; i < slotIndex + span; i++) {\n//             colOccupancy[i].push(minRow)\n//         }\n//\n//         console.log(`Show: ${show.content.name}, Start: ${showStart}, Adjusted Start: ${adjustedStart}, End: ${showEnd}, Now: ${now.toDate()}, Slot Index: ${slotIndex}, Span: ${span}, Row: ${minRow}`)\n//         return {\n//             ...show,\n//             gridStart: slotIndex + 1,\n//             gridSpan: span,\n//             gridRow: minRow,  // Assign shows to rows based on availability and priority\n//         }\n//     }).filter(show => show.gridSpan > 0)\n// }\n\n// function adjustShowsForGrid(shows, timeSlots) {\n//     const userStore = useUserStore()\n//     const appSettingStore = useAppSettingStore()\n//\n//     const timezone = userStore.timezone || 'UTC'\n//     const now = dayjs();\n//     // const minutes = now.minute();\n//     // const startOfCurrentHalfHour = now.subtract(minutes % 30, 'minute').startOf('minute').tz(timezone).toDate();\n//     const startOfCurrentHalfHour = now.subtract(now.minute() % 30, 'minutes').startOf('minute').tz(timezone).toDate();\n//     // const startOfCurrentHalfHour = now.subtract(minutes % 30, 'minute').startOf('minute').tz(timezone);\n//     const cols = appSettingStore.isVerySmallScreen ? 4 : appSettingStore.isSmallScreen ? 6 : 8;\n//\n//     // Initialize an array to keep track of column availability\n//     let colOccupancy = new Array(cols).fill(null);\n//\n//     // Sort shows by start time to ensure proper handling of overlaps\n//     shows.sort((a, b) => new Date(a.startTime) - new Date(b.startTime));\n\n// return shows.map(show => {\n//     const showStart = new Date(show.startTime);\n//     const showEnd = new Date(showStart.getTime() + show.durationMinutes * 60000);\n//\n//     // Adjusting showStart if the show is ongoing but started before the current grid view\n//     let adjustedStart = showStart < startOfCurrentHalfHour && now < showEnd ? startOfCurrentHalfHour : showStart;\n//\n//     // Calculating the grid start index\n//     let slotIndex = timeSlots.findIndex(slot => adjustedStart >= slot && adjustedStart < new Date(slot.getTime() + 30 * 60000));\n//     if (slotIndex === -1) {\n//         slotIndex = adjustedStart < timeSlots[0] ? 0 : timeSlots.length - 1; // Place at the start or the end based on timing\n//     }\n//\n//     // Calculating the duration to display in the grid based on current time\n//     let span = Math.ceil(((showEnd.getTime() > now.toDate().getTime() ? now.toDate().getTime() : showEnd.getTime()) - adjustedStart.getTime()) / (30 * 60000));\n//     span = Math.max(1, span); // Ensure at least one grid slot is used\n//\n//     // Ensure the span does not exceed available columns from the slot index\n//     span = slotIndex + span > cols ? cols - slotIndex : span;\n//\n//     // Set or clear show placement in grid\n//     for (let i = slotIndex; i < slotIndex + span && i < cols; i++) {\n//         if (colOccupancy[i] !== null) {\n//             // Logic to handle overlapping shows, if necessary\n//             colOccupancy[i] = null;\n//         }\n//         colOccupancy[i] = { gridStart: slotIndex + 1, gridSpan: span, show };\n//     }\n//\n//     console.log(`Show placement: Show: ${show.content.name}, Start: ${showStart}, Adjusted Start: ${adjustedStart}, End: ${showEnd}, Slot Index: ${slotIndex}, Span: ${span}`);\n//\n//     return {\n//         ...show,\n//         gridStart: slotIndex + 1,\n//         gridSpan: span,\n//     };\n// }).filter(show => show.gridSpan > 0);\n\n//     return shows.map(show => {\n//         const showStart = new Date(show.startTime); // Parse start time to a Date object\n//         const showEnd = new Date(show.startTime);  // Initialize end time as a copy of start time\n//         showEnd.setMinutes(showStart.getMinutes() + show.durationMinutes);\n//\n//         let span = Math.ceil(show.durationMinutes / 30)\n//\n//         // Find the index of the slot that intersects or follows the show start\n//         let slotIndex = timeSlots.findIndex(slot => showStart < new Date(slot.getTime() + 30 * 60000));\n//         if (slotIndex === -1) {\n//             // If no slot is found, and the show starts before the first slot and ends after it, start from the first column.\n//             slotIndex = 0; // Default to the first column if no exact match is found\n//         }\n//\n//         if (showStart < startOfCurrentHalfHour && showEnd > startOfCurrentHalfHour) {\n//             // Adjust the slotIndex to the first column and span based on the remaining time if show starts before but ends after startOfCurrentHalfHour\n//             slotIndex = 0;\n//             const effectiveStart = Math.max(showStart.getTime(), startOfCurrentHalfHour.getTime());\n//             const remainingDuration = (showEnd.getTime() - effectiveStart) / 60000; // Convert to minutes\n//             span = Math.ceil(remainingDuration / 30);\n//         }\n//\n//         // const slotIndex = timeSlots.findIndex(slot => showStart >= slot && showStart < new Date(slot.getTime() + 30 * 60000));\n//\n//         // const slotIndex = timeSlots.findIndex(slot => {\n//         //     let slotEnd = new Date(slot.getTime() + 30 * 60000)\n//         //     return showStart >= slot && showStart < slotEnd\n//         // })\n//\n//         // if (slotIndex + span > cols) { // Ensure the span does not exceed the number of available columns\n//         //     span = cols - slotIndex\n//         // }\n//         //\n//         //\n//         // if (slotIndex + span > cols) { // Ensure the span does not exceed the number of available columns\n//         //     span = cols - slotIndex;\n//         // }\n//\n//         // Adjust col span based on overlapping shows\n//     //     for (let i = slotIndex; i < Math.min(slotIndex + span, cols); i++) {\n//     //         if (colOccupancy[i] != null) {\n//     //             if (showStart.getTime() === startOfCurrentHalfHour.getTime()) {\n//     //                 colOccupancy[i] = null; // Clear earlier show\n//     //             } else {\n//     //                 colOccupancy[i].gridSpan = Math.min(colOccupancy[i].gridSpan, i - colOccupancy[i].gridStart + 1);\n//     //             }\n//     //         }\n//     //         colOccupancy[i] = { gridStart: slotIndex + 1, gridSpan: span, show };\n//     //     }\n//     //     // console.log('time slots: ' + timeSlots)\n//     //     // console.log(`Adjusting show for grid placement. Show Start: ${showStart}, Show End: ${showEnd}, Duration: ${show.durationMinutes}, Calculated Slot Index: ${slotIndex}, Span: ${span}`)\n//     //     console.log(`Adjusting show for grid placement. Show: ${show.content.name}, Show Start: ${showStart}, Duration: ${show.durationMinutes}, Calculated Slot Index: ${slotIndex}, Span: ${span}`)\n//     //\n//     //     // Return the show with additional grid positioning information\n//     //     return {\n//     //         ...show,\n//     //         gridStart: slotIndex + 1, // Grid positioning is often 1-based in CSS\n//     //         gridSpan: span,\n//     //     }\n//     // }).filter(show => {\n//     //     const endCol = show.gridStart + show.gridSpan - 1;\n//     //     return colOccupancy.slice(show.gridStart - 1, endCol).every(cell => cell && cell.show.id === show.id);\n//     // });\n// }\n\n// timeSlots.forEach((slot, index) => {\n//     if (!(slot instanceof Date)) {\n//         console.error('Slot is not a Date object:', slot);\n//         return; // Skip this iteration if `slot` is not a Date object\n//     }\n//\n//     const slotStart = slot;\n//     const slotEnd = new Date(slot.getTime() + 30 * 60000); // Each slot is 30 minutes long\n//\n//     const showExistsInSlot = showsWithPlacement.some(show => {\n//         const showStart = new Date(show.startTime);\n//         const showEnd = new Date(showStart.getTime() + show.durationMinutes * 60000);\n//         const overlaps = (slotStart <= showEnd && slotEnd > showStart) || (showStart <= slotEnd && showEnd > slotStart);\n//         return overlaps;\n//     });\n//\n//     if (!showExistsInSlot) {\n//         const formattedStartTime = dayjs(slotStart).format('YY-MM-DD HH:mm:ss');\n//         gridItems.push({\n//             placeholder: true,\n//             startTime: formattedStartTime,\n//             priority: 1,\n//             gridStart: index + 1, // Ensure gridStart aligns correctly with the CSS grid (1-based index)\n//             gridSpan: 1,\n//             content: { name: 'Nothing scheduled.' },\n//         });\n//     }\n// });\n//\n// const combinedShows = [...showsWithPlacement, ...gridItems];\n// combinedShows.sort((a, b) => new Date(a.startTime) - new Date(b.startTime));\n// return combinedShows;\n// }\n\n// Helper function to create a placeholder with a given start and span\n// function createPlaceholder(start, span, row) {\n//     return {\n//         placeholder: true,\n//         startTime: 'Placeholder',\n//         priority: 0,\n//         gridStart: start,\n//         gridSpan: span,\n//         gridRow: row,\n//         content: {name: 'Nothing scheduled.'},\n//     }\n// }\n//\n// function createBlankSpotPlaceholder(column, span, row) {\n//     return {\n//         placeholder: true,\n//         startTime: 'BlankSpot',\n//         priority: 0,\n//         gridStart: column,\n//         gridSpan: span,\n//         gridRow: row,\n//         content: {name: 'Blank Spot'},\n//     }\n// }\n\n// function fillEmptySlotsWithPlaceholders(showsWithPlacement, timeSlots) {\n//     const gridItems = []\n//\n//     timeSlots.forEach((slot, index) => {\n//         // Ensure every slot is a Date object, convert if necessary\n//         // console.log('type of slot: ' + slot, typeof slot) // Check what `slot` contains and its type\n//\n//         // console.log('Debugging time slots and shows alignment');\n//         if (!(slot instanceof Date)) {\n//             console.error('slot is not a Date object:', slot)\n//             return // Skip this iteration if `slot` is not a Date object\n//         }\n//\n//         const slotStart = slot\n//         const slotEnd = new Date(slot.getTime() + 30 * 60000); // Assuming each slot is 30 minutes long\n//         // console.log(`Checking slot from ${slotStart} to ${slotEnd}`);\n//\n//         const showExistsInSlot = showsWithPlacement.some(show => {\n//             const showStart = new Date(show.startTime);\n//             const showEnd = new Date(showStart.getTime() + show.durationMinutes * 60000);\n//             // console.log(`Comparing against show from ${showStart} to ${showEnd}`);\n//             // return slotStart < showEnd && slotEnd > showStart;\n//             // Checking overlap more carefully, including exact boundary conditions\n//             const overlaps = (slotStart <= showEnd && slotEnd > showStart) || (showStart <= slotEnd && showEnd > slotStart);\n//             if (overlaps) {\n//                 // console.log(`Show overlaps with slot: ${show.id}`);\n//             }\n//             return overlaps;\n//\n//         });\n//\n//         if (!showExistsInSlot) {\n//             // Format the slot start time as YY-MM-DD HH:MM:ss\n//             const formattedStartTime = dayjs(slotStart).format('YY-MM-DD HH:mm:ss');\n//             console.log(`No show found for slot starting at ${formattedStartTime}, inserting placeholder.`);\n//\n//             // Insert a placeholder show for this slot\n//             gridItems.push({\n//                 placeholder: true,\n//                 startTime: formattedStartTime,\n//                 priority: 1,\n//                 gridStart: index + 1,\n//                 gridSpan: 1,\n//                 content: {name: 'Nothing scheduled.'},\n//             })\n//         }\n//     })\n//\n//     // Merge and sort the grid items by their start time/gridStart to maintain chronological order\n//     // return [...showsWithPlacement, ...gridItems].sort((a, b) => a.gridStart - b.gridStart)\n//\n//     // Merge and sort the grid items by their start time/gridStart to maintain chronological order\n//     const combinedShows = [...showsWithPlacement, ...gridItems];\n//     combinedShows.sort((a, b) => new Date(a.startTime) - new Date(b.startTime));\n//     return combinedShows;\n// }\n\nvar getTimeZone = function getTimeZone() {\n  var userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)();\n  // This function should return the timezone of the user.\n  // This could be dynamic based on the user's settings or browser settings.\n  // return Intl.DateTimeFormat().resolvedOptions().timeZone;\n  return userStore.timezone;\n};\nvar initialState = function initialState() {\n  return {\n    baseTime: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).toDate(),\n    currentHalfHour: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').add(dayjs__WEBPACK_IMPORTED_MODULE_3___default()().minute() >= 30 ? 30 : 0, 'minute').toDate(),\n    fourHoursLater: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').add(dayjs__WEBPACK_IMPORTED_MODULE_3___default()().minute() >= 30 ? 30 : 0, 'minute').add(4, 'hour').toDate(),\n    viewingWindowStart: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').toDate(),\n    currentMonth: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('month').toDate(),\n    selectedDay: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).toDate(),\n    currentWeekStart: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('week').toDate(),\n    currentWeekEnd: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).endOf('week').toDate(),\n    nextFourHoursOfContent: [],\n    nextFourHoursOfContentWithPlaceholders: [],\n    // nextFourHoursWithHalfHourIntervals: [],\n    // viewingMode: 'automatic', // or 'userSelected'\n    fiveDaySixHourSchedule: [],\n    // Holds the schedule shows 5 day / 6 hour structured data\n    todaysContent: [],\n    weeklyContent: [],\n    dataFetchLog: [],\n    scheduleIsLoading: false,\n    savingToSchedule: false,\n    slotIntervalMinutes: 30,\n    mediumScreenSlotHours: 4,\n    // 4 hours = 8 slots\n    smallScreenSlotHours: 2,\n    // 2 hours = 4 slots\n    verySmallScreenSlotHours: 1,\n    // 1 hour = 2 slots\n    timeSlots: null\n  };\n};\nvar useScheduleStore = (0,pinia__WEBPACK_IMPORTED_MODULE_11__.defineStore)('scheduleStore', {\n  state: initialState,\n  actions: {\n    resetAll: function resetAll() {\n      // Reset the store to its original state (clear all data)\n      Object.assign(this, initialState());\n    },\n    reset: function reset() {\n      this.viewingWindowStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').toDate();\n      this.currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('month').toDate();\n      this.selectedDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).toDate();\n    },\n    setSelectedDay: function setSelectedDay(day) {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var selectedDay;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              // Ensure that 'day' is a Day.js object, convert if coming as a native Date or string\n              selectedDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(day); // Set the selected day\n              _this.selectedDay = selectedDay.toDate(); // Convert back to Date if necessary; otherwise keep as Day.js object\n\n              // Explicitly set the viewingWindowStart to 4 AM for the selected day\n              _this.viewingWindowStart = selectedDay.startOf('day').add(4, 'hours').toDate();\n\n              // Set the start and end of the week based on the selected day\n              _this.currentWeekStart = selectedDay.startOf('week').toDate(); // Consider week starting on Sunday\n              _this.currentWeekEnd = selectedDay.endOf('week').toDate(); // Consider week ending on Saturday\n\n              // Use the updated fetch logic\n              _context.next = 7;\n              return _this.fetchWeekDataIfNeeded();\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    setSelectedDayToToday: function setSelectedDayToToday(day) {\n      var now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(); // Create a Day.js object for the current date and time\n\n      // Set selectedDay to the current date and time\n      this.selectedDay = now.toDate(); // Convert back to Date if necessary; otherwise keep as Day.js object\n\n      // Set viewingWindowStart to the start of the current hour using Day.js\n      this.viewingWindowStart = now.startOf('hour').toDate();\n    },\n    changeDay: function changeDay(days) {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var currentTimeZone, currentTime, newDay;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              currentTimeZone = getTimeZone(); // or however you obtain the timezone\n              // Extract the time component from the current viewing window start\n              currentTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this2.viewingWindowStart).hour() * 60 + dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this2.viewingWindowStart).minute(); // Create a new day and set it to the start of that day\n              newDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this2.viewingWindowStart).tz(currentTimeZone).add(days, 'day').startOf('day'); // Set the time back to the original time\n              newDay = newDay.add(currentTime, 'minute');\n\n              // Depending on your application's needs, you may or may not need to convert it back to a JavaScript Date object\n              // If you need a Date object:\n              _this2.viewingWindowStart = newDay.toDate();\n\n              // If you can use dayjs objects directly (preferred if possible):\n              _this2.viewingWindowStart = newDay;\n\n              // // Check if the week of the new day is already loaded\n              // const weekStart = startOfWeek(newDay, {weekStartsOn: 0});\n              // const weekEnd = endOfWeek(newDay, {weekStartsOn: 0});\n\n              // Use the updated centralized fetch logic without redundant checks\n              _context2.next = 8;\n              return _this2.fetchWeekDataIfNeeded();\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    shiftHours: function shiftHours(hours) {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              // Shift the viewing window by the specified number of hours\n              _this3.viewingWindowStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).add(hours, 'hour').toDate();\n\n              // Set the current week start and end based on the new viewing window start\n              _this3.currentWeekStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).startOf('week').toDate();\n              _this3.currentWeekEnd = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).endOf('week').toDate();\n\n              // If the day has changed, update selectedDay and the week's range\n              if (!dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).isSame(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.selectedDay), 'day')) {\n                _this3.selectedDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).startOf('day').toDate();\n              }\n\n              // Use the updated fetch logic\n              _context3.next = 6;\n              return _this3.fetchWeekDataIfNeeded();\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    },\n    isElevenPM: function isElevenPM(date) {\n      // Convert the date to a Day.js object if it's not already one\n      var time = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n      // Check if the hour is 23 (11 PM)\n      return time.hour() === 23;\n    },\n    // Actions to change the month\n    subtractMonth: function subtractMonth() {\n      var _this4 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              // Convert currentMonth to a Day.js object if it's not already and subtract one month\n              _this4.currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this4.currentMonth).subtract(1, 'month').toDate();\n              _context4.prev = 1;\n              _context4.next = 4;\n              return _this4.setSelectedDay(_this4.currentMonth);\n            case 4:\n              console.log('Set selected day based on current month:', _this4.currentMonth);\n              _context4.next = 10;\n              break;\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.error(\"Failed to set selected day based on current month \".concat(_this4.currentMonth, \":\"), _context4.t0);\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[1, 7]]);\n      }))();\n    },\n    addMonth: function addMonth() {\n      var _this5 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              // Convert currentMonth to a Day.js object if it's not already and add one month\n              _this5.currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this5.currentMonth).add(1, 'month').toDate();\n              _context5.prev = 1;\n              _context5.next = 4;\n              return _this5.setSelectedDay(_this5.currentMonth);\n            case 4:\n              console.log('Set selected day based on current month:', _this5.currentMonth);\n              _context5.next = 10;\n              break;\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.error(\"Failed to set selected day based on current month \".concat(_this5.currentMonth, \":\"), _context5.t0);\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, null, [[1, 7]]);\n      }))();\n    },\n    fetchFiveDaySixHourSchedule: function fetchFiveDaySixHourSchedule() {\n      var _this6 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var userStore, response, _timezone;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              console.error('fetchFiveDaySixHourSchedule');\n              _context6.prev = 1;\n              userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)();\n              _context6.next = 5;\n              return axios.get('/api/schedule');\n            case 5:\n              response = _context6.sent;\n              // Fallback to response timezone if userStore.timezone is not set\n              _timezone = userStore.timezone || response.data.userTimezone || 'UTC'; // Additional fallback to 'UTC'\n              // Convert the entire schedule, including nested recurrenceDetails, to the user's timezone\n              _this6.fiveDaySixHourSchedule = convertScheduleToTimezone(response.data, _timezone);\n              console.error('fetchFiveDaySixHourSchedule', response.data);\n              _context6.next = 14;\n              break;\n            case 11:\n              _context6.prev = 11;\n              _context6.t0 = _context6[\"catch\"](1);\n              console.error('Failed to load schedule shows:', _context6.t0);\n              // Handle the error state as needed, e.g., setting an error state property\n            case 14:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, null, [[1, 11]]);\n      }))();\n    },\n    fetchTodaysContent: function fetchTodaysContent() {\n      var _this7 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var userStore, response, _timezone2;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)();\n              _context7.next = 4;\n              return axios.get('/api/schedule/today');\n            case 4:\n              response = _context7.sent;\n              // Fallback to response timezone if userStore.timezone is not set\n              _timezone2 = userStore.timezone || response.data.userTimezone || 'UTC'; // Additional fallback to 'UTC'\n              _this7.todaysContent = convertScheduleToTimezone(response.data, _timezone2);\n              _context7.next = 12;\n              break;\n            case 9:\n              _context7.prev = 9;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.error('Failed to fetch today\\'s content:', _context7.t0);\n            case 12:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, null, [[0, 9]]);\n      }))();\n    },\n    preloadWeeklyContent: function preloadWeeklyContent() {\n      var _this8 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var currentDate;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              // Use the current date to preload content for the current week\n              currentDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(); // Creates a Day.js object representing the current date and time\n              _context8.prev = 1;\n              _context8.next = 4;\n              return _this8.loadWeekFromDate(currentDate.toDate());\n            case 4:\n              _context8.next = 9;\n              break;\n            case 6:\n              _context8.prev = 6;\n              _context8.t0 = _context8[\"catch\"](1);\n              console.error('Failed to preload weekly content:', _context8.t0);\n            case 9:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, null, [[1, 6]]);\n      }))();\n    },\n    loadWeekFromDate: function loadWeekFromDate(date) {\n      var _this9 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var formattedDate, userStore, dayDate, fullISODate, response, _formattedDate, _timezone3, newData;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              formattedDate = null; // Declare formattedDate outside of the try block\n              _this9.scheduleIsLoading = true;\n              _context9.prev = 2;\n              userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)(); // Ensure the date is in UTC format for the request\n              // console.log('Date before formatted: ' + date)\n              // Convert date to Day.js object and format it in ISO string with UTC\n              dayDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n              fullISODate = dayDate.toISOString(); // console.log(`Loading week data for date in UTC: ${fullISODate}`)\n              // Fetch the week's schedule data\n              // Send the dateTime and timezone as a JSON object in a POST request\n              _context9.next = 8;\n              return axios.post(\"/api/schedule/week/\".concat(fullISODate));\n            case 8:\n              response = _context9.sent;\n              // const formattedDate = date.toISOString().split('T')[0];\n              // Log and error handling\n              _formattedDate = dayDate.format('YYYY-MM-DD'); // For potential error messages and logging\n              // console.log(`Loading week data for date: ${formattedDate}`); // Log the date being requested\n              //\n              // const response = await axios.get(`/api/schedule/week/${formattedDate}`);\n              // console.log('Received response:', response.data) // Log the raw response data\n              // Fallback to response timezone if userStore.timezone is not set\n              _timezone3 = userStore.timezone || response.data.userTimezone || 'UTC'; // Additional fallback to 'UTC'\n              // console.log(`Using timezone: ${timezone}`) // Log the timezone being used\n              newData = convertScheduleToTimezone(response.data, _timezone3); // Ensure you are accessing the correct data property from the response\n              // Merge newData into weeklyContent, avoiding duplicates\n              _this9.weeklyContent = [].concat(_toConsumableArray(_this9.weeklyContent), _toConsumableArray(newData)).filter(function (value, index, self) {\n                return index === self.findIndex(function (t) {\n                  return t.id === value.id && t.startTime === value.startTime;\n                });\n              });\n\n              // Optionally update fetch logs or perform additional state updates\n              _this9.updateFetchLogs(date);\n              _this9.scheduleIsLoading = false;\n              _context9.next = 21;\n              break;\n            case 17:\n              _context9.prev = 17;\n              _context9.t0 = _context9[\"catch\"](2);\n              console.error(\"Failed to load content for week starting \".concat(formattedDate, \":\"), _context9.t0);\n              _this9.scheduleIsLoading = false;\n            case 21:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, null, [[2, 17]]);\n      }))();\n    },\n    updateFetchLogs: function updateFetchLogs(date) {\n      // Convert date to a Day.js object if it's not already one\n      var dayDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n\n      // Use Day.js to calculate the start and end of the week\n      var weekStart = dayDate.startOf('week').toISOString(); // Assumes the week starts on Sunday\n      var weekEnd = dayDate.endOf('week').toISOString(); // Assumes the week ends on Saturday\n      var fetchTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().toISOString(); // Current time in ISO format\n\n      // Find existing log entry for the week\n      var existingLogIndex = this.dataFetchLog.findIndex(function (log) {\n        return log.weekStart === weekStart && log.weekEnd === weekEnd;\n      });\n      if (existingLogIndex !== -1) {\n        // Update the last fetch time if the log already exists\n        this.dataFetchLog[existingLogIndex].lastFetch = fetchTime;\n      } else {\n        // Add a new log entry if it does not exist\n        this.dataFetchLog.push({\n          weekStart: weekStart,\n          weekEnd: weekEnd,\n          lastFetch: fetchTime\n        });\n      }\n    },\n    needsDataForWeek: function needsDataForWeek() {\n      // Helper function to format dates to 'YYYY-MM-DD' for easier comparison\n      var formatISODate = function formatISODate(date) {\n        return dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date).format('YYYY-MM-DD');\n      };\n\n      // Current week range in 'YYYY-MM-DD' format\n      var weekStartStr = formatISODate(this.currentWeekStart);\n      var weekEndStr = formatISODate(this.currentWeekEnd);\n\n      // Enhanced logging for debugging\n      console.log(\"Current week range: \".concat(weekStartStr, \" to \").concat(weekEndStr));\n      console.log('Existing data fetch log entries:', this.dataFetchLog);\n\n      // Iterate through the fetch log to check if the current week has been fetched\n      var weekHasBeenFetched = this.dataFetchLog.some(function (log) {\n        // Convert log dates to 'YYYY-MM-DD' format for comparison\n        var logWeekStartStr = formatISODate(log.weekStart);\n        var logWeekEndStr = formatISODate(log.weekEnd);\n\n        // Log each comparison for insight\n        console.log(\"Comparing to fetched range: \".concat(logWeekStartStr, \" to \").concat(logWeekEndStr));\n        return logWeekStartStr <= weekStartStr && logWeekEndStr >= weekEndStr;\n      });\n\n      // Log the final determination\n      console.log(\"Week from \".concat(weekStartStr, \" to \").concat(weekEndStr, \" has \").concat(weekHasBeenFetched ? '' : 'not ', \"been fetched.\"));\n      return !weekHasBeenFetched;\n    },\n    calculateExtendedEndForUpcomingContent: function calculateExtendedEndForUpcomingContent() {\n      // Convert viewingWindowStart to a Day.js object if it's not already one\n      var baseStartTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(this.viewingWindowStart);\n\n      // Extend by 6 hours to cover the upcoming content span\n      // Day.js handles date and time addition cleanly, returning a new Day.js object\n      var extendedEndTime = baseStartTime.add(6, 'hour');\n\n      // Return the extended end time as a Date object, if needed elsewhere as a Date\n      return extendedEndTime.toDate();\n    },\n    // Function to check for and fetch missing upcoming content\n    checkAndFetchForUpcomingContent: function checkAndFetchForUpcomingContent() {\n      var _this10 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var upcomingDates, now, fifteenMinutesAgo, _iterator, _step, _loop;\n        return _regeneratorRuntime().wrap(function _callee10$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              upcomingDates = getUpcomingContentDates(_this10.viewingWindowStart); // Assuming this returns Day.js objects\n              now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()();\n              fifteenMinutesAgo = now.subtract(15, 'minutes');\n              _iterator = _createForOfIteratorHelper(upcomingDates);\n              _context11.prev = 4;\n              _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n                var date, dateString, contentCoverageAndFreshness;\n                return _regeneratorRuntime().wrap(function _loop$(_context10) {\n                  while (1) switch (_context10.prev = _context10.next) {\n                    case 0:\n                      date = _step.value;\n                      dateString = date.format('YYYY-MM-DD'); // Day.js format for 'YYYY-MM-DD'\n                      contentCoverageAndFreshness = _this10.weeklyContent.some(function (content) {\n                        var contentDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(content.startTime).format('YYYY-MM-DD'); // Convert and compare as 'YYYY-MM-DD'\n                        var lastFetchedTime = _this10.dataFetchLog[dateString];\n                        var isFresh = lastFetchedTime && dayjs__WEBPACK_IMPORTED_MODULE_3___default()(lastFetchedTime) > fifteenMinutesAgo;\n                        return dateString === contentDate && isFresh;\n                      });\n                      if (contentCoverageAndFreshness) {\n                        _context10.next = 7;\n                        break;\n                      }\n                      _context10.next = 6;\n                      return _this10.fetchDataAndUpdateLog(dateString, date.toDate());\n                    case 6:\n                      return _context10.abrupt(\"return\", 1);\n                    case 7:\n                    case \"end\":\n                      return _context10.stop();\n                  }\n                }, _loop);\n              });\n              _iterator.s();\n            case 7:\n              if ((_step = _iterator.n()).done) {\n                _context11.next = 13;\n                break;\n              }\n              return _context11.delegateYield(_loop(), \"t0\", 9);\n            case 9:\n              if (!_context11.t0) {\n                _context11.next = 11;\n                break;\n              }\n              return _context11.abrupt(\"break\", 13);\n            case 11:\n              _context11.next = 7;\n              break;\n            case 13:\n              _context11.next = 18;\n              break;\n            case 15:\n              _context11.prev = 15;\n              _context11.t1 = _context11[\"catch\"](4);\n              _iterator.e(_context11.t1);\n            case 18:\n              _context11.prev = 18;\n              _iterator.f();\n              return _context11.finish(18);\n            case 21:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee10, null, [[4, 15, 18, 21]]);\n      }))();\n    },\n    fetchDataAndUpdateLog: function fetchDataAndUpdateLog(dateString, date) {\n      var _this11 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var dayDate;\n        return _regeneratorRuntime().wrap(function _callee11$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.prev = 0;\n              // Assuming 'date' is already a Day.js object; if not, convert it\n              dayDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n              _context12.next = 4;\n              return _this11.loadWeekFromDate(dayDate.toDate());\n            case 4:\n              // Pass as a Date if needed, or adjust 'loadWeekFromDate' to accept Day.js objects\n              // Successfully fetched, so update the log\n              _this11.dataFetchLog[dateString] = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().toISOString(); // Use Day.js to get the current time in ISO format\n              console.log('Data fetched successfully for date:', dateString);\n              _context12.next = 11;\n              break;\n            case 8:\n              _context12.prev = 8;\n              _context12.t0 = _context12[\"catch\"](0);\n              console.error(\"Failed to fetch data for date \".concat(dateString, \":\"), _context12.t0);\n            case 11:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee11, null, [[0, 8]]);\n      }))();\n    },\n    // Updated to use this.currentWeekStart and this.currentWeekEnd directly\n    fetchWeekDataIfNeeded: function fetchWeekDataIfNeeded() {\n      var _this12 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        return _regeneratorRuntime().wrap(function _callee12$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              if (!_this12.needsDataForWeek()) {\n                _context13.next = 5;\n                break;\n              }\n              _context13.next = 3;\n              return _this12.checkAndFetchForUpcomingContent()[\"catch\"](function (error) {\n                console.error('Failed to load data for the week:', error);\n                return false; // Indicates failure to fetch when an error occurs\n              });\n            case 3:\n              _context13.next = 6;\n              break;\n            case 5:\n              console.log('Week data already loaded; no need to fetch.');\n            case 6:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee12);\n      }))();\n    },\n    // Function to simply update baseTime with the given time (expected to be a Day.js object or compatible input)\n    updateBaseTime: function updateBaseTime(time) {\n      // Ensure the time is a Day.js object when setting baseTime\n      this.baseTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(time).toDate(); // Convert to Date if necessary; consider keeping it as Day.js object if possible\n    },\n    // Function to set baseTime based on a new time input (expected to be a string, Date, etc.)\n    setBaseTime: function setBaseTime(newTime) {\n      // Convert newTime to a Day.js object and then to Date if necessary\n      this.baseTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(newTime).toDate(); // This handles various input formats and ensures consistency\n    },\n    updateNextFourHours: function updateNextFourHours() {\n      var _this13 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        return _regeneratorRuntime().wrap(function _callee13$(_context14) {\n          while (1) switch (_context14.prev = _context14.next) {\n            case 0:\n              _this13.scheduleIsLoading = true;\n              _this13.updateTimeRange();\n              _this13.prepareShowsForGrid();\n              _this13.scheduleIsLoading = false;\n            case 4:\n            case \"end\":\n              return _context14.stop();\n          }\n        }, _callee13);\n      }))();\n    },\n    updateTimeRange: function updateTimeRange() {\n      // Ensure the baseTime is interpreted correctly in the current user's timezone\n      var baseDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(this.baseTime).tz(getTimeZone());\n\n      // Calculate the rounded minutes to either 0 or 30 based on the current time\n      var roundedMinutes = baseDate.minute() < 30 ? 0 : 30;\n\n      // Set the current half hour, rounding down to the nearest half-hour mark\n      var currentHalfHour = baseDate.minute(roundedMinutes).second(0).millisecond(0).startOf('minute');\n\n      // Calculate four hours later from the current half-hour mark\n      var fourHoursLater = currentHalfHour.add(4, 'hours');\n\n      // Update the store's currentHalfHour and fourHoursLater ensuring they are Date objects if required\n      this.currentHalfHour = currentHalfHour.toDate();\n      this.fourHoursLater = fourHoursLater.toDate();\n      console.log('Fetching shows between:', currentHalfHour.format('YYYY-MM-DD HH:mm:ss'), 'and', fourHoursLater.format('YYYY-MM-DD HH:mm:ss'));\n    },\n    prepareShowsForGrid: function prepareShowsForGrid() {\n      // Step 1: Filter shows within the desired time range\n      var shows = this.filterShowsForTimeRange();\n\n      // Step 2: Calculate initial grid slots for these shows\n      var processedShows = this.calculateGridSlots(shows, this.timeSlots);\n      if (!this.timeSlots || !Array.isArray(this.timeSlots) || this.timeSlots.length === 0) {\n        console.error('timeSlots is not properly initialized.');\n        // Handle this scenario, e.g., by initializing timeSlots, or skipping the update\n        return;\n      }\n\n      // Step 3: Update column occupancy and find the maximum row used\n      var _this$updateColumnOcc = this.updateColumnOccupancy(processedShows, this.timeSlots.length),\n        colOccupancy = _this$updateColumnOcc.colOccupancy,\n        maxRowUsed = _this$updateColumnOcc.maxRowUsed;\n\n      // Step 4: Fill gaps in the grid with placeholders\n      var gridItems = this.fillGapsAndCreatePlaceholders(colOccupancy, maxRowUsed, this.timeSlots.length);\n\n      // Step 5: Combine processed shows with the placeholders\n      var combinedShows = [].concat(_toConsumableArray(processedShows), _toConsumableArray(gridItems));\n\n      // Step 6: Sort and group shows by rows\n      this.nextFourHoursOfContent = this.sortShowsByPosition(combinedShows);\n    },\n    filterShowsForTimeRange: function filterShowsForTimeRange() {\n      var _this14 = this;\n      return this.weeklyContent.filter(function (show) {\n        // Validate show data integrity\n        if (typeof show.startTime !== 'string' || typeof show.durationMinutes !== 'number') {\n          console.warn('Invalid show data:', show.startTime, show.durationMinutes);\n          return false; // Skip this show if it doesn't meet data expectations\n        }\n        var showStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.startTime);\n        var showEnd = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.endTime);\n        var isInTimeRange = showStart.isBefore(_this14.fourHoursLater) && showEnd.isAfter(_this14.currentHalfHour);\n\n        // Detailed logging for debugging\n        if (isInTimeRange) {\n          var hasStarted = showStart.isBefore(_this14.currentHalfHour) ? 'already started' : 'starts within range';\n          console.log(\"Show: \".concat(show.content.name, \", \").concat(hasStarted, \", Start: \").concat(showStart.format('HH:mm:ss'), \", End: \").concat(showEnd.format('HH:mm:ss'), \", Duration: \").concat(show.durationMinutes));\n        }\n        return isInTimeRange;\n      });\n    },\n    calculateGridSlots: function calculateGridSlots(shows, timeSlots) {\n      // Ensure timeSlots is valid\n      if (!Array.isArray(timeSlots) || timeSlots.length === 0) {\n        console.error('Invalid or empty timeSlots array');\n        return []; // Return empty or handle as best fits your application context\n      }\n      var cols = timeSlots.length;\n      return shows.map(function (show) {\n        var showStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.startTime);\n        var showEnd = showStart.add(show.durationMinutes, 'minutes');\n\n        // Find the slot where the show should start\n        var slotIndex = timeSlots.findIndex(function (slot) {\n          return showStart.isSameOrAfter(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot)) && showStart.isBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot).add(30, 'minutes'));\n        });\n\n        // If the show starts before the first slot, place it in the first slot\n        if (slotIndex === -1 && showStart.isBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[0]))) {\n          slotIndex = 0;\n        }\n\n        // Calculate the span based on the ending time of the show\n        var endSlotIndex = timeSlots.findIndex(function (slot) {\n          return showEnd.isSameOrBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot).add(30, 'minutes'));\n        });\n        var span;\n        if (endSlotIndex === -1) {\n          // If the show ends after the last slot, span till the end of the grid\n          span = cols - slotIndex;\n        } else {\n          // Calculate span normally\n          span = endSlotIndex - slotIndex + 1;\n        }\n\n        // Prevent overflow of the grid\n        span = Math.min(span, cols - slotIndex);\n        return _objectSpread(_objectSpread({}, show), {}, {\n          gridStart: slotIndex + 1,\n          gridSpan: span\n        });\n      });\n    },\n    updateColumnOccupancy: function updateColumnOccupancy(processedShows, cols) {\n      var colOccupancy = new Array(cols).fill(null).map(function () {\n        return new Set();\n      });\n      var maxRowUsed = 0;\n      processedShows.forEach(function (show) {\n        for (var i = show.gridStart - 1; i < show.gridStart - 1 + show.gridSpan; i++) {\n          if (i >= 0 && i < cols) {\n            colOccupancy[i].add(show.gridRow);\n            maxRowUsed = Math.max(maxRowUsed, show.gridRow);\n          }\n        }\n      });\n      return {\n        colOccupancy: colOccupancy,\n        maxRowUsed: maxRowUsed\n      };\n    },\n    fillGapsAndCreatePlaceholders: function fillGapsAndCreatePlaceholders(colOccupancy, maxRowUsed, cols) {\n      var gridItems = [];\n      for (var row = 1; row <= maxRowUsed; row++) {\n        gridItems.push.apply(gridItems, _toConsumableArray(this.findAndFillGapsForSingleRow(colOccupancy, row, cols)));\n      }\n      return gridItems;\n    },\n    findAndFillGapsForSingleRow: function findAndFillGapsForSingleRow(colOccupancy, row, cols) {\n      var gridItems = [];\n      var gapStart = -1;\n      for (var i = 0; i < cols; i++) {\n        if (!colOccupancy[i].has(row)) {\n          gapStart = gapStart === -1 ? i : gapStart;\n        } else if (gapStart !== -1) {\n          gridItems.push(this.createPlaceholder(gapStart + 1, i - gapStart, row));\n          gapStart = -1;\n        }\n      }\n      if (gapStart !== -1) {\n        gridItems.push(this.createPlaceholder(gapStart + 1, cols - gapStart, row));\n      }\n      return gridItems;\n    },\n    sortShowsByPosition: function sortShowsByPosition(combinedShows) {\n      if (!Array.isArray(combinedShows)) {\n        console.error('Expected an array of shows, received:', combinedShows);\n        return []; // Return an empty array if not an array to prevent errors\n      }\n\n      // Sort shows directly by row and then by start position within each row\n      return combinedShows.sort(function (a, b) {\n        return a.gridRow - b.gridRow || a.gridStart - b.gridStart;\n      });\n    },\n    createPlaceholder: function createPlaceholder(start, span, row) {\n      return {\n        placeholder: true,\n        startTime: 'Placeholder',\n        priority: 0,\n        gridStart: start,\n        gridSpan: span,\n        gridRow: row,\n        content: {\n          name: 'Nothing scheduled.'\n        }\n      };\n    },\n    createBlankSpotPlaceholder: function createBlankSpotPlaceholder(start, span, row) {\n      return {\n        placeholder: true,\n        startTime: 'Blank Spot',\n        priority: 0,\n        gridStart: start,\n        gridSpan: span,\n        gridRow: row,\n        content: {\n          name: 'Blank Spot'\n        } // Ensure it is differentiated from normal placeholders\n      };\n    }\n  },\n  getters: {\n    currentTime: function currentTime(state) {\n      return dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.baseTime).format('h:mm A');\n    },\n    setTimeSlots: function setTimeSlots(state) {\n      var appSettingStore = (0,_Stores_AppSettingStore__WEBPACK_IMPORTED_MODULE_1__.useAppSettingStore)();\n      var slotHours;\n\n      // Determine the number of slot hours based on screen size\n      if (appSettingStore.isVerySmallScreen) {\n        slotHours = state.verySmallScreenSlotHours;\n      } else if (appSettingStore.isSmallScreen) {\n        slotHours = state.smallScreenSlotHours;\n      } else {\n        slotHours = state.mediumScreenSlotHours;\n      }\n      var intervalMinutes = state.slotIntervalMinutes;\n      var slots = [];\n      var totalSlots = slotHours * 60 / intervalMinutes;\n\n      // Ensure state.currentHalfHour is a Day.js object\n      var currentHalfHour = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentHalfHour);\n\n      // Calculate the time for each slot using Day.js\n      for (var i = 0; i < totalSlots; i++) {\n        var slotTime = currentHalfHour.add(i * intervalMinutes, 'minute');\n        slots.push(slotTime.toDate()); // Convert back to JavaScript Date if necessary\n      }\n      state.timeSlots = slots;\n      return slots.length;\n    },\n    nextFourHoursWithHalfHourIntervals: function nextFourHoursWithHalfHourIntervals(state) {\n      var userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)(); // Access the user store\n      var appSettingStore = (0,_Stores_AppSettingStore__WEBPACK_IMPORTED_MODULE_1__.useAppSettingStore)(); // Access the settings store\n      var userTimezone = userStore.timezone; // Get the user's timezone\n      var cols = appSettingStore.isVerySmallScreen ? 4 : appSettingStore.isSmallScreen ? 6 : 8;\n      var intervals = [];\n      var now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.baseTime).tz(userTimezone); // Get the current time in the user's timezone\n\n      // Determine if the current minute is less than 30 to start at the top of the hour or at the half-hour\n      var current = now.minute() < 30 ? now.startOf('hour') : now.startOf('hour').add(30, 'minutes');\n\n      // Generate intervals for the next 4 hours, each 30 minutes apart\n      // Adjust the loop count based on the number of columns/ intervals needed\n      for (var i = 0; i < cols; i++) {\n        // Adjust the number of intervals based on the screen size\n        intervals.push({\n          formatted: current.format('hh:mm A'),\n          // Formatted time for display\n          dateTimeString: current.format('YYYY-MM-DD HH:mm:ss') // Y-m-d H:m:s format for comparisons\n        });\n        current = current.add(30, 'minute'); // Move to the next 30-minute interval\n      }\n      return intervals;\n    },\n    upcomingContent: function upcomingContent(state) {\n      // Since viewingWindowStart is now a Day.js object, use Day.js methods directly\n      var start = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.viewingWindowStart).subtract(1, 'hour'); // 1 hour earlier\n      var end = start.add(7, 'hours'); // 6 hours later from the start\n\n      // Group shows by start time using Day.js\n      var showsGroupedByStartTime = state.weeklyContent.reduce(function (acc, item) {\n        var itemStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(item.startTime).valueOf(); // Use .valueOf() to get the timestamp\n        if (!acc[itemStart]) {\n          acc[itemStart] = [];\n        }\n        acc[itemStart].push(item);\n        return acc;\n      }, {});\n\n      // Select the show with the lowest priority for each start time\n      var selectedShows = Object.values(showsGroupedByStartTime).map(function (group) {\n        return group.reduce(function (selected, item) {\n          return !selected || item.priority < selected.priority ? item : selected;\n        }, null);\n      });\n\n      // Filter shows that fall within the next 6-hour window and sort them\n      return selectedShows.filter(function (item) {\n        var itemStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(item.startTime);\n        return itemStart.isSameOrAfter(start) && itemStart.isBefore(end);\n      }).sort(function (a, b) {\n        return dayjs__WEBPACK_IMPORTED_MODULE_3___default()(a.startTime).unix() - dayjs__WEBPACK_IMPORTED_MODULE_3___default()(b.startTime).unix();\n      }); // Sorting by Unix timestamp\n    },\n    nextSixHours: function nextSixHours(state) {\n      // Assuming state.viewingWindowStart is already a Day.js object.\n      // If it's still a native Date, convert it first:\n      var adjustedStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.viewingWindowStart);\n\n      // Add 6 hours to the adjusted start time\n      var end = adjustedStart.add(6, 'hours');\n\n      // Generate each hour of the interval between adjustedStart and end\n      var hours = [];\n      var hour = adjustedStart;\n      while (hour.isBefore(end)) {\n        hours.push(hour.toDate()); // Convert back to Date if necessary; otherwise, just use `hour` if you can use Day.js objects directly\n        hour = hour.add(1, 'hour');\n      }\n      return hours;\n    },\n    dateMessage: function dateMessage(state) {\n      var startDay = (0,date_fns__WEBPACK_IMPORTED_MODULE_12__.startOfDay)(state.viewingWindowStart);\n      var formattedDate = (0,date_fns__WEBPACK_IMPORTED_MODULE_13__.format)(startDay, 'EEEE MMMM do, yyyy');\n      if ((0,date_fns__WEBPACK_IMPORTED_MODULE_14__.isToday)(startDay)) {\n        return \"Today - \".concat(formattedDate);\n      } else if ((0,date_fns__WEBPACK_IMPORTED_MODULE_15__.isYesterday)(startDay)) {\n        return \"Yesterday - \".concat(formattedDate);\n      } else if ((0,date_fns__WEBPACK_IMPORTED_MODULE_16__.isTomorrow)(startDay)) {\n        return \"Tomorrow - \".concat(formattedDate);\n      } else {\n        return formattedDate;\n      }\n    },\n    currentMonthIndex: function currentMonthIndex(state) {\n      // Ensure state.currentMonth is converted to a Day.js object\n      var month = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      // Day.js months are 0-indexed just like JavaScript Date, returns the month (0-11)\n      return month.month();\n    },\n    currentMonthName: function currentMonthName(state) {\n      // Ensure state.currentMonth is converted to a Day.js object\n      var month = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      // Returns the full name of the month, e.g., 'January', 'February', etc.\n      return month.format('MMMM');\n    },\n    currentYear: function currentYear(state) {\n      // Ensure state.currentMonth is converted to a Day.js object\n      var month = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      // Returns the year\n      return month.year();\n    },\n    isToday: function isToday(state) {\n      var today = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(); // Gets today's date as a Day.js object\n      var viewingStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.viewingWindowStart); // Convert to Day.js object if not already\n\n      // Compare if both dates are the same calendar day\n      return today.isSame(viewingStart, 'day');\n    },\n    daysInMonth: function daysInMonth(state) {\n      // Assuming state.currentMonth is a Day.js object; if it's a Date, convert it:\n      var currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      var startOfCurrentMonth = currentMonth.startOf('month');\n      var endOfCurrentMonth = currentMonth.endOf('month');\n\n      // Adjust these to ensure the grid starts on Sunday and ends on Saturday\n      var startOfGrid = startOfCurrentMonth.startOf('week'); // Assumes the week starts on Sunday by default\n      var endOfGrid = endOfCurrentMonth.endOf('week'); // Assumes the week ends on Saturday by default\n\n      // Generate the days for the calendar grid\n      var days = [];\n      var day = startOfGrid;\n      while (day.isBefore(endOfGrid) || day.isSame(endOfGrid, 'day')) {\n        days.push(day.toDate()); // Collect days as Date objects; remove toDate() if you can use Day.js objects directly\n        day = day.add(1, 'day');\n      }\n      return days;\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvU3RvcmVzL1NjaGVkdWxlU3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrQ0FDQSxxSkFBQUEsbUJBQUEsWUFBQUEsb0JBQUEsV0FBQUMsQ0FBQSxTQUFBQyxDQUFBLEVBQUFELENBQUEsT0FBQUUsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLFNBQUEsRUFBQUMsQ0FBQSxHQUFBSCxDQUFBLENBQUFJLGNBQUEsRUFBQUMsQ0FBQSxHQUFBSixNQUFBLENBQUFLLGNBQUEsY0FBQVAsQ0FBQSxFQUFBRCxDQUFBLEVBQUFFLENBQUEsSUFBQUQsQ0FBQSxDQUFBRCxDQUFBLElBQUFFLENBQUEsQ0FBQU8sS0FBQSxLQUFBQyxDQUFBLHdCQUFBQyxNQUFBLEdBQUFBLE1BQUEsT0FBQUMsQ0FBQSxHQUFBRixDQUFBLENBQUFHLFFBQUEsa0JBQUFDLENBQUEsR0FBQUosQ0FBQSxDQUFBSyxhQUFBLHVCQUFBQyxDQUFBLEdBQUFOLENBQUEsQ0FBQU8sV0FBQSw4QkFBQUMsT0FBQWpCLENBQUEsRUFBQUQsQ0FBQSxFQUFBRSxDQUFBLFdBQUFDLE1BQUEsQ0FBQUssY0FBQSxDQUFBUCxDQUFBLEVBQUFELENBQUEsSUFBQVMsS0FBQSxFQUFBUCxDQUFBLEVBQUFpQixVQUFBLE1BQUFDLFlBQUEsTUFBQUMsUUFBQSxTQUFBcEIsQ0FBQSxDQUFBRCxDQUFBLFdBQUFrQixNQUFBLG1CQUFBakIsQ0FBQSxJQUFBaUIsTUFBQSxZQUFBQSxPQUFBakIsQ0FBQSxFQUFBRCxDQUFBLEVBQUFFLENBQUEsV0FBQUQsQ0FBQSxDQUFBRCxDQUFBLElBQUFFLENBQUEsZ0JBQUFvQixLQUFBckIsQ0FBQSxFQUFBRCxDQUFBLEVBQUFFLENBQUEsRUFBQUcsQ0FBQSxRQUFBSyxDQUFBLEdBQUFWLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxTQUFBLFlBQUFtQixTQUFBLEdBQUF2QixDQUFBLEdBQUF1QixTQUFBLEVBQUFYLENB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUksV0FBVyxHQUFHLFNBQWRBLFdBQVdBLENBQUEsRUFBUztFQUN0QixJQUFNakIsU0FBUyxHQUFHbEMsK0RBQVksQ0FBQyxDQUFDO0VBQ2hDO0VBQ0E7RUFDQTtFQUNBLE9BQU9rQyxTQUFTLENBQUNQLFFBQVE7QUFDN0IsQ0FBQztBQUVELElBQU15QixZQUFZLEdBQUcsU0FBZkEsWUFBWUEsQ0FBQTtFQUFBLE9BQVU7SUFDeEJDLFFBQVEsRUFBRTlCLDRDQUFLLENBQUMsQ0FBQyxDQUFDK0IsRUFBRSxDQUFDSCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUNELE1BQU0sQ0FBQyxDQUFDO0lBQzVDSyxlQUFlLEVBQUVoQyw0Q0FBSyxDQUFDLENBQUMsQ0FBQytCLEVBQUUsQ0FBQ0gsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDSyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNQLEdBQUcsQ0FBQzFCLDRDQUFLLENBQUMsQ0FBQyxDQUFDa0MsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQ1AsTUFBTSxDQUFDLENBQUM7SUFDbEhRLGNBQWMsRUFBRW5DLDRDQUFLLENBQUMsQ0FBQyxDQUFDK0IsRUFBRSxDQUFDSCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUNLLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQ1AsR0FBRyxDQUFDMUIsNENBQUssQ0FBQyxDQUFDLENBQUNrQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDUixHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQztJQUNoSUosa0JBQWtCLEVBQUV2Qiw0Q0FBSyxDQUFDLENBQUMsQ0FBQytCLEVBQUUsQ0FBQ0gsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDSyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNOLE1BQU0sQ0FBQyxDQUFDO0lBQ3RFUyxZQUFZLEVBQUVwQyw0Q0FBSyxDQUFDLENBQUMsQ0FBQytCLEVBQUUsQ0FBQ0gsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDSyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUNOLE1BQU0sQ0FBQyxDQUFDO0lBQ2pFVSxXQUFXLEVBQUVyQyw0Q0FBSyxDQUFDLENBQUMsQ0FBQytCLEVBQUUsQ0FBQ0gsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDRCxNQUFNLENBQUMsQ0FBQztJQUMvQ1csZ0JBQWdCLEVBQUV0Qyw0Q0FBSyxDQUFDLENBQUMsQ0FBQytCLEVBQUUsQ0FBQ0gsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDSyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNOLE1BQU0sQ0FBQyxDQUFDO0lBQ3BFWSxjQUFjLEVBQUV2Qyw0Q0FBSyxDQUFDLENBQUMsQ0FBQytCLEVBQUUsQ0FBQ0gsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDWSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUNiLE1BQU0sQ0FBQyxDQUFDO0lBQ2hFYyxzQkFBc0IsRUFBRSxFQUFFO0lBQzFCQyxzQ0FBc0MsRUFBRSxFQUFFO0lBQzFDO0lBQ0E7SUFDQUMsc0JBQXNCLEVBQUUsRUFBRTtJQUFFO0lBQzVCQyxhQUFhLEVBQUUsRUFBRTtJQUNqQkMsYUFBYSxFQUFFLEVBQUU7SUFDakJDLFlBQVksRUFBRSxFQUFFO0lBQ2hCQyxpQkFBaUIsRUFBRSxLQUFLO0lBQ3hCQyxnQkFBZ0IsRUFBRSxLQUFLO0lBQ3ZCQyxtQkFBbUIsRUFBRSxFQUFFO0lBQ3ZCQyxxQkFBcUIsRUFBRSxDQUFDO0lBQUU7SUFDMUJDLG9CQUFvQixFQUFFLENBQUM7SUFBRTtJQUN6QkMsd0JBQXdCLEVBQUUsQ0FBQztJQUFFO0lBQzdCQyxTQUFTLEVBQUU7RUFDZixDQUFDO0FBQUEsQ0FBQztBQUVLLElBQU1DLGdCQUFnQixHQUFHOUUsbURBQVcsQ0FBQyxlQUFlLEVBQUU7RUFDekQrRSxLQUFLLEVBQUUxQixZQUFZO0VBQ25CMkIsT0FBTyxFQUFFO0lBQ0xDLFFBQVEsV0FBQUEsU0FBQSxFQUFHO01BQ1A7TUFDQWxOLE1BQU0sQ0FBQ21OLE1BQU0sQ0FBQyxJQUFJLEVBQUU3QixZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDRDdHLEtBQUssV0FBQUEsTUFBQSxFQUFHO01BQ0osSUFBSSxDQUFDdUcsa0JBQWtCLEdBQUd2Qiw0Q0FBSyxDQUFDLENBQUMsQ0FBQytCLEVBQUUsQ0FBQ0gsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDSyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNOLE1BQU0sQ0FBQyxDQUFDO01BQzVFLElBQUksQ0FBQ1MsWUFBWSxHQUFHcEMsNENBQUssQ0FBQyxDQUFDLENBQUMrQixFQUFFLENBQUNILFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQ0ssT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDTixNQUFNLENBQUMsQ0FBQztNQUN2RSxJQUFJLENBQUNVLFdBQVcsR0FBR3JDLDRDQUFLLENBQUMsQ0FBQyxDQUFDK0IsRUFBRSxDQUFDSCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUNELE1BQU0sQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFDS2dDLGNBQWMsV0FBQUEsZUFBQ0MsR0FBRyxFQUFFO01BQUEsSUFBQUMsS0FBQTtNQUFBLE9BQUEzRyxpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQXVJLFFBQUE7UUFBQSxJQUFBekIsV0FBQTtRQUFBLE9BQUFsTSxtQkFBQSxHQUFBdUIsSUFBQSxVQUFBcU0sU0FBQUMsUUFBQTtVQUFBLGtCQUFBQSxRQUFBLENBQUFoSSxJQUFBLEdBQUFnSSxRQUFBLENBQUEzSixJQUFBO1lBQUE7Y0FDdEI7Y0FDTWdJLFdBQVcsR0FBR3JDLDRDQUFLLENBQUM0RCxHQUFHLENBQUMsRUFFOUI7Y0FDQUMsS0FBSSxDQUFDeEIsV0FBVyxHQUFHQSxXQUFXLENBQUNWLE1BQU0sQ0FBQyxDQUFDLEVBQUM7O2NBRXhDO2NBQ0FrQyxLQUFJLENBQUN0QyxrQkFBa0IsR0FBR2MsV0FBVyxDQUFDSixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUNQLEdBQUcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUNDLE1BQU0sQ0FBQyxDQUFDOztjQUU3RTtjQUNBa0MsS0FBSSxDQUFDdkIsZ0JBQWdCLEdBQUdELFdBQVcsQ0FBQ0osT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDTixNQUFNLENBQUMsQ0FBQyxFQUFDO2NBQzdEa0MsS0FBSSxDQUFDdEIsY0FBYyxHQUFHRixXQUFXLENBQUNHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQ2IsTUFBTSxDQUFDLENBQUMsRUFBQzs7Y0FFekQ7Y0FBQXFDLFFBQUEsQ0FBQTNKLElBQUE7Y0FBQSxPQUNNd0osS0FBSSxDQUFDSSxxQkFBcUIsQ0FBQyxDQUFDO1lBQUE7WUFBQTtjQUFBLE9BQUFELFFBQUEsQ0FBQTdILElBQUE7VUFBQTtRQUFBLEdBQUEySCxPQUFBO01BQUE7SUFDdEMsQ0FBQztJQUNESSxxQkFBcUIsV0FBQUEsc0JBQUNOLEdBQUcsRUFBRTtNQUN2QixJQUFNTyxHQUFHLEdBQUduRSw0Q0FBSyxDQUFDLENBQUMsRUFBRTs7TUFFckI7TUFDQSxJQUFJLENBQUNxQyxXQUFXLEdBQUc4QixHQUFHLENBQUN4QyxNQUFNLENBQUMsQ0FBQyxFQUFDOztNQUVoQztNQUNBLElBQUksQ0FBQ0osa0JBQWtCLEdBQUc0QyxHQUFHLENBQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNOLE1BQU0sQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFDS3lDLFNBQVMsV0FBQUEsVUFBQ0MsSUFBSSxFQUFFO01BQUEsSUFBQUMsTUFBQTtNQUFBLE9BQUFwSCxpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQWdKLFNBQUE7UUFBQSxJQUFBQyxlQUFBLEVBQUFDLFdBQUEsRUFBQUMsTUFBQTtRQUFBLE9BQUF2TyxtQkFBQSxHQUFBdUIsSUFBQSxVQUFBaU4sVUFBQUMsU0FBQTtVQUFBLGtCQUFBQSxTQUFBLENBQUE1SSxJQUFBLEdBQUE0SSxTQUFBLENBQUF2SyxJQUFBO1lBQUE7Y0FDWm1LLGVBQWUsR0FBRzVDLFdBQVcsQ0FBQyxDQUFDLEVBQUM7Y0FDdEM7Y0FDTTZDLFdBQVcsR0FBR3pFLDRDQUFLLENBQUNzRSxNQUFJLENBQUMvQyxrQkFBa0IsQ0FBQyxDQUFDc0QsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUc3RSw0Q0FBSyxDQUFDc0UsTUFBSSxDQUFDL0Msa0JBQWtCLENBQUMsQ0FBQ1csTUFBTSxDQUFDLENBQUMsRUFFeEc7Y0FDSXdDLE1BQU0sR0FBRzFFLDRDQUFLLENBQUNzRSxNQUFJLENBQUMvQyxrQkFBa0IsQ0FBQyxDQUFDUSxFQUFFLENBQUN5QyxlQUFlLENBQUMsQ0FBQzlDLEdBQUcsQ0FBQzJDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQ3BDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFFL0Y7Y0FDQXlDLE1BQU0sR0FBR0EsTUFBTSxDQUFDaEQsR0FBRyxDQUFDK0MsV0FBVyxFQUFFLFFBQVEsQ0FBQzs7Y0FFMUM7Y0FDQTtjQUNBSCxNQUFJLENBQUMvQyxrQkFBa0IsR0FBR21ELE1BQU0sQ0FBQy9DLE1BQU0sQ0FBQyxDQUFDOztjQUV6QztjQUNBMkMsTUFBSSxDQUFDL0Msa0JBQWtCLEdBQUdtRCxNQUFNOztjQUVoQztjQUNBO2NBQ0E7O2NBRUE7Y0FBQUUsU0FBQSxDQUFBdkssSUFBQTtjQUFBLE9BQ01pSyxNQUFJLENBQUNMLHFCQUFxQixDQUFDLENBQUM7WUFBQTtZQUFBO2NBQUEsT0FBQVcsU0FBQSxDQUFBekksSUFBQTtVQUFBO1FBQUEsR0FBQW9JLFFBQUE7TUFBQTtJQWtCdEMsQ0FBQztJQUNLTyxVQUFVLFdBQUFBLFdBQUNDLEtBQUssRUFBRTtNQUFBLElBQUFDLE1BQUE7TUFBQSxPQUFBOUgsaUJBQUEsZUFBQS9HLG1CQUFBLEdBQUFvRixJQUFBLFVBQUEwSixTQUFBO1FBQUEsT0FBQTlPLG1CQUFBLEdBQUF1QixJQUFBLFVBQUF3TixVQUFBQyxTQUFBO1VBQUEsa0JBQUFBLFNBQUEsQ0FBQW5KLElBQUEsR0FBQW1KLFNBQUEsQ0FBQTlLLElBQUE7WUFBQTtjQUNwQjtjQUNBMkssTUFBSSxDQUFDekQsa0JBQWtCLEdBQUd2Qiw0Q0FBSyxDQUFDZ0YsTUFBSSxDQUFDekQsa0JBQWtCLENBQUMsQ0FBQ0csR0FBRyxDQUFDcUQsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDcEQsTUFBTSxDQUFDLENBQUM7O2NBRXBGO2NBQ0FxRCxNQUFJLENBQUMxQyxnQkFBZ0IsR0FBR3RDLDRDQUFLLENBQUNnRixNQUFJLENBQUN6RCxrQkFBa0IsQ0FBQyxDQUFDVSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNOLE1BQU0sQ0FBQyxDQUFDO2NBQy9FcUQsTUFBSSxDQUFDekMsY0FBYyxHQUFHdkMsNENBQUssQ0FBQ2dGLE1BQUksQ0FBQ3pELGtCQUFrQixDQUFDLENBQUNpQixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUNiLE1BQU0sQ0FBQyxDQUFDOztjQUUzRTtjQUNBLElBQUksQ0FBQzNCLDRDQUFLLENBQUNnRixNQUFJLENBQUN6RCxrQkFBa0IsQ0FBQyxDQUFDNkQsTUFBTSxDQUFDcEYsNENBQUssQ0FBQ2dGLE1BQUksQ0FBQzNDLFdBQVcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFO2dCQUN4RTJDLE1BQUksQ0FBQzNDLFdBQVcsR0FBR3JDLDRDQUFLLENBQUNnRixNQUFJLENBQUN6RCxrQkFBa0IsQ0FBQyxDQUFDVSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUNOLE1BQU0sQ0FBQyxDQUFDO2NBQzdFOztjQUVBO2NBQUF3RCxTQUFBLENBQUE5SyxJQUFBO2NBQUEsT0FDTTJLLE1BQUksQ0FBQ2YscUJBQXFCLENBQUMsQ0FBQztZQUFBO1lBQUE7Y0FBQSxPQUFBa0IsU0FBQSxDQUFBaEosSUFBQTtVQUFBO1FBQUEsR0FBQThJLFFBQUE7TUFBQTtJQUN0QyxDQUFDO0lBQ0RJLFVBQVUsV0FBQUEsV0FBQ0MsSUFBSSxFQUFFO01BQ2I7TUFDQSxJQUFNQyxJQUFJLEdBQUd2Riw0Q0FBSyxDQUFDc0YsSUFBSSxDQUFDO01BQ3hCO01BQ0EsT0FBT0MsSUFBSSxDQUFDVixJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUU7SUFDN0IsQ0FBQztJQUNEO0lBQ01XLGFBQWEsV0FBQUEsY0FBQSxFQUFHO01BQUEsSUFBQUMsTUFBQTtNQUFBLE9BQUF2SSxpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQW1LLFNBQUE7UUFBQSxPQUFBdlAsbUJBQUEsR0FBQXVCLElBQUEsVUFBQWlPLFVBQUFDLFNBQUE7VUFBQSxrQkFBQUEsU0FBQSxDQUFBNUosSUFBQSxHQUFBNEosU0FBQSxDQUFBdkwsSUFBQTtZQUFBO2NBQ2xCO2NBQ0FvTCxNQUFJLENBQUNyRCxZQUFZLEdBQUdwQyw0Q0FBSyxDQUFDeUYsTUFBSSxDQUFDckQsWUFBWSxDQUFDLENBQUN5RCxRQUFRLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDbEUsTUFBTSxDQUFDLENBQUM7Y0FBQWlFLFNBQUEsQ0FBQTVKLElBQUE7Y0FBQTRKLFNBQUEsQ0FBQXZMLElBQUE7Y0FBQSxPQUloRW9MLE1BQUksQ0FBQzlCLGNBQWMsQ0FBQzhCLE1BQUksQ0FBQ3JELFlBQVksQ0FBQztZQUFBO2NBQzVDMEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsMENBQTBDLEVBQUVOLE1BQUksQ0FBQ3JELFlBQVksQ0FBQztjQUFBd0QsU0FBQSxDQUFBdkwsSUFBQTtjQUFBO1lBQUE7Y0FBQXVMLFNBQUEsQ0FBQTVKLElBQUE7Y0FBQTRKLFNBQUEsQ0FBQUksRUFBQSxHQUFBSixTQUFBO2NBRTFFRSxPQUFPLENBQUM3SSxLQUFLLHNEQUFBZ0osTUFBQSxDQUFzRFIsTUFBSSxDQUFDckQsWUFBWSxRQUFBd0QsU0FBQSxDQUFBSSxFQUFVLENBQUM7WUFBQTtZQUFBO2NBQUEsT0FBQUosU0FBQSxDQUFBekosSUFBQTtVQUFBO1FBQUEsR0FBQXVKLFFBQUE7TUFBQTtJQUV2RyxDQUFDO0lBQ0tRLFFBQVEsV0FBQUEsU0FBQSxFQUFHO01BQUEsSUFBQUMsTUFBQTtNQUFBLE9BQUFqSixpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQTZLLFNBQUE7UUFBQSxPQUFBalEsbUJBQUEsR0FBQXVCLElBQUEsVUFBQTJPLFVBQUFDLFNBQUE7VUFBQSxrQkFBQUEsU0FBQSxDQUFBdEssSUFBQSxHQUFBc0ssU0FBQSxDQUFBak0sSUFBQTtZQUFBO2NBQ2I7Y0FDQThMLE1BQUksQ0FBQy9ELFlBQVksR0FBR3BDLDRDQUFLLENBQUNtRyxNQUFJLENBQUMvRCxZQUFZLENBQUMsQ0FBQ1YsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUM7Y0FBQTJFLFNBQUEsQ0FBQXRLLElBQUE7Y0FBQXNLLFNBQUEsQ0FBQWpNLElBQUE7Y0FBQSxPQUkzRDhMLE1BQUksQ0FBQ3hDLGNBQWMsQ0FBQ3dDLE1BQUksQ0FBQy9ELFlBQVksQ0FBQztZQUFBO2NBQzVDMEQsT0FBTyxDQUFDQyxHQUFHLENBQUMsMENBQTBDLEVBQUVJLE1BQUksQ0FBQy9ELFlBQVksQ0FBQztjQUFBa0UsU0FBQSxDQUFBak0sSUFBQTtjQUFBO1lBQUE7Y0FBQWlNLFNBQUEsQ0FBQXRLLElBQUE7Y0FBQXNLLFNBQUEsQ0FBQU4sRUFBQSxHQUFBTSxTQUFBO2NBRTFFUixPQUFPLENBQUM3SSxLQUFLLHNEQUFBZ0osTUFBQSxDQUFzREUsTUFBSSxDQUFDL0QsWUFBWSxRQUFBa0UsU0FBQSxDQUFBTixFQUFVLENBQUM7WUFBQTtZQUFBO2NBQUEsT0FBQU0sU0FBQSxDQUFBbkssSUFBQTtVQUFBO1FBQUEsR0FBQWlLLFFBQUE7TUFBQTtJQUV2RyxDQUFDO0lBQ0tHLDJCQUEyQixXQUFBQSw0QkFBQSxFQUFHO01BQUEsSUFBQUMsTUFBQTtNQUFBLE9BQUF0SixpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQWtMLFNBQUE7UUFBQSxJQUFBOUYsU0FBQSxFQUFBK0YsUUFBQSxFQUFBQyxTQUFBO1FBQUEsT0FBQXhRLG1CQUFBLEdBQUF1QixJQUFBLFVBQUFrUCxVQUFBQyxTQUFBO1VBQUEsa0JBQUFBLFNBQUEsQ0FBQTdLLElBQUEsR0FBQTZLLFNBQUEsQ0FBQXhNLElBQUE7WUFBQTtjQUNoQ3lMLE9BQU8sQ0FBQzdJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQztjQUFBNEosU0FBQSxDQUFBN0ssSUFBQTtjQUVsQzJFLFNBQVMsR0FBR2xDLCtEQUFZLENBQUMsQ0FBQztjQUFBb0ksU0FBQSxDQUFBeE0sSUFBQTtjQUFBLE9BQ1R5TSxLQUFLLENBQUNDLEdBQUcsQ0FBQyxlQUFlLENBQUM7WUFBQTtjQUEzQ0wsUUFBUSxHQUFBRyxTQUFBLENBQUE5TSxJQUFBO2NBRWQ7Y0FDTXFHLFNBQVEsR0FBR08sU0FBUyxDQUFDUCxRQUFRLElBQUlzRyxRQUFRLENBQUM5RixJQUFJLENBQUNvRyxZQUFZLElBQUksS0FBSyxFQUFDO2NBRTNFO2NBQ0FSLE1BQUksQ0FBQzdELHNCQUFzQixHQUFHbEMseUJBQXlCLENBQUNpRyxRQUFRLENBQUM5RixJQUFJLEVBQUVSLFNBQVEsQ0FBQztjQUNoRjBGLE9BQU8sQ0FBQzdJLEtBQUssQ0FBQyw2QkFBNkIsRUFBRXlKLFFBQVEsQ0FBQzlGLElBQUksQ0FBQztjQUFBaUcsU0FBQSxDQUFBeE0sSUFBQTtjQUFBO1lBQUE7Y0FBQXdNLFNBQUEsQ0FBQTdLLElBQUE7Y0FBQTZLLFNBQUEsQ0FBQWIsRUFBQSxHQUFBYSxTQUFBO2NBRTNEZixPQUFPLENBQUM3SSxLQUFLLENBQUMsZ0NBQWdDLEVBQUE0SixTQUFBLENBQUFiLEVBQU8sQ0FBQztjQUN0RDtZQUFBO1lBQUE7Y0FBQSxPQUFBYSxTQUFBLENBQUExSyxJQUFBO1VBQUE7UUFBQSxHQUFBc0ssUUFBQTtNQUFBO0lBRVIsQ0FBQztJQUNLUSxrQkFBa0IsV0FBQUEsbUJBQUEsRUFBRztNQUFBLElBQUFDLE1BQUE7TUFBQSxPQUFBaEssaUJBQUEsZUFBQS9HLG1CQUFBLEdBQUFvRixJQUFBLFVBQUE0TCxTQUFBO1FBQUEsSUFBQXhHLFNBQUEsRUFBQStGLFFBQUEsRUFBQVUsVUFBQTtRQUFBLE9BQUFqUixtQkFBQSxHQUFBdUIsSUFBQSxVQUFBMlAsVUFBQUMsU0FBQTtVQUFBLGtCQUFBQSxTQUFBLENBQUF0TCxJQUFBLEdBQUFzTCxTQUFBLENBQUFqTixJQUFBO1lBQUE7Y0FBQWlOLFNBQUEsQ0FBQXRMLElBQUE7Y0FFYjJFLFNBQVMsR0FBR2xDLCtEQUFZLENBQUMsQ0FBQztjQUFBNkksU0FBQSxDQUFBak4sSUFBQTtjQUFBLE9BQ1R5TSxLQUFLLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQztZQUFBO2NBQWpETCxRQUFRLEdBQUFZLFNBQUEsQ0FBQXZOLElBQUE7Y0FFZDtjQUNNcUcsVUFBUSxHQUFHTyxTQUFTLENBQUNQLFFBQVEsSUFBSXNHLFFBQVEsQ0FBQzlGLElBQUksQ0FBQ29HLFlBQVksSUFBSSxLQUFLLEVBQUM7Y0FFM0VFLE1BQUksQ0FBQ3RFLGFBQWEsR0FBR25DLHlCQUF5QixDQUFDaUcsUUFBUSxDQUFDOUYsSUFBSSxFQUFFUixVQUFRLENBQUM7Y0FBQWtILFNBQUEsQ0FBQWpOLElBQUE7Y0FBQTtZQUFBO2NBQUFpTixTQUFBLENBQUF0TCxJQUFBO2NBQUFzTCxTQUFBLENBQUF0QixFQUFBLEdBQUFzQixTQUFBO2NBRXZFeEIsT0FBTyxDQUFDN0ksS0FBSyxDQUFDLG1DQUFtQyxFQUFBcUssU0FBQSxDQUFBdEIsRUFBTyxDQUFDO1lBQUE7WUFBQTtjQUFBLE9BQUFzQixTQUFBLENBQUFuTCxJQUFBO1VBQUE7UUFBQSxHQUFBZ0wsUUFBQTtNQUFBO0lBRWpFLENBQUM7SUFDS0ksb0JBQW9CLFdBQUFBLHFCQUFBLEVBQUc7TUFBQSxJQUFBQyxNQUFBO01BQUEsT0FBQXRLLGlCQUFBLGVBQUEvRyxtQkFBQSxHQUFBb0YsSUFBQSxVQUFBa00sU0FBQTtRQUFBLElBQUFDLFdBQUE7UUFBQSxPQUFBdlIsbUJBQUEsR0FBQXVCLElBQUEsVUFBQWlRLFVBQUFDLFNBQUE7VUFBQSxrQkFBQUEsU0FBQSxDQUFBNUwsSUFBQSxHQUFBNEwsU0FBQSxDQUFBdk4sSUFBQTtZQUFBO2NBQ3pCO2NBQ01xTixXQUFXLEdBQUcxSCw0Q0FBSyxDQUFDLENBQUMsRUFBQztjQUFBNEgsU0FBQSxDQUFBNUwsSUFBQTtjQUFBNEwsU0FBQSxDQUFBdk4sSUFBQTtjQUFBLE9BSWxCbU4sTUFBSSxDQUFDSyxnQkFBZ0IsQ0FBQ0gsV0FBVyxDQUFDL0YsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUFBO2NBQUFpRyxTQUFBLENBQUF2TixJQUFBO2NBQUE7WUFBQTtjQUFBdU4sU0FBQSxDQUFBNUwsSUFBQTtjQUFBNEwsU0FBQSxDQUFBNUIsRUFBQSxHQUFBNEIsU0FBQTtjQUVqRDlCLE9BQU8sQ0FBQzdJLEtBQUssQ0FBQyxtQ0FBbUMsRUFBQTJLLFNBQUEsQ0FBQTVCLEVBQU8sQ0FBQztZQUFBO1lBQUE7Y0FBQSxPQUFBNEIsU0FBQSxDQUFBekwsSUFBQTtVQUFBO1FBQUEsR0FBQXNMLFFBQUE7TUFBQTtJQUVqRSxDQUFDO0lBQ0tJLGdCQUFnQixXQUFBQSxpQkFBQ3ZDLElBQUksRUFBRTtNQUFBLElBQUF3QyxNQUFBO01BQUEsT0FBQTVLLGlCQUFBLGVBQUEvRyxtQkFBQSxHQUFBb0YsSUFBQSxVQUFBd00sU0FBQTtRQUFBLElBQUFDLGFBQUEsRUFBQXJILFNBQUEsRUFBQXNILE9BQUEsRUFBQUMsV0FBQSxFQUFBeEIsUUFBQSxFQUFBeUIsY0FBQSxFQUFBQyxVQUFBLEVBQUFDLE9BQUE7UUFBQSxPQUFBbFMsbUJBQUEsR0FBQXVCLElBQUEsVUFBQTRRLFVBQUFDLFNBQUE7VUFBQSxrQkFBQUEsU0FBQSxDQUFBdk0sSUFBQSxHQUFBdU0sU0FBQSxDQUFBbE8sSUFBQTtZQUFBO2NBQ3JCMk4sYUFBYSxHQUFHLElBQUksRUFBQztjQUN6QkYsTUFBSSxDQUFDL0UsaUJBQWlCLEdBQUcsSUFBSTtjQUFBd0YsU0FBQSxDQUFBdk0sSUFBQTtjQUVuQjJFLFNBQVMsR0FBR2xDLCtEQUFZLENBQUMsQ0FBQyxFQUNoQztjQUNBO2NBQ0E7Y0FDTXdKLE9BQU8sR0FBR2pJLDRDQUFLLENBQUNzRixJQUFJLENBQUM7Y0FDckI0QyxXQUFXLEdBQUdELE9BQU8sQ0FBQ08sV0FBVyxDQUFDLENBQUMsRUFDekM7Y0FFQTtjQUNBO2NBQUFELFNBQUEsQ0FBQWxPLElBQUE7Y0FBQSxPQUN1QnlNLEtBQUssQ0FBQzJCLElBQUksdUJBQUF4QyxNQUFBLENBQXVCaUMsV0FBVyxDQUFFLENBQUM7WUFBQTtjQUFoRXhCLFFBQVEsR0FBQTZCLFNBQUEsQ0FBQXhPLElBQUE7Y0FFZDtjQUNBO2NBQ01pTyxjQUFhLEdBQUdDLE9BQU8sQ0FBQzlJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBQztjQUNuRDtjQUNBO2NBQ0E7Y0FDQTtjQUVBO2NBQ01pQixVQUFRLEdBQUdPLFNBQVMsQ0FBQ1AsUUFBUSxJQUFJc0csUUFBUSxDQUFDOUYsSUFBSSxDQUFDb0csWUFBWSxJQUFJLEtBQUssRUFBQztjQUMzRTtjQUVNcUIsT0FBTyxHQUFHNUgseUJBQXlCLENBQUNpRyxRQUFRLENBQUM5RixJQUFJLEVBQUVSLFVBQVEsQ0FBQyxFQUFDO2NBRW5FO2NBQ0EwSCxNQUFJLENBQUNqRixhQUFhLEdBQUcsR0FBQW9ELE1BQUEsQ0FBQXlDLGtCQUFBLENBQUlaLE1BQUksQ0FBQ2pGLGFBQWEsR0FBQTZGLGtCQUFBLENBQUtMLE9BQU8sR0FBRXpLLE1BQU0sQ0FBQyxVQUFDL0csS0FBSyxFQUFFOFIsS0FBSyxFQUFFdkwsSUFBSTtnQkFBQSxPQUMzRXVMLEtBQUssS0FBS3ZMLElBQUksQ0FBQ3dMLFNBQVMsQ0FBQyxVQUFDdlMsQ0FBQztrQkFBQSxPQUN2QkEsQ0FBQyxDQUFDd1MsRUFBRSxLQUFLaFMsS0FBSyxDQUFDZ1MsRUFBRSxJQUFJeFMsQ0FBQyxDQUFDMkssU0FBUyxLQUFLbkssS0FBSyxDQUFDbUssU0FBUztnQkFBQSxDQUN2RCxDQUFDO2NBQUEsQ0FDVixDQUFDOztjQUVEO2NBQ0E4RyxNQUFJLENBQUNnQixlQUFlLENBQUN4RCxJQUFJLENBQUM7Y0FFMUJ3QyxNQUFJLENBQUMvRSxpQkFBaUIsR0FBRyxLQUFLO2NBQUF3RixTQUFBLENBQUFsTyxJQUFBO2NBQUE7WUFBQTtjQUFBa08sU0FBQSxDQUFBdk0sSUFBQTtjQUFBdU0sU0FBQSxDQUFBdkMsRUFBQSxHQUFBdUMsU0FBQTtjQUU5QnpDLE9BQU8sQ0FBQzdJLEtBQUssNkNBQUFnSixNQUFBLENBQTZDK0IsYUFBYSxRQUFBTyxTQUFBLENBQUF2QyxFQUFVLENBQUM7Y0FDbEY4QixNQUFJLENBQUMvRSxpQkFBaUIsR0FBRyxLQUFLO1lBQUE7WUFBQTtjQUFBLE9BQUF3RixTQUFBLENBQUFwTSxJQUFBO1VBQUE7UUFBQSxHQUFBNEwsUUFBQTtNQUFBO0lBRXRDLENBQUM7SUFDRGUsZUFBZSxXQUFBQSxnQkFBQ3hELElBQUksRUFBRTtNQUNsQjtNQUNBLElBQU0yQyxPQUFPLEdBQUdqSSw0Q0FBSyxDQUFDc0YsSUFBSSxDQUFDOztNQUUzQjtNQUNBLElBQU15RCxTQUFTLEdBQUdkLE9BQU8sQ0FBQ2hHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQ3VHLFdBQVcsQ0FBQyxDQUFDLEVBQUM7TUFDeEQsSUFBTVEsT0FBTyxHQUFHZixPQUFPLENBQUN6RixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUNnRyxXQUFXLENBQUMsQ0FBQyxFQUFDO01BQ3BELElBQU1TLFNBQVMsR0FBR2pKLDRDQUFLLENBQUMsQ0FBQyxDQUFDd0ksV0FBVyxDQUFDLENBQUMsRUFBQzs7TUFFeEM7TUFDQSxJQUFNVSxnQkFBZ0IsR0FBRyxJQUFJLENBQUNwRyxZQUFZLENBQUM4RixTQUFTLENBQUMsVUFBQTdDLEdBQUc7UUFBQSxPQUNwREEsR0FBRyxDQUFDZ0QsU0FBUyxLQUFLQSxTQUFTLElBQUloRCxHQUFHLENBQUNpRCxPQUFPLEtBQUtBLE9BQU87TUFBQSxFQUFDO01BRTNELElBQUlFLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ3pCO1FBQ0EsSUFBSSxDQUFDcEcsWUFBWSxDQUFDb0csZ0JBQWdCLENBQUMsQ0FBQ0MsU0FBUyxHQUFHRixTQUFTO01BQzdELENBQUMsTUFBTTtRQUNIO1FBQ0EsSUFBSSxDQUFDbkcsWUFBWSxDQUFDakksSUFBSSxDQUFDO1VBQUNrTyxTQUFTLEVBQVRBLFNBQVM7VUFBRUMsT0FBTyxFQUFQQSxPQUFPO1VBQUVHLFNBQVMsRUFBRUY7UUFBUyxDQUFDLENBQUM7TUFDdEU7SUFDSixDQUFDO0lBQ0RHLGdCQUFnQixXQUFBQSxpQkFBQSxFQUFHO01BQ2Y7TUFDQSxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUkvRCxJQUFJO1FBQUEsT0FBS3RGLDRDQUFLLENBQUNzRixJQUFJLENBQUMsQ0FBQ25HLE1BQU0sQ0FBQyxZQUFZLENBQUM7TUFBQTs7TUFFaEU7TUFDQSxJQUFNbUssWUFBWSxHQUFHRCxhQUFhLENBQUMsSUFBSSxDQUFDL0csZ0JBQWdCLENBQUM7TUFDekQsSUFBTWlILFVBQVUsR0FBR0YsYUFBYSxDQUFDLElBQUksQ0FBQzlHLGNBQWMsQ0FBQzs7TUFFckQ7TUFDQXVELE9BQU8sQ0FBQ0MsR0FBRyx3QkFBQUUsTUFBQSxDQUF3QnFELFlBQVksVUFBQXJELE1BQUEsQ0FBT3NELFVBQVUsQ0FBRSxDQUFDO01BQ25FekQsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLEVBQUUsSUFBSSxDQUFDakQsWUFBWSxDQUFDOztNQUVsRTtNQUNBLElBQU0wRyxrQkFBa0IsR0FBRyxJQUFJLENBQUMxRyxZQUFZLENBQUMyRyxJQUFJLENBQUMsVUFBQTFELEdBQUcsRUFBSTtRQUNyRDtRQUNBLElBQU0yRCxlQUFlLEdBQUdMLGFBQWEsQ0FBQ3RELEdBQUcsQ0FBQ2dELFNBQVMsQ0FBQztRQUNwRCxJQUFNWSxhQUFhLEdBQUdOLGFBQWEsQ0FBQ3RELEdBQUcsQ0FBQ2lELE9BQU8sQ0FBQzs7UUFFaEQ7UUFDQWxELE9BQU8sQ0FBQ0MsR0FBRyxnQ0FBQUUsTUFBQSxDQUFnQ3lELGVBQWUsVUFBQXpELE1BQUEsQ0FBTzBELGFBQWEsQ0FBRSxDQUFDO1FBRWpGLE9BQU9ELGVBQWUsSUFBSUosWUFBWSxJQUFJSyxhQUFhLElBQUlKLFVBQVU7TUFDekUsQ0FBQyxDQUFDOztNQUVGO01BQ0F6RCxPQUFPLENBQUNDLEdBQUcsY0FBQUUsTUFBQSxDQUFjcUQsWUFBWSxVQUFBckQsTUFBQSxDQUFPc0QsVUFBVSxXQUFBdEQsTUFBQSxDQUFRdUQsa0JBQWtCLEdBQUcsRUFBRSxHQUFHLE1BQU0sa0JBQWUsQ0FBQztNQUU5RyxPQUFPLENBQUNBLGtCQUFrQjtJQUM5QixDQUFDO0lBQ0RJLHNDQUFzQyxXQUFBQSx1Q0FBQSxFQUFHO01BQ3JDO01BQ0EsSUFBTUMsYUFBYSxHQUFHN0osNENBQUssQ0FBQyxJQUFJLENBQUN1QixrQkFBa0IsQ0FBQzs7TUFFcEQ7TUFDQTtNQUNBLElBQU11SSxlQUFlLEdBQUdELGFBQWEsQ0FBQ25JLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDOztNQUVwRDtNQUNBLE9BQU9vSSxlQUFlLENBQUNuSSxNQUFNLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBQ0Q7SUFDTW9JLCtCQUErQixXQUFBQSxnQ0FBQSxFQUFHO01BQUEsSUFBQUMsT0FBQTtNQUFBLE9BQUE5TSxpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQTBPLFVBQUE7UUFBQSxJQUFBQyxhQUFBLEVBQUEvRixHQUFBLEVBQUFnRyxpQkFBQSxFQUFBQyxTQUFBLEVBQUFDLEtBQUEsRUFBQUMsS0FBQTtRQUFBLE9BQUFuVSxtQkFBQSxHQUFBdUIsSUFBQSxVQUFBNlMsV0FBQUMsVUFBQTtVQUFBLGtCQUFBQSxVQUFBLENBQUF4TyxJQUFBLEdBQUF3TyxVQUFBLENBQUFuUSxJQUFBO1lBQUE7Y0FDOUI2UCxhQUFhLEdBQUc1SSx1QkFBdUIsQ0FBQzBJLE9BQUksQ0FBQ3pJLGtCQUFrQixDQUFDLEVBQUM7Y0FDakU0QyxHQUFHLEdBQUduRSw0Q0FBSyxDQUFDLENBQUM7Y0FDYm1LLGlCQUFpQixHQUFHaEcsR0FBRyxDQUFDMEIsUUFBUSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUM7Y0FBQXVFLFNBQUEsR0FBQUssMEJBQUEsQ0FFbENQLGFBQWE7Y0FBQU0sVUFBQSxDQUFBeE8sSUFBQTtjQUFBc08sS0FBQSxnQkFBQW5VLG1CQUFBLEdBQUFvRixJQUFBLFVBQUErTyxNQUFBO2dCQUFBLElBQUFoRixJQUFBLEVBQUFvRixVQUFBLEVBQUFDLDJCQUFBO2dCQUFBLE9BQUF4VSxtQkFBQSxHQUFBdUIsSUFBQSxVQUFBa1QsT0FBQUMsVUFBQTtrQkFBQSxrQkFBQUEsVUFBQSxDQUFBN08sSUFBQSxHQUFBNk8sVUFBQSxDQUFBeFEsSUFBQTtvQkFBQTtzQkFBckJpTCxJQUFJLEdBQUErRSxLQUFBLENBQUF4VCxLQUFBO3NCQUNMNlQsVUFBVSxHQUFHcEYsSUFBSSxDQUFDbkcsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO3NCQUN4Q3dMLDJCQUEyQixHQUFHWCxPQUFJLENBQUNuSCxhQUFhLENBQUM0RyxJQUFJLENBQUMsVUFBQXFCLE9BQU8sRUFBSTt3QkFDbkUsSUFBTUMsV0FBVyxHQUFHL0ssNENBQUssQ0FBQzhLLE9BQU8sQ0FBQzlKLFNBQVMsQ0FBQyxDQUFDN0IsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO3dCQUNuRSxJQUFNNkwsZUFBZSxHQUFHaEIsT0FBSSxDQUFDbEgsWUFBWSxDQUFDNEgsVUFBVSxDQUFDO3dCQUNyRCxJQUFNTyxPQUFPLEdBQUdELGVBQWUsSUFBSWhMLDRDQUFLLENBQUNnTCxlQUFlLENBQUMsR0FBR2IsaUJBQWlCO3dCQUM3RSxPQUFPTyxVQUFVLEtBQUtLLFdBQVcsSUFBSUUsT0FBTztzQkFDaEQsQ0FBQyxDQUFDO3NCQUFBLElBRUdOLDJCQUEyQjt3QkFBQUUsVUFBQSxDQUFBeFEsSUFBQTt3QkFBQTtzQkFBQTtzQkFBQXdRLFVBQUEsQ0FBQXhRLElBQUE7c0JBQUEsT0FFdEIyUCxPQUFJLENBQUNrQixxQkFBcUIsQ0FBQ1IsVUFBVSxFQUFFcEYsSUFBSSxDQUFDM0QsTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFBQTtzQkFBQSxPQUFBa0osVUFBQSxDQUFBM1EsTUFBQTtvQkFBQTtvQkFBQTtzQkFBQSxPQUFBMlEsVUFBQSxDQUFBMU8sSUFBQTtrQkFBQTtnQkFBQSxHQUFBbU8sS0FBQTtjQUFBO2NBQUFGLFNBQUEsQ0FBQTlSLENBQUE7WUFBQTtjQUFBLEtBQUErUixLQUFBLEdBQUFELFNBQUEsQ0FBQTNULENBQUEsSUFBQWtELElBQUE7Z0JBQUE2USxVQUFBLENBQUFuUSxJQUFBO2dCQUFBO2NBQUE7Y0FBQSxPQUFBbVEsVUFBQSxDQUFBL04sYUFBQSxDQUFBNk4sS0FBQTtZQUFBO2NBQUEsS0FBQUUsVUFBQSxDQUFBeEUsRUFBQTtnQkFBQXdFLFVBQUEsQ0FBQW5RLElBQUE7Z0JBQUE7Y0FBQTtjQUFBLE9BQUFtUSxVQUFBLENBQUF0USxNQUFBO1lBQUE7Y0FBQXNRLFVBQUEsQ0FBQW5RLElBQUE7Y0FBQTtZQUFBO2NBQUFtUSxVQUFBLENBQUFuUSxJQUFBO2NBQUE7WUFBQTtjQUFBbVEsVUFBQSxDQUFBeE8sSUFBQTtjQUFBd08sVUFBQSxDQUFBVyxFQUFBLEdBQUFYLFVBQUE7Y0FBQUosU0FBQSxDQUFBaFUsQ0FBQSxDQUFBb1UsVUFBQSxDQUFBVyxFQUFBO1lBQUE7Y0FBQVgsVUFBQSxDQUFBeE8sSUFBQTtjQUFBb08sU0FBQSxDQUFBL1IsQ0FBQTtjQUFBLE9BQUFtUyxVQUFBLENBQUFqTyxNQUFBO1lBQUE7WUFBQTtjQUFBLE9BQUFpTyxVQUFBLENBQUFyTyxJQUFBO1VBQUE7UUFBQSxHQUFBOE4sU0FBQTtNQUFBO0lBSXZFLENBQUM7SUFDS2lCLHFCQUFxQixXQUFBQSxzQkFBQ1IsVUFBVSxFQUFFcEYsSUFBSSxFQUFFO01BQUEsSUFBQThGLE9BQUE7TUFBQSxPQUFBbE8saUJBQUEsZUFBQS9HLG1CQUFBLEdBQUFvRixJQUFBLFVBQUE4UCxVQUFBO1FBQUEsSUFBQXBELE9BQUE7UUFBQSxPQUFBOVIsbUJBQUEsR0FBQXVCLElBQUEsVUFBQTRULFdBQUFDLFVBQUE7VUFBQSxrQkFBQUEsVUFBQSxDQUFBdlAsSUFBQSxHQUFBdVAsVUFBQSxDQUFBbFIsSUFBQTtZQUFBO2NBQUFrUixVQUFBLENBQUF2UCxJQUFBO2NBRXRDO2NBQ01pTSxPQUFPLEdBQUdqSSw0Q0FBSyxDQUFDc0YsSUFBSSxDQUFDO2NBQUFpRyxVQUFBLENBQUFsUixJQUFBO2NBQUEsT0FFckIrUSxPQUFJLENBQUN2RCxnQkFBZ0IsQ0FBQ0ksT0FBTyxDQUFDdEcsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUFBO2NBQUU7Y0FDL0M7Y0FDQXlKLE9BQUksQ0FBQ3RJLFlBQVksQ0FBQzRILFVBQVUsQ0FBQyxHQUFHMUssNENBQUssQ0FBQyxDQUFDLENBQUN3SSxXQUFXLENBQUMsQ0FBQyxFQUFFO2NBQ3ZEMUMsT0FBTyxDQUFDQyxHQUFHLENBQUMscUNBQXFDLEVBQUUyRSxVQUFVLENBQUM7Y0FBQWEsVUFBQSxDQUFBbFIsSUFBQTtjQUFBO1lBQUE7Y0FBQWtSLFVBQUEsQ0FBQXZQLElBQUE7Y0FBQXVQLFVBQUEsQ0FBQXZGLEVBQUEsR0FBQXVGLFVBQUE7Y0FFOUR6RixPQUFPLENBQUM3SSxLQUFLLGtDQUFBZ0osTUFBQSxDQUFrQ3lFLFVBQVUsUUFBQWEsVUFBQSxDQUFBdkYsRUFBVSxDQUFDO1lBQUE7WUFBQTtjQUFBLE9BQUF1RixVQUFBLENBQUFwUCxJQUFBO1VBQUE7UUFBQSxHQUFBa1AsU0FBQTtNQUFBO0lBRTVFLENBQUM7SUFFRDtJQUNNcEgscUJBQXFCLFdBQUFBLHNCQUFBLEVBQUc7TUFBQSxJQUFBdUgsT0FBQTtNQUFBLE9BQUF0TyxpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQWtRLFVBQUE7UUFBQSxPQUFBdFYsbUJBQUEsR0FBQXVCLElBQUEsVUFBQWdVLFdBQUFDLFVBQUE7VUFBQSxrQkFBQUEsVUFBQSxDQUFBM1AsSUFBQSxHQUFBMlAsVUFBQSxDQUFBdFIsSUFBQTtZQUFBO2NBQUEsS0FFdEJtUixPQUFJLENBQUNwQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUFBdUMsVUFBQSxDQUFBdFIsSUFBQTtnQkFBQTtjQUFBO2NBQUFzUixVQUFBLENBQUF0UixJQUFBO2NBQUEsT0FDakJtUixPQUFJLENBQUN6QiwrQkFBK0IsQ0FBQyxDQUFDLFNBQU0sQ0FBQyxVQUFBOU0sS0FBSyxFQUFJO2dCQUN4RDZJLE9BQU8sQ0FBQzdJLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRUEsS0FBSyxDQUFDO2dCQUN6RCxPQUFPLEtBQUssRUFBQztjQUNqQixDQUFDLENBQUM7WUFBQTtjQUFBME8sVUFBQSxDQUFBdFIsSUFBQTtjQUFBO1lBQUE7Y0FFRnlMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZDQUE2QyxDQUFDO1lBQUE7WUFBQTtjQUFBLE9BQUE0RixVQUFBLENBQUF4UCxJQUFBO1VBQUE7UUFBQSxHQUFBc1AsU0FBQTtNQUFBO0lBRWxFLENBQUM7SUFFRDtJQUNBRyxjQUFjLFdBQUFBLGVBQUNyRyxJQUFJLEVBQUU7TUFDakI7TUFDQSxJQUFJLENBQUN6RCxRQUFRLEdBQUc5Qiw0Q0FBSyxDQUFDdUYsSUFBSSxDQUFDLENBQUM1RCxNQUFNLENBQUMsQ0FBQyxFQUFFO0lBQzFDLENBQUM7SUFFRDtJQUNBa0ssV0FBVyxXQUFBQSxZQUFDQyxPQUFPLEVBQUU7TUFDakI7TUFDQSxJQUFJLENBQUNoSyxRQUFRLEdBQUc5Qiw0Q0FBSyxDQUFDOEwsT0FBTyxDQUFDLENBQUNuSyxNQUFNLENBQUMsQ0FBQyxFQUFFO0lBQzdDLENBQUM7SUFHS29LLG1CQUFtQixXQUFBQSxvQkFBQSxFQUFHO01BQUEsSUFBQUMsT0FBQTtNQUFBLE9BQUE5TyxpQkFBQSxlQUFBL0csbUJBQUEsR0FBQW9GLElBQUEsVUFBQTBRLFVBQUE7UUFBQSxPQUFBOVYsbUJBQUEsR0FBQXVCLElBQUEsVUFBQXdVLFdBQUFDLFVBQUE7VUFBQSxrQkFBQUEsVUFBQSxDQUFBblEsSUFBQSxHQUFBbVEsVUFBQSxDQUFBOVIsSUFBQTtZQUFBO2NBQ3hCMlIsT0FBSSxDQUFDakosaUJBQWlCLEdBQUcsSUFBSTtjQUM3QmlKLE9BQUksQ0FBQ0ksZUFBZSxDQUFDLENBQUM7Y0FDdEJKLE9BQUksQ0FBQ0ssbUJBQW1CLENBQUMsQ0FBQztjQUMxQkwsT0FBSSxDQUFDakosaUJBQWlCLEdBQUcsS0FBSztZQUFBO1lBQUE7Y0FBQSxPQUFBb0osVUFBQSxDQUFBaFEsSUFBQTtVQUFBO1FBQUEsR0FBQThQLFNBQUE7TUFBQTtJQUNsQyxDQUFDO0lBRURHLGVBQWUsV0FBQUEsZ0JBQUEsRUFBRztNQUNkO01BQ0EsSUFBTUUsUUFBUSxHQUFHdE0sNENBQUssQ0FBQyxJQUFJLENBQUM4QixRQUFRLENBQUMsQ0FBQ0MsRUFBRSxDQUFDSCxXQUFXLENBQUMsQ0FBQyxDQUFDOztNQUV2RDtNQUNBLElBQU0ySyxjQUFjLEdBQUdELFFBQVEsQ0FBQ3BLLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFOztNQUV0RDtNQUNBLElBQU1GLGVBQWUsR0FBR3NLLFFBQVEsQ0FBQ3BLLE1BQU0sQ0FBQ3FLLGNBQWMsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQ3hLLE9BQU8sQ0FBQyxRQUFRLENBQUM7O01BRWxHO01BQ0EsSUFBTUUsY0FBYyxHQUFHSCxlQUFlLENBQUNOLEdBQUcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDOztNQUV0RDtNQUNBLElBQUksQ0FBQ00sZUFBZSxHQUFHQSxlQUFlLENBQUNMLE1BQU0sQ0FBQyxDQUFDO01BQy9DLElBQUksQ0FBQ1EsY0FBYyxHQUFHQSxjQUFjLENBQUNSLE1BQU0sQ0FBQyxDQUFDO01BRTdDbUUsT0FBTyxDQUFDQyxHQUFHLENBQUMseUJBQXlCLEVBQUUvRCxlQUFlLENBQUM3QyxNQUFNLENBQUMscUJBQXFCLENBQUMsRUFBRSxLQUFLLEVBQUVnRCxjQUFjLENBQUNoRCxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUM5SSxDQUFDO0lBRURrTixtQkFBbUIsV0FBQUEsb0JBQUEsRUFBRztNQUNsQjtNQUNBLElBQU1LLEtBQUssR0FBRyxJQUFJLENBQUNDLHVCQUF1QixDQUFDLENBQUM7O01BRTVDO01BQ0EsSUFBTUMsY0FBYyxHQUFHLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNILEtBQUssRUFBRSxJQUFJLENBQUNySixTQUFTLENBQUM7TUFFckUsSUFBSSxDQUFDLElBQUksQ0FBQ0EsU0FBUyxJQUFJLENBQUN5SixLQUFLLENBQUNDLE9BQU8sQ0FBQyxJQUFJLENBQUMxSixTQUFTLENBQUMsSUFBSSxJQUFJLENBQUNBLFNBQVMsQ0FBQ25JLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDbEY0SyxPQUFPLENBQUM3SSxLQUFLLENBQUMsd0NBQXdDLENBQUM7UUFDdkQ7UUFDQTtNQUNKOztNQUVBO01BQ0EsSUFBQStQLHFCQUFBLEdBQW1DLElBQUksQ0FBQ0MscUJBQXFCLENBQUNMLGNBQWMsRUFBRSxJQUFJLENBQUN2SixTQUFTLENBQUNuSSxNQUFNLENBQUM7UUFBN0ZnUyxZQUFZLEdBQUFGLHFCQUFBLENBQVpFLFlBQVk7UUFBRUMsVUFBVSxHQUFBSCxxQkFBQSxDQUFWRyxVQUFVOztNQUUvQjtNQUNBLElBQU1DLFNBQVMsR0FBRyxJQUFJLENBQUNDLDZCQUE2QixDQUFDSCxZQUFZLEVBQUVDLFVBQVUsRUFBRSxJQUFJLENBQUM5SixTQUFTLENBQUNuSSxNQUFNLENBQUM7O01BRXJHO01BQ0EsSUFBTW9TLGFBQWEsTUFBQXJILE1BQUEsQ0FBQXlDLGtCQUFBLENBQU9rRSxjQUFjLEdBQUFsRSxrQkFBQSxDQUFLMEUsU0FBUyxFQUFDOztNQUV2RDtNQUNBLElBQUksQ0FBQzNLLHNCQUFzQixHQUFHLElBQUksQ0FBQzhLLG1CQUFtQixDQUFDRCxhQUFhLENBQUM7SUFDekUsQ0FBQztJQUVEWCx1QkFBdUIsV0FBQUEsd0JBQUEsRUFBRztNQUFBLElBQUFhLE9BQUE7TUFDdEIsT0FBTyxJQUFJLENBQUMzSyxhQUFhLENBQUNqRixNQUFNLENBQUMsVUFBQTZQLElBQUksRUFBSTtRQUNyQztRQUNBLElBQUksT0FBT0EsSUFBSSxDQUFDek0sU0FBUyxLQUFLLFFBQVEsSUFBSSxPQUFPeU0sSUFBSSxDQUFDQyxlQUFlLEtBQUssUUFBUSxFQUFFO1VBQ2hGNUgsT0FBTyxDQUFDNkgsSUFBSSxDQUFDLG9CQUFvQixFQUFFRixJQUFJLENBQUN6TSxTQUFTLEVBQUV5TSxJQUFJLENBQUNDLGVBQWUsQ0FBQztVQUN4RSxPQUFPLEtBQUssRUFBQztRQUNqQjtRQUVBLElBQU1FLFNBQVMsR0FBRzVOLDRDQUFLLENBQUN5TixJQUFJLENBQUN6TSxTQUFTLENBQUM7UUFDdkMsSUFBTTZNLE9BQU8sR0FBRzdOLDRDQUFLLENBQUN5TixJQUFJLENBQUN0TSxPQUFPLENBQUM7UUFDbkMsSUFBTTJNLGFBQWEsR0FBR0YsU0FBUyxDQUFDRyxRQUFRLENBQUNQLE9BQUksQ0FBQ3JMLGNBQWMsQ0FBQyxJQUFJMEwsT0FBTyxDQUFDRyxPQUFPLENBQUNSLE9BQUksQ0FBQ3hMLGVBQWUsQ0FBQzs7UUFFdEc7UUFDQSxJQUFJOEwsYUFBYSxFQUFFO1VBQ2YsSUFBTUcsVUFBVSxHQUFHTCxTQUFTLENBQUNHLFFBQVEsQ0FBQ1AsT0FBSSxDQUFDeEwsZUFBZSxDQUFDLEdBQUcsaUJBQWlCLEdBQUcscUJBQXFCO1VBQ3ZHOEQsT0FBTyxDQUFDQyxHQUFHLFVBQUFFLE1BQUEsQ0FBVXdILElBQUksQ0FBQzNDLE9BQU8sQ0FBQ3hQLElBQUksUUFBQTJLLE1BQUEsQ0FBS2dJLFVBQVUsZUFBQWhJLE1BQUEsQ0FBWTJILFNBQVMsQ0FBQ3pPLE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBQThHLE1BQUEsQ0FBVTRILE9BQU8sQ0FBQzFPLE1BQU0sQ0FBQyxVQUFVLENBQUMsa0JBQUE4RyxNQUFBLENBQWV3SCxJQUFJLENBQUNDLGVBQWUsQ0FBRSxDQUFDO1FBQzNLO1FBRUEsT0FBT0ksYUFBYTtNQUN4QixDQUFDLENBQUM7SUFDTixDQUFDO0lBRURqQixrQkFBa0IsV0FBQUEsbUJBQUNILEtBQUssRUFBRXJKLFNBQVMsRUFBRTtNQUNqQztNQUNBLElBQUksQ0FBQ3lKLEtBQUssQ0FBQ0MsT0FBTyxDQUFDMUosU0FBUyxDQUFDLElBQUlBLFNBQVMsQ0FBQ25JLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDckQ0SyxPQUFPLENBQUM3SSxLQUFLLENBQUMsa0NBQWtDLENBQUM7UUFDakQsT0FBTyxFQUFFLEVBQUM7TUFDZDtNQUVBLElBQU1pUixJQUFJLEdBQUc3SyxTQUFTLENBQUNuSSxNQUFNO01BQzdCLE9BQU93UixLQUFLLENBQUM3TCxHQUFHLENBQUMsVUFBQTRNLElBQUksRUFBSTtRQUNyQixJQUFNRyxTQUFTLEdBQUc1Tiw0Q0FBSyxDQUFDeU4sSUFBSSxDQUFDek0sU0FBUyxDQUFDO1FBQ3ZDLElBQU02TSxPQUFPLEdBQUdELFNBQVMsQ0FBQ2xNLEdBQUcsQ0FBQytMLElBQUksQ0FBQ0MsZUFBZSxFQUFFLFNBQVMsQ0FBQzs7UUFFOUQ7UUFDQSxJQUFJUyxTQUFTLEdBQUc5SyxTQUFTLENBQUN1RixTQUFTLENBQUMsVUFBQXdGLElBQUk7VUFBQSxPQUNwQ1IsU0FBUyxDQUFDM04sYUFBYSxDQUFDRCw0Q0FBSyxDQUFDb08sSUFBSSxDQUFDLENBQUMsSUFDcENSLFNBQVMsQ0FBQ0csUUFBUSxDQUFDL04sNENBQUssQ0FBQ29PLElBQUksQ0FBQyxDQUFDMU0sR0FBRyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUFBLENBQ3RELENBQUM7O1FBRUQ7UUFDQSxJQUFJeU0sU0FBUyxLQUFLLENBQUMsQ0FBQyxJQUFJUCxTQUFTLENBQUNHLFFBQVEsQ0FBQy9OLDRDQUFLLENBQUNxRCxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1VBQzdEOEssU0FBUyxHQUFHLENBQUM7UUFDakI7O1FBRUE7UUFDQSxJQUFNRSxZQUFZLEdBQUdoTCxTQUFTLENBQUN1RixTQUFTLENBQUMsVUFBQXdGLElBQUk7VUFBQSxPQUN6Q1AsT0FBTyxDQUFDM04sY0FBYyxDQUFDRiw0Q0FBSyxDQUFDb08sSUFBSSxDQUFDLENBQUMxTSxHQUFHLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQUEsQ0FDMUQsQ0FBQztRQUVELElBQUk0TSxJQUFJO1FBQ1IsSUFBSUQsWUFBWSxLQUFLLENBQUMsQ0FBQyxFQUFFO1VBQ3JCO1VBQ0FDLElBQUksR0FBR0osSUFBSSxHQUFHQyxTQUFTO1FBQzNCLENBQUMsTUFBTTtVQUNIO1VBQ0FHLElBQUksR0FBR0QsWUFBWSxHQUFHRixTQUFTLEdBQUcsQ0FBQztRQUN2Qzs7UUFFQTtRQUNBRyxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDRixJQUFJLEVBQUVKLElBQUksR0FBR0MsU0FBUyxDQUFDO1FBRXZDLE9BQUFyUSxhQUFBLENBQUFBLGFBQUEsS0FDTzJQLElBQUk7VUFDUGdCLFNBQVMsRUFBRU4sU0FBUyxHQUFHLENBQUM7VUFDeEJPLFFBQVEsRUFBRUo7UUFBSTtNQUV0QixDQUFDLENBQUM7SUFDTixDQUFDO0lBRURyQixxQkFBcUIsV0FBQUEsc0JBQUNMLGNBQWMsRUFBRXNCLElBQUksRUFBRTtNQUN4QyxJQUFJaEIsWUFBWSxHQUFHLElBQUlKLEtBQUssQ0FBQ29CLElBQUksQ0FBQyxDQUFDUyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM5TixHQUFHLENBQUM7UUFBQSxPQUFNLElBQUkrTixHQUFHLENBQUMsQ0FBQztNQUFBLEVBQUM7TUFDbEUsSUFBSXpCLFVBQVUsR0FBRyxDQUFDO01BQ2xCUCxjQUFjLENBQUMzVCxPQUFPLENBQUMsVUFBQXdVLElBQUksRUFBSTtRQUMzQixLQUFLLElBQUkzVyxDQUFDLEdBQUcyVyxJQUFJLENBQUNnQixTQUFTLEdBQUcsQ0FBQyxFQUFFM1gsQ0FBQyxHQUFHMlcsSUFBSSxDQUFDZ0IsU0FBUyxHQUFHLENBQUMsR0FBR2hCLElBQUksQ0FBQ2lCLFFBQVEsRUFBRTVYLENBQUMsRUFBRSxFQUFFO1VBQzFFLElBQUlBLENBQUMsSUFBSSxDQUFDLElBQUlBLENBQUMsR0FBR29YLElBQUksRUFBRTtZQUNwQmhCLFlBQVksQ0FBQ3BXLENBQUMsQ0FBQyxDQUFDNEssR0FBRyxDQUFDK0wsSUFBSSxDQUFDb0IsT0FBTyxDQUFDO1lBQ2pDMUIsVUFBVSxHQUFHb0IsSUFBSSxDQUFDTyxHQUFHLENBQUMzQixVQUFVLEVBQUVNLElBQUksQ0FBQ29CLE9BQU8sQ0FBQztVQUNuRDtRQUNKO01BQ0osQ0FBQyxDQUFDO01BQ0YsT0FBTztRQUFDM0IsWUFBWSxFQUFaQSxZQUFZO1FBQUVDLFVBQVUsRUFBVkE7TUFBVSxDQUFDO0lBQ3JDLENBQUM7SUFFREUsNkJBQTZCLFdBQUFBLDhCQUFDSCxZQUFZLEVBQUVDLFVBQVUsRUFBRWUsSUFBSSxFQUFFO01BQzFELElBQUlkLFNBQVMsR0FBRyxFQUFFO01BQ2xCLEtBQUssSUFBSTJCLEdBQUcsR0FBRyxDQUFDLEVBQUVBLEdBQUcsSUFBSTVCLFVBQVUsRUFBRTRCLEdBQUcsRUFBRSxFQUFFO1FBQ3hDM0IsU0FBUyxDQUFDdlMsSUFBSSxDQUFBMEMsS0FBQSxDQUFkNlAsU0FBUyxFQUFBMUUsa0JBQUEsQ0FBUyxJQUFJLENBQUNzRywyQkFBMkIsQ0FBQzlCLFlBQVksRUFBRTZCLEdBQUcsRUFBRWIsSUFBSSxDQUFDLEVBQUM7TUFDaEY7TUFDQSxPQUFPZCxTQUFTO0lBQ3BCLENBQUM7SUFFRDRCLDJCQUEyQixXQUFBQSw0QkFBQzlCLFlBQVksRUFBRTZCLEdBQUcsRUFBRWIsSUFBSSxFQUFFO01BQ2pELElBQUlkLFNBQVMsR0FBRyxFQUFFO01BQ2xCLElBQUk2QixRQUFRLEdBQUcsQ0FBQyxDQUFDO01BQ2pCLEtBQUssSUFBSW5ZLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR29YLElBQUksRUFBRXBYLENBQUMsRUFBRSxFQUFFO1FBQzNCLElBQUksQ0FBQ29XLFlBQVksQ0FBQ3BXLENBQUMsQ0FBQyxDQUFDb1ksR0FBRyxDQUFDSCxHQUFHLENBQUMsRUFBRTtVQUMzQkUsUUFBUSxHQUFHQSxRQUFRLEtBQUssQ0FBQyxDQUFDLEdBQUduWSxDQUFDLEdBQUdtWSxRQUFRO1FBQzdDLENBQUMsTUFBTSxJQUFJQSxRQUFRLEtBQUssQ0FBQyxDQUFDLEVBQUU7VUFDeEI3QixTQUFTLENBQUN2UyxJQUFJLENBQUMsSUFBSSxDQUFDc1UsaUJBQWlCLENBQUNGLFFBQVEsR0FBRyxDQUFDLEVBQUVuWSxDQUFDLEdBQUdtWSxRQUFRLEVBQUVGLEdBQUcsQ0FBQyxDQUFDO1VBQ3ZFRSxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCO01BQ0o7TUFDQSxJQUFJQSxRQUFRLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDakI3QixTQUFTLENBQUN2UyxJQUFJLENBQUMsSUFBSSxDQUFDc1UsaUJBQWlCLENBQUNGLFFBQVEsR0FBRyxDQUFDLEVBQUVmLElBQUksR0FBR2UsUUFBUSxFQUFFRixHQUFHLENBQUMsQ0FBQztNQUM5RTtNQUNBLE9BQU8zQixTQUFTO0lBQ3BCLENBQUM7SUFFREcsbUJBQW1CLFdBQUFBLG9CQUFDRCxhQUFhLEVBQUU7TUFDL0IsSUFBSSxDQUFDUixLQUFLLENBQUNDLE9BQU8sQ0FBQ08sYUFBYSxDQUFDLEVBQUU7UUFDL0J4SCxPQUFPLENBQUM3SSxLQUFLLENBQUMsdUNBQXVDLEVBQUVxUSxhQUFhLENBQUM7UUFDckUsT0FBTyxFQUFFLEVBQUM7TUFDZDs7TUFFQTtNQUNBLE9BQU9BLGFBQWEsQ0FBQzhCLElBQUksQ0FBQyxVQUFDcFksQ0FBQyxFQUFFcVksQ0FBQztRQUFBLE9BQUtyWSxDQUFDLENBQUM2WCxPQUFPLEdBQUdRLENBQUMsQ0FBQ1IsT0FBTyxJQUFJN1gsQ0FBQyxDQUFDeVgsU0FBUyxHQUFHWSxDQUFDLENBQUNaLFNBQVM7TUFBQSxFQUFDO0lBQzNGLENBQUM7SUFFRFUsaUJBQWlCLFdBQUFBLGtCQUFDMU4sS0FBSyxFQUFFNk0sSUFBSSxFQUFFUyxHQUFHLEVBQUU7TUFDaEMsT0FBTztRQUNITyxXQUFXLEVBQUUsSUFBSTtRQUNqQnRPLFNBQVMsRUFBRSxhQUFhO1FBQ3hCdU8sUUFBUSxFQUFFLENBQUM7UUFDWGQsU0FBUyxFQUFFaE4sS0FBSztRQUNoQmlOLFFBQVEsRUFBRUosSUFBSTtRQUNkTyxPQUFPLEVBQUVFLEdBQUc7UUFDWmpFLE9BQU8sRUFBRTtVQUFDeFAsSUFBSSxFQUFFO1FBQW9CO01BQ3hDLENBQUM7SUFDTCxDQUFDO0lBRURrVSwwQkFBMEIsV0FBQUEsMkJBQUMvTixLQUFLLEVBQUU2TSxJQUFJLEVBQUVTLEdBQUcsRUFBRTtNQUN6QyxPQUFPO1FBQ0hPLFdBQVcsRUFBRSxJQUFJO1FBQ2pCdE8sU0FBUyxFQUFFLFlBQVk7UUFDdkJ1TyxRQUFRLEVBQUUsQ0FBQztRQUNYZCxTQUFTLEVBQUVoTixLQUFLO1FBQ2hCaU4sUUFBUSxFQUFFSixJQUFJO1FBQ2RPLE9BQU8sRUFBRUUsR0FBRztRQUNaakUsT0FBTyxFQUFFO1VBQUN4UCxJQUFJLEVBQUU7UUFBWSxDQUFDLENBQUU7TUFDbkMsQ0FBQztJQUNMO0VBRUosQ0FBQztFQUVEbVUsT0FBTyxFQUFFO0lBQ0xoTCxXQUFXLEVBQUUsU0FBQUEsWUFBQ2xCLEtBQUssRUFBSztNQUNwQixPQUFPdkQsNENBQUssQ0FBQ3VELEtBQUssQ0FBQ3pCLFFBQVEsQ0FBQyxDQUFDM0MsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUNqRCxDQUFDO0lBRUR1USxZQUFZLEVBQUUsU0FBQUEsYUFBQ25NLEtBQUssRUFBSztNQUNyQixJQUFNb00sZUFBZSxHQUFHalIsMkVBQWtCLENBQUMsQ0FBQztNQUM1QyxJQUFJa1IsU0FBUzs7TUFFYjtNQUNBLElBQUlELGVBQWUsQ0FBQ0UsaUJBQWlCLEVBQUU7UUFDbkNELFNBQVMsR0FBR3JNLEtBQUssQ0FBQ0gsd0JBQXdCO01BQzlDLENBQUMsTUFBTSxJQUFJdU0sZUFBZSxDQUFDRyxhQUFhLEVBQUU7UUFDdENGLFNBQVMsR0FBR3JNLEtBQUssQ0FBQ0osb0JBQW9CO01BQzFDLENBQUMsTUFBTTtRQUNIeU0sU0FBUyxHQUFHck0sS0FBSyxDQUFDTCxxQkFBcUI7TUFDM0M7TUFFQSxJQUFNNk0sZUFBZSxHQUFHeE0sS0FBSyxDQUFDTixtQkFBbUI7TUFDakQsSUFBTStNLEtBQUssR0FBRyxFQUFFO01BQ2hCLElBQU1DLFVBQVUsR0FBSUwsU0FBUyxHQUFHLEVBQUUsR0FBSUcsZUFBZTs7TUFFckQ7TUFDQSxJQUFNL04sZUFBZSxHQUFHaEMsNENBQUssQ0FBQ3VELEtBQUssQ0FBQ3ZCLGVBQWUsQ0FBQzs7TUFFcEQ7TUFDQSxLQUFLLElBQUlsTCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdtWixVQUFVLEVBQUVuWixDQUFDLEVBQUUsRUFBRTtRQUNqQyxJQUFJb1osUUFBUSxHQUFHbE8sZUFBZSxDQUFDTixHQUFHLENBQUM1SyxDQUFDLEdBQUdpWixlQUFlLEVBQUUsUUFBUSxDQUFDO1FBQ2pFQyxLQUFLLENBQUNuVixJQUFJLENBQUNxVixRQUFRLENBQUN2TyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7TUFDbkM7TUFDQTRCLEtBQUssQ0FBQ0YsU0FBUyxHQUFHMk0sS0FBSztNQUN2QixPQUFPQSxLQUFLLENBQUM5VSxNQUFNO0lBQ3ZCLENBQUM7SUFFRGlWLGtDQUFrQyxFQUFFLFNBQUFBLG1DQUFDNU0sS0FBSyxFQUFLO01BQzNDLElBQU01QyxTQUFTLEdBQUdsQywrREFBWSxDQUFDLENBQUMsRUFBQztNQUNqQyxJQUFNa1IsZUFBZSxHQUFHalIsMkVBQWtCLENBQUMsQ0FBQyxFQUFDO01BQzdDLElBQU1zSSxZQUFZLEdBQUdyRyxTQUFTLENBQUNQLFFBQVEsRUFBQztNQUN4QyxJQUFNOE4sSUFBSSxHQUFHeUIsZUFBZSxDQUFDRSxpQkFBaUIsR0FBRyxDQUFDLEdBQzlDRixlQUFlLENBQUNHLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQztNQUd6QyxJQUFNTSxTQUFTLEdBQUcsRUFBRTtNQUNwQixJQUFNak0sR0FBRyxHQUFHbkUsNENBQUssQ0FBQ3VELEtBQUssQ0FBQ3pCLFFBQVEsQ0FBQyxDQUFDQyxFQUFFLENBQUNpRixZQUFZLENBQUMsRUFBQzs7TUFFbkQ7TUFDQSxJQUFJcUosT0FBTyxHQUFHbE0sR0FBRyxDQUFDakMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUdpQyxHQUFHLENBQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUdrQyxHQUFHLENBQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUNQLEdBQUcsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDOztNQUc5RjtNQUNBO01BQ0EsS0FBSyxJQUFJNUssQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHb1gsSUFBSSxFQUFFcFgsQ0FBQyxFQUFFLEVBQUU7UUFBRTtRQUM3QnNaLFNBQVMsQ0FBQ3ZWLElBQUksQ0FBQztVQUNYeVYsU0FBUyxFQUFFRCxPQUFPLENBQUNsUixNQUFNLENBQUMsU0FBUyxDQUFDO1VBQUU7VUFDdENvUixjQUFjLEVBQUVGLE9BQU8sQ0FBQ2xSLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFFO1FBQzNELENBQUMsQ0FBQztRQUNGa1IsT0FBTyxHQUFHQSxPQUFPLENBQUMzTyxHQUFHLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxFQUFDO01BQ3hDO01BRUEsT0FBTzBPLFNBQVM7SUFDcEIsQ0FBQztJQUVESSxlQUFlLEVBQUUsU0FBQUEsZ0JBQUNqTixLQUFLLEVBQUs7TUFDeEI7TUFDQSxJQUFNOUIsS0FBSyxHQUFHekIsNENBQUssQ0FBQ3VELEtBQUssQ0FBQ2hDLGtCQUFrQixDQUFDLENBQUNzRSxRQUFRLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFDO01BQ2xFLElBQU00SyxHQUFHLEdBQUdoUCxLQUFLLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEVBQUM7O01BRWxDO01BQ0EsSUFBTWdQLHVCQUF1QixHQUFHbk4sS0FBSyxDQUFDVixhQUFhLENBQUM4TixNQUFNLENBQUMsVUFBQ0MsR0FBRyxFQUFFOVAsSUFBSSxFQUFLO1FBQ3RFLElBQU0rUCxTQUFTLEdBQUc3USw0Q0FBSyxDQUFDYyxJQUFJLENBQUNFLFNBQVMsQ0FBQyxDQUFDOFAsT0FBTyxDQUFDLENBQUMsRUFBQztRQUNsRCxJQUFJLENBQUNGLEdBQUcsQ0FBQ0MsU0FBUyxDQUFDLEVBQUU7VUFDakJELEdBQUcsQ0FBQ0MsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUN2QjtRQUNBRCxHQUFHLENBQUNDLFNBQVMsQ0FBQyxDQUFDaFcsSUFBSSxDQUFDaUcsSUFBSSxDQUFDO1FBQ3pCLE9BQU84UCxHQUFHO01BQ2QsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOztNQUVOO01BQ0EsSUFBTUcsYUFBYSxHQUFHeGEsTUFBTSxDQUFDdUMsTUFBTSxDQUFDNFgsdUJBQXVCLENBQUMsQ0FBQzdQLEdBQUcsQ0FBQyxVQUFBbVEsS0FBSyxFQUFJO1FBQ3RFLE9BQU9BLEtBQUssQ0FBQ0wsTUFBTSxDQUFDLFVBQUNNLFFBQVEsRUFBRW5RLElBQUksRUFBSztVQUNwQyxPQUFPLENBQUNtUSxRQUFRLElBQUluUSxJQUFJLENBQUN5TyxRQUFRLEdBQUcwQixRQUFRLENBQUMxQixRQUFRLEdBQUd6TyxJQUFJLEdBQUdtUSxRQUFRO1FBQzNFLENBQUMsRUFBRSxJQUFJLENBQUM7TUFDWixDQUFDLENBQUM7O01BRUY7TUFDQSxPQUFPRixhQUFhLENBQ2ZuVCxNQUFNLENBQUMsVUFBQWtELElBQUksRUFBSTtRQUNaLElBQU0rUCxTQUFTLEdBQUc3USw0Q0FBSyxDQUFDYyxJQUFJLENBQUNFLFNBQVMsQ0FBQztRQUN2QyxPQUFPNlAsU0FBUyxDQUFDNVEsYUFBYSxDQUFDd0IsS0FBSyxDQUFDLElBQUlvUCxTQUFTLENBQUM5QyxRQUFRLENBQUMwQyxHQUFHLENBQUM7TUFDcEUsQ0FBQyxDQUFDLENBQ0RyQixJQUFJLENBQUMsVUFBQ3BZLENBQUMsRUFBRXFZLENBQUM7UUFBQSxPQUFLclAsNENBQUssQ0FBQ2hKLENBQUMsQ0FBQ2dLLFNBQVMsQ0FBQyxDQUFDa1EsSUFBSSxDQUFDLENBQUMsR0FBR2xSLDRDQUFLLENBQUNxUCxDQUFDLENBQUNyTyxTQUFTLENBQUMsQ0FBQ2tRLElBQUksQ0FBQyxDQUFDO01BQUEsRUFBQyxFQUFDO0lBQy9FLENBQUM7SUFHREMsWUFBWSxFQUFFLFNBQUFBLGFBQUM1TixLQUFLLEVBQUs7TUFDckI7TUFDQTtNQUNBLElBQUk2TixhQUFhLEdBQUdwUiw0Q0FBSyxDQUFDdUQsS0FBSyxDQUFDaEMsa0JBQWtCLENBQUM7O01BRW5EO01BQ0EsSUFBTWtQLEdBQUcsR0FBR1csYUFBYSxDQUFDMVAsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7O01BRXpDO01BQ0EsSUFBTXFELEtBQUssR0FBRyxFQUFFO01BQ2hCLElBQUlGLElBQUksR0FBR3VNLGFBQWE7TUFFeEIsT0FBT3ZNLElBQUksQ0FBQ2tKLFFBQVEsQ0FBQzBDLEdBQUcsQ0FBQyxFQUFFO1FBQ3ZCMUwsS0FBSyxDQUFDbEssSUFBSSxDQUFDZ0ssSUFBSSxDQUFDbEQsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDO1FBQzFCa0QsSUFBSSxHQUFHQSxJQUFJLENBQUNuRCxHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQztNQUM5QjtNQUVBLE9BQU9xRCxLQUFLO0lBQ2hCLENBQUM7SUFFRHNNLFdBQVcsRUFBRSxTQUFBQSxZQUFDOU4sS0FBSyxFQUFLO01BQ3BCLElBQU0rTixRQUFRLEdBQUczUixxREFBVSxDQUFDNEQsS0FBSyxDQUFDaEMsa0JBQWtCLENBQUM7TUFDckQsSUFBTXlHLGFBQWEsR0FBRzdJLGlEQUFNLENBQUNtUyxRQUFRLEVBQUUsb0JBQW9CLENBQUM7TUFDNUQsSUFBSTlSLGtEQUFPLENBQUM4UixRQUFRLENBQUMsRUFBRTtRQUNuQixrQkFBQXJMLE1BQUEsQ0FBa0IrQixhQUFhO01BQ25DLENBQUMsTUFBTSxJQUFJdEksc0RBQVcsQ0FBQzRSLFFBQVEsQ0FBQyxFQUFFO1FBQzlCLHNCQUFBckwsTUFBQSxDQUFzQitCLGFBQWE7TUFDdkMsQ0FBQyxNQUFNLElBQUl2SSxxREFBVSxDQUFDNlIsUUFBUSxDQUFDLEVBQUU7UUFDN0IscUJBQUFyTCxNQUFBLENBQXFCK0IsYUFBYTtNQUN0QyxDQUFDLE1BQU07UUFDSCxPQUFPQSxhQUFhO01BQ3hCO0lBQ0osQ0FBQztJQUVEdUosaUJBQWlCLEVBQUUsU0FBQUEsa0JBQUNoTyxLQUFLLEVBQUs7TUFDMUI7TUFDQSxJQUFNaU8sS0FBSyxHQUFHeFIsNENBQUssQ0FBQ3VELEtBQUssQ0FBQ25CLFlBQVksQ0FBQztNQUN2QztNQUNBLE9BQU9vUCxLQUFLLENBQUNBLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFREMsZ0JBQWdCLEVBQUUsU0FBQUEsaUJBQUNsTyxLQUFLLEVBQUs7TUFDekI7TUFDQSxJQUFNaU8sS0FBSyxHQUFHeFIsNENBQUssQ0FBQ3VELEtBQUssQ0FBQ25CLFlBQVksQ0FBQztNQUN2QztNQUNBLE9BQU9vUCxLQUFLLENBQUNyUyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQy9CLENBQUM7SUFFRHVTLFdBQVcsRUFBRSxTQUFBQSxZQUFDbk8sS0FBSyxFQUFLO01BQ3BCO01BQ0EsSUFBTWlPLEtBQUssR0FBR3hSLDRDQUFLLENBQUN1RCxLQUFLLENBQUNuQixZQUFZLENBQUM7TUFDdkM7TUFDQSxPQUFPb1AsS0FBSyxDQUFDRyxJQUFJLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBQ0RuUyxPQUFPLEVBQUUsU0FBQUEsUUFBQytELEtBQUssRUFBSztNQUNoQixJQUFNcU8sS0FBSyxHQUFHNVIsNENBQUssQ0FBQyxDQUFDLEVBQUU7TUFDdkIsSUFBTTZSLFlBQVksR0FBRzdSLDRDQUFLLENBQUN1RCxLQUFLLENBQUNoQyxrQkFBa0IsQ0FBQyxFQUFFOztNQUV0RDtNQUNBLE9BQU9xUSxLQUFLLENBQUN4TSxNQUFNLENBQUN5TSxZQUFZLEVBQUUsS0FBSyxDQUFDO0lBQzVDLENBQUM7SUFFREMsV0FBVyxFQUFFLFNBQUFBLFlBQUN2TyxLQUFLLEVBQUs7TUFDcEI7TUFDQSxJQUFNbkIsWUFBWSxHQUFHcEMsNENBQUssQ0FBQ3VELEtBQUssQ0FBQ25CLFlBQVksQ0FBQztNQUU5QyxJQUFNMlAsbUJBQW1CLEdBQUczUCxZQUFZLENBQUNILE9BQU8sQ0FBQyxPQUFPLENBQUM7TUFDekQsSUFBTStQLGlCQUFpQixHQUFHNVAsWUFBWSxDQUFDSSxLQUFLLENBQUMsT0FBTyxDQUFDOztNQUVyRDtNQUNBLElBQU15UCxXQUFXLEdBQUdGLG1CQUFtQixDQUFDOVAsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO01BQ3pELElBQU1pUSxTQUFTLEdBQUdGLGlCQUFpQixDQUFDeFAsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFROztNQUV6RDtNQUNBLElBQU02QixJQUFJLEdBQUcsRUFBRTtNQUNmLElBQUlULEdBQUcsR0FBR3FPLFdBQVc7TUFFckIsT0FBT3JPLEdBQUcsQ0FBQ21LLFFBQVEsQ0FBQ21FLFNBQVMsQ0FBQyxJQUFJdE8sR0FBRyxDQUFDd0IsTUFBTSxDQUFDOE0sU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUFFO1FBQzVEN04sSUFBSSxDQUFDeEosSUFBSSxDQUFDK0ksR0FBRyxDQUFDakMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDO1FBQ3hCaUMsR0FBRyxHQUFHQSxHQUFHLENBQUNsQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztNQUMzQjtNQUVBLE9BQU8yQyxJQUFJO0lBQ2Y7RUFFSjtBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9TdG9yZXMvU2NoZWR1bGVTdG9yZS5qcz83ODI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmluZVN0b3JlIH0gZnJvbSAncGluaWEnXG5pbXBvcnQgeyB1c2VVc2VyU3RvcmUgfSBmcm9tICdAL1N0b3Jlcy9Vc2VyU3RvcmUnXG5pbXBvcnQgeyB1c2VBcHBTZXR0aW5nU3RvcmUgfSBmcm9tICdAL1N0b3Jlcy9BcHBTZXR0aW5nU3RvcmUnXG5pbXBvcnQgeyBjcmVhdGVUaW1lU2xvdHMgfSBmcm9tICdAL1V0aWxpdGllcy9UaW1lVXRpbHMnXG5pbXBvcnQge1xuICAgIGFkZERheXMsXG4gICAgYWRkSG91cnMsXG4gICAgYWRkTW9udGhzLFxuICAgIGVhY2hEYXlPZkludGVydmFsLFxuICAgIGVhY2hIb3VyT2ZJbnRlcnZhbCxcbiAgICBlbmRPZk1vbnRoLFxuICAgIGVuZE9mV2VlayxcbiAgICBmb3JtYXQsXG4gICAgZ2V0SG91cnMsXG4gICAgZ2V0TW9udGgsXG4gICAgZ2V0WWVhcixcbiAgICBpc1NhbWVEYXksXG4gICAgaXNUb2RheSxcbiAgICBpc1RvbW9ycm93LFxuICAgIGlzWWVzdGVyZGF5LFxuICAgIHN0YXJ0T2ZEYXksXG4gICAgc3RhcnRPZkhvdXIsXG4gICAgc3RhcnRPZk1vbnRoLFxuICAgIHN0YXJ0T2ZXZWVrLFxuICAgIHN1Yk1vbnRocyxcbn0gZnJvbSAnZGF0ZS1mbnMnXG5cbi8vIEltcG9ydCBkYXlqcyBhbmQgaXRzIHBsdWdpbnNcbmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcydcbmltcG9ydCBpc1NhbWVPckFmdGVyIGZyb20gJ2RheWpzL3BsdWdpbi9pc1NhbWVPckFmdGVyJ1xuaW1wb3J0IGlzU2FtZU9yQmVmb3JlIGZyb20gJ2RheWpzL3BsdWdpbi9pc1NhbWVPckJlZm9yZScgLy8gVG8gY2hlY2sgaWYgdGhlIGRheSBpcyB0aGUgc2FtZVxuaW1wb3J0IHJlbGF0aXZlVGltZSBmcm9tICdkYXlqcy9wbHVnaW4vcmVsYXRpdmVUaW1lJ1xuaW1wb3J0IHRpbWV6b25lIGZyb20gJ2RheWpzL3BsdWdpbi90aW1lem9uZSdcbmltcG9ydCB1dGMgZnJvbSAnZGF5anMvcGx1Z2luL3V0YydcbmltcG9ydCB3ZWVrT2ZZZWFyIGZyb20gJ2RheWpzL3BsdWdpbi93ZWVrT2ZZZWFyJyAvLyBGb3Igd2VlayBzdGFydCBhbmQgZW5kIGNhbGN1bGF0aW9uc1xuaW1wb3J0IGFkdmFuY2VkRm9ybWF0IGZyb20gJ2RheWpzL3BsdWdpbi9hZHZhbmNlZEZvcm1hdCcgLy8gRm9yIG1vcmUgY29tcGxleCBmb3JtYXR0aW5nIG9wdGlvbnNcblxuLy8gRXh0ZW5kIGRheWpzIHdpdGggdGhlIHBsdWdpbnNcbmRheWpzLmV4dGVuZChyZWxhdGl2ZVRpbWUpXG5kYXlqcy5leHRlbmQodGltZXpvbmUpXG5kYXlqcy5leHRlbmQod2Vla09mWWVhcilcbmRheWpzLmV4dGVuZChhZHZhbmNlZEZvcm1hdClcbmRheWpzLmV4dGVuZCh1dGMpXG5kYXlqcy5leHRlbmQoaXNTYW1lT3JBZnRlcilcbmRheWpzLmV4dGVuZChpc1NhbWVPckJlZm9yZSlcblxuZnVuY3Rpb24gY29udmVydFNjaGVkdWxlVG9UaW1lem9uZShzY2hlZHVsZURhdGEpIHtcbiAgICBjb25zdCB1c2VyU3RvcmUgPSB1c2VVc2VyU3RvcmUoKSAvLyBBY2Nlc3MgdGhlIFVzZXJTdG9yZVxuXG4gICAgcmV0dXJuIHNjaGVkdWxlRGF0YS5kYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgLy8gQ29udmVydCB0b3AtbGV2ZWwgc3RhcnRfdGltZSBhbmQgZW5kX3RpbWUgdXNpbmcgVXNlclN0b3JlIG1ldGhvZHNcbiAgICAgICAgLy8gY29uc29sZS5sb2coYE9yaWdpbmFsIHN0YXJ0VGltZSBmb3IgJHtpdGVtLmlkfTogJHtpdGVtLnN0YXJ0VGltZX1gKTtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lSW5Vc2VyVHogPSBpdGVtLnN0YXJ0VGltZSA/IHVzZXJTdG9yZS5mb3JtYXREYXRlVGltZUZyb21VdGNUb1VzZXJUaW1lem9uZShpdGVtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgSEg6bW06c3MnKSA6IG51bGxcbiAgICAgICAgY29uc3QgZW5kVGltZUluVXNlclR6ID0gaXRlbS5lbmRUaW1lID8gdXNlclN0b3JlLmZvcm1hdERhdGVUaW1lRnJvbVV0Y1RvVXNlclRpbWV6b25lKGl0ZW0uZW5kVGltZSwgJ1lZWVktTU0tREQgSEg6bW06c3MnKSA6IG51bGxcbiAgICAgICAgLy8gQWRkIGRlYnVnIGxvZ2dpbmcgdG8gaGVscCB0cmFjZSBjb252ZXJzaW9uIGlzc3VlcyBvciBjb25maXJtIGNvcnJlY3QgY29udmVyc2lvbnNcbiAgICAgICAgLy8gY29uc29sZS5sb2coYENvbnZlcnRlZCBzdGFydFRpbWUgZm9yICR7aXRlbS5pZH06ICR7c3RhcnRUaW1lSW5Vc2VyVHp9YCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZUluVXNlclR6LFxuICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZUluVXNlclR6LFxuICAgICAgICAgICAgdGltZXpvbmU6IHVzZXJTdG9yZS50aW1lem9uZSxcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGNvbnZlcnREYXRlVGltZVRvR3JpZFRpbWUoZGF0ZVRpbWUsIGZvcm1hdCA9ICdZWVlZLU1NLUREIEhIOm1tOnNzJykge1xuICAgIGNvbnN0IHVzZXJTdG9yZSA9IHVzZVVzZXJTdG9yZSgpIC8vIEFjY2VzcyB0aGUgVXNlclN0b3JlXG4gICAgcmV0dXJuIHVzZXJTdG9yZS5mb3JtYXREYXRlVGltZUZyb21VdGNUb1VzZXJUaW1lem9uZShkYXRlVGltZSwgZm9ybWF0KVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGRhdGVzIHdpdGhpbiB0aGUgbmV4dCA2IGhvdXJzIGZyb20gdmlld2luZ1dpbmRvd1N0YXJ0XG5mdW5jdGlvbiBnZXRVcGNvbWluZ0NvbnRlbnREYXRlcyh2aWV3aW5nV2luZG93U3RhcnQpIHtcbiAgICBsZXQgZGF0ZXMgPSBbXVxuICAgIGxldCBzdGFydCA9IGRheWpzKHZpZXdpbmdXaW5kb3dTdGFydCkgLy8gRW5zdXJlIHZpZXdpbmdXaW5kb3dTdGFydCBpcyBhIERheS5qcyBvYmplY3RcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgIC8vIEFkZCBpIGhvdXJzIHRvIHRoZSBzdGFydCB0aW1lLCBlYWNoIHRpbWUgY3JlYXRpbmcgYSBuZXcgRGF5LmpzIG9iamVjdFxuICAgICAgICBkYXRlcy5wdXNoKHN0YXJ0LmFkZChpLCAnaG91cicpLnRvRGF0ZSgpKSAvLyBDb252ZXJ0IHRvIERhdGUgaWYgbmVjZXNzYXJ5OyBvdGhlcndpc2Uga2VlcCBhcyBEYXkuanMgb2JqZWN0XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGVzXG59XG5cblxuLy8gZnVuY3Rpb24gcmVzb2x2ZVNjaGVkdWxpbmdDb25mbGljdHMoc2hvd3MpIHtcbi8vICAgICAvLyBTb3J0IHNob3dzIGJ5IHN0YXJ0IHRpbWUsIHRoZW4gYnkgcHJpb3JpdHkgZm9yIHNob3dzIHdpdGggdGhlIHNhbWUgc3RhcnQgdGltZVxuLy8gICAgIGNvbnN0IHNvcnRlZFNob3dzID0gc2hvd3Muc29ydCgoYSwgYikgPT4ge1xuLy8gICAgICAgICBjb25zdCBzdGFydFRpbWVDb21wYXJpc29uID0gbmV3IERhdGUoYS5zdGFydFRpbWUpIC0gbmV3IERhdGUoYi5zdGFydFRpbWUpXG4vLyAgICAgICAgIGlmIChzdGFydFRpbWVDb21wYXJpc29uID09PSAwKSB7IC8vIElmIHN0YXJ0IHRpbWVzIGFyZSB0aGUgc2FtZVxuLy8gICAgICAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5IC8vIENvbXBhcmUgYnkgcHJpb3JpdHlcbi8vICAgICAgICAgfVxuLy8gICAgICAgICByZXR1cm4gc3RhcnRUaW1lQ29tcGFyaXNvblxuLy8gICAgIH0pXG4vL1xuLy8gICAgIGNvbnN0IHJlc29sdmVkU2hvd3MgPSBbXVxuLy8gICAgIGNvbnN0IHNob3dzQnlTdGFydFRpbWUgPSB7fVxuLy9cbi8vICAgICAvLyBHcm91cCBzaG93cyBieSB0aGVpciBzdGFydCB0aW1lXG4vLyAgICAgc29ydGVkU2hvd3MuZm9yRWFjaChzaG93ID0+IHtcbi8vICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoc2hvdy5zdGFydFRpbWUpLnRvSVNPU3RyaW5nKCkgLy8gRW5zdXJlIGl0J3MgaW4gSVNPIGZvcm1hdCBmb3Iga2V5aW5nXG4vLyAgICAgICAgIGlmICghc2hvd3NCeVN0YXJ0VGltZVtzdGFydFRpbWVdKSB7XG4vLyAgICAgICAgICAgICBzaG93c0J5U3RhcnRUaW1lW3N0YXJ0VGltZV0gPSBbXVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHNob3dzQnlTdGFydFRpbWVbc3RhcnRUaW1lXS5wdXNoKHNob3cpXG4vLyAgICAgfSlcbi8vXG4vLyAgICAgY29uc29sZS5sb2coXCJTaG93cyBncm91cGVkIGJ5IHN0YXJ0IHRpbWU6XCIsIHNob3dzQnlTdGFydFRpbWUpO1xuLy9cbi8vICAgICAvLyBGb3IgZWFjaCBzdGFydCB0aW1lLCBzZWxlY3QgdGhlIHNob3cgd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eSAobG93ZXN0IHByaW9yaXR5IG51bWJlcilcbi8vICAgICBPYmplY3QudmFsdWVzKHNob3dzQnlTdGFydFRpbWUpLmZvckVhY2goZ3JvdXAgPT4ge1xuLy8gICAgICAgICBpZiAoZ3JvdXAubGVuZ3RoID4gMSkge1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb25mbGljdCBhdCB0aW1lXCIsIGdyb3VwWzBdLnN0YXJ0VGltZSwgXCItIHJlc29sdmluZyB3aXRoOlwiLCBncm91cFswXSk7XG4vLyAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgY29uZmxpY3RzLCBwdXNoIG9ubHkgdGhlIHNob3cgd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eVxuLy8gICAgICAgICAgICAgcmVzb2x2ZWRTaG93cy5wdXNoKGdyb3VwWzBdKSAvLyBBc3N1bWluZyB0aGUgZ3JvdXAgaXMgYWxyZWFkeSBzb3J0ZWQgYnkgcHJpb3JpdHlcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgIC8vIE5vIGNvbmZsaWN0LCBwdXNoIHRoZSBzaW5nbGUgc2hvd1xuLy8gICAgICAgICAgICAgcmVzb2x2ZWRTaG93cy5wdXNoKGdyb3VwWzBdKVxuLy8gICAgICAgICB9XG4vLyAgICAgfSlcbi8vXG4vLyAgICAgcmV0dXJuIHJlc29sdmVkU2hvd3Ncbi8vIH1cblxuLy8gZnVuY3Rpb24gcmVzb2x2ZVNjaGVkdWxpbmdDb25mbGljdHMoc2hvd3MpIHtcbi8vICAgICAvLyBDb252ZXJ0IHN0YXJ0IHRpbWVzIHRvIHRpbWVzdGFtcHMgZm9yIHNvcnRpbmcgYW5kIGNvbmZsaWN0IGRldGVjdGlvblxuLy8gICAgIHNob3dzLmZvckVhY2goc2hvdyA9PiB7XG4vLyAgICAgICAgIHNob3cudGltZXN0YW1wID0gbmV3IERhdGUoc2hvdy5zdGFydFRpbWUpLmdldFRpbWUoKSAvLyBBZGQgYSB0aW1lc3RhbXAgcHJvcGVydHlcbi8vICAgICB9KVxuLy9cbi8vICAgICAvLyBTb3J0IHNob3dzIGJ5IHRpbWVzdGFtcCwgdGhlbiBieSBwcmlvcml0eSBmb3Igc2hvd3Mgd2l0aCB0aGUgc2FtZSB0aW1lc3RhbXBcbi8vICAgICBjb25zdCBzb3J0ZWRTaG93cyA9IHNob3dzLnNvcnQoKGEsIGIpID0+IHtcbi8vICAgICAgICAgY29uc3Qgc3RhcnRUaW1lQ29tcGFyaXNvbiA9IGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXBcbi8vICAgICAgICAgaWYgKHN0YXJ0VGltZUNvbXBhcmlzb24gPT09IDApIHsgLy8gSWYgdGltZXN0YW1wcyBhcmUgdGhlIHNhbWVcbi8vICAgICAgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSAvLyBDb21wYXJlIGJ5IHByaW9yaXR5XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgcmV0dXJuIHN0YXJ0VGltZUNvbXBhcmlzb25cbi8vICAgICB9KVxuLy9cbi8vICAgICBjb25zdCByZXNvbHZlZFNob3dzID0gW11cbi8vICAgICBjb25zdCBzaG93c0J5U3RhcnRUaW1lID0ge31cbi8vXG4vLyAgICAgLy8gR3JvdXAgc2hvd3MgYnkgdGhlaXIgdGltZXN0YW1wXG4vLyAgICAgc29ydGVkU2hvd3MuZm9yRWFjaChzaG93ID0+IHtcbi8vICAgICAgICAgaWYgKCFzaG93c0J5U3RhcnRUaW1lW3Nob3cudGltZXN0YW1wXSkge1xuLy8gICAgICAgICAgICAgc2hvd3NCeVN0YXJ0VGltZVtzaG93LnRpbWVzdGFtcF0gPSBbXVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHNob3dzQnlTdGFydFRpbWVbc2hvdy50aW1lc3RhbXBdLnB1c2goc2hvdylcbi8vICAgICB9KVxuLy9cbi8vICAgICAvLyBjb25zb2xlLmxvZygnU2hvd3MgZ3JvdXBlZCBieSB0aW1lc3RhbXA6Jywgc2hvd3NCeVN0YXJ0VGltZSlcbi8vXG4vLyAgICAgLy8gRm9yIGVhY2ggZ3JvdXAgb2Ygc2hvd3Mgd2l0aCB0aGUgc2FtZSBzdGFydCB0aW1lLCBzZWxlY3QgdGhlIHNob3cgd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eSAobG93ZXN0IHByaW9yaXR5IG51bWJlcilcbi8vICAgICBPYmplY3QudmFsdWVzKHNob3dzQnlTdGFydFRpbWUpLmZvckVhY2goZ3JvdXAgPT4ge1xuLy8gICAgICAgICBpZiAoZ3JvdXAubGVuZ3RoID4gMSkge1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbmZsaWN0IGF0IHRpbWUnLCBncm91cFswXS5zdGFydFRpbWUsICctIHByaW9yaXR5IGdvZXMgdG86JywgZ3JvdXBbMF0uY29udGVudC5uYW1lKVxuLy8gICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGNvbmZsaWN0cywgcHVzaCBvbmx5IHRoZSBzaG93IHdpdGggdGhlIGhpZ2hlc3QgcHJpb3JpdHlcbi8vICAgICAgICAgICAgIHJlc29sdmVkU2hvd3MucHVzaChncm91cFswXSkgLy8gQXNzdW1pbmcgdGhlIGdyb3VwIGlzIGFscmVhZHkgc29ydGVkIGJ5IHByaW9yaXR5XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAvLyBObyBjb25mbGljdCwgcHVzaCB0aGUgc2luZ2xlIHNob3dcbi8vICAgICAgICAgICAgIHJlc29sdmVkU2hvd3MucHVzaChncm91cFswXSlcbi8vICAgICAgICAgfVxuLy8gICAgIH0pXG4vL1xuLy8gICAgIHJldHVybiByZXNvbHZlZFNob3dzLm1hcChzaG93ID0+IHtcbi8vICAgICAgICAgLy8gUmV0dXJuIHRoZSBzaG93IGluIGl0cyBvcmlnaW5hbCBmb3JtYXQsIHdpdGhvdXQgdGhlIHRlbXBvcmFyeSB0aW1lc3RhbXAgcHJvcGVydHlcbi8vICAgICAgICAgY29uc3Qge3RpbWVzdGFtcCwgLi4ub3JpZ2luYWxTaG93fSA9IHNob3dcbi8vICAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2hvd1xuLy8gICAgIH0pXG4vLyB9XG5cbi8vXG4vLyBmdW5jdGlvbiBhZGp1c3RTaG93c0ZvckdyaWQoc2hvd3MpIHtcbi8vICAgICBjb25zdCB1c2VyU3RvcmUgPSB1c2VVc2VyU3RvcmUoKVxuLy8gICAgIGNvbnN0IGFwcFNldHRpbmdTdG9yZSA9IHVzZUFwcFNldHRpbmdTdG9yZSgpXG4vLyAgICAgY29uc3QgdGltZXpvbmUgPSB1c2VyU3RvcmUudGltZXpvbmUgfHwgJ1VUQydcbi8vICAgICBjb25zdCBub3cgPSBkYXlqcygpXG4vLyAgICAgY29uc3Qgc3RhcnRPZkN1cnJlbnRIYWxmSG91ciA9IG5vdy5zdWJ0cmFjdChub3cubWludXRlKCkgJSAzMCwgJ21pbnV0ZXMnKS5zdGFydE9mKCdtaW51dGUnKS50eih0aW1lem9uZSkudG9EYXRlKClcbi8vICAgICBjb25zdCBjb2xzID0gYXBwU2V0dGluZ1N0b3JlLmlzVmVyeVNtYWxsU2NyZWVuID8gNCA6IGFwcFNldHRpbmdTdG9yZS5pc1NtYWxsU2NyZWVuID8gNiA6IDhcbi8vXG4vLyAgICAgLy8gTWFrZSBzdXJlIHRoZSB0aW1lU2xvdHMgYXJlIGxvZ2dlZCB0byB2ZXJpZnkgdGhlaXIgY29ycmVjdG5lc3Ncbi8vICAgICBjb25zb2xlLmxvZygnVGltZSBTbG90czonLCB0aGlzLnRpbWVTbG90cy5tYXAoc2xvdCA9PiBuZXcgRGF0ZShzbG90KS50b1N0cmluZygpKSlcbi8vXG4vL1xuLy8gICAgIC8vIFNvcnQgc2hvd3MgYnkgdGhlaXIgc3RhcnQgdGltZXMgdG8gZW5zdXJlIHRoZXkgYXJlIHByb2Nlc3NlZCBpbiBjaHJvbm9sb2dpY2FsIG9yZGVyXG4vLyAgICAgc2hvd3Muc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYS5zdGFydFRpbWUpIC0gbmV3IERhdGUoYi5zdGFydFRpbWUpKVxuLy9cbi8vICAgICAvLyBJbml0aWFsaXplIGFuIGFycmF5IHRvIGtlZXAgdHJhY2sgb2YgY29sdW1uIGFuZCByb3cgYXZhaWxhYmlsaXR5XG4vLyAgICAgbGV0IGNvbE9jY3VwYW5jeSA9IG5ldyBBcnJheShjb2xzKS5maWxsKG51bGwpLm1hcCgoKSA9PiBbXSlcbi8vXG4vLyAgICAgLy8gUHJvY2Vzc2luZyBlYWNoIHNob3cgZm9yIGdyaWQgcGxhY2VtZW50XG4vLyAgICAgcmV0dXJuIHNob3dzLm1hcChzaG93ID0+IHtcbi8vICAgICAgICAgY29uc3Qgc2hvd1N0YXJ0ID0gbmV3IERhdGUoc2hvdy5zdGFydFRpbWUpXG4vLyAgICAgICAgIGNvbnN0IHNob3dFbmQgPSBuZXcgRGF0ZShzaG93U3RhcnQuZ2V0VGltZSgpICsgc2hvdy5kdXJhdGlvbk1pbnV0ZXMgKiA2MDAwMClcbi8vXG4vLyAgICAgICAgIGxldCBhZGp1c3RlZFN0YXJ0ID0gKHNob3dTdGFydCA8IHN0YXJ0T2ZDdXJyZW50SGFsZkhvdXIgJiYgc2hvd0VuZCA+IHN0YXJ0T2ZDdXJyZW50SGFsZkhvdXIpID8gc3RhcnRPZkN1cnJlbnRIYWxmSG91ciA6IHNob3dTdGFydFxuLy8gICAgICAgICBsZXQgZWZmZWN0aXZlRW5kID0gc2hvd0VuZCA+IG5vdy50b0RhdGUoKSA/IG5vdy50b0RhdGUoKSA6IHNob3dFbmQgLy8gRW5zdXJlIGVuZCBpcyBubyBsYXRlciB0aGFuIG5vd1xuLy9cbi8vICAgICAgICAgbGV0IHNsb3RJbmRleCA9IHRoaXMudGltZVNsb3RzLmZpbmRJbmRleChzbG90ID0+IGFkanVzdGVkU3RhcnQgPj0gc2xvdCAmJiBhZGp1c3RlZFN0YXJ0IDwgbmV3IERhdGUoc2xvdC5nZXRUaW1lKCkgKyAzMCAqIDYwMDAwKSlcbi8vICAgICAgICAgaWYgKHNsb3RJbmRleCA9PT0gLTEpIHtcbi8vICAgICAgICAgICAgIHNsb3RJbmRleCA9IGFkanVzdGVkU3RhcnQgPCB0aGlzLnRpbWVTbG90c1swXSA/IDAgOiB0aGlzLnRpbWVTbG90cy5sZW5ndGggLSAxIC8vIEhhbmRsZSBvdXQgb2YgcmFuZ2Ugc3RhcnQgdGltZXNcbi8vICAgICAgICAgfVxuLy9cbi8vICAgICAgICAgbGV0IGR1cmF0aW9uSW5NaWxsaXNlY29uZHMgPSBlZmZlY3RpdmVFbmQuZ2V0VGltZSgpIC0gYWRqdXN0ZWRTdGFydC5nZXRUaW1lKClcbi8vICAgICAgICAgbGV0IHRvdGFsTWludXRlcyA9IGR1cmF0aW9uSW5NaWxsaXNlY29uZHMgLyAoMzAgKiA2MDAwMClcbi8vICAgICAgICAgbGV0IHNwYW4gPSBNYXRoLmNlaWwodG90YWxNaW51dGVzKVxuLy8gICAgICAgICBzcGFuID0gTWF0aC5tYXgoMSwgc3BhbikgLy8gRW5zdXJlIHNwYW4gaXMgYXQgbGVhc3QgMVxuLy8gICAgICAgICBzcGFuID0gc2xvdEluZGV4ICsgc3BhbiA+IGNvbHMgPyBjb2xzIC0gc2xvdEluZGV4IDogc3BhbiAvLyBBZGp1c3Qgc3BhbiB0byBub3QgZXhjZWVkIHRvdGFsIGNvbHVtbnNcbi8vXG4vLyAgICAgICAgIC8vIEZpbmQgdGhlIG1pbmltdW0gdW5vY2N1cGllZCByb3dcbi8vICAgICAgICAgbGV0IG1pblJvdyA9IDFcbi8vICAgICAgICAgZm9yIChsZXQgaSA9IHNsb3RJbmRleDsgaSA8IHNsb3RJbmRleCArIHNwYW47IGkrKykge1xuLy8gICAgICAgICAgICAgd2hpbGUgKGNvbE9jY3VwYW5jeVtpXS5pbmNsdWRlcyhtaW5Sb3cpKSB7XG4vLyAgICAgICAgICAgICAgICAgbWluUm93Kytcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy9cbi8vICAgICAgICAgLy8gUmVnaXN0ZXIgdGhpcyBzaG93IGluIHRoZSBvY2N1cGllZCBjb2x1bW5zXG4vLyAgICAgICAgIGZvciAobGV0IGkgPSBzbG90SW5kZXg7IGkgPCBzbG90SW5kZXggKyBzcGFuOyBpKyspIHtcbi8vICAgICAgICAgICAgIGNvbE9jY3VwYW5jeVtpXS5wdXNoKG1pblJvdylcbi8vICAgICAgICAgfVxuLy9cbi8vICAgICAgICAgY29uc29sZS5sb2coYFNob3c6ICR7c2hvdy5jb250ZW50Lm5hbWV9LCBTdGFydDogJHtzaG93U3RhcnR9LCBBZGp1c3RlZCBTdGFydDogJHthZGp1c3RlZFN0YXJ0fSwgRW5kOiAke3Nob3dFbmR9LCBOb3c6ICR7bm93LnRvRGF0ZSgpfSwgU2xvdCBJbmRleDogJHtzbG90SW5kZXh9LCBTcGFuOiAke3NwYW59LCBSb3c6ICR7bWluUm93fWApXG4vLyAgICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICAgICAuLi5zaG93LFxuLy8gICAgICAgICAgICAgZ3JpZFN0YXJ0OiBzbG90SW5kZXggKyAxLFxuLy8gICAgICAgICAgICAgZ3JpZFNwYW46IHNwYW4sXG4vLyAgICAgICAgICAgICBncmlkUm93OiBtaW5Sb3csICAvLyBBc3NpZ24gc2hvd3MgdG8gcm93cyBiYXNlZCBvbiBhdmFpbGFiaWxpdHkgYW5kIHByaW9yaXR5XG4vLyAgICAgICAgIH1cbi8vICAgICB9KS5maWx0ZXIoc2hvdyA9PiBzaG93LmdyaWRTcGFuID4gMClcbi8vIH1cblxuXG4vLyBmdW5jdGlvbiBhZGp1c3RTaG93c0ZvckdyaWQoc2hvd3MsIHRpbWVTbG90cykge1xuLy8gICAgIGNvbnN0IHVzZXJTdG9yZSA9IHVzZVVzZXJTdG9yZSgpXG4vLyAgICAgY29uc3QgYXBwU2V0dGluZ1N0b3JlID0gdXNlQXBwU2V0dGluZ1N0b3JlKClcbi8vXG4vLyAgICAgY29uc3QgdGltZXpvbmUgPSB1c2VyU3RvcmUudGltZXpvbmUgfHwgJ1VUQydcbi8vICAgICBjb25zdCBub3cgPSBkYXlqcygpO1xuLy8gICAgIC8vIGNvbnN0IG1pbnV0ZXMgPSBub3cubWludXRlKCk7XG4vLyAgICAgLy8gY29uc3Qgc3RhcnRPZkN1cnJlbnRIYWxmSG91ciA9IG5vdy5zdWJ0cmFjdChtaW51dGVzICUgMzAsICdtaW51dGUnKS5zdGFydE9mKCdtaW51dGUnKS50eih0aW1lem9uZSkudG9EYXRlKCk7XG4vLyAgICAgY29uc3Qgc3RhcnRPZkN1cnJlbnRIYWxmSG91ciA9IG5vdy5zdWJ0cmFjdChub3cubWludXRlKCkgJSAzMCwgJ21pbnV0ZXMnKS5zdGFydE9mKCdtaW51dGUnKS50eih0aW1lem9uZSkudG9EYXRlKCk7XG4vLyAgICAgLy8gY29uc3Qgc3RhcnRPZkN1cnJlbnRIYWxmSG91ciA9IG5vdy5zdWJ0cmFjdChtaW51dGVzICUgMzAsICdtaW51dGUnKS5zdGFydE9mKCdtaW51dGUnKS50eih0aW1lem9uZSk7XG4vLyAgICAgY29uc3QgY29scyA9IGFwcFNldHRpbmdTdG9yZS5pc1ZlcnlTbWFsbFNjcmVlbiA/IDQgOiBhcHBTZXR0aW5nU3RvcmUuaXNTbWFsbFNjcmVlbiA/IDYgOiA4O1xuLy9cbi8vICAgICAvLyBJbml0aWFsaXplIGFuIGFycmF5IHRvIGtlZXAgdHJhY2sgb2YgY29sdW1uIGF2YWlsYWJpbGl0eVxuLy8gICAgIGxldCBjb2xPY2N1cGFuY3kgPSBuZXcgQXJyYXkoY29scykuZmlsbChudWxsKTtcbi8vXG4vLyAgICAgLy8gU29ydCBzaG93cyBieSBzdGFydCB0aW1lIHRvIGVuc3VyZSBwcm9wZXIgaGFuZGxpbmcgb2Ygb3ZlcmxhcHNcbi8vICAgICBzaG93cy5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLnN0YXJ0VGltZSkgLSBuZXcgRGF0ZShiLnN0YXJ0VGltZSkpO1xuXG4vLyByZXR1cm4gc2hvd3MubWFwKHNob3cgPT4ge1xuLy8gICAgIGNvbnN0IHNob3dTdGFydCA9IG5ldyBEYXRlKHNob3cuc3RhcnRUaW1lKTtcbi8vICAgICBjb25zdCBzaG93RW5kID0gbmV3IERhdGUoc2hvd1N0YXJ0LmdldFRpbWUoKSArIHNob3cuZHVyYXRpb25NaW51dGVzICogNjAwMDApO1xuLy9cbi8vICAgICAvLyBBZGp1c3Rpbmcgc2hvd1N0YXJ0IGlmIHRoZSBzaG93IGlzIG9uZ29pbmcgYnV0IHN0YXJ0ZWQgYmVmb3JlIHRoZSBjdXJyZW50IGdyaWQgdmlld1xuLy8gICAgIGxldCBhZGp1c3RlZFN0YXJ0ID0gc2hvd1N0YXJ0IDwgc3RhcnRPZkN1cnJlbnRIYWxmSG91ciAmJiBub3cgPCBzaG93RW5kID8gc3RhcnRPZkN1cnJlbnRIYWxmSG91ciA6IHNob3dTdGFydDtcbi8vXG4vLyAgICAgLy8gQ2FsY3VsYXRpbmcgdGhlIGdyaWQgc3RhcnQgaW5kZXhcbi8vICAgICBsZXQgc2xvdEluZGV4ID0gdGltZVNsb3RzLmZpbmRJbmRleChzbG90ID0+IGFkanVzdGVkU3RhcnQgPj0gc2xvdCAmJiBhZGp1c3RlZFN0YXJ0IDwgbmV3IERhdGUoc2xvdC5nZXRUaW1lKCkgKyAzMCAqIDYwMDAwKSk7XG4vLyAgICAgaWYgKHNsb3RJbmRleCA9PT0gLTEpIHtcbi8vICAgICAgICAgc2xvdEluZGV4ID0gYWRqdXN0ZWRTdGFydCA8IHRpbWVTbG90c1swXSA/IDAgOiB0aW1lU2xvdHMubGVuZ3RoIC0gMTsgLy8gUGxhY2UgYXQgdGhlIHN0YXJ0IG9yIHRoZSBlbmQgYmFzZWQgb24gdGltaW5nXG4vLyAgICAgfVxuLy9cbi8vICAgICAvLyBDYWxjdWxhdGluZyB0aGUgZHVyYXRpb24gdG8gZGlzcGxheSBpbiB0aGUgZ3JpZCBiYXNlZCBvbiBjdXJyZW50IHRpbWVcbi8vICAgICBsZXQgc3BhbiA9IE1hdGguY2VpbCgoKHNob3dFbmQuZ2V0VGltZSgpID4gbm93LnRvRGF0ZSgpLmdldFRpbWUoKSA/IG5vdy50b0RhdGUoKS5nZXRUaW1lKCkgOiBzaG93RW5kLmdldFRpbWUoKSkgLSBhZGp1c3RlZFN0YXJ0LmdldFRpbWUoKSkgLyAoMzAgKiA2MDAwMCkpO1xuLy8gICAgIHNwYW4gPSBNYXRoLm1heCgxLCBzcGFuKTsgLy8gRW5zdXJlIGF0IGxlYXN0IG9uZSBncmlkIHNsb3QgaXMgdXNlZFxuLy9cbi8vICAgICAvLyBFbnN1cmUgdGhlIHNwYW4gZG9lcyBub3QgZXhjZWVkIGF2YWlsYWJsZSBjb2x1bW5zIGZyb20gdGhlIHNsb3QgaW5kZXhcbi8vICAgICBzcGFuID0gc2xvdEluZGV4ICsgc3BhbiA+IGNvbHMgPyBjb2xzIC0gc2xvdEluZGV4IDogc3Bhbjtcbi8vXG4vLyAgICAgLy8gU2V0IG9yIGNsZWFyIHNob3cgcGxhY2VtZW50IGluIGdyaWRcbi8vICAgICBmb3IgKGxldCBpID0gc2xvdEluZGV4OyBpIDwgc2xvdEluZGV4ICsgc3BhbiAmJiBpIDwgY29sczsgaSsrKSB7XG4vLyAgICAgICAgIGlmIChjb2xPY2N1cGFuY3lbaV0gIT09IG51bGwpIHtcbi8vICAgICAgICAgICAgIC8vIExvZ2ljIHRvIGhhbmRsZSBvdmVybGFwcGluZyBzaG93cywgaWYgbmVjZXNzYXJ5XG4vLyAgICAgICAgICAgICBjb2xPY2N1cGFuY3lbaV0gPSBudWxsO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGNvbE9jY3VwYW5jeVtpXSA9IHsgZ3JpZFN0YXJ0OiBzbG90SW5kZXggKyAxLCBncmlkU3Bhbjogc3Bhbiwgc2hvdyB9O1xuLy8gICAgIH1cbi8vXG4vLyAgICAgY29uc29sZS5sb2coYFNob3cgcGxhY2VtZW50OiBTaG93OiAke3Nob3cuY29udGVudC5uYW1lfSwgU3RhcnQ6ICR7c2hvd1N0YXJ0fSwgQWRqdXN0ZWQgU3RhcnQ6ICR7YWRqdXN0ZWRTdGFydH0sIEVuZDogJHtzaG93RW5kfSwgU2xvdCBJbmRleDogJHtzbG90SW5kZXh9LCBTcGFuOiAke3NwYW59YCk7XG4vL1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIC4uLnNob3csXG4vLyAgICAgICAgIGdyaWRTdGFydDogc2xvdEluZGV4ICsgMSxcbi8vICAgICAgICAgZ3JpZFNwYW46IHNwYW4sXG4vLyAgICAgfTtcbi8vIH0pLmZpbHRlcihzaG93ID0+IHNob3cuZ3JpZFNwYW4gPiAwKTtcblxuLy8gICAgIHJldHVybiBzaG93cy5tYXAoc2hvdyA9PiB7XG4vLyAgICAgICAgIGNvbnN0IHNob3dTdGFydCA9IG5ldyBEYXRlKHNob3cuc3RhcnRUaW1lKTsgLy8gUGFyc2Ugc3RhcnQgdGltZSB0byBhIERhdGUgb2JqZWN0XG4vLyAgICAgICAgIGNvbnN0IHNob3dFbmQgPSBuZXcgRGF0ZShzaG93LnN0YXJ0VGltZSk7ICAvLyBJbml0aWFsaXplIGVuZCB0aW1lIGFzIGEgY29weSBvZiBzdGFydCB0aW1lXG4vLyAgICAgICAgIHNob3dFbmQuc2V0TWludXRlcyhzaG93U3RhcnQuZ2V0TWludXRlcygpICsgc2hvdy5kdXJhdGlvbk1pbnV0ZXMpO1xuLy9cbi8vICAgICAgICAgbGV0IHNwYW4gPSBNYXRoLmNlaWwoc2hvdy5kdXJhdGlvbk1pbnV0ZXMgLyAzMClcbi8vXG4vLyAgICAgICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBzbG90IHRoYXQgaW50ZXJzZWN0cyBvciBmb2xsb3dzIHRoZSBzaG93IHN0YXJ0XG4vLyAgICAgICAgIGxldCBzbG90SW5kZXggPSB0aW1lU2xvdHMuZmluZEluZGV4KHNsb3QgPT4gc2hvd1N0YXJ0IDwgbmV3IERhdGUoc2xvdC5nZXRUaW1lKCkgKyAzMCAqIDYwMDAwKSk7XG4vLyAgICAgICAgIGlmIChzbG90SW5kZXggPT09IC0xKSB7XG4vLyAgICAgICAgICAgICAvLyBJZiBubyBzbG90IGlzIGZvdW5kLCBhbmQgdGhlIHNob3cgc3RhcnRzIGJlZm9yZSB0aGUgZmlyc3Qgc2xvdCBhbmQgZW5kcyBhZnRlciBpdCwgc3RhcnQgZnJvbSB0aGUgZmlyc3QgY29sdW1uLlxuLy8gICAgICAgICAgICAgc2xvdEluZGV4ID0gMDsgLy8gRGVmYXVsdCB0byB0aGUgZmlyc3QgY29sdW1uIGlmIG5vIGV4YWN0IG1hdGNoIGlzIGZvdW5kXG4vLyAgICAgICAgIH1cbi8vXG4vLyAgICAgICAgIGlmIChzaG93U3RhcnQgPCBzdGFydE9mQ3VycmVudEhhbGZIb3VyICYmIHNob3dFbmQgPiBzdGFydE9mQ3VycmVudEhhbGZIb3VyKSB7XG4vLyAgICAgICAgICAgICAvLyBBZGp1c3QgdGhlIHNsb3RJbmRleCB0byB0aGUgZmlyc3QgY29sdW1uIGFuZCBzcGFuIGJhc2VkIG9uIHRoZSByZW1haW5pbmcgdGltZSBpZiBzaG93IHN0YXJ0cyBiZWZvcmUgYnV0IGVuZHMgYWZ0ZXIgc3RhcnRPZkN1cnJlbnRIYWxmSG91clxuLy8gICAgICAgICAgICAgc2xvdEluZGV4ID0gMDtcbi8vICAgICAgICAgICAgIGNvbnN0IGVmZmVjdGl2ZVN0YXJ0ID0gTWF0aC5tYXgoc2hvd1N0YXJ0LmdldFRpbWUoKSwgc3RhcnRPZkN1cnJlbnRIYWxmSG91ci5nZXRUaW1lKCkpO1xuLy8gICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nRHVyYXRpb24gPSAoc2hvd0VuZC5nZXRUaW1lKCkgLSBlZmZlY3RpdmVTdGFydCkgLyA2MDAwMDsgLy8gQ29udmVydCB0byBtaW51dGVzXG4vLyAgICAgICAgICAgICBzcGFuID0gTWF0aC5jZWlsKHJlbWFpbmluZ0R1cmF0aW9uIC8gMzApO1xuLy8gICAgICAgICB9XG4vL1xuLy8gICAgICAgICAvLyBjb25zdCBzbG90SW5kZXggPSB0aW1lU2xvdHMuZmluZEluZGV4KHNsb3QgPT4gc2hvd1N0YXJ0ID49IHNsb3QgJiYgc2hvd1N0YXJ0IDwgbmV3IERhdGUoc2xvdC5nZXRUaW1lKCkgKyAzMCAqIDYwMDAwKSk7XG4vL1xuLy8gICAgICAgICAvLyBjb25zdCBzbG90SW5kZXggPSB0aW1lU2xvdHMuZmluZEluZGV4KHNsb3QgPT4ge1xuLy8gICAgICAgICAvLyAgICAgbGV0IHNsb3RFbmQgPSBuZXcgRGF0ZShzbG90LmdldFRpbWUoKSArIDMwICogNjAwMDApXG4vLyAgICAgICAgIC8vICAgICByZXR1cm4gc2hvd1N0YXJ0ID49IHNsb3QgJiYgc2hvd1N0YXJ0IDwgc2xvdEVuZFxuLy8gICAgICAgICAvLyB9KVxuLy9cbi8vICAgICAgICAgLy8gaWYgKHNsb3RJbmRleCArIHNwYW4gPiBjb2xzKSB7IC8vIEVuc3VyZSB0aGUgc3BhbiBkb2VzIG5vdCBleGNlZWQgdGhlIG51bWJlciBvZiBhdmFpbGFibGUgY29sdW1uc1xuLy8gICAgICAgICAvLyAgICAgc3BhbiA9IGNvbHMgLSBzbG90SW5kZXhcbi8vICAgICAgICAgLy8gfVxuLy8gICAgICAgICAvL1xuLy8gICAgICAgICAvL1xuLy8gICAgICAgICAvLyBpZiAoc2xvdEluZGV4ICsgc3BhbiA+IGNvbHMpIHsgLy8gRW5zdXJlIHRoZSBzcGFuIGRvZXMgbm90IGV4Y2VlZCB0aGUgbnVtYmVyIG9mIGF2YWlsYWJsZSBjb2x1bW5zXG4vLyAgICAgICAgIC8vICAgICBzcGFuID0gY29scyAtIHNsb3RJbmRleDtcbi8vICAgICAgICAgLy8gfVxuLy9cbi8vICAgICAgICAgLy8gQWRqdXN0IGNvbCBzcGFuIGJhc2VkIG9uIG92ZXJsYXBwaW5nIHNob3dzXG4vLyAgICAgLy8gICAgIGZvciAobGV0IGkgPSBzbG90SW5kZXg7IGkgPCBNYXRoLm1pbihzbG90SW5kZXggKyBzcGFuLCBjb2xzKTsgaSsrKSB7XG4vLyAgICAgLy8gICAgICAgICBpZiAoY29sT2NjdXBhbmN5W2ldICE9IG51bGwpIHtcbi8vICAgICAvLyAgICAgICAgICAgICBpZiAoc2hvd1N0YXJ0LmdldFRpbWUoKSA9PT0gc3RhcnRPZkN1cnJlbnRIYWxmSG91ci5nZXRUaW1lKCkpIHtcbi8vICAgICAvLyAgICAgICAgICAgICAgICAgY29sT2NjdXBhbmN5W2ldID0gbnVsbDsgLy8gQ2xlYXIgZWFybGllciBzaG93XG4vLyAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAvLyAgICAgICAgICAgICAgICAgY29sT2NjdXBhbmN5W2ldLmdyaWRTcGFuID0gTWF0aC5taW4oY29sT2NjdXBhbmN5W2ldLmdyaWRTcGFuLCBpIC0gY29sT2NjdXBhbmN5W2ldLmdyaWRTdGFydCArIDEpO1xuLy8gICAgIC8vICAgICAgICAgICAgIH1cbi8vICAgICAvLyAgICAgICAgIH1cbi8vICAgICAvLyAgICAgICAgIGNvbE9jY3VwYW5jeVtpXSA9IHsgZ3JpZFN0YXJ0OiBzbG90SW5kZXggKyAxLCBncmlkU3Bhbjogc3Bhbiwgc2hvdyB9O1xuLy8gICAgIC8vICAgICB9XG4vLyAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCd0aW1lIHNsb3RzOiAnICsgdGltZVNsb3RzKVxuLy8gICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhgQWRqdXN0aW5nIHNob3cgZm9yIGdyaWQgcGxhY2VtZW50LiBTaG93IFN0YXJ0OiAke3Nob3dTdGFydH0sIFNob3cgRW5kOiAke3Nob3dFbmR9LCBEdXJhdGlvbjogJHtzaG93LmR1cmF0aW9uTWludXRlc30sIENhbGN1bGF0ZWQgU2xvdCBJbmRleDogJHtzbG90SW5kZXh9LCBTcGFuOiAke3NwYW59YClcbi8vICAgICAvLyAgICAgY29uc29sZS5sb2coYEFkanVzdGluZyBzaG93IGZvciBncmlkIHBsYWNlbWVudC4gU2hvdzogJHtzaG93LmNvbnRlbnQubmFtZX0sIFNob3cgU3RhcnQ6ICR7c2hvd1N0YXJ0fSwgRHVyYXRpb246ICR7c2hvdy5kdXJhdGlvbk1pbnV0ZXN9LCBDYWxjdWxhdGVkIFNsb3QgSW5kZXg6ICR7c2xvdEluZGV4fSwgU3BhbjogJHtzcGFufWApXG4vLyAgICAgLy9cbi8vICAgICAvLyAgICAgLy8gUmV0dXJuIHRoZSBzaG93IHdpdGggYWRkaXRpb25hbCBncmlkIHBvc2l0aW9uaW5nIGluZm9ybWF0aW9uXG4vLyAgICAgLy8gICAgIHJldHVybiB7XG4vLyAgICAgLy8gICAgICAgICAuLi5zaG93LFxuLy8gICAgIC8vICAgICAgICAgZ3JpZFN0YXJ0OiBzbG90SW5kZXggKyAxLCAvLyBHcmlkIHBvc2l0aW9uaW5nIGlzIG9mdGVuIDEtYmFzZWQgaW4gQ1NTXG4vLyAgICAgLy8gICAgICAgICBncmlkU3Bhbjogc3Bhbixcbi8vICAgICAvLyAgICAgfVxuLy8gICAgIC8vIH0pLmZpbHRlcihzaG93ID0+IHtcbi8vICAgICAvLyAgICAgY29uc3QgZW5kQ29sID0gc2hvdy5ncmlkU3RhcnQgKyBzaG93LmdyaWRTcGFuIC0gMTtcbi8vICAgICAvLyAgICAgcmV0dXJuIGNvbE9jY3VwYW5jeS5zbGljZShzaG93LmdyaWRTdGFydCAtIDEsIGVuZENvbCkuZXZlcnkoY2VsbCA9PiBjZWxsICYmIGNlbGwuc2hvdy5pZCA9PT0gc2hvdy5pZCk7XG4vLyAgICAgLy8gfSk7XG4vLyB9XG5cblxuLy8gdGltZVNsb3RzLmZvckVhY2goKHNsb3QsIGluZGV4KSA9PiB7XG4vLyAgICAgaWYgKCEoc2xvdCBpbnN0YW5jZW9mIERhdGUpKSB7XG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Nsb3QgaXMgbm90IGEgRGF0ZSBvYmplY3Q6Jywgc2xvdCk7XG4vLyAgICAgICAgIHJldHVybjsgLy8gU2tpcCB0aGlzIGl0ZXJhdGlvbiBpZiBgc2xvdGAgaXMgbm90IGEgRGF0ZSBvYmplY3Rcbi8vICAgICB9XG4vL1xuLy8gICAgIGNvbnN0IHNsb3RTdGFydCA9IHNsb3Q7XG4vLyAgICAgY29uc3Qgc2xvdEVuZCA9IG5ldyBEYXRlKHNsb3QuZ2V0VGltZSgpICsgMzAgKiA2MDAwMCk7IC8vIEVhY2ggc2xvdCBpcyAzMCBtaW51dGVzIGxvbmdcbi8vXG4vLyAgICAgY29uc3Qgc2hvd0V4aXN0c0luU2xvdCA9IHNob3dzV2l0aFBsYWNlbWVudC5zb21lKHNob3cgPT4ge1xuLy8gICAgICAgICBjb25zdCBzaG93U3RhcnQgPSBuZXcgRGF0ZShzaG93LnN0YXJ0VGltZSk7XG4vLyAgICAgICAgIGNvbnN0IHNob3dFbmQgPSBuZXcgRGF0ZShzaG93U3RhcnQuZ2V0VGltZSgpICsgc2hvdy5kdXJhdGlvbk1pbnV0ZXMgKiA2MDAwMCk7XG4vLyAgICAgICAgIGNvbnN0IG92ZXJsYXBzID0gKHNsb3RTdGFydCA8PSBzaG93RW5kICYmIHNsb3RFbmQgPiBzaG93U3RhcnQpIHx8IChzaG93U3RhcnQgPD0gc2xvdEVuZCAmJiBzaG93RW5kID4gc2xvdFN0YXJ0KTtcbi8vICAgICAgICAgcmV0dXJuIG92ZXJsYXBzO1xuLy8gICAgIH0pO1xuLy9cbi8vICAgICBpZiAoIXNob3dFeGlzdHNJblNsb3QpIHtcbi8vICAgICAgICAgY29uc3QgZm9ybWF0dGVkU3RhcnRUaW1lID0gZGF5anMoc2xvdFN0YXJ0KS5mb3JtYXQoJ1lZLU1NLUREIEhIOm1tOnNzJyk7XG4vLyAgICAgICAgIGdyaWRJdGVtcy5wdXNoKHtcbi8vICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0cnVlLFxuLy8gICAgICAgICAgICAgc3RhcnRUaW1lOiBmb3JtYXR0ZWRTdGFydFRpbWUsXG4vLyAgICAgICAgICAgICBwcmlvcml0eTogMSxcbi8vICAgICAgICAgICAgIGdyaWRTdGFydDogaW5kZXggKyAxLCAvLyBFbnN1cmUgZ3JpZFN0YXJ0IGFsaWducyBjb3JyZWN0bHkgd2l0aCB0aGUgQ1NTIGdyaWQgKDEtYmFzZWQgaW5kZXgpXG4vLyAgICAgICAgICAgICBncmlkU3BhbjogMSxcbi8vICAgICAgICAgICAgIGNvbnRlbnQ6IHsgbmFtZTogJ05vdGhpbmcgc2NoZWR1bGVkLicgfSxcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gfSk7XG4vL1xuLy8gY29uc3QgY29tYmluZWRTaG93cyA9IFsuLi5zaG93c1dpdGhQbGFjZW1lbnQsIC4uLmdyaWRJdGVtc107XG4vLyBjb21iaW5lZFNob3dzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuc3RhcnRUaW1lKSAtIG5ldyBEYXRlKGIuc3RhcnRUaW1lKSk7XG4vLyByZXR1cm4gY29tYmluZWRTaG93cztcbi8vIH1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHBsYWNlaG9sZGVyIHdpdGggYSBnaXZlbiBzdGFydCBhbmQgc3BhblxuLy8gZnVuY3Rpb24gY3JlYXRlUGxhY2Vob2xkZXIoc3RhcnQsIHNwYW4sIHJvdykge1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIHBsYWNlaG9sZGVyOiB0cnVlLFxuLy8gICAgICAgICBzdGFydFRpbWU6ICdQbGFjZWhvbGRlcicsXG4vLyAgICAgICAgIHByaW9yaXR5OiAwLFxuLy8gICAgICAgICBncmlkU3RhcnQ6IHN0YXJ0LFxuLy8gICAgICAgICBncmlkU3Bhbjogc3Bhbixcbi8vICAgICAgICAgZ3JpZFJvdzogcm93LFxuLy8gICAgICAgICBjb250ZW50OiB7bmFtZTogJ05vdGhpbmcgc2NoZWR1bGVkLid9LFxuLy8gICAgIH1cbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiBjcmVhdGVCbGFua1Nwb3RQbGFjZWhvbGRlcihjb2x1bW4sIHNwYW4sIHJvdykge1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIHBsYWNlaG9sZGVyOiB0cnVlLFxuLy8gICAgICAgICBzdGFydFRpbWU6ICdCbGFua1Nwb3QnLFxuLy8gICAgICAgICBwcmlvcml0eTogMCxcbi8vICAgICAgICAgZ3JpZFN0YXJ0OiBjb2x1bW4sXG4vLyAgICAgICAgIGdyaWRTcGFuOiBzcGFuLFxuLy8gICAgICAgICBncmlkUm93OiByb3csXG4vLyAgICAgICAgIGNvbnRlbnQ6IHtuYW1lOiAnQmxhbmsgU3BvdCd9LFxuLy8gICAgIH1cbi8vIH1cblxuLy8gZnVuY3Rpb24gZmlsbEVtcHR5U2xvdHNXaXRoUGxhY2Vob2xkZXJzKHNob3dzV2l0aFBsYWNlbWVudCwgdGltZVNsb3RzKSB7XG4vLyAgICAgY29uc3QgZ3JpZEl0ZW1zID0gW11cbi8vXG4vLyAgICAgdGltZVNsb3RzLmZvckVhY2goKHNsb3QsIGluZGV4KSA9PiB7XG4vLyAgICAgICAgIC8vIEVuc3VyZSBldmVyeSBzbG90IGlzIGEgRGF0ZSBvYmplY3QsIGNvbnZlcnQgaWYgbmVjZXNzYXJ5XG4vLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0eXBlIG9mIHNsb3Q6ICcgKyBzbG90LCB0eXBlb2Ygc2xvdCkgLy8gQ2hlY2sgd2hhdCBgc2xvdGAgY29udGFpbnMgYW5kIGl0cyB0eXBlXG4vL1xuLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygnRGVidWdnaW5nIHRpbWUgc2xvdHMgYW5kIHNob3dzIGFsaWdubWVudCcpO1xuLy8gICAgICAgICBpZiAoIShzbG90IGluc3RhbmNlb2YgRGF0ZSkpIHtcbi8vICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3Nsb3QgaXMgbm90IGEgRGF0ZSBvYmplY3Q6Jywgc2xvdClcbi8vICAgICAgICAgICAgIHJldHVybiAvLyBTa2lwIHRoaXMgaXRlcmF0aW9uIGlmIGBzbG90YCBpcyBub3QgYSBEYXRlIG9iamVjdFxuLy8gICAgICAgICB9XG4vL1xuLy8gICAgICAgICBjb25zdCBzbG90U3RhcnQgPSBzbG90XG4vLyAgICAgICAgIGNvbnN0IHNsb3RFbmQgPSBuZXcgRGF0ZShzbG90LmdldFRpbWUoKSArIDMwICogNjAwMDApOyAvLyBBc3N1bWluZyBlYWNoIHNsb3QgaXMgMzAgbWludXRlcyBsb25nXG4vLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBDaGVja2luZyBzbG90IGZyb20gJHtzbG90U3RhcnR9IHRvICR7c2xvdEVuZH1gKTtcbi8vXG4vLyAgICAgICAgIGNvbnN0IHNob3dFeGlzdHNJblNsb3QgPSBzaG93c1dpdGhQbGFjZW1lbnQuc29tZShzaG93ID0+IHtcbi8vICAgICAgICAgICAgIGNvbnN0IHNob3dTdGFydCA9IG5ldyBEYXRlKHNob3cuc3RhcnRUaW1lKTtcbi8vICAgICAgICAgICAgIGNvbnN0IHNob3dFbmQgPSBuZXcgRGF0ZShzaG93U3RhcnQuZ2V0VGltZSgpICsgc2hvdy5kdXJhdGlvbk1pbnV0ZXMgKiA2MDAwMCk7XG4vLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgQ29tcGFyaW5nIGFnYWluc3Qgc2hvdyBmcm9tICR7c2hvd1N0YXJ0fSB0byAke3Nob3dFbmR9YCk7XG4vLyAgICAgICAgICAgICAvLyByZXR1cm4gc2xvdFN0YXJ0IDwgc2hvd0VuZCAmJiBzbG90RW5kID4gc2hvd1N0YXJ0O1xuLy8gICAgICAgICAgICAgLy8gQ2hlY2tpbmcgb3ZlcmxhcCBtb3JlIGNhcmVmdWxseSwgaW5jbHVkaW5nIGV4YWN0IGJvdW5kYXJ5IGNvbmRpdGlvbnNcbi8vICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBzID0gKHNsb3RTdGFydCA8PSBzaG93RW5kICYmIHNsb3RFbmQgPiBzaG93U3RhcnQpIHx8IChzaG93U3RhcnQgPD0gc2xvdEVuZCAmJiBzaG93RW5kID4gc2xvdFN0YXJ0KTtcbi8vICAgICAgICAgICAgIGlmIChvdmVybGFwcykge1xuLy8gICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBTaG93IG92ZXJsYXBzIHdpdGggc2xvdDogJHtzaG93LmlkfWApO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgcmV0dXJuIG92ZXJsYXBzO1xuLy9cbi8vICAgICAgICAgfSk7XG4vL1xuLy8gICAgICAgICBpZiAoIXNob3dFeGlzdHNJblNsb3QpIHtcbi8vICAgICAgICAgICAgIC8vIEZvcm1hdCB0aGUgc2xvdCBzdGFydCB0aW1lIGFzIFlZLU1NLUREIEhIOk1NOnNzXG4vLyAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRTdGFydFRpbWUgPSBkYXlqcyhzbG90U3RhcnQpLmZvcm1hdCgnWVktTU0tREQgSEg6bW06c3MnKTtcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBObyBzaG93IGZvdW5kIGZvciBzbG90IHN0YXJ0aW5nIGF0ICR7Zm9ybWF0dGVkU3RhcnRUaW1lfSwgaW5zZXJ0aW5nIHBsYWNlaG9sZGVyLmApO1xuLy9cbi8vICAgICAgICAgICAgIC8vIEluc2VydCBhIHBsYWNlaG9sZGVyIHNob3cgZm9yIHRoaXMgc2xvdFxuLy8gICAgICAgICAgICAgZ3JpZEl0ZW1zLnB1c2goe1xuLy8gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0cnVlLFxuLy8gICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogZm9ybWF0dGVkU3RhcnRUaW1lLFxuLy8gICAgICAgICAgICAgICAgIHByaW9yaXR5OiAxLFxuLy8gICAgICAgICAgICAgICAgIGdyaWRTdGFydDogaW5kZXggKyAxLFxuLy8gICAgICAgICAgICAgICAgIGdyaWRTcGFuOiAxLFxuLy8gICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtuYW1lOiAnTm90aGluZyBzY2hlZHVsZWQuJ30sXG4vLyAgICAgICAgICAgICB9KVxuLy8gICAgICAgICB9XG4vLyAgICAgfSlcbi8vXG4vLyAgICAgLy8gTWVyZ2UgYW5kIHNvcnQgdGhlIGdyaWQgaXRlbXMgYnkgdGhlaXIgc3RhcnQgdGltZS9ncmlkU3RhcnQgdG8gbWFpbnRhaW4gY2hyb25vbG9naWNhbCBvcmRlclxuLy8gICAgIC8vIHJldHVybiBbLi4uc2hvd3NXaXRoUGxhY2VtZW50LCAuLi5ncmlkSXRlbXNdLnNvcnQoKGEsIGIpID0+IGEuZ3JpZFN0YXJ0IC0gYi5ncmlkU3RhcnQpXG4vL1xuLy8gICAgIC8vIE1lcmdlIGFuZCBzb3J0IHRoZSBncmlkIGl0ZW1zIGJ5IHRoZWlyIHN0YXJ0IHRpbWUvZ3JpZFN0YXJ0IHRvIG1haW50YWluIGNocm9ub2xvZ2ljYWwgb3JkZXJcbi8vICAgICBjb25zdCBjb21iaW5lZFNob3dzID0gWy4uLnNob3dzV2l0aFBsYWNlbWVudCwgLi4uZ3JpZEl0ZW1zXTtcbi8vICAgICBjb21iaW5lZFNob3dzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuc3RhcnRUaW1lKSAtIG5ldyBEYXRlKGIuc3RhcnRUaW1lKSk7XG4vLyAgICAgcmV0dXJuIGNvbWJpbmVkU2hvd3M7XG4vLyB9XG5cbmNvbnN0IGdldFRpbWVab25lID0gKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJTdG9yZSA9IHVzZVVzZXJTdG9yZSgpXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSB0aW1lem9uZSBvZiB0aGUgdXNlci5cbiAgICAvLyBUaGlzIGNvdWxkIGJlIGR5bmFtaWMgYmFzZWQgb24gdGhlIHVzZXIncyBzZXR0aW5ncyBvciBicm93c2VyIHNldHRpbmdzLlxuICAgIC8vIHJldHVybiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7XG4gICAgcmV0dXJuIHVzZXJTdG9yZS50aW1lem9uZVxufVxuXG5jb25zdCBpbml0aWFsU3RhdGUgPSAoKSA9PiAoe1xuICAgIGJhc2VUaW1lOiBkYXlqcygpLnR6KGdldFRpbWVab25lKCkpLnRvRGF0ZSgpLFxuICAgIGN1cnJlbnRIYWxmSG91cjogZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS5zdGFydE9mKCdob3VyJykuYWRkKGRheWpzKCkubWludXRlKCkgPj0gMzAgPyAzMCA6IDAsICdtaW51dGUnKS50b0RhdGUoKSxcbiAgICBmb3VySG91cnNMYXRlcjogZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS5zdGFydE9mKCdob3VyJykuYWRkKGRheWpzKCkubWludXRlKCkgPj0gMzAgPyAzMCA6IDAsICdtaW51dGUnKS5hZGQoNCwgJ2hvdXInKS50b0RhdGUoKSxcbiAgICB2aWV3aW5nV2luZG93U3RhcnQ6IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkuc3RhcnRPZignaG91cicpLnRvRGF0ZSgpLFxuICAgIGN1cnJlbnRNb250aDogZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS5zdGFydE9mKCdtb250aCcpLnRvRGF0ZSgpLFxuICAgIHNlbGVjdGVkRGF5OiBkYXlqcygpLnR6KGdldFRpbWVab25lKCkpLnRvRGF0ZSgpLFxuICAgIGN1cnJlbnRXZWVrU3RhcnQ6IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkuc3RhcnRPZignd2VlaycpLnRvRGF0ZSgpLFxuICAgIGN1cnJlbnRXZWVrRW5kOiBkYXlqcygpLnR6KGdldFRpbWVab25lKCkpLmVuZE9mKCd3ZWVrJykudG9EYXRlKCksXG4gICAgbmV4dEZvdXJIb3Vyc09mQ29udGVudDogW10sXG4gICAgbmV4dEZvdXJIb3Vyc09mQ29udGVudFdpdGhQbGFjZWhvbGRlcnM6IFtdLFxuICAgIC8vIG5leHRGb3VySG91cnNXaXRoSGFsZkhvdXJJbnRlcnZhbHM6IFtdLFxuICAgIC8vIHZpZXdpbmdNb2RlOiAnYXV0b21hdGljJywgLy8gb3IgJ3VzZXJTZWxlY3RlZCdcbiAgICBmaXZlRGF5U2l4SG91clNjaGVkdWxlOiBbXSwgLy8gSG9sZHMgdGhlIHNjaGVkdWxlIHNob3dzIDUgZGF5IC8gNiBob3VyIHN0cnVjdHVyZWQgZGF0YVxuICAgIHRvZGF5c0NvbnRlbnQ6IFtdLFxuICAgIHdlZWtseUNvbnRlbnQ6IFtdLFxuICAgIGRhdGFGZXRjaExvZzogW10sXG4gICAgc2NoZWR1bGVJc0xvYWRpbmc6IGZhbHNlLFxuICAgIHNhdmluZ1RvU2NoZWR1bGU6IGZhbHNlLFxuICAgIHNsb3RJbnRlcnZhbE1pbnV0ZXM6IDMwLFxuICAgIG1lZGl1bVNjcmVlblNsb3RIb3VyczogNCwgLy8gNCBob3VycyA9IDggc2xvdHNcbiAgICBzbWFsbFNjcmVlblNsb3RIb3VyczogMiwgLy8gMiBob3VycyA9IDQgc2xvdHNcbiAgICB2ZXJ5U21hbGxTY3JlZW5TbG90SG91cnM6IDEsIC8vIDEgaG91ciA9IDIgc2xvdHNcbiAgICB0aW1lU2xvdHM6IG51bGwsXG59KVxuXG5leHBvcnQgY29uc3QgdXNlU2NoZWR1bGVTdG9yZSA9IGRlZmluZVN0b3JlKCdzY2hlZHVsZVN0b3JlJywge1xuICAgIHN0YXRlOiBpbml0aWFsU3RhdGUsXG4gICAgYWN0aW9uczoge1xuICAgICAgICByZXNldEFsbCgpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBzdG9yZSB0byBpdHMgb3JpZ2luYWwgc3RhdGUgKGNsZWFyIGFsbCBkYXRhKVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbml0aWFsU3RhdGUoKSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCA9IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkuc3RhcnRPZignaG91cicpLnRvRGF0ZSgpXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkuc3RhcnRPZignbW9udGgnKS50b0RhdGUoKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERheSA9IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkudG9EYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgc2V0U2VsZWN0ZWREYXkoZGF5KSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCAnZGF5JyBpcyBhIERheS5qcyBvYmplY3QsIGNvbnZlcnQgaWYgY29taW5nIGFzIGEgbmF0aXZlIERhdGUgb3Igc3RyaW5nXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZERheSA9IGRheWpzKGRheSlcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSBzZWxlY3RlZCBkYXlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXkgPSBzZWxlY3RlZERheS50b0RhdGUoKSAvLyBDb252ZXJ0IGJhY2sgdG8gRGF0ZSBpZiBuZWNlc3Nhcnk7IG90aGVyd2lzZSBrZWVwIGFzIERheS5qcyBvYmplY3RcblxuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBzZXQgdGhlIHZpZXdpbmdXaW5kb3dTdGFydCB0byA0IEFNIGZvciB0aGUgc2VsZWN0ZWQgZGF5XG4gICAgICAgICAgICB0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCA9IHNlbGVjdGVkRGF5LnN0YXJ0T2YoJ2RheScpLmFkZCg0LCAnaG91cnMnKS50b0RhdGUoKVxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHdlZWsgYmFzZWQgb24gdGhlIHNlbGVjdGVkIGRheVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2Vla1N0YXJ0ID0gc2VsZWN0ZWREYXkuc3RhcnRPZignd2VlaycpLnRvRGF0ZSgpIC8vIENvbnNpZGVyIHdlZWsgc3RhcnRpbmcgb24gU3VuZGF5XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRXZWVrRW5kID0gc2VsZWN0ZWREYXkuZW5kT2YoJ3dlZWsnKS50b0RhdGUoKSAvLyBDb25zaWRlciB3ZWVrIGVuZGluZyBvbiBTYXR1cmRheVxuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHVwZGF0ZWQgZmV0Y2ggbG9naWNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hXZWVrRGF0YUlmTmVlZGVkKClcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U2VsZWN0ZWREYXlUb1RvZGF5KGRheSkge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gZGF5anMoKSAgLy8gQ3JlYXRlIGEgRGF5LmpzIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgZGF0ZSBhbmQgdGltZVxuXG4gICAgICAgICAgICAvLyBTZXQgc2VsZWN0ZWREYXkgdG8gdGhlIGN1cnJlbnQgZGF0ZSBhbmQgdGltZVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERheSA9IG5vdy50b0RhdGUoKSAvLyBDb252ZXJ0IGJhY2sgdG8gRGF0ZSBpZiBuZWNlc3Nhcnk7IG90aGVyd2lzZSBrZWVwIGFzIERheS5qcyBvYmplY3RcblxuICAgICAgICAgICAgLy8gU2V0IHZpZXdpbmdXaW5kb3dTdGFydCB0byB0aGUgc3RhcnQgb2YgdGhlIGN1cnJlbnQgaG91ciB1c2luZyBEYXkuanNcbiAgICAgICAgICAgIHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0ID0gbm93LnN0YXJ0T2YoJ2hvdXInKS50b0RhdGUoKVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjaGFuZ2VEYXkoZGF5cykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWVab25lID0gZ2V0VGltZVpvbmUoKSAvLyBvciBob3dldmVyIHlvdSBvYnRhaW4gdGhlIHRpbWV6b25lXG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSB0aW1lIGNvbXBvbmVudCBmcm9tIHRoZSBjdXJyZW50IHZpZXdpbmcgd2luZG93IHN0YXJ0XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IGRheWpzKHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0KS5ob3VyKCkgKiA2MCArIGRheWpzKHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0KS5taW51dGUoKVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgZGF5IGFuZCBzZXQgaXQgdG8gdGhlIHN0YXJ0IG9mIHRoYXQgZGF5XG4gICAgICAgICAgICBsZXQgbmV3RGF5ID0gZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpLnR6KGN1cnJlbnRUaW1lWm9uZSkuYWRkKGRheXMsICdkYXknKS5zdGFydE9mKCdkYXknKVxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHRpbWUgYmFjayB0byB0aGUgb3JpZ2luYWwgdGltZVxuICAgICAgICAgICAgbmV3RGF5ID0gbmV3RGF5LmFkZChjdXJyZW50VGltZSwgJ21pbnV0ZScpXG5cbiAgICAgICAgICAgIC8vIERlcGVuZGluZyBvbiB5b3VyIGFwcGxpY2F0aW9uJ3MgbmVlZHMsIHlvdSBtYXkgb3IgbWF5IG5vdCBuZWVkIHRvIGNvbnZlcnQgaXQgYmFjayB0byBhIEphdmFTY3JpcHQgRGF0ZSBvYmplY3RcbiAgICAgICAgICAgIC8vIElmIHlvdSBuZWVkIGEgRGF0ZSBvYmplY3Q6XG4gICAgICAgICAgICB0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCA9IG5ld0RheS50b0RhdGUoKVxuXG4gICAgICAgICAgICAvLyBJZiB5b3UgY2FuIHVzZSBkYXlqcyBvYmplY3RzIGRpcmVjdGx5IChwcmVmZXJyZWQgaWYgcG9zc2libGUpOlxuICAgICAgICAgICAgdGhpcy52aWV3aW5nV2luZG93U3RhcnQgPSBuZXdEYXlcblxuICAgICAgICAgICAgLy8gLy8gQ2hlY2sgaWYgdGhlIHdlZWsgb2YgdGhlIG5ldyBkYXkgaXMgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgICAgIC8vIGNvbnN0IHdlZWtTdGFydCA9IHN0YXJ0T2ZXZWVrKG5ld0RheSwge3dlZWtTdGFydHNPbjogMH0pO1xuICAgICAgICAgICAgLy8gY29uc3Qgd2Vla0VuZCA9IGVuZE9mV2VlayhuZXdEYXksIHt3ZWVrU3RhcnRzT246IDB9KTtcblxuICAgICAgICAgICAgLy8gVXNlIHRoZSB1cGRhdGVkIGNlbnRyYWxpemVkIGZldGNoIGxvZ2ljIHdpdGhvdXQgcmVkdW5kYW50IGNoZWNrc1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaFdlZWtEYXRhSWZOZWVkZWQoKVxuXG4gICAgICAgICAgICAvLyAvLyBDaGVjayBmb3IgdGhlIG5lZWQgdG8gbG9hZCBkYXRhIGZvciB0aGUgbmV3IHdlZWtcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLm5lZWRzRGF0YUZvcldlZWsod2Vla1N0YXJ0LCB3ZWVrRW5kKSkge1xuICAgICAgICAgICAgLy8gICAgIGF3YWl0IHRoaXMubG9hZFdlZWtGcm9tRGF0ZShuZXdEYXkpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIC8vICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIGRhdGEgZm9yIHRoZSBuZXcgd2VlazpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAvLyAvLyBDaGVjayBmb3IgdGhlIG5lZWQgdG8gbG9hZCBkYXRhIGZvciB0aGUgbmV3IHdlZWtcbiAgICAgICAgICAgIC8vIGlmICghdGhpcy5uZWVkc0RhdGFGb3JXZWVrKCkpIHtcbiAgICAgICAgICAgIC8vICAgICAvLyBEYXRhIGZvciB0aGUgY3VycmVudCB3ZWVrIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkOyBza2lwIGZldGNoaW5nXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJEYXRhIGZvciB0aGUgY3VycmVudCB3ZWVrIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkOyBza2lwcGluZyByZWR1bmRhbnQgZmV0Y2guXCIpO1xuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAvLyBQcm9jZWVkIHdpdGggZGF0YSBmZXRjaGluZyBpZiBuZWVkZWRcbiAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuY2hlY2tBbmRGZXRjaEZvclVwY29taW5nQ29udGVudCgpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBzaGlmdEhvdXJzKGhvdXJzKSB7XG4gICAgICAgICAgICAvLyBTaGlmdCB0aGUgdmlld2luZyB3aW5kb3cgYnkgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgaG91cnNcbiAgICAgICAgICAgIHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0ID0gZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpLmFkZChob3VycywgJ2hvdXInKS50b0RhdGUoKVxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGN1cnJlbnQgd2VlayBzdGFydCBhbmQgZW5kIGJhc2VkIG9uIHRoZSBuZXcgdmlld2luZyB3aW5kb3cgc3RhcnRcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdlZWtTdGFydCA9IGRheWpzKHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0KS5zdGFydE9mKCd3ZWVrJykudG9EYXRlKClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdlZWtFbmQgPSBkYXlqcyh0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCkuZW5kT2YoJ3dlZWsnKS50b0RhdGUoKVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGF5IGhhcyBjaGFuZ2VkLCB1cGRhdGUgc2VsZWN0ZWREYXkgYW5kIHRoZSB3ZWVrJ3MgcmFuZ2VcbiAgICAgICAgICAgIGlmICghZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpLmlzU2FtZShkYXlqcyh0aGlzLnNlbGVjdGVkRGF5KSwgJ2RheScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERheSA9IGRheWpzKHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0KS5zdGFydE9mKCdkYXknKS50b0RhdGUoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHVwZGF0ZWQgZmV0Y2ggbG9naWNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hXZWVrRGF0YUlmTmVlZGVkKClcbiAgICAgICAgfSxcbiAgICAgICAgaXNFbGV2ZW5QTShkYXRlKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBkYXRlIHRvIGEgRGF5LmpzIG9iamVjdCBpZiBpdCdzIG5vdCBhbHJlYWR5IG9uZVxuICAgICAgICAgICAgY29uc3QgdGltZSA9IGRheWpzKGRhdGUpXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgaG91ciBpcyAyMyAoMTEgUE0pXG4gICAgICAgICAgICByZXR1cm4gdGltZS5ob3VyKCkgPT09IDIzXG4gICAgICAgIH0sXG4gICAgICAgIC8vIEFjdGlvbnMgdG8gY2hhbmdlIHRoZSBtb250aFxuICAgICAgICBhc3luYyBzdWJ0cmFjdE1vbnRoKCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBjdXJyZW50TW9udGggdG8gYSBEYXkuanMgb2JqZWN0IGlmIGl0J3Mgbm90IGFscmVhZHkgYW5kIHN1YnRyYWN0IG9uZSBtb250aFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPSBkYXlqcyh0aGlzLmN1cnJlbnRNb250aCkuc3VidHJhY3QoMSwgJ21vbnRoJykudG9EYXRlKClcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBuZXcgY3VycmVudE1vbnRoIHRvIHNldFNlbGVjdGVkRGF5XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRTZWxlY3RlZERheSh0aGlzLmN1cnJlbnRNb250aClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2V0IHNlbGVjdGVkIGRheSBiYXNlZCBvbiBjdXJyZW50IG1vbnRoOicsIHRoaXMuY3VycmVudE1vbnRoKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2V0IHNlbGVjdGVkIGRheSBiYXNlZCBvbiBjdXJyZW50IG1vbnRoICR7dGhpcy5jdXJyZW50TW9udGh9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBhZGRNb250aCgpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgY3VycmVudE1vbnRoIHRvIGEgRGF5LmpzIG9iamVjdCBpZiBpdCdzIG5vdCBhbHJlYWR5IGFuZCBhZGQgb25lIG1vbnRoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IGRheWpzKHRoaXMuY3VycmVudE1vbnRoKS5hZGQoMSwgJ21vbnRoJykudG9EYXRlKClcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBuZXcgY3VycmVudE1vbnRoIHRvIHNldFNlbGVjdGVkRGF5XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRTZWxlY3RlZERheSh0aGlzLmN1cnJlbnRNb250aClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2V0IHNlbGVjdGVkIGRheSBiYXNlZCBvbiBjdXJyZW50IG1vbnRoOicsIHRoaXMuY3VycmVudE1vbnRoKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2V0IHNlbGVjdGVkIGRheSBiYXNlZCBvbiBjdXJyZW50IG1vbnRoICR7dGhpcy5jdXJyZW50TW9udGh9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBmZXRjaEZpdmVEYXlTaXhIb3VyU2NoZWR1bGUoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdmZXRjaEZpdmVEYXlTaXhIb3VyU2NoZWR1bGUnKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyU3RvcmUgPSB1c2VVc2VyU3RvcmUoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvYXBpL3NjaGVkdWxlJylcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHJlc3BvbnNlIHRpbWV6b25lIGlmIHVzZXJTdG9yZS50aW1lem9uZSBpcyBub3Qgc2V0XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXpvbmUgPSB1c2VyU3RvcmUudGltZXpvbmUgfHwgcmVzcG9uc2UuZGF0YS51c2VyVGltZXpvbmUgfHwgJ1VUQycgLy8gQWRkaXRpb25hbCBmYWxsYmFjayB0byAnVVRDJ1xuXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgZW50aXJlIHNjaGVkdWxlLCBpbmNsdWRpbmcgbmVzdGVkIHJlY3VycmVuY2VEZXRhaWxzLCB0byB0aGUgdXNlcidzIHRpbWV6b25lXG4gICAgICAgICAgICAgICAgdGhpcy5maXZlRGF5U2l4SG91clNjaGVkdWxlID0gY29udmVydFNjaGVkdWxlVG9UaW1lem9uZShyZXNwb25zZS5kYXRhLCB0aW1lem9uZSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdmZXRjaEZpdmVEYXlTaXhIb3VyU2NoZWR1bGUnLCByZXNwb25zZS5kYXRhKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBzY2hlZHVsZSBzaG93czonLCBlcnJvcilcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGVycm9yIHN0YXRlIGFzIG5lZWRlZCwgZS5nLiwgc2V0dGluZyBhbiBlcnJvciBzdGF0ZSBwcm9wZXJ0eVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBmZXRjaFRvZGF5c0NvbnRlbnQoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJTdG9yZSA9IHVzZVVzZXJTdG9yZSgpXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvc2NoZWR1bGUvdG9kYXknKVxuXG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gcmVzcG9uc2UgdGltZXpvbmUgaWYgdXNlclN0b3JlLnRpbWV6b25lIGlzIG5vdCBzZXRcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lem9uZSA9IHVzZXJTdG9yZS50aW1lem9uZSB8fCByZXNwb25zZS5kYXRhLnVzZXJUaW1lem9uZSB8fCAnVVRDJyAvLyBBZGRpdGlvbmFsIGZhbGxiYWNrIHRvICdVVEMnXG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZGF5c0NvbnRlbnQgPSBjb252ZXJ0U2NoZWR1bGVUb1RpbWV6b25lKHJlc3BvbnNlLmRhdGEsIHRpbWV6b25lKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdG9kYXlcXCdzIGNvbnRlbnQ6JywgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHByZWxvYWRXZWVrbHlDb250ZW50KCkge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBjdXJyZW50IGRhdGUgdG8gcHJlbG9hZCBjb250ZW50IGZvciB0aGUgY3VycmVudCB3ZWVrXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGRheWpzKCkgLy8gQ3JlYXRlcyBhIERheS5qcyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGRhdGUgYW5kIHRpbWVcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIGxvYWRXZWVrRnJvbURhdGUgd2l0aCB0aGUgY3VycmVudCBEYXkuanMgZGF0ZSBvYmplY3QsIGNvbnZlcnRlZCB0byBhIERhdGUgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkV2Vla0Zyb21EYXRlKGN1cnJlbnREYXRlLnRvRGF0ZSgpKSAvLyBDb252ZXJ0IHRvIEphdmFTY3JpcHQgRGF0ZSBpZiBsb2FkV2Vla0Zyb21EYXRlIGV4cGVjdHMgYSBEYXRlIG9iamVjdFxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcHJlbG9hZCB3ZWVrbHkgY29udGVudDonLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgbG9hZFdlZWtGcm9tRGF0ZShkYXRlKSB7XG4gICAgICAgICAgICBsZXQgZm9ybWF0dGVkRGF0ZSA9IG51bGwgLy8gRGVjbGFyZSBmb3JtYXR0ZWREYXRlIG91dHNpZGUgb2YgdGhlIHRyeSBibG9ja1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUlzTG9hZGluZyA9IHRydWVcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlclN0b3JlID0gdXNlVXNlclN0b3JlKClcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGRhdGUgaXMgaW4gVVRDIGZvcm1hdCBmb3IgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnRGF0ZSBiZWZvcmUgZm9ybWF0dGVkOiAnICsgZGF0ZSlcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGRhdGUgdG8gRGF5LmpzIG9iamVjdCBhbmQgZm9ybWF0IGl0IGluIElTTyBzdHJpbmcgd2l0aCBVVENcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlEYXRlID0gZGF5anMoZGF0ZSlcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsSVNPRGF0ZSA9IGRheURhdGUudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBMb2FkaW5nIHdlZWsgZGF0YSBmb3IgZGF0ZSBpbiBVVEM6ICR7ZnVsbElTT0RhdGV9YClcblxuICAgICAgICAgICAgICAgIC8vIEZldGNoIHRoZSB3ZWVrJ3Mgc2NoZWR1bGUgZGF0YVxuICAgICAgICAgICAgICAgIC8vIFNlbmQgdGhlIGRhdGVUaW1lIGFuZCB0aW1lem9uZSBhcyBhIEpTT04gb2JqZWN0IGluIGEgUE9TVCByZXF1ZXN0XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAvYXBpL3NjaGVkdWxlL3dlZWsvJHtmdWxsSVNPRGF0ZX1gKVxuXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgICAgICAgICAgIC8vIExvZyBhbmQgZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gZGF5RGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKSAvLyBGb3IgcG90ZW50aWFsIGVycm9yIG1lc3NhZ2VzIGFuZCBsb2dnaW5nXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYExvYWRpbmcgd2VlayBkYXRhIGZvciBkYXRlOiAke2Zvcm1hdHRlZERhdGV9YCk7IC8vIExvZyB0aGUgZGF0ZSBiZWluZyByZXF1ZXN0ZWRcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAvYXBpL3NjaGVkdWxlL3dlZWsvJHtmb3JtYXR0ZWREYXRlfWApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdSZWNlaXZlZCByZXNwb25zZTonLCByZXNwb25zZS5kYXRhKSAvLyBMb2cgdGhlIHJhdyByZXNwb25zZSBkYXRhXG5cbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byByZXNwb25zZSB0aW1lem9uZSBpZiB1c2VyU3RvcmUudGltZXpvbmUgaXMgbm90IHNldFxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWV6b25lID0gdXNlclN0b3JlLnRpbWV6b25lIHx8IHJlc3BvbnNlLmRhdGEudXNlclRpbWV6b25lIHx8ICdVVEMnIC8vIEFkZGl0aW9uYWwgZmFsbGJhY2sgdG8gJ1VUQydcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgVXNpbmcgdGltZXpvbmU6ICR7dGltZXpvbmV9YCkgLy8gTG9nIHRoZSB0aW1lem9uZSBiZWluZyB1c2VkXG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdEYXRhID0gY29udmVydFNjaGVkdWxlVG9UaW1lem9uZShyZXNwb25zZS5kYXRhLCB0aW1lem9uZSkgLy8gRW5zdXJlIHlvdSBhcmUgYWNjZXNzaW5nIHRoZSBjb3JyZWN0IGRhdGEgcHJvcGVydHkgZnJvbSB0aGUgcmVzcG9uc2VcblxuICAgICAgICAgICAgICAgIC8vIE1lcmdlIG5ld0RhdGEgaW50byB3ZWVrbHlDb250ZW50LCBhdm9pZGluZyBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgdGhpcy53ZWVrbHlDb250ZW50ID0gWy4uLnRoaXMud2Vla2x5Q29udGVudCwgLi4ubmV3RGF0YV0uZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIHNlbGYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgoKHQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmlkID09PSB2YWx1ZS5pZCAmJiB0LnN0YXJ0VGltZSA9PT0gdmFsdWUuc3RhcnRUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAvLyBPcHRpb25hbGx5IHVwZGF0ZSBmZXRjaCBsb2dzIG9yIHBlcmZvcm0gYWRkaXRpb25hbCBzdGF0ZSB1cGRhdGVzXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGZXRjaExvZ3MoZGF0ZSlcblxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVJc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBjb250ZW50IGZvciB3ZWVrIHN0YXJ0aW5nICR7Zm9ybWF0dGVkRGF0ZX06YCwgZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUZldGNoTG9ncyhkYXRlKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGRhdGUgdG8gYSBEYXkuanMgb2JqZWN0IGlmIGl0J3Mgbm90IGFscmVhZHkgb25lXG4gICAgICAgICAgICBjb25zdCBkYXlEYXRlID0gZGF5anMoZGF0ZSlcblxuICAgICAgICAgICAgLy8gVXNlIERheS5qcyB0byBjYWxjdWxhdGUgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHdlZWtcbiAgICAgICAgICAgIGNvbnN0IHdlZWtTdGFydCA9IGRheURhdGUuc3RhcnRPZignd2VlaycpLnRvSVNPU3RyaW5nKCkgLy8gQXNzdW1lcyB0aGUgd2VlayBzdGFydHMgb24gU3VuZGF5XG4gICAgICAgICAgICBjb25zdCB3ZWVrRW5kID0gZGF5RGF0ZS5lbmRPZignd2VlaycpLnRvSVNPU3RyaW5nKCkgLy8gQXNzdW1lcyB0aGUgd2VlayBlbmRzIG9uIFNhdHVyZGF5XG4gICAgICAgICAgICBjb25zdCBmZXRjaFRpbWUgPSBkYXlqcygpLnRvSVNPU3RyaW5nKCkgLy8gQ3VycmVudCB0aW1lIGluIElTTyBmb3JtYXRcblxuICAgICAgICAgICAgLy8gRmluZCBleGlzdGluZyBsb2cgZW50cnkgZm9yIHRoZSB3ZWVrXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0xvZ0luZGV4ID0gdGhpcy5kYXRhRmV0Y2hMb2cuZmluZEluZGV4KGxvZyA9PlxuICAgICAgICAgICAgICAgIGxvZy53ZWVrU3RhcnQgPT09IHdlZWtTdGFydCAmJiBsb2cud2Vla0VuZCA9PT0gd2Vla0VuZClcblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nTG9nSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYXN0IGZldGNoIHRpbWUgaWYgdGhlIGxvZyBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUZldGNoTG9nW2V4aXN0aW5nTG9nSW5kZXhdLmxhc3RGZXRjaCA9IGZldGNoVGltZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgbG9nIGVudHJ5IGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhRmV0Y2hMb2cucHVzaCh7d2Vla1N0YXJ0LCB3ZWVrRW5kLCBsYXN0RmV0Y2g6IGZldGNoVGltZX0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG5lZWRzRGF0YUZvcldlZWsoKSB7XG4gICAgICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGRhdGVzIHRvICdZWVlZLU1NLUREJyBmb3IgZWFzaWVyIGNvbXBhcmlzb25cbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdElTT0RhdGUgPSAoZGF0ZSkgPT4gZGF5anMoZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJylcblxuICAgICAgICAgICAgLy8gQ3VycmVudCB3ZWVrIHJhbmdlIGluICdZWVlZLU1NLUREJyBmb3JtYXRcbiAgICAgICAgICAgIGNvbnN0IHdlZWtTdGFydFN0ciA9IGZvcm1hdElTT0RhdGUodGhpcy5jdXJyZW50V2Vla1N0YXJ0KVxuICAgICAgICAgICAgY29uc3Qgd2Vla0VuZFN0ciA9IGZvcm1hdElTT0RhdGUodGhpcy5jdXJyZW50V2Vla0VuZClcblxuICAgICAgICAgICAgLy8gRW5oYW5jZWQgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ3VycmVudCB3ZWVrIHJhbmdlOiAke3dlZWtTdGFydFN0cn0gdG8gJHt3ZWVrRW5kU3RyfWApXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXhpc3RpbmcgZGF0YSBmZXRjaCBsb2cgZW50cmllczonLCB0aGlzLmRhdGFGZXRjaExvZylcblxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBmZXRjaCBsb2cgdG8gY2hlY2sgaWYgdGhlIGN1cnJlbnQgd2VlayBoYXMgYmVlbiBmZXRjaGVkXG4gICAgICAgICAgICBjb25zdCB3ZWVrSGFzQmVlbkZldGNoZWQgPSB0aGlzLmRhdGFGZXRjaExvZy5zb21lKGxvZyA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBsb2cgZGF0ZXMgdG8gJ1lZWVktTU0tREQnIGZvcm1hdCBmb3IgY29tcGFyaXNvblxuICAgICAgICAgICAgICAgIGNvbnN0IGxvZ1dlZWtTdGFydFN0ciA9IGZvcm1hdElTT0RhdGUobG9nLndlZWtTdGFydClcbiAgICAgICAgICAgICAgICBjb25zdCBsb2dXZWVrRW5kU3RyID0gZm9ybWF0SVNPRGF0ZShsb2cud2Vla0VuZClcblxuICAgICAgICAgICAgICAgIC8vIExvZyBlYWNoIGNvbXBhcmlzb24gZm9yIGluc2lnaHRcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ29tcGFyaW5nIHRvIGZldGNoZWQgcmFuZ2U6ICR7bG9nV2Vla1N0YXJ0U3RyfSB0byAke2xvZ1dlZWtFbmRTdHJ9YClcblxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dXZWVrU3RhcnRTdHIgPD0gd2Vla1N0YXJ0U3RyICYmIGxvZ1dlZWtFbmRTdHIgPj0gd2Vla0VuZFN0clxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy8gTG9nIHRoZSBmaW5hbCBkZXRlcm1pbmF0aW9uXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgV2VlayBmcm9tICR7d2Vla1N0YXJ0U3RyfSB0byAke3dlZWtFbmRTdHJ9IGhhcyAke3dlZWtIYXNCZWVuRmV0Y2hlZCA/ICcnIDogJ25vdCAnfWJlZW4gZmV0Y2hlZC5gKVxuXG4gICAgICAgICAgICByZXR1cm4gIXdlZWtIYXNCZWVuRmV0Y2hlZFxuICAgICAgICB9LFxuICAgICAgICBjYWxjdWxhdGVFeHRlbmRlZEVuZEZvclVwY29taW5nQ29udGVudCgpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdmlld2luZ1dpbmRvd1N0YXJ0IHRvIGEgRGF5LmpzIG9iamVjdCBpZiBpdCdzIG5vdCBhbHJlYWR5IG9uZVxuICAgICAgICAgICAgY29uc3QgYmFzZVN0YXJ0VGltZSA9IGRheWpzKHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0KVxuXG4gICAgICAgICAgICAvLyBFeHRlbmQgYnkgNiBob3VycyB0byBjb3ZlciB0aGUgdXBjb21pbmcgY29udGVudCBzcGFuXG4gICAgICAgICAgICAvLyBEYXkuanMgaGFuZGxlcyBkYXRlIGFuZCB0aW1lIGFkZGl0aW9uIGNsZWFubHksIHJldHVybmluZyBhIG5ldyBEYXkuanMgb2JqZWN0XG4gICAgICAgICAgICBjb25zdCBleHRlbmRlZEVuZFRpbWUgPSBiYXNlU3RhcnRUaW1lLmFkZCg2LCAnaG91cicpXG5cbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgZXh0ZW5kZWQgZW5kIHRpbWUgYXMgYSBEYXRlIG9iamVjdCwgaWYgbmVlZGVkIGVsc2V3aGVyZSBhcyBhIERhdGVcbiAgICAgICAgICAgIHJldHVybiBleHRlbmRlZEVuZFRpbWUudG9EYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgZm9yIGFuZCBmZXRjaCBtaXNzaW5nIHVwY29taW5nIGNvbnRlbnRcbiAgICAgICAgYXN5bmMgY2hlY2tBbmRGZXRjaEZvclVwY29taW5nQ29udGVudCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwY29taW5nRGF0ZXMgPSBnZXRVcGNvbWluZ0NvbnRlbnREYXRlcyh0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCkgLy8gQXNzdW1pbmcgdGhpcyByZXR1cm5zIERheS5qcyBvYmplY3RzXG4gICAgICAgICAgICBjb25zdCBub3cgPSBkYXlqcygpXG4gICAgICAgICAgICBjb25zdCBmaWZ0ZWVuTWludXRlc0FnbyA9IG5vdy5zdWJ0cmFjdCgxNSwgJ21pbnV0ZXMnKVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGUgb2YgdXBjb21pbmdEYXRlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBkYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpICAvLyBEYXkuanMgZm9ybWF0IGZvciAnWVlZWS1NTS1ERCdcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50Q292ZXJhZ2VBbmRGcmVzaG5lc3MgPSB0aGlzLndlZWtseUNvbnRlbnQuc29tZShjb250ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudERhdGUgPSBkYXlqcyhjb250ZW50LnN0YXJ0VGltZSkuZm9ybWF0KCdZWVlZLU1NLUREJykgIC8vIENvbnZlcnQgYW5kIGNvbXBhcmUgYXMgJ1lZWVktTU0tREQnXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RGZXRjaGVkVGltZSA9IHRoaXMuZGF0YUZldGNoTG9nW2RhdGVTdHJpbmddXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRnJlc2ggPSBsYXN0RmV0Y2hlZFRpbWUgJiYgZGF5anMobGFzdEZldGNoZWRUaW1lKSA+IGZpZnRlZW5NaW51dGVzQWdvXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlU3RyaW5nID09PSBjb250ZW50RGF0ZSAmJiBpc0ZyZXNoXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIGlmICghY29udGVudENvdmVyYWdlQW5kRnJlc2huZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZGF0ZSBuZWVkcyBkYXRhIGZldGNoaW5nXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hEYXRhQW5kVXBkYXRlTG9nKGRhdGVTdHJpbmcsIGRhdGUudG9EYXRlKCkpIC8vIFBhc3MgYXMgRGF0ZSBpZiBuZWVkZWQsIG9yIGFkanVzdCBkb3duc3RyZWFtIGZ1bmN0aW9ucyB0byBhY2NlcHQgRGF5LmpzIG9iamVjdHNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgLy8gQXNzdW1pbmcgeW91IGZldGNoIGRhdGEgZm9yIHRoZSB3ZWVrLCBzbyBubyBuZWVkIHRvIGNoZWNrIGZ1cnRoZXIgZGF0ZXMgd2l0aGluIHRoZSBzYW1lIHdlZWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGZldGNoRGF0YUFuZFVwZGF0ZUxvZyhkYXRlU3RyaW5nLCBkYXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nICdkYXRlJyBpcyBhbHJlYWR5IGEgRGF5LmpzIG9iamVjdDsgaWYgbm90LCBjb252ZXJ0IGl0XG4gICAgICAgICAgICAgICAgY29uc3QgZGF5RGF0ZSA9IGRheWpzKGRhdGUpXG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRXZWVrRnJvbURhdGUoZGF5RGF0ZS50b0RhdGUoKSkgIC8vIFBhc3MgYXMgYSBEYXRlIGlmIG5lZWRlZCwgb3IgYWRqdXN0ICdsb2FkV2Vla0Zyb21EYXRlJyB0byBhY2NlcHQgRGF5LmpzIG9iamVjdHNcbiAgICAgICAgICAgICAgICAvLyBTdWNjZXNzZnVsbHkgZmV0Y2hlZCwgc28gdXBkYXRlIHRoZSBsb2dcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFGZXRjaExvZ1tkYXRlU3RyaW5nXSA9IGRheWpzKCkudG9JU09TdHJpbmcoKSAgLy8gVXNlIERheS5qcyB0byBnZXQgdGhlIGN1cnJlbnQgdGltZSBpbiBJU08gZm9ybWF0XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGEgZmV0Y2hlZCBzdWNjZXNzZnVsbHkgZm9yIGRhdGU6JywgZGF0ZVN0cmluZylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIGRhdGEgZm9yIGRhdGUgJHtkYXRlU3RyaW5nfTpgLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBVcGRhdGVkIHRvIHVzZSB0aGlzLmN1cnJlbnRXZWVrU3RhcnQgYW5kIHRoaXMuY3VycmVudFdlZWtFbmQgZGlyZWN0bHlcbiAgICAgICAgYXN5bmMgZmV0Y2hXZWVrRGF0YUlmTmVlZGVkKCkge1xuICAgICAgICAgICAgLy8gQXNzdW1lcyB0aGlzLmN1cnJlbnRXZWVrU3RhcnQgYW5kIHRoaXMuY3VycmVudFdlZWtFbmQgYXJlIGFscmVhZHkgc2V0XG4gICAgICAgICAgICBpZiAodGhpcy5uZWVkc0RhdGFGb3JXZWVrKCkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrQW5kRmV0Y2hGb3JVcGNvbWluZ0NvbnRlbnQoKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGRhdGEgZm9yIHRoZSB3ZWVrOicsIGVycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UgLy8gSW5kaWNhdGVzIGZhaWx1cmUgdG8gZmV0Y2ggd2hlbiBhbiBlcnJvciBvY2N1cnNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnV2VlayBkYXRhIGFscmVhZHkgbG9hZGVkOyBubyBuZWVkIHRvIGZldGNoLicpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gc2ltcGx5IHVwZGF0ZSBiYXNlVGltZSB3aXRoIHRoZSBnaXZlbiB0aW1lIChleHBlY3RlZCB0byBiZSBhIERheS5qcyBvYmplY3Qgb3IgY29tcGF0aWJsZSBpbnB1dClcbiAgICAgICAgdXBkYXRlQmFzZVRpbWUodGltZSkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSB0aW1lIGlzIGEgRGF5LmpzIG9iamVjdCB3aGVuIHNldHRpbmcgYmFzZVRpbWVcbiAgICAgICAgICAgIHRoaXMuYmFzZVRpbWUgPSBkYXlqcyh0aW1lKS50b0RhdGUoKSAgLy8gQ29udmVydCB0byBEYXRlIGlmIG5lY2Vzc2FyeTsgY29uc2lkZXIga2VlcGluZyBpdCBhcyBEYXkuanMgb2JqZWN0IGlmIHBvc3NpYmxlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gc2V0IGJhc2VUaW1lIGJhc2VkIG9uIGEgbmV3IHRpbWUgaW5wdXQgKGV4cGVjdGVkIHRvIGJlIGEgc3RyaW5nLCBEYXRlLCBldGMuKVxuICAgICAgICBzZXRCYXNlVGltZShuZXdUaW1lKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IG5ld1RpbWUgdG8gYSBEYXkuanMgb2JqZWN0IGFuZCB0aGVuIHRvIERhdGUgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICB0aGlzLmJhc2VUaW1lID0gZGF5anMobmV3VGltZSkudG9EYXRlKCkgIC8vIFRoaXMgaGFuZGxlcyB2YXJpb3VzIGlucHV0IGZvcm1hdHMgYW5kIGVuc3VyZXMgY29uc2lzdGVuY3lcbiAgICAgICAgfSxcblxuXG4gICAgICAgIGFzeW5jIHVwZGF0ZU5leHRGb3VySG91cnMoKSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlSXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy51cGRhdGVUaW1lUmFuZ2UoKVxuICAgICAgICAgICAgdGhpcy5wcmVwYXJlU2hvd3NGb3JHcmlkKClcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVJc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVRpbWVSYW5nZSgpIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgYmFzZVRpbWUgaXMgaW50ZXJwcmV0ZWQgY29ycmVjdGx5IGluIHRoZSBjdXJyZW50IHVzZXIncyB0aW1lem9uZVxuICAgICAgICAgICAgY29uc3QgYmFzZURhdGUgPSBkYXlqcyh0aGlzLmJhc2VUaW1lKS50eihnZXRUaW1lWm9uZSgpKVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHJvdW5kZWQgbWludXRlcyB0byBlaXRoZXIgMCBvciAzMCBiYXNlZCBvbiB0aGUgY3VycmVudCB0aW1lXG4gICAgICAgICAgICBjb25zdCByb3VuZGVkTWludXRlcyA9IGJhc2VEYXRlLm1pbnV0ZSgpIDwgMzAgPyAwIDogMzBcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSBjdXJyZW50IGhhbGYgaG91ciwgcm91bmRpbmcgZG93biB0byB0aGUgbmVhcmVzdCBoYWxmLWhvdXIgbWFya1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEhhbGZIb3VyID0gYmFzZURhdGUubWludXRlKHJvdW5kZWRNaW51dGVzKS5zZWNvbmQoMCkubWlsbGlzZWNvbmQoMCkuc3RhcnRPZignbWludXRlJylcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGZvdXIgaG91cnMgbGF0ZXIgZnJvbSB0aGUgY3VycmVudCBoYWxmLWhvdXIgbWFya1xuICAgICAgICAgICAgY29uc3QgZm91ckhvdXJzTGF0ZXIgPSBjdXJyZW50SGFsZkhvdXIuYWRkKDQsICdob3VycycpXG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc3RvcmUncyBjdXJyZW50SGFsZkhvdXIgYW5kIGZvdXJIb3Vyc0xhdGVyIGVuc3VyaW5nIHRoZXkgYXJlIERhdGUgb2JqZWN0cyBpZiByZXF1aXJlZFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SGFsZkhvdXIgPSBjdXJyZW50SGFsZkhvdXIudG9EYXRlKClcbiAgICAgICAgICAgIHRoaXMuZm91ckhvdXJzTGF0ZXIgPSBmb3VySG91cnNMYXRlci50b0RhdGUoKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgc2hvd3MgYmV0d2VlbjonLCBjdXJyZW50SGFsZkhvdXIuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyksICdhbmQnLCBmb3VySG91cnNMYXRlci5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSlcbiAgICAgICAgfSxcblxuICAgICAgICBwcmVwYXJlU2hvd3NGb3JHcmlkKCkge1xuICAgICAgICAgICAgLy8gU3RlcCAxOiBGaWx0ZXIgc2hvd3Mgd2l0aGluIHRoZSBkZXNpcmVkIHRpbWUgcmFuZ2VcbiAgICAgICAgICAgIGNvbnN0IHNob3dzID0gdGhpcy5maWx0ZXJTaG93c0ZvclRpbWVSYW5nZSgpXG5cbiAgICAgICAgICAgIC8vIFN0ZXAgMjogQ2FsY3VsYXRlIGluaXRpYWwgZ3JpZCBzbG90cyBmb3IgdGhlc2Ugc2hvd3NcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZFNob3dzID0gdGhpcy5jYWxjdWxhdGVHcmlkU2xvdHMoc2hvd3MsIHRoaXMudGltZVNsb3RzKVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMudGltZVNsb3RzIHx8ICFBcnJheS5pc0FycmF5KHRoaXMudGltZVNsb3RzKSB8fCB0aGlzLnRpbWVTbG90cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCd0aW1lU2xvdHMgaXMgbm90IHByb3Blcmx5IGluaXRpYWxpemVkLicpXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoaXMgc2NlbmFyaW8sIGUuZy4sIGJ5IGluaXRpYWxpemluZyB0aW1lU2xvdHMsIG9yIHNraXBwaW5nIHRoZSB1cGRhdGVcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RlcCAzOiBVcGRhdGUgY29sdW1uIG9jY3VwYW5jeSBhbmQgZmluZCB0aGUgbWF4aW11bSByb3cgdXNlZFxuICAgICAgICAgICAgY29uc3Qge2NvbE9jY3VwYW5jeSwgbWF4Um93VXNlZH0gPSB0aGlzLnVwZGF0ZUNvbHVtbk9jY3VwYW5jeShwcm9jZXNzZWRTaG93cywgdGhpcy50aW1lU2xvdHMubGVuZ3RoKVxuXG4gICAgICAgICAgICAvLyBTdGVwIDQ6IEZpbGwgZ2FwcyBpbiB0aGUgZ3JpZCB3aXRoIHBsYWNlaG9sZGVyc1xuICAgICAgICAgICAgY29uc3QgZ3JpZEl0ZW1zID0gdGhpcy5maWxsR2Fwc0FuZENyZWF0ZVBsYWNlaG9sZGVycyhjb2xPY2N1cGFuY3ksIG1heFJvd1VzZWQsIHRoaXMudGltZVNsb3RzLmxlbmd0aClcblxuICAgICAgICAgICAgLy8gU3RlcCA1OiBDb21iaW5lIHByb2Nlc3NlZCBzaG93cyB3aXRoIHRoZSBwbGFjZWhvbGRlcnNcbiAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkU2hvd3MgPSBbLi4ucHJvY2Vzc2VkU2hvd3MsIC4uLmdyaWRJdGVtc11cblxuICAgICAgICAgICAgLy8gU3RlcCA2OiBTb3J0IGFuZCBncm91cCBzaG93cyBieSByb3dzXG4gICAgICAgICAgICB0aGlzLm5leHRGb3VySG91cnNPZkNvbnRlbnQgPSB0aGlzLnNvcnRTaG93c0J5UG9zaXRpb24oY29tYmluZWRTaG93cylcbiAgICAgICAgfSxcblxuICAgICAgICBmaWx0ZXJTaG93c0ZvclRpbWVSYW5nZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndlZWtseUNvbnRlbnQuZmlsdGVyKHNob3cgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHNob3cgZGF0YSBpbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNob3cuc3RhcnRUaW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc2hvdy5kdXJhdGlvbk1pbnV0ZXMgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBzaG93IGRhdGE6Jywgc2hvdy5zdGFydFRpbWUsIHNob3cuZHVyYXRpb25NaW51dGVzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UgLy8gU2tpcCB0aGlzIHNob3cgaWYgaXQgZG9lc24ndCBtZWV0IGRhdGEgZXhwZWN0YXRpb25zXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd1N0YXJ0ID0gZGF5anMoc2hvdy5zdGFydFRpbWUpXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd0VuZCA9IGRheWpzKHNob3cuZW5kVGltZSlcbiAgICAgICAgICAgICAgICBjb25zdCBpc0luVGltZVJhbmdlID0gc2hvd1N0YXJ0LmlzQmVmb3JlKHRoaXMuZm91ckhvdXJzTGF0ZXIpICYmIHNob3dFbmQuaXNBZnRlcih0aGlzLmN1cnJlbnRIYWxmSG91cilcblxuICAgICAgICAgICAgICAgIC8vIERldGFpbGVkIGxvZ2dpbmcgZm9yIGRlYnVnZ2luZ1xuICAgICAgICAgICAgICAgIGlmIChpc0luVGltZVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1N0YXJ0ZWQgPSBzaG93U3RhcnQuaXNCZWZvcmUodGhpcy5jdXJyZW50SGFsZkhvdXIpID8gJ2FscmVhZHkgc3RhcnRlZCcgOiAnc3RhcnRzIHdpdGhpbiByYW5nZSdcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFNob3c6ICR7c2hvdy5jb250ZW50Lm5hbWV9LCAke2hhc1N0YXJ0ZWR9LCBTdGFydDogJHtzaG93U3RhcnQuZm9ybWF0KCdISDptbTpzcycpfSwgRW5kOiAke3Nob3dFbmQuZm9ybWF0KCdISDptbTpzcycpfSwgRHVyYXRpb246ICR7c2hvdy5kdXJhdGlvbk1pbnV0ZXN9YClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gaXNJblRpbWVSYW5nZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBjYWxjdWxhdGVHcmlkU2xvdHMoc2hvd3MsIHRpbWVTbG90cykge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRpbWVTbG90cyBpcyB2YWxpZFxuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRpbWVTbG90cykgfHwgdGltZVNsb3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgb3IgZW1wdHkgdGltZVNsb3RzIGFycmF5JylcbiAgICAgICAgICAgICAgICByZXR1cm4gW10gLy8gUmV0dXJuIGVtcHR5IG9yIGhhbmRsZSBhcyBiZXN0IGZpdHMgeW91ciBhcHBsaWNhdGlvbiBjb250ZXh0XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSB0aW1lU2xvdHMubGVuZ3RoXG4gICAgICAgICAgICByZXR1cm4gc2hvd3MubWFwKHNob3cgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3dTdGFydCA9IGRheWpzKHNob3cuc3RhcnRUaW1lKVxuICAgICAgICAgICAgICAgIGNvbnN0IHNob3dFbmQgPSBzaG93U3RhcnQuYWRkKHNob3cuZHVyYXRpb25NaW51dGVzLCAnbWludXRlcycpXG5cbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBzbG90IHdoZXJlIHRoZSBzaG93IHNob3VsZCBzdGFydFxuICAgICAgICAgICAgICAgIGxldCBzbG90SW5kZXggPSB0aW1lU2xvdHMuZmluZEluZGV4KHNsb3QgPT5cbiAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXJ0LmlzU2FtZU9yQWZ0ZXIoZGF5anMoc2xvdCkpICYmXG4gICAgICAgICAgICAgICAgICAgIHNob3dTdGFydC5pc0JlZm9yZShkYXlqcyhzbG90KS5hZGQoMzAsICdtaW51dGVzJykpLFxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzaG93IHN0YXJ0cyBiZWZvcmUgdGhlIGZpcnN0IHNsb3QsIHBsYWNlIGl0IGluIHRoZSBmaXJzdCBzbG90XG4gICAgICAgICAgICAgICAgaWYgKHNsb3RJbmRleCA9PT0gLTEgJiYgc2hvd1N0YXJ0LmlzQmVmb3JlKGRheWpzKHRpbWVTbG90c1swXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsb3RJbmRleCA9IDBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHNwYW4gYmFzZWQgb24gdGhlIGVuZGluZyB0aW1lIG9mIHRoZSBzaG93XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kU2xvdEluZGV4ID0gdGltZVNsb3RzLmZpbmRJbmRleChzbG90ID0+XG4gICAgICAgICAgICAgICAgICAgIHNob3dFbmQuaXNTYW1lT3JCZWZvcmUoZGF5anMoc2xvdCkuYWRkKDMwLCAnbWludXRlcycpKSxcbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICBsZXQgc3BhblxuICAgICAgICAgICAgICAgIGlmIChlbmRTbG90SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzaG93IGVuZHMgYWZ0ZXIgdGhlIGxhc3Qgc2xvdCwgc3BhbiB0aWxsIHRoZSBlbmQgb2YgdGhlIGdyaWRcbiAgICAgICAgICAgICAgICAgICAgc3BhbiA9IGNvbHMgLSBzbG90SW5kZXhcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgc3BhbiBub3JtYWxseVxuICAgICAgICAgICAgICAgICAgICBzcGFuID0gZW5kU2xvdEluZGV4IC0gc2xvdEluZGV4ICsgMVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgb3ZlcmZsb3cgb2YgdGhlIGdyaWRcbiAgICAgICAgICAgICAgICBzcGFuID0gTWF0aC5taW4oc3BhbiwgY29scyAtIHNsb3RJbmRleClcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnNob3csXG4gICAgICAgICAgICAgICAgICAgIGdyaWRTdGFydDogc2xvdEluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICAgICAgZ3JpZFNwYW46IHNwYW4sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVDb2x1bW5PY2N1cGFuY3kocHJvY2Vzc2VkU2hvd3MsIGNvbHMpIHtcbiAgICAgICAgICAgIGxldCBjb2xPY2N1cGFuY3kgPSBuZXcgQXJyYXkoY29scykuZmlsbChudWxsKS5tYXAoKCkgPT4gbmV3IFNldCgpKVxuICAgICAgICAgICAgbGV0IG1heFJvd1VzZWQgPSAwXG4gICAgICAgICAgICBwcm9jZXNzZWRTaG93cy5mb3JFYWNoKHNob3cgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzaG93LmdyaWRTdGFydCAtIDE7IGkgPCBzaG93LmdyaWRTdGFydCAtIDEgKyBzaG93LmdyaWRTcGFuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgY29scykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sT2NjdXBhbmN5W2ldLmFkZChzaG93LmdyaWRSb3cpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhSb3dVc2VkID0gTWF0aC5tYXgobWF4Um93VXNlZCwgc2hvdy5ncmlkUm93KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybiB7Y29sT2NjdXBhbmN5LCBtYXhSb3dVc2VkfVxuICAgICAgICB9LFxuXG4gICAgICAgIGZpbGxHYXBzQW5kQ3JlYXRlUGxhY2Vob2xkZXJzKGNvbE9jY3VwYW5jeSwgbWF4Um93VXNlZCwgY29scykge1xuICAgICAgICAgICAgbGV0IGdyaWRJdGVtcyA9IFtdXG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAxOyByb3cgPD0gbWF4Um93VXNlZDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICBncmlkSXRlbXMucHVzaCguLi50aGlzLmZpbmRBbmRGaWxsR2Fwc0ZvclNpbmdsZVJvdyhjb2xPY2N1cGFuY3ksIHJvdywgY29scykpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JpZEl0ZW1zXG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluZEFuZEZpbGxHYXBzRm9yU2luZ2xlUm93KGNvbE9jY3VwYW5jeSwgcm93LCBjb2xzKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZEl0ZW1zID0gW11cbiAgICAgICAgICAgIGxldCBnYXBTdGFydCA9IC0xXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghY29sT2NjdXBhbmN5W2ldLmhhcyhyb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhcFN0YXJ0ID0gZ2FwU3RhcnQgPT09IC0xID8gaSA6IGdhcFN0YXJ0XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnYXBTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW1zLnB1c2godGhpcy5jcmVhdGVQbGFjZWhvbGRlcihnYXBTdGFydCArIDEsIGkgLSBnYXBTdGFydCwgcm93KSlcbiAgICAgICAgICAgICAgICAgICAgZ2FwU3RhcnQgPSAtMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYXBTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBncmlkSXRlbXMucHVzaCh0aGlzLmNyZWF0ZVBsYWNlaG9sZGVyKGdhcFN0YXJ0ICsgMSwgY29scyAtIGdhcFN0YXJ0LCByb3cpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyaWRJdGVtc1xuICAgICAgICB9LFxuXG4gICAgICAgIHNvcnRTaG93c0J5UG9zaXRpb24oY29tYmluZWRTaG93cykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbWJpbmVkU2hvd3MpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgb2Ygc2hvd3MsIHJlY2VpdmVkOicsIGNvbWJpbmVkU2hvd3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdIC8vIFJldHVybiBhbiBlbXB0eSBhcnJheSBpZiBub3QgYW4gYXJyYXkgdG8gcHJldmVudCBlcnJvcnNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU29ydCBzaG93cyBkaXJlY3RseSBieSByb3cgYW5kIHRoZW4gYnkgc3RhcnQgcG9zaXRpb24gd2l0aGluIGVhY2ggcm93XG4gICAgICAgICAgICByZXR1cm4gY29tYmluZWRTaG93cy5zb3J0KChhLCBiKSA9PiBhLmdyaWRSb3cgLSBiLmdyaWRSb3cgfHwgYS5ncmlkU3RhcnQgLSBiLmdyaWRTdGFydClcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGVQbGFjZWhvbGRlcihzdGFydCwgc3Bhbiwgcm93KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogJ1BsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICAgICAgICBncmlkU3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGdyaWRTcGFuOiBzcGFuLFxuICAgICAgICAgICAgICAgIGdyaWRSb3c6IHJvdyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB7bmFtZTogJ05vdGhpbmcgc2NoZWR1bGVkLid9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZUJsYW5rU3BvdFBsYWNlaG9sZGVyKHN0YXJ0LCBzcGFuLCByb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiAnQmxhbmsgU3BvdCcsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgICAgICAgZ3JpZFN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBncmlkU3Bhbjogc3BhbixcbiAgICAgICAgICAgICAgICBncmlkUm93OiByb3csXG4gICAgICAgICAgICAgICAgY29udGVudDoge25hbWU6ICdCbGFuayBTcG90J30sIC8vIEVuc3VyZSBpdCBpcyBkaWZmZXJlbnRpYXRlZCBmcm9tIG5vcm1hbCBwbGFjZWhvbGRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgIH0sXG5cbiAgICBnZXR0ZXJzOiB7XG4gICAgICAgIGN1cnJlbnRUaW1lOiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkYXlqcyhzdGF0ZS5iYXNlVGltZSkuZm9ybWF0KCdoOm1tIEEnKVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldFRpbWVTbG90czogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhcHBTZXR0aW5nU3RvcmUgPSB1c2VBcHBTZXR0aW5nU3RvcmUoKVxuICAgICAgICAgICAgbGV0IHNsb3RIb3Vyc1xuXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBzbG90IGhvdXJzIGJhc2VkIG9uIHNjcmVlbiBzaXplXG4gICAgICAgICAgICBpZiAoYXBwU2V0dGluZ1N0b3JlLmlzVmVyeVNtYWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgc2xvdEhvdXJzID0gc3RhdGUudmVyeVNtYWxsU2NyZWVuU2xvdEhvdXJzXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFwcFNldHRpbmdTdG9yZS5pc1NtYWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgc2xvdEhvdXJzID0gc3RhdGUuc21hbGxTY3JlZW5TbG90SG91cnNcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2xvdEhvdXJzID0gc3RhdGUubWVkaXVtU2NyZWVuU2xvdEhvdXJzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsTWludXRlcyA9IHN0YXRlLnNsb3RJbnRlcnZhbE1pbnV0ZXNcbiAgICAgICAgICAgIGNvbnN0IHNsb3RzID0gW11cbiAgICAgICAgICAgIGNvbnN0IHRvdGFsU2xvdHMgPSAoc2xvdEhvdXJzICogNjApIC8gaW50ZXJ2YWxNaW51dGVzXG5cbiAgICAgICAgICAgIC8vIEVuc3VyZSBzdGF0ZS5jdXJyZW50SGFsZkhvdXIgaXMgYSBEYXkuanMgb2JqZWN0XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SGFsZkhvdXIgPSBkYXlqcyhzdGF0ZS5jdXJyZW50SGFsZkhvdXIpXG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdGltZSBmb3IgZWFjaCBzbG90IHVzaW5nIERheS5qc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFNsb3RzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc2xvdFRpbWUgPSBjdXJyZW50SGFsZkhvdXIuYWRkKGkgKiBpbnRlcnZhbE1pbnV0ZXMsICdtaW51dGUnKVxuICAgICAgICAgICAgICAgIHNsb3RzLnB1c2goc2xvdFRpbWUudG9EYXRlKCkpICAvLyBDb252ZXJ0IGJhY2sgdG8gSmF2YVNjcmlwdCBEYXRlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUudGltZVNsb3RzID0gc2xvdHNcbiAgICAgICAgICAgIHJldHVybiBzbG90cy5sZW5ndGhcbiAgICAgICAgfSxcblxuICAgICAgICBuZXh0Rm91ckhvdXJzV2l0aEhhbGZIb3VySW50ZXJ2YWxzOiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJTdG9yZSA9IHVzZVVzZXJTdG9yZSgpIC8vIEFjY2VzcyB0aGUgdXNlciBzdG9yZVxuICAgICAgICAgICAgY29uc3QgYXBwU2V0dGluZ1N0b3JlID0gdXNlQXBwU2V0dGluZ1N0b3JlKCkgLy8gQWNjZXNzIHRoZSBzZXR0aW5ncyBzdG9yZVxuICAgICAgICAgICAgY29uc3QgdXNlclRpbWV6b25lID0gdXNlclN0b3JlLnRpbWV6b25lIC8vIEdldCB0aGUgdXNlcidzIHRpbWV6b25lXG4gICAgICAgICAgICBjb25zdCBjb2xzID0gYXBwU2V0dGluZ1N0b3JlLmlzVmVyeVNtYWxsU2NyZWVuID8gNCA6XG4gICAgICAgICAgICAgICAgYXBwU2V0dGluZ1N0b3JlLmlzU21hbGxTY3JlZW4gPyA2IDogOFxuXG5cbiAgICAgICAgICAgIGNvbnN0IGludGVydmFscyA9IFtdXG4gICAgICAgICAgICBjb25zdCBub3cgPSBkYXlqcyhzdGF0ZS5iYXNlVGltZSkudHoodXNlclRpbWV6b25lKSAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSBpbiB0aGUgdXNlcidzIHRpbWV6b25lXG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSBpZiB0aGUgY3VycmVudCBtaW51dGUgaXMgbGVzcyB0aGFuIDMwIHRvIHN0YXJ0IGF0IHRoZSB0b3Agb2YgdGhlIGhvdXIgb3IgYXQgdGhlIGhhbGYtaG91clxuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSBub3cubWludXRlKCkgPCAzMCA/IG5vdy5zdGFydE9mKCdob3VyJykgOiBub3cuc3RhcnRPZignaG91cicpLmFkZCgzMCwgJ21pbnV0ZXMnKVxuXG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGludGVydmFscyBmb3IgdGhlIG5leHQgNCBob3VycywgZWFjaCAzMCBtaW51dGVzIGFwYXJ0XG4gICAgICAgICAgICAvLyBBZGp1c3QgdGhlIGxvb3AgY291bnQgYmFzZWQgb24gdGhlIG51bWJlciBvZiBjb2x1bW5zLyBpbnRlcnZhbHMgbmVlZGVkXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHM7IGkrKykgeyAvLyBBZGp1c3QgdGhlIG51bWJlciBvZiBpbnRlcnZhbHMgYmFzZWQgb24gdGhlIHNjcmVlbiBzaXplXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWQ6IGN1cnJlbnQuZm9ybWF0KCdoaDptbSBBJyksIC8vIEZvcm1hdHRlZCB0aW1lIGZvciBkaXNwbGF5XG4gICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lU3RyaW5nOiBjdXJyZW50LmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpLCAvLyBZLW0tZCBIOm06cyBmb3JtYXQgZm9yIGNvbXBhcmlzb25zXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5hZGQoMzAsICdtaW51dGUnKSAvLyBNb3ZlIHRvIHRoZSBuZXh0IDMwLW1pbnV0ZSBpbnRlcnZhbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWxzXG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBjb21pbmdDb250ZW50OiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHZpZXdpbmdXaW5kb3dTdGFydCBpcyBub3cgYSBEYXkuanMgb2JqZWN0LCB1c2UgRGF5LmpzIG1ldGhvZHMgZGlyZWN0bHlcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gZGF5anMoc3RhdGUudmlld2luZ1dpbmRvd1N0YXJ0KS5zdWJ0cmFjdCgxLCAnaG91cicpIC8vIDEgaG91ciBlYXJsaWVyXG4gICAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydC5hZGQoNywgJ2hvdXJzJykgLy8gNiBob3VycyBsYXRlciBmcm9tIHRoZSBzdGFydFxuXG4gICAgICAgICAgICAvLyBHcm91cCBzaG93cyBieSBzdGFydCB0aW1lIHVzaW5nIERheS5qc1xuICAgICAgICAgICAgY29uc3Qgc2hvd3NHcm91cGVkQnlTdGFydFRpbWUgPSBzdGF0ZS53ZWVrbHlDb250ZW50LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbVN0YXJ0ID0gZGF5anMoaXRlbS5zdGFydFRpbWUpLnZhbHVlT2YoKSAvLyBVc2UgLnZhbHVlT2YoKSB0byBnZXQgdGhlIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgIGlmICghYWNjW2l0ZW1TdGFydF0pIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2l0ZW1TdGFydF0gPSBbXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhY2NbaXRlbVN0YXJ0XS5wdXNoKGl0ZW0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgICAgICAgfSwge30pXG5cbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgc2hvdyB3aXRoIHRoZSBsb3dlc3QgcHJpb3JpdHkgZm9yIGVhY2ggc3RhcnQgdGltZVxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTaG93cyA9IE9iamVjdC52YWx1ZXMoc2hvd3NHcm91cGVkQnlTdGFydFRpbWUpLm1hcChncm91cCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwLnJlZHVjZSgoc2VsZWN0ZWQsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFzZWxlY3RlZCB8fCBpdGVtLnByaW9yaXR5IDwgc2VsZWN0ZWQucHJpb3JpdHkgPyBpdGVtIDogc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICB9LCBudWxsKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy8gRmlsdGVyIHNob3dzIHRoYXQgZmFsbCB3aXRoaW4gdGhlIG5leHQgNi1ob3VyIHdpbmRvdyBhbmQgc29ydCB0aGVtXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRTaG93c1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1TdGFydCA9IGRheWpzKGl0ZW0uc3RhcnRUaW1lKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVN0YXJ0LmlzU2FtZU9yQWZ0ZXIoc3RhcnQpICYmIGl0ZW1TdGFydC5pc0JlZm9yZShlbmQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gZGF5anMoYS5zdGFydFRpbWUpLnVuaXgoKSAtIGRheWpzKGIuc3RhcnRUaW1lKS51bml4KCkpIC8vIFNvcnRpbmcgYnkgVW5peCB0aW1lc3RhbXBcbiAgICAgICAgfSxcblxuXG4gICAgICAgIG5leHRTaXhIb3VyczogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAvLyBBc3N1bWluZyBzdGF0ZS52aWV3aW5nV2luZG93U3RhcnQgaXMgYWxyZWFkeSBhIERheS5qcyBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCdzIHN0aWxsIGEgbmF0aXZlIERhdGUsIGNvbnZlcnQgaXQgZmlyc3Q6XG4gICAgICAgICAgICBsZXQgYWRqdXN0ZWRTdGFydCA9IGRheWpzKHN0YXRlLnZpZXdpbmdXaW5kb3dTdGFydClcblxuICAgICAgICAgICAgLy8gQWRkIDYgaG91cnMgdG8gdGhlIGFkanVzdGVkIHN0YXJ0IHRpbWVcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGFkanVzdGVkU3RhcnQuYWRkKDYsICdob3VycycpXG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGVhY2ggaG91ciBvZiB0aGUgaW50ZXJ2YWwgYmV0d2VlbiBhZGp1c3RlZFN0YXJ0IGFuZCBlbmRcbiAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gW11cbiAgICAgICAgICAgIGxldCBob3VyID0gYWRqdXN0ZWRTdGFydFxuXG4gICAgICAgICAgICB3aGlsZSAoaG91ci5pc0JlZm9yZShlbmQpKSB7XG4gICAgICAgICAgICAgICAgaG91cnMucHVzaChob3VyLnRvRGF0ZSgpKSAvLyBDb252ZXJ0IGJhY2sgdG8gRGF0ZSBpZiBuZWNlc3Nhcnk7IG90aGVyd2lzZSwganVzdCB1c2UgYGhvdXJgIGlmIHlvdSBjYW4gdXNlIERheS5qcyBvYmplY3RzIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgaG91ciA9IGhvdXIuYWRkKDEsICdob3VyJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGhvdXJzXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGF0ZU1lc3NhZ2U6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnREYXkgPSBzdGFydE9mRGF5KHN0YXRlLnZpZXdpbmdXaW5kb3dTdGFydClcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQoc3RhcnREYXksICdFRUVFIE1NTU0gZG8sIHl5eXknKVxuICAgICAgICAgICAgaWYgKGlzVG9kYXkoc3RhcnREYXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUb2RheSAtICR7Zm9ybWF0dGVkRGF0ZX1gXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzWWVzdGVyZGF5KHN0YXJ0RGF5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgWWVzdGVyZGF5IC0gJHtmb3JtYXR0ZWREYXRlfWBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNUb21vcnJvdyhzdGFydERheSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRvbW9ycm93IC0gJHtmb3JtYXR0ZWREYXRlfWBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZERhdGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjdXJyZW50TW9udGhJbmRleDogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgc3RhdGUuY3VycmVudE1vbnRoIGlzIGNvbnZlcnRlZCB0byBhIERheS5qcyBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gZGF5anMoc3RhdGUuY3VycmVudE1vbnRoKVxuICAgICAgICAgICAgLy8gRGF5LmpzIG1vbnRocyBhcmUgMC1pbmRleGVkIGp1c3QgbGlrZSBKYXZhU2NyaXB0IERhdGUsIHJldHVybnMgdGhlIG1vbnRoICgwLTExKVxuICAgICAgICAgICAgcmV0dXJuIG1vbnRoLm1vbnRoKClcbiAgICAgICAgfSxcblxuICAgICAgICBjdXJyZW50TW9udGhOYW1lOiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBzdGF0ZS5jdXJyZW50TW9udGggaXMgY29udmVydGVkIHRvIGEgRGF5LmpzIG9iamVjdFxuICAgICAgICAgICAgY29uc3QgbW9udGggPSBkYXlqcyhzdGF0ZS5jdXJyZW50TW9udGgpXG4gICAgICAgICAgICAvLyBSZXR1cm5zIHRoZSBmdWxsIG5hbWUgb2YgdGhlIG1vbnRoLCBlLmcuLCAnSmFudWFyeScsICdGZWJydWFyeScsIGV0Yy5cbiAgICAgICAgICAgIHJldHVybiBtb250aC5mb3JtYXQoJ01NTU0nKVxuICAgICAgICB9LFxuXG4gICAgICAgIGN1cnJlbnRZZWFyOiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBzdGF0ZS5jdXJyZW50TW9udGggaXMgY29udmVydGVkIHRvIGEgRGF5LmpzIG9iamVjdFxuICAgICAgICAgICAgY29uc3QgbW9udGggPSBkYXlqcyhzdGF0ZS5jdXJyZW50TW9udGgpXG4gICAgICAgICAgICAvLyBSZXR1cm5zIHRoZSB5ZWFyXG4gICAgICAgICAgICByZXR1cm4gbW9udGgueWVhcigpXG4gICAgICAgIH0sXG4gICAgICAgIGlzVG9kYXk6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBkYXlqcygpICAvLyBHZXRzIHRvZGF5J3MgZGF0ZSBhcyBhIERheS5qcyBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IHZpZXdpbmdTdGFydCA9IGRheWpzKHN0YXRlLnZpZXdpbmdXaW5kb3dTdGFydCkgIC8vIENvbnZlcnQgdG8gRGF5LmpzIG9iamVjdCBpZiBub3QgYWxyZWFkeVxuXG4gICAgICAgICAgICAvLyBDb21wYXJlIGlmIGJvdGggZGF0ZXMgYXJlIHRoZSBzYW1lIGNhbGVuZGFyIGRheVxuICAgICAgICAgICAgcmV0dXJuIHRvZGF5LmlzU2FtZSh2aWV3aW5nU3RhcnQsICdkYXknKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRheXNJbk1vbnRoOiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8vIEFzc3VtaW5nIHN0YXRlLmN1cnJlbnRNb250aCBpcyBhIERheS5qcyBvYmplY3Q7IGlmIGl0J3MgYSBEYXRlLCBjb252ZXJ0IGl0OlxuICAgICAgICAgICAgY29uc3QgY3VycmVudE1vbnRoID0gZGF5anMoc3RhdGUuY3VycmVudE1vbnRoKVxuXG4gICAgICAgICAgICBjb25zdCBzdGFydE9mQ3VycmVudE1vbnRoID0gY3VycmVudE1vbnRoLnN0YXJ0T2YoJ21vbnRoJylcbiAgICAgICAgICAgIGNvbnN0IGVuZE9mQ3VycmVudE1vbnRoID0gY3VycmVudE1vbnRoLmVuZE9mKCdtb250aCcpXG5cbiAgICAgICAgICAgIC8vIEFkanVzdCB0aGVzZSB0byBlbnN1cmUgdGhlIGdyaWQgc3RhcnRzIG9uIFN1bmRheSBhbmQgZW5kcyBvbiBTYXR1cmRheVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRPZkdyaWQgPSBzdGFydE9mQ3VycmVudE1vbnRoLnN0YXJ0T2YoJ3dlZWsnKSAgLy8gQXNzdW1lcyB0aGUgd2VlayBzdGFydHMgb24gU3VuZGF5IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIGNvbnN0IGVuZE9mR3JpZCA9IGVuZE9mQ3VycmVudE1vbnRoLmVuZE9mKCd3ZWVrJykgICAgICAgIC8vIEFzc3VtZXMgdGhlIHdlZWsgZW5kcyBvbiBTYXR1cmRheSBieSBkZWZhdWx0XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHRoZSBkYXlzIGZvciB0aGUgY2FsZW5kYXIgZ3JpZFxuICAgICAgICAgICAgY29uc3QgZGF5cyA9IFtdXG4gICAgICAgICAgICBsZXQgZGF5ID0gc3RhcnRPZkdyaWRcblxuICAgICAgICAgICAgd2hpbGUgKGRheS5pc0JlZm9yZShlbmRPZkdyaWQpIHx8IGRheS5pc1NhbWUoZW5kT2ZHcmlkLCAnZGF5JykpIHtcbiAgICAgICAgICAgICAgICBkYXlzLnB1c2goZGF5LnRvRGF0ZSgpKSAvLyBDb2xsZWN0IGRheXMgYXMgRGF0ZSBvYmplY3RzOyByZW1vdmUgdG9EYXRlKCkgaWYgeW91IGNhbiB1c2UgRGF5LmpzIG9iamVjdHMgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICBkYXkgPSBkYXkuYWRkKDEsICdkYXknKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGF5c1xuICAgICAgICB9LFxuXG4gICAgfSxcbn0pXG4iXSwibmFtZXMiOlsiX3JlZ2VuZXJhdG9yUnVudGltZSIsImUiLCJ0IiwiciIsIk9iamVjdCIsInByb3RvdHlwZSIsIm4iLCJoYXNPd25Qcm9wZXJ0eSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiaSIsIlN5bWJvbCIsImEiLCJpdGVyYXRvciIsImMiLCJhc3luY0l0ZXJhdG9yIiwidSIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwid3JhcCIsIkdlbmVyYXRvciIsImNyZWF0ZSIsIkNvbnRleHQiLCJtYWtlSW52b2tlTWV0aG9kIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiYXJnIiwiY2FsbCIsImgiLCJsIiwiZiIsInMiLCJ5IiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsInAiLCJkIiwiZ2V0UHJvdG90eXBlT2YiLCJ2IiwidmFsdWVzIiwiZyIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJfaW52b2tlIiwiQXN5bmNJdGVyYXRvciIsImludm9rZSIsIl90eXBlb2YiLCJyZXNvbHZlIiwiX19hd2FpdCIsInRoZW4iLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsIkVycm9yIiwiZG9uZSIsIm1ldGhvZCIsImRlbGVnYXRlIiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwiVHlwZUVycm9yIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpc05hTiIsImxlbmd0aCIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwia2V5cyIsInJldmVyc2UiLCJwb3AiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicnZhbCIsImhhbmRsZSIsImNvbXBsZXRlIiwiZmluaXNoIiwiX2NhdGNoIiwiZGVsZWdhdGVZaWVsZCIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlamVjdCIsIl9uZXh0IiwiX3Rocm93Iiwia2V5IiwiaW5mbyIsImVycm9yIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX29iamVjdFNwcmVhZCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwib2JqIiwiX3RvUHJvcGVydHlLZXkiLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJ0b1ByaW1pdGl2ZSIsIk51bWJlciIsImRlZmluZVN0b3JlIiwidXNlVXNlclN0b3JlIiwidXNlQXBwU2V0dGluZ1N0b3JlIiwiY3JlYXRlVGltZVNsb3RzIiwiYWRkRGF5cyIsImFkZEhvdXJzIiwiYWRkTW9udGhzIiwiZWFjaERheU9mSW50ZXJ2YWwiLCJlYWNoSG91ck9mSW50ZXJ2YWwiLCJlbmRPZk1vbnRoIiwiZW5kT2ZXZWVrIiwiZm9ybWF0IiwiZ2V0SG91cnMiLCJnZXRNb250aCIsImdldFllYXIiLCJpc1NhbWVEYXkiLCJpc1RvZGF5IiwiaXNUb21vcnJvdyIsImlzWWVzdGVyZGF5Iiwic3RhcnRPZkRheSIsInN0YXJ0T2ZIb3VyIiwic3RhcnRPZk1vbnRoIiwic3RhcnRPZldlZWsiLCJzdWJNb250aHMiLCJkYXlqcyIsImlzU2FtZU9yQWZ0ZXIiLCJpc1NhbWVPckJlZm9yZSIsInJlbGF0aXZlVGltZSIsInRpbWV6b25lIiwidXRjIiwid2Vla09mWWVhciIsImFkdmFuY2VkRm9ybWF0IiwiZXh0ZW5kIiwiY29udmVydFNjaGVkdWxlVG9UaW1lem9uZSIsInNjaGVkdWxlRGF0YSIsInVzZXJTdG9yZSIsImRhdGEiLCJtYXAiLCJpdGVtIiwic3RhcnRUaW1lSW5Vc2VyVHoiLCJzdGFydFRpbWUiLCJmb3JtYXREYXRlVGltZUZyb21VdGNUb1VzZXJUaW1lem9uZSIsImVuZFRpbWVJblVzZXJUeiIsImVuZFRpbWUiLCJjb252ZXJ0RGF0ZVRpbWVUb0dyaWRUaW1lIiwiZGF0ZVRpbWUiLCJnZXRVcGNvbWluZ0NvbnRlbnREYXRlcyIsInZpZXdpbmdXaW5kb3dTdGFydCIsImRhdGVzIiwic3RhcnQiLCJhZGQiLCJ0b0RhdGUiLCJnZXRUaW1lWm9uZSIsImluaXRpYWxTdGF0ZSIsImJhc2VUaW1lIiwidHoiLCJjdXJyZW50SGFsZkhvdXIiLCJzdGFydE9mIiwibWludXRlIiwiZm91ckhvdXJzTGF0ZXIiLCJjdXJyZW50TW9udGgiLCJzZWxlY3RlZERheSIsImN1cnJlbnRXZWVrU3RhcnQiLCJjdXJyZW50V2Vla0VuZCIsImVuZE9mIiwibmV4dEZvdXJIb3Vyc09mQ29udGVudCIsIm5leHRGb3VySG91cnNPZkNvbnRlbnRXaXRoUGxhY2Vob2xkZXJzIiwiZml2ZURheVNpeEhvdXJTY2hlZHVsZSIsInRvZGF5c0NvbnRlbnQiLCJ3ZWVrbHlDb250ZW50IiwiZGF0YUZldGNoTG9nIiwic2NoZWR1bGVJc0xvYWRpbmciLCJzYXZpbmdUb1NjaGVkdWxlIiwic2xvdEludGVydmFsTWludXRlcyIsIm1lZGl1bVNjcmVlblNsb3RIb3VycyIsInNtYWxsU2NyZWVuU2xvdEhvdXJzIiwidmVyeVNtYWxsU2NyZWVuU2xvdEhvdXJzIiwidGltZVNsb3RzIiwidXNlU2NoZWR1bGVTdG9yZSIsInN0YXRlIiwiYWN0aW9ucyIsInJlc2V0QWxsIiwiYXNzaWduIiwic2V0U2VsZWN0ZWREYXkiLCJkYXkiLCJfdGhpcyIsIl9jYWxsZWUiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwiZmV0Y2hXZWVrRGF0YUlmTmVlZGVkIiwic2V0U2VsZWN0ZWREYXlUb1RvZGF5Iiwibm93IiwiY2hhbmdlRGF5IiwiZGF5cyIsIl90aGlzMiIsIl9jYWxsZWUyIiwiY3VycmVudFRpbWVab25lIiwiY3VycmVudFRpbWUiLCJuZXdEYXkiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJob3VyIiwic2hpZnRIb3VycyIsImhvdXJzIiwiX3RoaXMzIiwiX2NhbGxlZTMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJpc1NhbWUiLCJpc0VsZXZlblBNIiwiZGF0ZSIsInRpbWUiLCJzdWJ0cmFjdE1vbnRoIiwiX3RoaXM0IiwiX2NhbGxlZTQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJzdWJ0cmFjdCIsImNvbnNvbGUiLCJsb2ciLCJ0MCIsImNvbmNhdCIsImFkZE1vbnRoIiwiX3RoaXM1IiwiX2NhbGxlZTUiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCJmZXRjaEZpdmVEYXlTaXhIb3VyU2NoZWR1bGUiLCJfdGhpczYiLCJfY2FsbGVlNiIsInJlc3BvbnNlIiwiX3RpbWV6b25lIiwiX2NhbGxlZTYkIiwiX2NvbnRleHQ2IiwiYXhpb3MiLCJnZXQiLCJ1c2VyVGltZXpvbmUiLCJmZXRjaFRvZGF5c0NvbnRlbnQiLCJfdGhpczciLCJfY2FsbGVlNyIsIl90aW1lem9uZTIiLCJfY2FsbGVlNyQiLCJfY29udGV4dDciLCJwcmVsb2FkV2Vla2x5Q29udGVudCIsIl90aGlzOCIsIl9jYWxsZWU4IiwiY3VycmVudERhdGUiLCJfY2FsbGVlOCQiLCJfY29udGV4dDgiLCJsb2FkV2Vla0Zyb21EYXRlIiwiX3RoaXM5IiwiX2NhbGxlZTkiLCJmb3JtYXR0ZWREYXRlIiwiZGF5RGF0ZSIsImZ1bGxJU09EYXRlIiwiX2Zvcm1hdHRlZERhdGUiLCJfdGltZXpvbmUzIiwibmV3RGF0YSIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsInRvSVNPU3RyaW5nIiwicG9zdCIsIl90b0NvbnN1bWFibGVBcnJheSIsImluZGV4IiwiZmluZEluZGV4IiwiaWQiLCJ1cGRhdGVGZXRjaExvZ3MiLCJ3ZWVrU3RhcnQiLCJ3ZWVrRW5kIiwiZmV0Y2hUaW1lIiwiZXhpc3RpbmdMb2dJbmRleCIsImxhc3RGZXRjaCIsIm5lZWRzRGF0YUZvcldlZWsiLCJmb3JtYXRJU09EYXRlIiwid2Vla1N0YXJ0U3RyIiwid2Vla0VuZFN0ciIsIndlZWtIYXNCZWVuRmV0Y2hlZCIsInNvbWUiLCJsb2dXZWVrU3RhcnRTdHIiLCJsb2dXZWVrRW5kU3RyIiwiY2FsY3VsYXRlRXh0ZW5kZWRFbmRGb3JVcGNvbWluZ0NvbnRlbnQiLCJiYXNlU3RhcnRUaW1lIiwiZXh0ZW5kZWRFbmRUaW1lIiwiY2hlY2tBbmRGZXRjaEZvclVwY29taW5nQ29udGVudCIsIl90aGlzMTAiLCJfY2FsbGVlMTAiLCJ1cGNvbWluZ0RhdGVzIiwiZmlmdGVlbk1pbnV0ZXNBZ28iLCJfaXRlcmF0b3IiLCJfc3RlcCIsIl9sb29wIiwiX2NhbGxlZTEwJCIsIl9jb250ZXh0MTEiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsImRhdGVTdHJpbmciLCJjb250ZW50Q292ZXJhZ2VBbmRGcmVzaG5lc3MiLCJfbG9vcCQiLCJfY29udGV4dDEwIiwiY29udGVudCIsImNvbnRlbnREYXRlIiwibGFzdEZldGNoZWRUaW1lIiwiaXNGcmVzaCIsImZldGNoRGF0YUFuZFVwZGF0ZUxvZyIsInQxIiwiX3RoaXMxMSIsIl9jYWxsZWUxMSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDEyIiwiX3RoaXMxMiIsIl9jYWxsZWUxMiIsIl9jYWxsZWUxMiQiLCJfY29udGV4dDEzIiwidXBkYXRlQmFzZVRpbWUiLCJzZXRCYXNlVGltZSIsIm5ld1RpbWUiLCJ1cGRhdGVOZXh0Rm91ckhvdXJzIiwiX3RoaXMxMyIsIl9jYWxsZWUxMyIsIl9jYWxsZWUxMyQiLCJfY29udGV4dDE0IiwidXBkYXRlVGltZVJhbmdlIiwicHJlcGFyZVNob3dzRm9yR3JpZCIsImJhc2VEYXRlIiwicm91bmRlZE1pbnV0ZXMiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCIsInNob3dzIiwiZmlsdGVyU2hvd3NGb3JUaW1lUmFuZ2UiLCJwcm9jZXNzZWRTaG93cyIsImNhbGN1bGF0ZUdyaWRTbG90cyIsIkFycmF5IiwiaXNBcnJheSIsIl90aGlzJHVwZGF0ZUNvbHVtbk9jYyIsInVwZGF0ZUNvbHVtbk9jY3VwYW5jeSIsImNvbE9jY3VwYW5jeSIsIm1heFJvd1VzZWQiLCJncmlkSXRlbXMiLCJmaWxsR2Fwc0FuZENyZWF0ZVBsYWNlaG9sZGVycyIsImNvbWJpbmVkU2hvd3MiLCJzb3J0U2hvd3NCeVBvc2l0aW9uIiwiX3RoaXMxNCIsInNob3ciLCJkdXJhdGlvbk1pbnV0ZXMiLCJ3YXJuIiwic2hvd1N0YXJ0Iiwic2hvd0VuZCIsImlzSW5UaW1lUmFuZ2UiLCJpc0JlZm9yZSIsImlzQWZ0ZXIiLCJoYXNTdGFydGVkIiwiY29scyIsInNsb3RJbmRleCIsInNsb3QiLCJlbmRTbG90SW5kZXgiLCJzcGFuIiwiTWF0aCIsIm1pbiIsImdyaWRTdGFydCIsImdyaWRTcGFuIiwiZmlsbCIsIlNldCIsImdyaWRSb3ciLCJtYXgiLCJyb3ciLCJmaW5kQW5kRmlsbEdhcHNGb3JTaW5nbGVSb3ciLCJnYXBTdGFydCIsImhhcyIsImNyZWF0ZVBsYWNlaG9sZGVyIiwic29ydCIsImIiLCJwbGFjZWhvbGRlciIsInByaW9yaXR5IiwiY3JlYXRlQmxhbmtTcG90UGxhY2Vob2xkZXIiLCJnZXR0ZXJzIiwic2V0VGltZVNsb3RzIiwiYXBwU2V0dGluZ1N0b3JlIiwic2xvdEhvdXJzIiwiaXNWZXJ5U21hbGxTY3JlZW4iLCJpc1NtYWxsU2NyZWVuIiwiaW50ZXJ2YWxNaW51dGVzIiwic2xvdHMiLCJ0b3RhbFNsb3RzIiwic2xvdFRpbWUiLCJuZXh0Rm91ckhvdXJzV2l0aEhhbGZIb3VySW50ZXJ2YWxzIiwiaW50ZXJ2YWxzIiwiY3VycmVudCIsImZvcm1hdHRlZCIsImRhdGVUaW1lU3RyaW5nIiwidXBjb21pbmdDb250ZW50IiwiZW5kIiwic2hvd3NHcm91cGVkQnlTdGFydFRpbWUiLCJyZWR1Y2UiLCJhY2MiLCJpdGVtU3RhcnQiLCJ2YWx1ZU9mIiwic2VsZWN0ZWRTaG93cyIsImdyb3VwIiwic2VsZWN0ZWQiLCJ1bml4IiwibmV4dFNpeEhvdXJzIiwiYWRqdXN0ZWRTdGFydCIsImRhdGVNZXNzYWdlIiwic3RhcnREYXkiLCJjdXJyZW50TW9udGhJbmRleCIsIm1vbnRoIiwiY3VycmVudE1vbnRoTmFtZSIsImN1cnJlbnRZZWFyIiwieWVhciIsInRvZGF5Iiwidmlld2luZ1N0YXJ0IiwiZGF5c0luTW9udGgiLCJzdGFydE9mQ3VycmVudE1vbnRoIiwiZW5kT2ZDdXJyZW50TW9udGgiLCJzdGFydE9mR3JpZCIsImVuZE9mR3JpZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/Stores/ScheduleStore.js\n");

/***/ }),

/***/ "./resources/js/Utilities/TimeUtils.js":
/*!*********************************************!*\
  !*** ./resources/js/Utilities/TimeUtils.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTimeSlots: () => (/* binding */ createTimeSlots)\n/* harmony export */ });\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ \"./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/plugin/utc */ \"./node_modules/dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/timezone */ \"./node_modules/dayjs/plugin/timezone.js\");\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__);\n// utilities/timeUtils.js\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default()));\n\n/**\n * Creates an array of Date objects representing time slots.\n *\n * This function generates a sequence of time slots starting from a specified\n * start time, continuing for a given number of hours, and spaced apart\n * by a specified interval in minutes.\n *\n * @param {Date} start - The start time from which to generate slots, as a Date object.\n * @param {number} [durationHours=4] - The total duration for which to generate slots, in hours.\n * @param {number} [intervalMinutes=30] - The interval between each slot, in minutes.\n * @param {string} timezone - The timezone in which the time slots will be calculated.\n * @returns {Date[]} An array of Date objects, each representing a time slot.\n *\n * Example:\n * If start is `new Date('2024-01-01T08:00:00Z')`, durationHours is 2, and intervalMinutes is 30,\n * the output will be an array of Date objects representing the times:\n * `08:00`, `08:30`, `09:00`, and `09:30`.\n */\nfunction createTimeSlots(start) {\n  var durationHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n  var intervalMinutes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 30;\n  var timezone = arguments.length > 3 ? arguments[3] : undefined;\n  // console.log(`Creating time slots starting from ${start}, for ${durationHours} hours, every ${intervalMinutes} minutes in timezone ${timezone}.`);\n  var slots = [];\n  var startTime = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(start).tz(timezone); // Convert start time to the correct time zone\n  for (var i = 0; i < durationHours * 60 / intervalMinutes; i++) {\n    var slotTime = startTime.add(i * intervalMinutes, 'minute').toDate(); // Generate slots in the correct time zone\n    slots.push(slotTime); // Keep as Date object\n  }\n  return slots;\n}\n// export function createTimeSlots(start, durationHours = 4, intervalMinutes = 30) {\n//     let slots = [];\n//     let startTime = dayjs(start).tz(userStore.timezone);  // Convert start time to the correct time zone\n//     for (let i = 0; i < (durationHours * 60) / intervalMinutes; i++) {\n//         let slotTime = new Date(start.getTime() + i * intervalMinutes * 60000);\n//         slots.push(slotTime);  // Keep as Date object\n//     }\n//     return slots;\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvVXRpbGl0aWVzL1RpbWVVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDMEI7QUFDUztBQUNVO0FBRTdDQSxtREFBWSxDQUFDQyx5REFBRyxDQUFDO0FBQ2pCRCxtREFBWSxDQUFDRSw4REFBUSxDQUFDOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTRSxlQUFlQSxDQUFDQyxLQUFLLEVBQXFEO0VBQUEsSUFBbkRDLGFBQWEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztFQUFBLElBQUVHLGVBQWUsR0FBQUgsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtFQUFBLElBQUVMLFFBQVEsR0FBQUssU0FBQSxDQUFBQyxNQUFBLE9BQUFELFNBQUEsTUFBQUUsU0FBQTtFQUNwRjtFQUNBLElBQUlFLEtBQUssR0FBRyxFQUFFO0VBQ2QsSUFBSUMsU0FBUyxHQUFHWiw0Q0FBSyxDQUFDSyxLQUFLLENBQUMsQ0FBQ1EsRUFBRSxDQUFDWCxRQUFRLENBQUMsQ0FBQyxDQUFFO0VBQzVDLEtBQUssSUFBSVksQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFJUixhQUFhLEdBQUcsRUFBRSxHQUFJSSxlQUFlLEVBQUVJLENBQUMsRUFBRSxFQUFFO0lBQzdELElBQUlDLFFBQVEsR0FBR0gsU0FBUyxDQUFDSSxHQUFHLENBQUNGLENBQUMsR0FBR0osZUFBZSxFQUFFLFFBQVEsQ0FBQyxDQUFDTyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUU7SUFDdkVOLEtBQUssQ0FBQ08sSUFBSSxDQUFDSCxRQUFRLENBQUMsQ0FBQyxDQUFFO0VBQzNCO0VBQ0EsT0FBT0osS0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9VdGlsaXRpZXMvVGltZVV0aWxzLmpzP2JiNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdXRpbGl0aWVzL3RpbWVVdGlscy5qc1xuaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcbmltcG9ydCB1dGMgZnJvbSAnZGF5anMvcGx1Z2luL3V0Yyc7XG5pbXBvcnQgdGltZXpvbmUgZnJvbSAnZGF5anMvcGx1Z2luL3RpbWV6b25lJztcblxuZGF5anMuZXh0ZW5kKHV0Yyk7XG5kYXlqcy5leHRlbmQodGltZXpvbmUpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgRGF0ZSBvYmplY3RzIHJlcHJlc2VudGluZyB0aW1lIHNsb3RzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZ2VuZXJhdGVzIGEgc2VxdWVuY2Ugb2YgdGltZSBzbG90cyBzdGFydGluZyBmcm9tIGEgc3BlY2lmaWVkXG4gKiBzdGFydCB0aW1lLCBjb250aW51aW5nIGZvciBhIGdpdmVuIG51bWJlciBvZiBob3VycywgYW5kIHNwYWNlZCBhcGFydFxuICogYnkgYSBzcGVjaWZpZWQgaW50ZXJ2YWwgaW4gbWludXRlcy5cbiAqXG4gKiBAcGFyYW0ge0RhdGV9IHN0YXJ0IC0gVGhlIHN0YXJ0IHRpbWUgZnJvbSB3aGljaCB0byBnZW5lcmF0ZSBzbG90cywgYXMgYSBEYXRlIG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25Ib3Vycz00XSAtIFRoZSB0b3RhbCBkdXJhdGlvbiBmb3Igd2hpY2ggdG8gZ2VuZXJhdGUgc2xvdHMsIGluIGhvdXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtpbnRlcnZhbE1pbnV0ZXM9MzBdIC0gVGhlIGludGVydmFsIGJldHdlZW4gZWFjaCBzbG90LCBpbiBtaW51dGVzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRpbWV6b25lIC0gVGhlIHRpbWV6b25lIGluIHdoaWNoIHRoZSB0aW1lIHNsb3RzIHdpbGwgYmUgY2FsY3VsYXRlZC5cbiAqIEByZXR1cm5zIHtEYXRlW119IEFuIGFycmF5IG9mIERhdGUgb2JqZWN0cywgZWFjaCByZXByZXNlbnRpbmcgYSB0aW1lIHNsb3QuXG4gKlxuICogRXhhbXBsZTpcbiAqIElmIHN0YXJ0IGlzIGBuZXcgRGF0ZSgnMjAyNC0wMS0wMVQwODowMDowMFonKWAsIGR1cmF0aW9uSG91cnMgaXMgMiwgYW5kIGludGVydmFsTWludXRlcyBpcyAzMCxcbiAqIHRoZSBvdXRwdXQgd2lsbCBiZSBhbiBhcnJheSBvZiBEYXRlIG9iamVjdHMgcmVwcmVzZW50aW5nIHRoZSB0aW1lczpcbiAqIGAwODowMGAsIGAwODozMGAsIGAwOTowMGAsIGFuZCBgMDk6MzBgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGltZVNsb3RzKHN0YXJ0LCBkdXJhdGlvbkhvdXJzID0gNCwgaW50ZXJ2YWxNaW51dGVzID0gMzAsIHRpbWV6b25lKSB7XG4gICAgLy8gY29uc29sZS5sb2coYENyZWF0aW5nIHRpbWUgc2xvdHMgc3RhcnRpbmcgZnJvbSAke3N0YXJ0fSwgZm9yICR7ZHVyYXRpb25Ib3Vyc30gaG91cnMsIGV2ZXJ5ICR7aW50ZXJ2YWxNaW51dGVzfSBtaW51dGVzIGluIHRpbWV6b25lICR7dGltZXpvbmV9LmApO1xuICAgIGxldCBzbG90cyA9IFtdO1xuICAgIGxldCBzdGFydFRpbWUgPSBkYXlqcyhzdGFydCkudHoodGltZXpvbmUpOyAgLy8gQ29udmVydCBzdGFydCB0aW1lIHRvIHRoZSBjb3JyZWN0IHRpbWUgem9uZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGR1cmF0aW9uSG91cnMgKiA2MCkgLyBpbnRlcnZhbE1pbnV0ZXM7IGkrKykge1xuICAgICAgICBsZXQgc2xvdFRpbWUgPSBzdGFydFRpbWUuYWRkKGkgKiBpbnRlcnZhbE1pbnV0ZXMsICdtaW51dGUnKS50b0RhdGUoKTsgIC8vIEdlbmVyYXRlIHNsb3RzIGluIHRoZSBjb3JyZWN0IHRpbWUgem9uZVxuICAgICAgICBzbG90cy5wdXNoKHNsb3RUaW1lKTsgIC8vIEtlZXAgYXMgRGF0ZSBvYmplY3RcbiAgICB9XG4gICAgcmV0dXJuIHNsb3RzO1xufVxuLy8gZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRpbWVTbG90cyhzdGFydCwgZHVyYXRpb25Ib3VycyA9IDQsIGludGVydmFsTWludXRlcyA9IDMwKSB7XG4vLyAgICAgbGV0IHNsb3RzID0gW107XG4vLyAgICAgbGV0IHN0YXJ0VGltZSA9IGRheWpzKHN0YXJ0KS50eih1c2VyU3RvcmUudGltZXpvbmUpOyAgLy8gQ29udmVydCBzdGFydCB0aW1lIHRvIHRoZSBjb3JyZWN0IHRpbWUgem9uZVxuLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGR1cmF0aW9uSG91cnMgKiA2MCkgLyBpbnRlcnZhbE1pbnV0ZXM7IGkrKykge1xuLy8gICAgICAgICBsZXQgc2xvdFRpbWUgPSBuZXcgRGF0ZShzdGFydC5nZXRUaW1lKCkgKyBpICogaW50ZXJ2YWxNaW51dGVzICogNjAwMDApO1xuLy8gICAgICAgICBzbG90cy5wdXNoKHNsb3RUaW1lKTsgIC8vIEtlZXAgYXMgRGF0ZSBvYmplY3Rcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIHNsb3RzO1xuLy8gfSJdLCJuYW1lcyI6WyJkYXlqcyIsInV0YyIsInRpbWV6b25lIiwiZXh0ZW5kIiwiY3JlYXRlVGltZVNsb3RzIiwic3RhcnQiLCJkdXJhdGlvbkhvdXJzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaW50ZXJ2YWxNaW51dGVzIiwic2xvdHMiLCJzdGFydFRpbWUiLCJ0eiIsImkiLCJzbG90VGltZSIsImFkZCIsInRvRGF0ZSIsInB1c2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/Utilities/TimeUtils.js\n");

/***/ })

}]);