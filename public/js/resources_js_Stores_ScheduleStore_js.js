"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["resources_js_Stores_ScheduleStore_js"],{

/***/ "./resources/js/Stores/ScheduleStore.js":
/*!**********************************************!*\
  !*** ./resources/js/Stores/ScheduleStore.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useScheduleStore: () => (/* binding */ useScheduleStore)\n/* harmony export */ });\n/* harmony import */ var pinia__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! pinia */ \"./node_modules/pinia/dist/pinia.mjs\");\n/* harmony import */ var _Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/Stores/UserStore */ \"./resources/js/Stores/UserStore.js\");\n/* harmony import */ var _Stores_AppSettingStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/Stores/AppSettingStore */ \"./resources/js/Stores/AppSettingStore.js\");\n/* harmony import */ var _Utilities_TimeUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/Utilities/TimeUtils */ \"./resources/js/Utilities/TimeUtils.js\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/startOfDay.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/format.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/isToday.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/isYesterday.mjs\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! date-fns */ \"./node_modules/date-fns/isTomorrow.mjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs */ \"./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs/plugin/isSameOrAfter */ \"./node_modules/dayjs/plugin/isSameOrAfter.js\");\n/* harmony import */ var dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs/plugin/isSameOrBefore */ \"./node_modules/dayjs/plugin/isSameOrBefore.js\");\n/* harmony import */ var dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dayjs/plugin/relativeTime */ \"./node_modules/dayjs/plugin/relativeTime.js\");\n/* harmony import */ var dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var dayjs_plugin_duration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dayjs/plugin/duration */ \"./node_modules/dayjs/plugin/duration.js\");\n/* harmony import */ var dayjs_plugin_duration__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_duration__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! dayjs/plugin/timezone */ \"./node_modules/dayjs/plugin/timezone.js\");\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dayjs/plugin/utc */ \"./node_modules/dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! dayjs/plugin/weekOfYear */ \"./node_modules/dayjs/plugin/weekOfYear.js\");\n/* harmony import */ var dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dayjs/plugin/advancedFormat */ \"./node_modules/dayjs/plugin/advancedFormat.js\");\n/* harmony import */ var dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_11__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\n\n\n// Import dayjs and its plugins\n\n\n // To check if the day is the same\n\n\n\n\n // For week start and end calculations\n // For more complex formatting options\n\n// Extend dayjs with the plugins\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_6___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_duration__WEBPACK_IMPORTED_MODULE_7___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_8___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_weekOfYear__WEBPACK_IMPORTED_MODULE_10___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_advancedFormat__WEBPACK_IMPORTED_MODULE_11___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_9___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_4___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_5___default()));\nfunction convertScheduleToTimezone(scheduleData) {\n  var userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)(); // Access the UserStore\n\n  return scheduleData.data.map(function (item) {\n    // Convert top-level start_time and end_time using UserStore methods\n    // console.log(`Original startTime for ${item.id}: ${item.startTime}`);\n    var startTimeInUserTz = item.startTime ? userStore.formatDateTimeFromUtcToUserTimezone(item.startTime, 'YYYY-MM-DD HH:mm:ss') : null;\n    var endTimeInUserTz = item.endTime ? userStore.formatDateTimeFromUtcToUserTimezone(item.endTime, 'YYYY-MM-DD HH:mm:ss') : null;\n    // Add debug logging to help trace conversion issues or confirm correct conversions\n    // console.log(`Converted startTime for ${item.id}: ${startTimeInUserTz}`);\n\n    return _objectSpread(_objectSpread({}, item), {}, {\n      startTime: startTimeInUserTz,\n      endTime: endTimeInUserTz,\n      timezone: userStore.timezone\n    });\n  });\n}\n\n// Helper function to get dates within the next 6 hours from viewingWindowStart\nfunction getUpcomingContentDates(viewingWindowStart) {\n  var dates = [];\n  var start = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(viewingWindowStart); // Ensure viewingWindowStart is a Day.js object\n\n  for (var i = 0; i < 6; i++) {\n    // Add i hours to the start time, each time creating a new Day.js object\n    dates.push(start.add(i, 'hour').toDate()); // Convert to Date if necessary; otherwise keep as Day.js object\n  }\n  return dates;\n}\nvar getTimeZone = function getTimeZone() {\n  var userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)();\n  // This function should return the timezone of the user.\n  // This could be dynamic based on the user's settings or browser settings.\n  // return Intl.DateTimeFormat().resolvedOptions().timeZone;\n  return userStore.timezone;\n};\nvar initialState = function initialState() {\n  return {\n    baseTime: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).toDate(),\n    currentHalfHour: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').add(dayjs__WEBPACK_IMPORTED_MODULE_3___default()().minute() >= 30 ? 30 : 0, 'minute').toDate(),\n    fourHoursLater: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').add(dayjs__WEBPACK_IMPORTED_MODULE_3___default()().minute() >= 30 ? 30 : 0, 'minute').add(4, 'hour').toDate(),\n    viewingWindowStart: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').toDate(),\n    currentMonth: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('month').toDate(),\n    selectedDay: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).toDate(),\n    currentWeekStart: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('week').toDate(),\n    currentWeekEnd: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).endOf('week').toDate(),\n    nextFourHoursOfContent: [],\n    nextFourHoursOfContentWithPlaceholders: [],\n    // nextFourHoursWithHalfHourIntervals: [],\n    // viewingMode: 'automatic', // or 'userSelected'\n    fiveDaySixHourSchedule: [],\n    // Holds the schedule shows 5 day / 6 hour structured data\n    todaysContent: [],\n    weeklyContent: [],\n    dataFetchLog: [],\n    scheduleIsLoading: false,\n    savingToSchedule: false,\n    slotIntervalMinutes: 30,\n    mediumScreenSlotHours: 4,\n    // 4 hours = 8 slots\n    smallScreenSlotHours: 2,\n    // 2 hours = 4 slots\n    verySmallScreenSlotHours: 1,\n    // 1 hour = 2 slots\n    timeSlots: null,\n    timeBanners: [{\n      id: 1,\n      name: 'Early Morning',\n      startTime: '04:00',\n      duration: 2\n    }, {\n      id: 2,\n      name: 'Morning',\n      startTime: '06:00',\n      duration: 6\n    }, {\n      id: 3,\n      name: 'Afternoon',\n      startTime: '12:00',\n      duration: 5\n    }, {\n      id: 4,\n      name: 'Prime Time',\n      startTime: '17:00',\n      duration: 3\n    }, {\n      id: 5,\n      name: 'Late Prime Time',\n      startTime: '20:00',\n      duration: 3\n    }, {\n      id: 6,\n      name: 'Late Night',\n      startTime: '23:00',\n      duration: 2\n    },\n    // Spans midnight to 01:00\n    {\n      id: 7,\n      name: 'Overnight',\n      startTime: '01:00',\n      duration: 3\n    } // Spans from 01:00 to 04:00\n    ]\n  };\n};\nvar useScheduleStore = (0,pinia__WEBPACK_IMPORTED_MODULE_12__.defineStore)('scheduleStore', {\n  state: initialState,\n  actions: {\n    resetAll: function resetAll() {\n      // Reset the store to its original state (clear all data)\n      Object.assign(this, initialState());\n    },\n    reset: function reset() {\n      this.viewingWindowStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('hour').toDate();\n      this.currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).startOf('month').toDate();\n      this.selectedDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(getTimeZone()).toDate();\n    },\n    setSelectedDay: function setSelectedDay(day) {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var selectedDay;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              // Ensure that 'day' is a Day.js object, convert if coming as a native Date or string\n              selectedDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(day); // Set the selected day\n              _this.selectedDay = selectedDay.toDate(); // Convert back to Date if necessary; otherwise keep as Day.js object\n\n              // Explicitly set the viewingWindowStart to 4 AM for the selected day\n              _this.viewingWindowStart = selectedDay.startOf('day').add(4, 'hours').toDate();\n\n              // Set the start and end of the week based on the selected day\n              _this.currentWeekStart = selectedDay.startOf('week').toDate(); // Consider week starting on Sunday\n              _this.currentWeekEnd = selectedDay.endOf('week').toDate(); // Consider week ending on Saturday\n\n              // Use the updated fetch logic\n              _context.next = 7;\n              return _this.fetchWeekDataIfNeeded();\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    setSelectedDayToToday: function setSelectedDayToToday(day) {\n      var now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(); // Create a Day.js object for the current date and time\n\n      // Set selectedDay to the current date and time\n      this.selectedDay = now.toDate(); // Convert back to Date if necessary; otherwise keep as Day.js object\n\n      // Set viewingWindowStart to the start of the current hour using Day.js\n      this.viewingWindowStart = now.startOf('hour').toDate();\n    },\n    changeDay: function changeDay(days) {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var currentTimeZone, currentTime, newDay;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              currentTimeZone = getTimeZone(); // or however you obtain the timezone\n              // Extract the time component from the current viewing window start\n              currentTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this2.viewingWindowStart).hour() * 60 + dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this2.viewingWindowStart).minute(); // Create a new day and set it to the start of that day\n              newDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this2.viewingWindowStart).tz(currentTimeZone).add(days, 'day').startOf('day'); // Set the time back to the original time\n              newDay = newDay.add(currentTime, 'minute');\n\n              // Depending on your application's needs, you may or may not need to convert it back to a JavaScript Date object\n              // If you need a Date object:\n              _this2.viewingWindowStart = newDay.toDate();\n\n              // If you can use dayjs objects directly (preferred if possible):\n              _this2.viewingWindowStart = newDay;\n\n              // // Check if the week of the new day is already loaded\n              // const weekStart = startOfWeek(newDay, {weekStartsOn: 0});\n              // const weekEnd = endOfWeek(newDay, {weekStartsOn: 0});\n\n              // Use the updated centralized fetch logic without redundant checks\n              _context2.next = 8;\n              return _this2.fetchWeekDataIfNeeded();\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    shiftHours: function shiftHours(hours) {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              // Shift the viewing window by the specified number of hours\n              _this3.viewingWindowStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).add(hours, 'hour').toDate();\n\n              // Set the current week start and end based on the new viewing window start\n              _this3.currentWeekStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).startOf('week').toDate();\n              _this3.currentWeekEnd = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).endOf('week').toDate();\n\n              // If the day has changed, update selectedDay and the week's range\n              if (!dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).isSame(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.selectedDay), 'day')) {\n                _this3.selectedDay = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this3.viewingWindowStart).startOf('day').toDate();\n              }\n\n              // Use the updated fetch logic\n              _context3.next = 6;\n              return _this3.fetchWeekDataIfNeeded();\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    },\n    isElevenPM: function isElevenPM(date) {\n      // Convert the date to a Day.js object if it's not already one\n      var time = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n      // Check if the hour is 23 (11 PM)\n      return time.hour() === 23;\n    },\n    // Actions to change the month\n    subtractMonth: function subtractMonth() {\n      var _this4 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              // Convert currentMonth to a Day.js object if it's not already and subtract one month\n              _this4.currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this4.currentMonth).subtract(1, 'month').toDate();\n              _context4.prev = 1;\n              _context4.next = 4;\n              return _this4.setSelectedDay(_this4.currentMonth);\n            case 4:\n              console.log('Set selected day based on current month:', _this4.currentMonth);\n              _context4.next = 10;\n              break;\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.error(\"Failed to set selected day based on current month \".concat(_this4.currentMonth, \":\"), _context4.t0);\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[1, 7]]);\n      }))();\n    },\n    addMonth: function addMonth() {\n      var _this5 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              // Convert currentMonth to a Day.js object if it's not already and add one month\n              _this5.currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this5.currentMonth).add(1, 'month').toDate();\n              _context5.prev = 1;\n              _context5.next = 4;\n              return _this5.setSelectedDay(_this5.currentMonth);\n            case 4:\n              console.log('Set selected day based on current month:', _this5.currentMonth);\n              _context5.next = 10;\n              break;\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.error(\"Failed to set selected day based on current month \".concat(_this5.currentMonth, \":\"), _context5.t0);\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, null, [[1, 7]]);\n      }))();\n    },\n    fetchFiveDaySixHourSchedule: function fetchFiveDaySixHourSchedule() {\n      var _this6 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var userStore, response, _timezone;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              console.error('fetchFiveDaySixHourSchedule');\n              _context6.prev = 1;\n              userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)();\n              _context6.next = 5;\n              return axios.get('/api/schedule');\n            case 5:\n              response = _context6.sent;\n              // Fallback to response timezone if userStore.timezone is not set\n              _timezone = userStore.timezone || response.data.userTimezone || 'UTC'; // Additional fallback to 'UTC'\n              // Convert the entire schedule, including nested recurrenceDetails, to the user's timezone\n              _this6.fiveDaySixHourSchedule = convertScheduleToTimezone(response.data, _timezone);\n              console.error('fetchFiveDaySixHourSchedule', response.data);\n              _context6.next = 14;\n              break;\n            case 11:\n              _context6.prev = 11;\n              _context6.t0 = _context6[\"catch\"](1);\n              console.error('Failed to load schedule shows:', _context6.t0);\n              // Handle the error state as needed, e.g., setting an error state property\n            case 14:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, null, [[1, 11]]);\n      }))();\n    },\n    fetchTodaysContent: function fetchTodaysContent() {\n      var _this7 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var userStore, response, _timezone2;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)();\n              _context7.next = 4;\n              return axios.get('/api/schedule/today');\n            case 4:\n              response = _context7.sent;\n              // Fallback to response timezone if userStore.timezone is not set\n              _timezone2 = userStore.timezone || response.data.userTimezone || 'UTC'; // Additional fallback to 'UTC'\n              _this7.todaysContent = convertScheduleToTimezone(response.data, _timezone2);\n              _context7.next = 12;\n              break;\n            case 9:\n              _context7.prev = 9;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.error('Failed to fetch today\\'s content:', _context7.t0);\n            case 12:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, null, [[0, 9]]);\n      }))();\n    },\n    preloadWeeklyContent: function preloadWeeklyContent() {\n      var _this8 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var currentDate;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              // Use the current date to preload content for the current week\n              currentDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(); // Creates a Day.js object representing the current date and time\n              _context8.prev = 1;\n              _context8.next = 4;\n              return _this8.loadWeekFromDate(currentDate.toDate());\n            case 4:\n              _context8.next = 9;\n              break;\n            case 6:\n              _context8.prev = 6;\n              _context8.t0 = _context8[\"catch\"](1);\n              console.error('Failed to preload weekly content:', _context8.t0);\n            case 9:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, null, [[1, 6]]);\n      }))();\n    },\n    loadWeekFromDate: function loadWeekFromDate(date) {\n      var _this9 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var formattedDate, userStore, dayDate, fullISODate, response, _formattedDate, _timezone3, newData;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              formattedDate = null; // Declare formattedDate outside of the try block\n              _this9.scheduleIsLoading = true;\n              _context9.prev = 2;\n              userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)(); // Ensure the date is in UTC format for the request\n              // console.log('Date before formatted: ' + date)\n              // Convert date to Day.js object and format it in ISO string with UTC\n              dayDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n              fullISODate = dayDate.toISOString(); // console.log(`Loading week data for date in UTC: ${fullISODate}`)\n              // Fetch the week's schedule data\n              // Send the dateTime and timezone as a JSON object in a POST request\n              _context9.next = 8;\n              return axios.post(\"/api/schedule/week/\".concat(fullISODate));\n            case 8:\n              response = _context9.sent;\n              // const formattedDate = date.toISOString().split('T')[0];\n              // Log and error handling\n              _formattedDate = dayDate.format('YYYY-MM-DD'); // For potential error messages and logging\n              // console.log(`Loading week data for date: ${formattedDate}`); // Log the date being requested\n              //\n              // const response = await axios.get(`/api/schedule/week/${formattedDate}`);\n              // console.log('Received response:', response.data) // Log the raw response data\n              // Fallback to response timezone if userStore.timezone is not set\n              _timezone3 = userStore.timezone || response.data.userTimezone || 'UTC'; // Additional fallback to 'UTC'\n              // console.log(`Using timezone: ${timezone}`) // Log the timezone being used\n              newData = convertScheduleToTimezone(response.data, _timezone3); // Ensure you are accessing the correct data property from the response\n              // Merge newData into weeklyContent, avoiding duplicates\n              _this9.weeklyContent = [].concat(_toConsumableArray(_this9.weeklyContent), _toConsumableArray(newData)).filter(function (value, index, self) {\n                return index === self.findIndex(function (t) {\n                  return t.id === value.id && t.startTime === value.startTime;\n                });\n              });\n\n              // Optionally update fetch logs or perform additional state updates\n              _this9.updateFetchLogs(date);\n              _this9.scheduleIsLoading = false;\n              _context9.next = 21;\n              break;\n            case 17:\n              _context9.prev = 17;\n              _context9.t0 = _context9[\"catch\"](2);\n              console.error(\"Failed to load content for week starting \".concat(formattedDate, \":\"), _context9.t0);\n              _this9.scheduleIsLoading = false;\n            case 21:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, null, [[2, 17]]);\n      }))();\n    },\n    updateFetchLogs: function updateFetchLogs(date) {\n      // Convert date to a Day.js object if it's not already one\n      var dayDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n\n      // Use Day.js to calculate the start and end of the week\n      var weekStart = dayDate.startOf('week').toISOString(); // Assumes the week starts on Sunday\n      var weekEnd = dayDate.endOf('week').toISOString(); // Assumes the week ends on Saturday\n      var fetchTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().toISOString(); // Current time in ISO format\n\n      // Find existing log entry for the week\n      var existingLogIndex = this.dataFetchLog.findIndex(function (log) {\n        return log.weekStart === weekStart && log.weekEnd === weekEnd;\n      });\n      if (existingLogIndex !== -1) {\n        // Update the last fetch time if the log already exists\n        this.dataFetchLog[existingLogIndex].lastFetch = fetchTime;\n      } else {\n        // Add a new log entry if it does not exist\n        this.dataFetchLog.push({\n          weekStart: weekStart,\n          weekEnd: weekEnd,\n          lastFetch: fetchTime\n        });\n      }\n    },\n    needsDataForWeek: function needsDataForWeek() {\n      // Helper function to format dates to 'YYYY-MM-DD' for easier comparison\n      var formatISODate = function formatISODate(date) {\n        return dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date).format('YYYY-MM-DD');\n      };\n\n      // Current week range in 'YYYY-MM-DD' format\n      var weekStartStr = formatISODate(this.currentWeekStart);\n      var weekEndStr = formatISODate(this.currentWeekEnd);\n\n      // Enhanced logging for debugging\n      console.log(\"Current week range: \".concat(weekStartStr, \" to \").concat(weekEndStr));\n      console.log('Existing data fetch log entries:', this.dataFetchLog);\n\n      // Iterate through the fetch log to check if the current week has been fetched\n      var weekHasBeenFetched = this.dataFetchLog.some(function (log) {\n        // Convert log dates to 'YYYY-MM-DD' format for comparison\n        var logWeekStartStr = formatISODate(log.weekStart);\n        var logWeekEndStr = formatISODate(log.weekEnd);\n\n        // Log each comparison for insight\n        console.log(\"Comparing to fetched range: \".concat(logWeekStartStr, \" to \").concat(logWeekEndStr));\n        return logWeekStartStr <= weekStartStr && logWeekEndStr >= weekEndStr;\n      });\n\n      // Log the final determination\n      console.log(\"Week from \".concat(weekStartStr, \" to \").concat(weekEndStr, \" has \").concat(weekHasBeenFetched ? '' : 'not ', \"been fetched.\"));\n      return !weekHasBeenFetched;\n    },\n    calculateExtendedEndForUpcomingContent: function calculateExtendedEndForUpcomingContent() {\n      // Convert viewingWindowStart to a Day.js object if it's not already one\n      var baseStartTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(this.viewingWindowStart);\n\n      // Extend by 6 hours to cover the upcoming content span\n      // Day.js handles date and time addition cleanly, returning a new Day.js object\n      var extendedEndTime = baseStartTime.add(6, 'hour');\n\n      // Return the extended end time as a Date object, if needed elsewhere as a Date\n      return extendedEndTime.toDate();\n    },\n    // Function to check for and fetch missing upcoming content\n    checkAndFetchForUpcomingContent: function checkAndFetchForUpcomingContent() {\n      var _this10 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var upcomingDates, now, fifteenMinutesAgo, _iterator, _step, _loop;\n        return _regeneratorRuntime().wrap(function _callee10$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              upcomingDates = getUpcomingContentDates(_this10.viewingWindowStart); // Assuming this returns Day.js objects\n              now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()();\n              fifteenMinutesAgo = now.subtract(15, 'minutes');\n              _iterator = _createForOfIteratorHelper(upcomingDates);\n              _context11.prev = 4;\n              _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n                var date, dateString, contentCoverageAndFreshness;\n                return _regeneratorRuntime().wrap(function _loop$(_context10) {\n                  while (1) switch (_context10.prev = _context10.next) {\n                    case 0:\n                      date = _step.value;\n                      dateString = date.format('YYYY-MM-DD'); // Day.js format for 'YYYY-MM-DD'\n                      contentCoverageAndFreshness = _this10.weeklyContent.some(function (content) {\n                        var contentDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(content.startTime).format('YYYY-MM-DD'); // Convert and compare as 'YYYY-MM-DD'\n                        var lastFetchedTime = _this10.dataFetchLog[dateString];\n                        var isFresh = lastFetchedTime && dayjs__WEBPACK_IMPORTED_MODULE_3___default()(lastFetchedTime) > fifteenMinutesAgo;\n                        return dateString === contentDate && isFresh;\n                      });\n                      if (contentCoverageAndFreshness) {\n                        _context10.next = 7;\n                        break;\n                      }\n                      _context10.next = 6;\n                      return _this10.fetchDataAndUpdateLog(dateString, date.toDate());\n                    case 6:\n                      return _context10.abrupt(\"return\", 1);\n                    case 7:\n                    case \"end\":\n                      return _context10.stop();\n                  }\n                }, _loop);\n              });\n              _iterator.s();\n            case 7:\n              if ((_step = _iterator.n()).done) {\n                _context11.next = 13;\n                break;\n              }\n              return _context11.delegateYield(_loop(), \"t0\", 9);\n            case 9:\n              if (!_context11.t0) {\n                _context11.next = 11;\n                break;\n              }\n              return _context11.abrupt(\"break\", 13);\n            case 11:\n              _context11.next = 7;\n              break;\n            case 13:\n              _context11.next = 18;\n              break;\n            case 15:\n              _context11.prev = 15;\n              _context11.t1 = _context11[\"catch\"](4);\n              _iterator.e(_context11.t1);\n            case 18:\n              _context11.prev = 18;\n              _iterator.f();\n              return _context11.finish(18);\n            case 21:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee10, null, [[4, 15, 18, 21]]);\n      }))();\n    },\n    fetchDataAndUpdateLog: function fetchDataAndUpdateLog(dateString, date) {\n      var _this11 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var dayDate;\n        return _regeneratorRuntime().wrap(function _callee11$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.prev = 0;\n              // Assuming 'date' is already a Day.js object; if not, convert it\n              dayDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(date);\n              _context12.next = 4;\n              return _this11.loadWeekFromDate(dayDate.toDate());\n            case 4:\n              // Pass as a Date if needed, or adjust 'loadWeekFromDate' to accept Day.js objects\n              // Successfully fetched, so update the log\n              _this11.dataFetchLog[dateString] = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().toISOString(); // Use Day.js to get the current time in ISO format\n              console.log('Data fetched successfully for date:', dateString);\n              _context12.next = 11;\n              break;\n            case 8:\n              _context12.prev = 8;\n              _context12.t0 = _context12[\"catch\"](0);\n              console.error(\"Failed to fetch data for date \".concat(dateString, \":\"), _context12.t0);\n            case 11:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee11, null, [[0, 8]]);\n      }))();\n    },\n    // Updated to use this.currentWeekStart and this.currentWeekEnd directly\n    fetchWeekDataIfNeeded: function fetchWeekDataIfNeeded() {\n      var _this12 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        return _regeneratorRuntime().wrap(function _callee12$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              if (!_this12.needsDataForWeek()) {\n                _context13.next = 5;\n                break;\n              }\n              _context13.next = 3;\n              return _this12.checkAndFetchForUpcomingContent()[\"catch\"](function (error) {\n                console.error('Failed to load data for the week:', error);\n                return false; // Indicates failure to fetch when an error occurs\n              });\n            case 3:\n              _context13.next = 6;\n              break;\n            case 5:\n              console.log('Week data already loaded; no need to fetch.');\n            case 6:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee12);\n      }))();\n    },\n    // Function to simply update baseTime with the given time (expected to be a Day.js object or compatible input)\n    updateBaseTime: function updateBaseTime(time) {\n      // Ensure the time is a Day.js object when setting baseTime\n      this.baseTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(time).toDate(); // Convert to Date if necessary; consider keeping it as Day.js object if possible\n    },\n    // Function to set baseTime based on a new time input (expected to be a string, Date, etc.)\n    setBaseTime: function setBaseTime(newTime) {\n      // Convert newTime to a Day.js object and then to Date if necessary\n      this.baseTime = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(newTime).toDate(); // This handles various input formats and ensures consistency\n    },\n    /**\n     * This method orchestrates the update of show scheduling data for the next four hours.\n     * It is designed to be triggered when there are changes to the base time or when a manual refresh is needed.\n     * The method handles loading and organizing the scheduling data to be ready for display in the grid.\n     */\n    updateNextFourHours: function updateNextFourHours() {\n      var _this13 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        return _regeneratorRuntime().wrap(function _callee13$(_context14) {\n          while (1) switch (_context14.prev = _context14.next) {\n            case 0:\n              // Set the loading state to true to indicate that data processing is underway.\n              // This can be used to display a loading spinner or disable user interaction temporarily.\n              _this13.scheduleIsLoading = true;\n\n              // Update the time range for the scheduling grid. This adjusts `currentHalfHour` and `fourHoursLater`\n              // based on the current `baseTime`. These values define the range of time for which shows will be displayed.\n              _this13.updateTimeRange();\n\n              // Update the time slots\n              _this13.setTimeSlots();\n\n              // Prepares the shows for the grid display by filtering, calculating grid slots,\n              // resolving conflicts, and optionally filling empty grid slots with placeholders.\n              // This step involves several functions that ensure shows are positioned correctly according to their\n              // start time, duration, and conflicts with other shows.\n              _this13.prepareShowsForGrid();\n\n              // Reset the loading state to false indicates that the data processing is complete.\n              // This allows the user interface to be interactive again and shows the updated data in the grid.\n              _this13.scheduleIsLoading = false;\n            case 5:\n            case \"end\":\n              return _context14.stop();\n          }\n        }, _callee13);\n      }))();\n    },\n    updateTimeRange: function updateTimeRange() {\n      // Ensure the baseTime is interpreted correctly in the current user's timezone\n      var baseDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(this.baseTime).tz(getTimeZone());\n\n      // Calculate the rounded minutes to either 0 or 30 based on the current time\n      var roundedMinutes = baseDate.minute() < 30 ? 0 : 30;\n\n      // Set the current half hour, rounding down to the nearest half-hour mark\n      var currentHalfHour = baseDate.minute(roundedMinutes).second(0).millisecond(0).startOf('minute');\n\n      // Calculate four hours later from the current half-hour mark\n      var fourHoursLater = currentHalfHour.add(4, 'hours');\n\n      // Update the store's currentHalfHour and fourHoursLater ensuring they are Date objects if required\n      this.currentHalfHour = currentHalfHour.toDate();\n      this.fourHoursLater = fourHoursLater.toDate();\n      console.log('Fetching shows between:', currentHalfHour.format('YYYY-MM-DD HH:mm:ss'), 'and', fourHoursLater.format('YYYY-MM-DD HH:mm:ss'));\n    },\n    setTimeSlots: function setTimeSlots() {\n      var appSettingStore = (0,_Stores_AppSettingStore__WEBPACK_IMPORTED_MODULE_1__.useAppSettingStore)();\n      var slotHours;\n\n      // Determine the number of slot hours based on screen size\n      if (appSettingStore.isVerySmallScreen) {\n        slotHours = this.verySmallScreenSlotHours;\n      } else if (appSettingStore.isSmallScreen) {\n        slotHours = this.smallScreenSlotHours;\n      } else {\n        slotHours = this.mediumScreenSlotHours;\n      }\n      var intervalMinutes = this.slotIntervalMinutes;\n      var slots = [];\n      var totalSlots = slotHours * 60 / intervalMinutes;\n\n      // Ensure state.currentHalfHour is a Day.js object\n      var currentHalfHour = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(this.currentHalfHour);\n\n      // Calculate the time for each slot using Day.js\n      for (var i = 0; i < totalSlots; i++) {\n        var slotTime = currentHalfHour.add(i * intervalMinutes, 'minute');\n        slots.push(slotTime.toDate()); // Convert back to JavaScript Date if necessary\n      }\n      this.timeSlots = slots;\n      return slots.length;\n    },\n    prepareShowsForGrid: function prepareShowsForGrid() {\n      // Step 1: Filter shows within the desired time range\n      var shows = this.filterShowsForTimeRange();\n\n      // Step 2: Calculate initial grid slots for these shows\n      var processedShows = this.calculateGridSlots(shows, this.timeSlots);\n      if (!this.timeSlots || !Array.isArray(this.timeSlots) || this.timeSlots.length === 0) {\n        console.error('timeSlots is not properly initialized.');\n        // Handle this scenario, e.g., by initializing timeSlots, or skipping the update\n        return;\n      }\n\n      // Step 3: Process shows to set nowPlaying and comingUpNext flags\n      var showsWithStatusFlags = this.processShows(processedShows);\n\n      // Step 4: Update column occupancy and find the maximum row used\n      var _this$updateColumnOcc = this.updateColumnOccupancy(showsWithStatusFlags, this.timeSlots.length),\n        colOccupancy = _this$updateColumnOcc.colOccupancy,\n        maxRowUsed = _this$updateColumnOcc.maxRowUsed;\n\n      // Step 5: Fill gaps in the grid with placeholders\n      var gridItems = this.fillGapsAndCreatePlaceholders(colOccupancy, maxRowUsed, this.timeSlots.length);\n\n      // Step 6: Combine processed shows with the placeholders\n      var combinedShows = [].concat(_toConsumableArray(showsWithStatusFlags), _toConsumableArray(gridItems));\n\n      // Step 7: Sort and group shows by rows\n      this.nextFourHoursOfContent = this.sortShowsByPosition(combinedShows);\n    },\n    filterShowsForTimeRange: function filterShowsForTimeRange() {\n      var _this14 = this;\n      return this.weeklyContent.filter(function (show) {\n        // Validate show data integrity\n        if (typeof show.startTime !== 'string' || typeof show.durationMinutes !== 'number') {\n          console.warn('Invalid show data:', show.startTime, show.durationMinutes);\n          return false; // Skip this show if it doesn't meet data expectations\n        }\n        var showStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.startTime);\n        var showEnd = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.endTime);\n        var isInTimeRange = showStart.isBefore(_this14.fourHoursLater) && showEnd.isAfter(_this14.currentHalfHour);\n\n        // Detailed logging for debugging\n        if (isInTimeRange) {\n          var hasStarted = showStart.isBefore(_this14.currentHalfHour) ? 'already started' : 'starts within range';\n          console.log(\"Show: \".concat(show.content.name, \", \").concat(hasStarted, \", Start: \").concat(showStart.format('HH:mm:ss'), \", End: \").concat(showEnd.format('HH:mm:ss'), \", Duration: \").concat(show.durationMinutes));\n        }\n        return isInTimeRange;\n      });\n    },\n    calculateGridSlots: function calculateGridSlots(shows, timeSlots) {\n      // Validate the timeSlots array to prevent errors\n      if (!Array.isArray(timeSlots) || timeSlots.length === 0) {\n        console.error('Invalid or empty timeSlots array');\n        return []; // Exit if no valid time slots to work with\n      }\n\n      // Determine the range of timeSlots\n      var firstTimeSlot = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[0]);\n      var lastTimeSlot = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[timeSlots.length - 1]).add(30, 'minutes');\n      return shows.filter(function (show) {\n        var showStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.startTime);\n        var showEnd = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.endTime);\n        return showStart.isBefore(lastTimeSlot) && showEnd.isAfter(firstTimeSlot);\n      }).map(function (show) {\n        var showStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.startTime);\n        var showEnd = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.endTime);\n        console.log('************************************');\n        console.log(\"Processing show: \".concat(show.content.name, \", Start: \").concat(show.startTime, \", End: \").concat(show.endTime));\n\n        // Find the index of the slot where the show should start\n        var slotIndex = timeSlots.findIndex(function (slot) {\n          return showStart.isSameOrBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot));\n        });\n\n        // Adjust if the show starts exactly at a slot time or just after the last checked slot time\n        if (slotIndex === -1 || showStart.isAfter(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[slotIndex]))) {\n          slotIndex = Math.max(0, slotIndex);\n        }\n        console.log(\"Comparing show start \".concat(showStart.format(), \" to timeSlot index \").concat(slotIndex, \" at \").concat(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[slotIndex]).format()));\n\n        // Calculate the end slot index\n        var endSlotIndex = timeSlots.findIndex(function (slot) {\n          return showEnd.isSameOrBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot).add(30, 'minutes'));\n        });\n\n        // If the end slot index points to a slot that starts after the show ends, subtract one\n        if (endSlotIndex !== -1 && showEnd.isBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[endSlotIndex]))) {\n          endSlotIndex--;\n        }\n\n        // Handle cases where the show ends after the last slot\n        if (endSlotIndex === -1 || showEnd.isSame(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[timeSlots.length - 1]).add(30, 'minutes'))) {\n          endSlotIndex = timeSlots.length - 1;\n        }\n        console.log(\"Comparing show end \".concat(showEnd.format(), \" to timeSlot index \").concat(endSlotIndex, \" at \").concat(endSlotIndex !== -1 ? dayjs__WEBPACK_IMPORTED_MODULE_3___default()(timeSlots[endSlotIndex]).format() : 'out of range'));\n\n        // Calculate the number of slots the show should span\n        var span = endSlotIndex - slotIndex + 1;\n        console.log(\"Calculated gridStart: \".concat(slotIndex + 1, \", gridSpan: \").concat(span));\n        return _objectSpread(_objectSpread({}, show), {}, {\n          gridStart: slotIndex + 1,\n          // Convert to 1-based index for grid positioning\n          gridSpan: span\n        });\n      });\n    },\n    processShows: function processShows(shows) {\n      var _this15 = this;\n      var comingUpNextSet = false;\n      shows.forEach(function (show) {\n        var start = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(show.startTime);\n        var end = start.add(show.durationMinutes, 'minutes');\n        var now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(_this15.baseTime);\n\n        // Determine if the show is now playing\n        show.nowPlaying = !show.placeholder && now.isAfter(start) && now.isBefore(end) && show.gridStart === 1;\n\n        // Find the first show that does not start in the first grid column\n        if (!comingUpNextSet && !show.placeholder && show.gridStart > 1) {\n          show.comingUpNext = true;\n          comingUpNextSet = true; // Ensure only one show gets this flag\n        }\n      });\n      return shows;\n    },\n    updateColumnOccupancy: function updateColumnOccupancy(processedShows, cols) {\n      var colOccupancy = new Array(cols).fill(null).map(function () {\n        return new Set();\n      });\n      var maxRowUsed = 0;\n      processedShows.forEach(function (show) {\n        for (var i = show.gridStart - 1; i < show.gridStart - 1 + show.gridSpan; i++) {\n          if (i >= 0 && i < cols) {\n            colOccupancy[i].add(show.gridRow);\n            maxRowUsed = Math.max(maxRowUsed, show.gridRow);\n          }\n        }\n      });\n      return {\n        colOccupancy: colOccupancy,\n        maxRowUsed: maxRowUsed\n      };\n    },\n    fillGapsAndCreatePlaceholders: function fillGapsAndCreatePlaceholders(colOccupancy, maxRowUsed, cols) {\n      var gridItems = [];\n      // Ensure at least one row is processed even if no shows are present\n      maxRowUsed = Math.max(maxRowUsed, 1);\n      for (var row = 1; row <= maxRowUsed; row++) {\n        gridItems.push.apply(gridItems, _toConsumableArray(this.findAndFillGapsForSingleRow(colOccupancy, row, cols)));\n      }\n      return gridItems;\n    },\n    findAndFillGapsForSingleRow: function findAndFillGapsForSingleRow(colOccupancy, row, cols) {\n      var gridItems = [];\n      var gapStart = -1;\n      for (var i = 0; i < cols; i++) {\n        if (!colOccupancy[i].has(row)) {\n          gapStart = gapStart === -1 ? i : gapStart;\n        } else if (gapStart !== -1) {\n          // Use different placeholders based on the row number\n          if (row === 1) {\n            gridItems.push(this.createPlaceholder(gapStart + 1, i - gapStart, row));\n          } else {\n            gridItems.push(this.createBlankSpotPlaceholder(gapStart + 1, i - gapStart, row));\n          }\n          gapStart = -1;\n        }\n      }\n      if (gapStart !== -1) {\n        // Again, differentiate between the first row and other rows\n        if (row === 1) {\n          gridItems.push(this.createPlaceholder(gapStart + 1, cols - gapStart, row));\n        } else {\n          gridItems.push(this.createBlankSpotPlaceholder(gapStart + 1, cols - gapStart, row));\n        }\n      }\n      return gridItems;\n    },\n    sortShowsByPosition: function sortShowsByPosition(combinedShows) {\n      if (!Array.isArray(combinedShows)) {\n        console.error('Expected an array of shows, received:', combinedShows);\n        return []; // Return an empty array if not an array to prevent errors\n      }\n\n      // Sort shows directly by row and then by start position within each row\n      return combinedShows.sort(function (a, b) {\n        return a.gridRow - b.gridRow || a.gridStart - b.gridStart;\n      });\n    },\n    createPlaceholder: function createPlaceholder(start, span, row) {\n      return {\n        placeholder: true,\n        startTime: 'placeholder',\n        priority: 0,\n        gridStart: start,\n        gridSpan: span,\n        gridRow: row,\n        content: {\n          name: 'Nothing scheduled.'\n        }\n      };\n    },\n    createBlankSpotPlaceholder: function createBlankSpotPlaceholder(start, span, row) {\n      return {\n        placeholder: true,\n        startTime: 'placeholder',\n        priority: 0,\n        gridStart: start,\n        gridSpan: span,\n        gridRow: row,\n        content: {\n          name: 'Blank Spot'\n        } // Ensure it is differentiated from normal placeholders\n      };\n    }\n  },\n  getters: {\n    currentTime: function currentTime(state) {\n      return dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.baseTime).format('h:mm A');\n    },\n    // Prepare banners with grid positions based on current time slots\n    preparedTimeBanners: function preparedTimeBanners(state) {\n      var timeZone = getTimeZone(); // Ensure this is defined\n      var now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().tz(timeZone);\n      var todayStart = now.startOf('day');\n      var tomorrowStart = todayStart.add(1, 'day');\n      console.log('Current Time Slots:', state.timeSlots.map(function (slot) {\n        return dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot).format('HH:mm');\n      }));\n      return state.timeBanners.flatMap(function (banner) {\n        // Create banner times for today and tomorrow to handle overnight spans\n        var bannerTodayStart = todayStart.hour(parseInt(banner.startTime.split(':')[0])).minute(parseInt(banner.startTime.split(':')[1]));\n        var bannerTodayEnd = bannerTodayStart.clone().add(banner.duration, 'hours');\n        var bannerTomorrowStart = tomorrowStart.hour(parseInt(banner.startTime.split(':')[0])).minute(parseInt(banner.startTime.split(':')[1]));\n        var bannerTomorrowEnd = bannerTomorrowStart.clone().add(banner.duration, 'hours');\n\n        // Create an array of potential banners for today and tomorrow\n        var potentialBanners = [_objectSpread(_objectSpread({}, banner), {}, {\n          start: bannerTodayStart,\n          end: bannerTodayEnd\n        }), _objectSpread(_objectSpread({}, banner), {}, {\n          start: bannerTomorrowStart,\n          end: bannerTomorrowEnd\n        })];\n        return potentialBanners.map(function (banner) {\n          var startSlotIndex = state.timeSlots.findIndex(function (slot) {\n            return banner.start.isSameOrBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot)) && banner.end.isAfter(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot));\n          });\n          var endSlotIndex = state.timeSlots.findIndex(function (slot) {\n            return banner.end.isSameOrBefore(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(slot));\n          });\n\n          // Adjust the end index to be inclusive of the end time\n          if (endSlotIndex === -1 || banner.end.isAfter(dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.timeSlots[state.timeSlots.length - 1]))) {\n            endSlotIndex = state.timeSlots.length - 1;\n          } else {\n            endSlotIndex -= 1;\n          }\n          var gridStart = startSlotIndex + 1;\n          var gridSpan = endSlotIndex - startSlotIndex + 1;\n          console.log(\"Processing Banner: \".concat(banner.name));\n          console.log(\"StartTime: \".concat(banner.start.format('HH:mm'), \", EndTime: \").concat(banner.end.format('HH:mm')));\n          console.log(\"StartSlotIndex: \".concat(startSlotIndex, \", EndSlotIndex: \").concat(endSlotIndex));\n          console.log(\"Calculated gridStart: \".concat(gridStart, \", gridSpan: \").concat(gridSpan));\n\n          // Ensure the banner should be displayed within the current time slots\n          if (gridStart && gridSpan > 0) {\n            return _objectSpread(_objectSpread({}, banner), {}, {\n              gridStart: gridStart,\n              gridSpan: gridSpan\n            });\n          }\n          return null;\n        });\n      }).filter(function (banner) {\n        return banner != null;\n      }); // Filter out banners that don't fit within the current time slots\n    },\n    // setTimeSlots: (state) => {\n    //     const appSettingStore = useAppSettingStore()\n    //     let slotHours\n    //\n    //     // Determine the number of slot hours based on screen size\n    //     if (appSettingStore.isVerySmallScreen) {\n    //         slotHours = state.verySmallScreenSlotHours\n    //     } else if (appSettingStore.isSmallScreen) {\n    //         slotHours = state.smallScreenSlotHours\n    //     } else {\n    //         slotHours = state.mediumScreenSlotHours\n    //     }\n    //\n    //     const intervalMinutes = state.slotIntervalMinutes\n    //     const slots = []\n    //     const totalSlots = (slotHours * 60) / intervalMinutes\n    //\n    //     // Ensure state.currentHalfHour is a Day.js object\n    //     const currentHalfHour = dayjs(state.currentHalfHour)\n    //\n    //     // Calculate the time for each slot using Day.js\n    //     for (let i = 0; i < totalSlots; i++) {\n    //         let slotTime = currentHalfHour.add(i * intervalMinutes, 'minute')\n    //         slots.push(slotTime.toDate())  // Convert back to JavaScript Date if necessary\n    //     }\n    //     state.timeSlots = slots\n    //     return slots.length\n    // },\n\n    nextFourHoursWithHalfHourIntervals: function nextFourHoursWithHalfHourIntervals(state) {\n      var userStore = (0,_Stores_UserStore__WEBPACK_IMPORTED_MODULE_0__.useUserStore)(); // Access the user store\n      var appSettingStore = (0,_Stores_AppSettingStore__WEBPACK_IMPORTED_MODULE_1__.useAppSettingStore)(); // Access the settings store\n      var userTimezone = userStore.timezone; // Get the user's timezone\n      var cols = state.timeSlots.length;\n      var intervals = [];\n      var now = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.baseTime).tz(userTimezone); // Get the current time in the user's timezone\n\n      // Determine if the current minute is less than 30 to start at the top of the hour or at the half-hour\n      var current = now.minute() < 30 ? now.startOf('hour') : now.startOf('hour').add(30, 'minutes');\n\n      // Generate intervals for the next 4 hours, each 30 minutes apart\n      // Adjust the loop count based on the number of columns/ intervals needed\n      for (var i = 0; i < cols; i++) {\n        // Adjust the number of intervals based on the screen size\n        intervals.push({\n          formatted: current.format('hh:mm A'),\n          // Formatted time for display\n          dateTimeString: current.format('YYYY-MM-DD HH:mm:ss') // Y-m-d H:m:s format for comparisons\n        });\n        current = current.add(30, 'minute'); // Move to the next 30-minute interval\n      }\n      return intervals;\n    },\n    upcomingContent: function upcomingContent(state) {\n      // Since viewingWindowStart is now a Day.js object, use Day.js methods directly\n      var start = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.viewingWindowStart).subtract(1, 'hour'); // 1 hour earlier\n      var end = start.add(7, 'hours'); // 6 hours later from the start\n\n      // Group shows by start time using Day.js\n      var showsGroupedByStartTime = state.weeklyContent.reduce(function (acc, item) {\n        var itemStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(item.startTime).valueOf(); // Use .valueOf() to get the timestamp\n        if (!acc[itemStart]) {\n          acc[itemStart] = [];\n        }\n        acc[itemStart].push(item);\n        return acc;\n      }, {});\n\n      // Select the show with the lowest priority for each start time\n      var selectedShows = Object.values(showsGroupedByStartTime).map(function (group) {\n        return group.reduce(function (selected, item) {\n          return !selected || item.priority < selected.priority ? item : selected;\n        }, null);\n      });\n\n      // Filter shows that fall within the next 6-hour window and sort them\n      return selectedShows.filter(function (item) {\n        var itemStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(item.startTime);\n        return itemStart.isSameOrAfter(start) && itemStart.isBefore(end);\n      }).sort(function (a, b) {\n        return dayjs__WEBPACK_IMPORTED_MODULE_3___default()(a.startTime).unix() - dayjs__WEBPACK_IMPORTED_MODULE_3___default()(b.startTime).unix();\n      }); // Sorting by Unix timestamp\n    },\n    nextSixHours: function nextSixHours(state) {\n      // Assuming state.viewingWindowStart is already a Day.js object.\n      // If it's still a native Date, convert it first:\n      var adjustedStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.viewingWindowStart);\n\n      // Add 6 hours to the adjusted start time\n      var end = adjustedStart.add(6, 'hours');\n\n      // Generate each hour of the interval between adjustedStart and end\n      var hours = [];\n      var hour = adjustedStart;\n      while (hour.isBefore(end)) {\n        hours.push(hour.toDate()); // Convert back to Date if necessary; otherwise, just use `hour` if you can use Day.js objects directly\n        hour = hour.add(1, 'hour');\n      }\n      return hours;\n    },\n    dateMessage: function dateMessage(state) {\n      var startDay = (0,date_fns__WEBPACK_IMPORTED_MODULE_13__.startOfDay)(state.viewingWindowStart);\n      var formattedDate = (0,date_fns__WEBPACK_IMPORTED_MODULE_14__.format)(startDay, 'EEEE MMMM do, yyyy');\n      if ((0,date_fns__WEBPACK_IMPORTED_MODULE_15__.isToday)(startDay)) {\n        return \"Today - \".concat(formattedDate);\n      } else if ((0,date_fns__WEBPACK_IMPORTED_MODULE_16__.isYesterday)(startDay)) {\n        return \"Yesterday - \".concat(formattedDate);\n      } else if ((0,date_fns__WEBPACK_IMPORTED_MODULE_17__.isTomorrow)(startDay)) {\n        return \"Tomorrow - \".concat(formattedDate);\n      } else {\n        return formattedDate;\n      }\n    },\n    currentMonthIndex: function currentMonthIndex(state) {\n      // Ensure state.currentMonth is converted to a Day.js object\n      var month = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      // Day.js months are 0-indexed just like JavaScript Date, returns the month (0-11)\n      return month.month();\n    },\n    currentMonthName: function currentMonthName(state) {\n      // Ensure state.currentMonth is converted to a Day.js object\n      var month = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      // Returns the full name of the month, e.g., 'January', 'February', etc.\n      return month.format('MMMM');\n    },\n    currentYear: function currentYear(state) {\n      // Ensure state.currentMonth is converted to a Day.js object\n      var month = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      // Returns the year\n      return month.year();\n    },\n    isToday: function isToday(state) {\n      var today = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(); // Gets today's date as a Day.js object\n      var viewingStart = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.viewingWindowStart); // Convert to Day.js object if not already\n\n      // Compare if both dates are the same calendar day\n      return today.isSame(viewingStart, 'day');\n    },\n    daysInMonth: function daysInMonth(state) {\n      // Assuming state.currentMonth is a Day.js object; if it's a Date, convert it:\n      var currentMonth = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(state.currentMonth);\n      var startOfCurrentMonth = currentMonth.startOf('month');\n      var endOfCurrentMonth = currentMonth.endOf('month');\n\n      // Adjust these to ensure the grid starts on Sunday and ends on Saturday\n      var startOfGrid = startOfCurrentMonth.startOf('week'); // Assumes the week starts on Sunday by default\n      var endOfGrid = endOfCurrentMonth.endOf('week'); // Assumes the week ends on Saturday by default\n\n      // Generate the days for the calendar grid\n      var days = [];\n      var day = startOfGrid;\n      while (day.isBefore(endOfGrid) || day.isSame(endOfGrid, 'day')) {\n        days.push(day.toDate()); // Collect days as Date objects; remove toDate() if you can use Day.js objects directly\n        day = day.add(1, 'day');\n      }\n      return days;\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEMsa0JBQWtCLENBQUMsRUFBRTs7TUFFdEQ7TUFDQSxPQUFPNFIsS0FBSyxDQUFDN04sTUFBTSxDQUFDOE4sWUFBWSxFQUFFLEtBQUssQ0FBQztJQUM1QyxDQUFDO0lBRURDLFdBQVcsRUFBRSxTQUFBQSxZQUFDNVAsS0FBSyxFQUFLO01BQ3BCO01BQ0EsSUFBTXJCLFlBQVksR0FBR25DLDRDQUFLLENBQUN3RCxLQUFLLENBQUNyQixZQUFZLENBQUM7TUFFOUMsSUFBTWtSLG1CQUFtQixHQUFHbFIsWUFBWSxDQUFDSCxPQUFPLENBQUMsT0FBTyxDQUFDO01BQ3pELElBQU1zUixpQkFBaUIsR0FBR25SLFlBQVksQ0FBQ0ksS0FBSyxDQUFDLE9BQU8sQ0FBQzs7TUFFckQ7TUFDQSxJQUFNZ1IsV0FBVyxHQUFHRixtQkFBbUIsQ0FBQ3JSLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtNQUN6RCxJQUFNd1IsU0FBUyxHQUFHRixpQkFBaUIsQ0FBQy9RLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBUTs7TUFFekQ7TUFDQSxJQUFNK0IsSUFBSSxHQUFHLEVBQUU7TUFDZixJQUFJVCxHQUFHLEdBQUcwUCxXQUFXO01BRXJCLE9BQU8xUCxHQUFHLENBQUM2SyxRQUFRLENBQUM4RSxTQUFTLENBQUMsSUFBSTNQLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQ21PLFNBQVMsRUFBRSxLQUFLLENBQUMsRUFBRTtRQUM1RGxQLElBQUksQ0FBQ3pKLElBQUksQ0FBQ2dKLEdBQUcsQ0FBQ25DLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBQztRQUN4Qm1DLEdBQUcsR0FBR0EsR0FBRyxDQUFDcEMsR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7TUFDM0I7TUFFQSxPQUFPNkMsSUFBSTtJQUNmO0VBRUo7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvU3RvcmVzL1NjaGVkdWxlU3RvcmUuanM/NzgyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZpbmVTdG9yZSB9IGZyb20gJ3BpbmlhJ1xuaW1wb3J0IHsgdXNlVXNlclN0b3JlIH0gZnJvbSAnQC9TdG9yZXMvVXNlclN0b3JlJ1xuaW1wb3J0IHsgdXNlQXBwU2V0dGluZ1N0b3JlIH0gZnJvbSAnQC9TdG9yZXMvQXBwU2V0dGluZ1N0b3JlJ1xuaW1wb3J0IHsgY3JlYXRlVGltZVNsb3RzIH0gZnJvbSAnQC9VdGlsaXRpZXMvVGltZVV0aWxzJ1xuaW1wb3J0IHtcbiAgICBhZGREYXlzLFxuICAgIGFkZEhvdXJzLFxuICAgIGFkZE1vbnRocyxcbiAgICBlYWNoRGF5T2ZJbnRlcnZhbCxcbiAgICBlYWNoSG91ck9mSW50ZXJ2YWwsXG4gICAgZW5kT2ZNb250aCxcbiAgICBlbmRPZldlZWssXG4gICAgZm9ybWF0LFxuICAgIGdldEhvdXJzLFxuICAgIGdldE1vbnRoLFxuICAgIGdldFllYXIsXG4gICAgaXNTYW1lRGF5LFxuICAgIGlzVG9kYXksXG4gICAgaXNUb21vcnJvdyxcbiAgICBpc1llc3RlcmRheSxcbiAgICBzdGFydE9mRGF5LFxuICAgIHN0YXJ0T2ZIb3VyLFxuICAgIHN0YXJ0T2ZNb250aCxcbiAgICBzdGFydE9mV2VlayxcbiAgICBzdWJNb250aHMsXG59IGZyb20gJ2RhdGUtZm5zJ1xuXG4vLyBJbXBvcnQgZGF5anMgYW5kIGl0cyBwbHVnaW5zXG5pbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnXG5pbXBvcnQgaXNTYW1lT3JBZnRlciBmcm9tICdkYXlqcy9wbHVnaW4vaXNTYW1lT3JBZnRlcidcbmltcG9ydCBpc1NhbWVPckJlZm9yZSBmcm9tICdkYXlqcy9wbHVnaW4vaXNTYW1lT3JCZWZvcmUnIC8vIFRvIGNoZWNrIGlmIHRoZSBkYXkgaXMgdGhlIHNhbWVcbmltcG9ydCByZWxhdGl2ZVRpbWUgZnJvbSAnZGF5anMvcGx1Z2luL3JlbGF0aXZlVGltZSdcbmltcG9ydCBkdXJhdGlvbiBmcm9tICdkYXlqcy9wbHVnaW4vZHVyYXRpb24nXG5pbXBvcnQgdGltZXpvbmUgZnJvbSAnZGF5anMvcGx1Z2luL3RpbWV6b25lJ1xuaW1wb3J0IHV0YyBmcm9tICdkYXlqcy9wbHVnaW4vdXRjJ1xuaW1wb3J0IHdlZWtPZlllYXIgZnJvbSAnZGF5anMvcGx1Z2luL3dlZWtPZlllYXInIC8vIEZvciB3ZWVrIHN0YXJ0IGFuZCBlbmQgY2FsY3VsYXRpb25zXG5pbXBvcnQgYWR2YW5jZWRGb3JtYXQgZnJvbSAnZGF5anMvcGx1Z2luL2FkdmFuY2VkRm9ybWF0JyAvLyBGb3IgbW9yZSBjb21wbGV4IGZvcm1hdHRpbmcgb3B0aW9uc1xuXG4vLyBFeHRlbmQgZGF5anMgd2l0aCB0aGUgcGx1Z2luc1xuZGF5anMuZXh0ZW5kKHJlbGF0aXZlVGltZSlcbmRheWpzLmV4dGVuZChkdXJhdGlvbilcbmRheWpzLmV4dGVuZCh0aW1lem9uZSlcbmRheWpzLmV4dGVuZCh3ZWVrT2ZZZWFyKVxuZGF5anMuZXh0ZW5kKGFkdmFuY2VkRm9ybWF0KVxuZGF5anMuZXh0ZW5kKHV0YylcbmRheWpzLmV4dGVuZChpc1NhbWVPckFmdGVyKVxuZGF5anMuZXh0ZW5kKGlzU2FtZU9yQmVmb3JlKVxuXG5mdW5jdGlvbiBjb252ZXJ0U2NoZWR1bGVUb1RpbWV6b25lKHNjaGVkdWxlRGF0YSkge1xuICAgIGNvbnN0IHVzZXJTdG9yZSA9IHVzZVVzZXJTdG9yZSgpIC8vIEFjY2VzcyB0aGUgVXNlclN0b3JlXG5cbiAgICByZXR1cm4gc2NoZWR1bGVEYXRhLmRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAvLyBDb252ZXJ0IHRvcC1sZXZlbCBzdGFydF90aW1lIGFuZCBlbmRfdGltZSB1c2luZyBVc2VyU3RvcmUgbWV0aG9kc1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgT3JpZ2luYWwgc3RhcnRUaW1lIGZvciAke2l0ZW0uaWR9OiAke2l0ZW0uc3RhcnRUaW1lfWApO1xuICAgICAgICBjb25zdCBzdGFydFRpbWVJblVzZXJUeiA9IGl0ZW0uc3RhcnRUaW1lID8gdXNlclN0b3JlLmZvcm1hdERhdGVUaW1lRnJvbVV0Y1RvVXNlclRpbWV6b25lKGl0ZW0uc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCBISDptbTpzcycpIDogbnVsbFxuICAgICAgICBjb25zdCBlbmRUaW1lSW5Vc2VyVHogPSBpdGVtLmVuZFRpbWUgPyB1c2VyU3RvcmUuZm9ybWF0RGF0ZVRpbWVGcm9tVXRjVG9Vc2VyVGltZXpvbmUoaXRlbS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBISDptbTpzcycpIDogbnVsbFxuICAgICAgICAvLyBBZGQgZGVidWcgbG9nZ2luZyB0byBoZWxwIHRyYWNlIGNvbnZlcnNpb24gaXNzdWVzIG9yIGNvbmZpcm0gY29ycmVjdCBjb252ZXJzaW9uc1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgQ29udmVydGVkIHN0YXJ0VGltZSBmb3IgJHtpdGVtLmlkfTogJHtzdGFydFRpbWVJblVzZXJUen1gKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lSW5Vc2VyVHosXG4gICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lSW5Vc2VyVHosXG4gICAgICAgICAgICB0aW1lem9uZTogdXNlclN0b3JlLnRpbWV6b25lLFxuICAgICAgICB9XG4gICAgfSlcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBkYXRlcyB3aXRoaW4gdGhlIG5leHQgNiBob3VycyBmcm9tIHZpZXdpbmdXaW5kb3dTdGFydFxuZnVuY3Rpb24gZ2V0VXBjb21pbmdDb250ZW50RGF0ZXModmlld2luZ1dpbmRvd1N0YXJ0KSB7XG4gICAgbGV0IGRhdGVzID0gW11cbiAgICBsZXQgc3RhcnQgPSBkYXlqcyh2aWV3aW5nV2luZG93U3RhcnQpIC8vIEVuc3VyZSB2aWV3aW5nV2luZG93U3RhcnQgaXMgYSBEYXkuanMgb2JqZWN0XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICAvLyBBZGQgaSBob3VycyB0byB0aGUgc3RhcnQgdGltZSwgZWFjaCB0aW1lIGNyZWF0aW5nIGEgbmV3IERheS5qcyBvYmplY3RcbiAgICAgICAgZGF0ZXMucHVzaChzdGFydC5hZGQoaSwgJ2hvdXInKS50b0RhdGUoKSkgLy8gQ29udmVydCB0byBEYXRlIGlmIG5lY2Vzc2FyeTsgb3RoZXJ3aXNlIGtlZXAgYXMgRGF5LmpzIG9iamVjdFxuICAgIH1cblxuICAgIHJldHVybiBkYXRlc1xufVxuXG5jb25zdCBnZXRUaW1lWm9uZSA9ICgpID0+IHtcbiAgICBjb25zdCB1c2VyU3RvcmUgPSB1c2VVc2VyU3RvcmUoKVxuICAgIC8vIFRoaXMgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgdGltZXpvbmUgb2YgdGhlIHVzZXIuXG4gICAgLy8gVGhpcyBjb3VsZCBiZSBkeW5hbWljIGJhc2VkIG9uIHRoZSB1c2VyJ3Mgc2V0dGluZ3Mgb3IgYnJvd3NlciBzZXR0aW5ncy5cbiAgICAvLyByZXR1cm4gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lO1xuICAgIHJldHVybiB1c2VyU3RvcmUudGltZXpvbmVcbn1cblxuY29uc3QgaW5pdGlhbFN0YXRlID0gKCkgPT4gKHtcbiAgICBiYXNlVGltZTogZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS50b0RhdGUoKSxcbiAgICBjdXJyZW50SGFsZkhvdXI6IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkuc3RhcnRPZignaG91cicpLmFkZChkYXlqcygpLm1pbnV0ZSgpID49IDMwID8gMzAgOiAwLCAnbWludXRlJykudG9EYXRlKCksXG4gICAgZm91ckhvdXJzTGF0ZXI6IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkuc3RhcnRPZignaG91cicpLmFkZChkYXlqcygpLm1pbnV0ZSgpID49IDMwID8gMzAgOiAwLCAnbWludXRlJykuYWRkKDQsICdob3VyJykudG9EYXRlKCksXG4gICAgdmlld2luZ1dpbmRvd1N0YXJ0OiBkYXlqcygpLnR6KGdldFRpbWVab25lKCkpLnN0YXJ0T2YoJ2hvdXInKS50b0RhdGUoKSxcbiAgICBjdXJyZW50TW9udGg6IGRheWpzKCkudHooZ2V0VGltZVpvbmUoKSkuc3RhcnRPZignbW9udGgnKS50b0RhdGUoKSxcbiAgICBzZWxlY3RlZERheTogZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS50b0RhdGUoKSxcbiAgICBjdXJyZW50V2Vla1N0YXJ0OiBkYXlqcygpLnR6KGdldFRpbWVab25lKCkpLnN0YXJ0T2YoJ3dlZWsnKS50b0RhdGUoKSxcbiAgICBjdXJyZW50V2Vla0VuZDogZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS5lbmRPZignd2VlaycpLnRvRGF0ZSgpLFxuICAgIG5leHRGb3VySG91cnNPZkNvbnRlbnQ6IFtdLFxuICAgIG5leHRGb3VySG91cnNPZkNvbnRlbnRXaXRoUGxhY2Vob2xkZXJzOiBbXSxcbiAgICAvLyBuZXh0Rm91ckhvdXJzV2l0aEhhbGZIb3VySW50ZXJ2YWxzOiBbXSxcbiAgICAvLyB2aWV3aW5nTW9kZTogJ2F1dG9tYXRpYycsIC8vIG9yICd1c2VyU2VsZWN0ZWQnXG4gICAgZml2ZURheVNpeEhvdXJTY2hlZHVsZTogW10sIC8vIEhvbGRzIHRoZSBzY2hlZHVsZSBzaG93cyA1IGRheSAvIDYgaG91ciBzdHJ1Y3R1cmVkIGRhdGFcbiAgICB0b2RheXNDb250ZW50OiBbXSxcbiAgICB3ZWVrbHlDb250ZW50OiBbXSxcbiAgICBkYXRhRmV0Y2hMb2c6IFtdLFxuICAgIHNjaGVkdWxlSXNMb2FkaW5nOiBmYWxzZSxcbiAgICBzYXZpbmdUb1NjaGVkdWxlOiBmYWxzZSxcbiAgICBzbG90SW50ZXJ2YWxNaW51dGVzOiAzMCxcbiAgICBtZWRpdW1TY3JlZW5TbG90SG91cnM6IDQsIC8vIDQgaG91cnMgPSA4IHNsb3RzXG4gICAgc21hbGxTY3JlZW5TbG90SG91cnM6IDIsIC8vIDIgaG91cnMgPSA0IHNsb3RzXG4gICAgdmVyeVNtYWxsU2NyZWVuU2xvdEhvdXJzOiAxLCAvLyAxIGhvdXIgPSAyIHNsb3RzXG4gICAgdGltZVNsb3RzOiBudWxsLFxuICAgIHRpbWVCYW5uZXJzOiBbXG4gICAgICAgIHtpZDogMSwgbmFtZTogJ0Vhcmx5IE1vcm5pbmcnLCBzdGFydFRpbWU6ICcwNDowMCcsIGR1cmF0aW9uOiAyfSxcbiAgICAgICAge2lkOiAyLCBuYW1lOiAnTW9ybmluZycsIHN0YXJ0VGltZTogJzA2OjAwJywgZHVyYXRpb246IDZ9LFxuICAgICAgICB7aWQ6IDMsIG5hbWU6ICdBZnRlcm5vb24nLCBzdGFydFRpbWU6ICcxMjowMCcsIGR1cmF0aW9uOiA1fSxcbiAgICAgICAge2lkOiA0LCBuYW1lOiAnUHJpbWUgVGltZScsIHN0YXJ0VGltZTogJzE3OjAwJywgZHVyYXRpb246IDN9LFxuICAgICAgICB7aWQ6IDUsIG5hbWU6ICdMYXRlIFByaW1lIFRpbWUnLCBzdGFydFRpbWU6ICcyMDowMCcsIGR1cmF0aW9uOiAzfSxcbiAgICAgICAge2lkOiA2LCBuYW1lOiAnTGF0ZSBOaWdodCcsIHN0YXJ0VGltZTogJzIzOjAwJywgZHVyYXRpb246IDJ9LCAvLyBTcGFucyBtaWRuaWdodCB0byAwMTowMFxuICAgICAgICB7aWQ6IDcsIG5hbWU6ICdPdmVybmlnaHQnLCBzdGFydFRpbWU6ICcwMTowMCcsIGR1cmF0aW9uOiAzfSwgLy8gU3BhbnMgZnJvbSAwMTowMCB0byAwNDowMFxuICAgIF1cbn0pXG5cbmV4cG9ydCBjb25zdCB1c2VTY2hlZHVsZVN0b3JlID0gZGVmaW5lU3RvcmUoJ3NjaGVkdWxlU3RvcmUnLCB7XG4gICAgc3RhdGU6IGluaXRpYWxTdGF0ZSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICAgIHJlc2V0QWxsKCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHN0b3JlIHRvIGl0cyBvcmlnaW5hbCBzdGF0ZSAoY2xlYXIgYWxsIGRhdGEpXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGluaXRpYWxTdGF0ZSgpKVxuICAgICAgICB9LFxuICAgICAgICByZXNldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0ID0gZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS5zdGFydE9mKCdob3VyJykudG9EYXRlKClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS5zdGFydE9mKCdtb250aCcpLnRvRGF0ZSgpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF5ID0gZGF5anMoKS50eihnZXRUaW1lWm9uZSgpKS50b0RhdGUoKVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBzZXRTZWxlY3RlZERheShkYXkpIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0ICdkYXknIGlzIGEgRGF5LmpzIG9iamVjdCwgY29udmVydCBpZiBjb21pbmcgYXMgYSBuYXRpdmUgRGF0ZSBvciBzdHJpbmdcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkRGF5ID0gZGF5anMoZGF5KVxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHNlbGVjdGVkIGRheVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERheSA9IHNlbGVjdGVkRGF5LnRvRGF0ZSgpIC8vIENvbnZlcnQgYmFjayB0byBEYXRlIGlmIG5lY2Vzc2FyeTsgb3RoZXJ3aXNlIGtlZXAgYXMgRGF5LmpzIG9iamVjdFxuXG4gICAgICAgICAgICAvLyBFeHBsaWNpdGx5IHNldCB0aGUgdmlld2luZ1dpbmRvd1N0YXJ0IHRvIDQgQU0gZm9yIHRoZSBzZWxlY3RlZCBkYXlcbiAgICAgICAgICAgIHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0ID0gc2VsZWN0ZWREYXkuc3RhcnRPZignZGF5JykuYWRkKDQsICdob3VycycpLnRvRGF0ZSgpXG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgd2VlayBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgZGF5XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRXZWVrU3RhcnQgPSBzZWxlY3RlZERheS5zdGFydE9mKCd3ZWVrJykudG9EYXRlKCkgLy8gQ29uc2lkZXIgd2VlayBzdGFydGluZyBvbiBTdW5kYXlcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdlZWtFbmQgPSBzZWxlY3RlZERheS5lbmRPZignd2VlaycpLnRvRGF0ZSgpIC8vIENvbnNpZGVyIHdlZWsgZW5kaW5nIG9uIFNhdHVyZGF5XG5cbiAgICAgICAgICAgIC8vIFVzZSB0aGUgdXBkYXRlZCBmZXRjaCBsb2dpY1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaFdlZWtEYXRhSWZOZWVkZWQoKVxuICAgICAgICB9LFxuICAgICAgICBzZXRTZWxlY3RlZERheVRvVG9kYXkoZGF5KSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBkYXlqcygpICAvLyBDcmVhdGUgYSBEYXkuanMgb2JqZWN0IGZvciB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lXG5cbiAgICAgICAgICAgIC8vIFNldCBzZWxlY3RlZERheSB0byB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF5ID0gbm93LnRvRGF0ZSgpIC8vIENvbnZlcnQgYmFjayB0byBEYXRlIGlmIG5lY2Vzc2FyeTsgb3RoZXJ3aXNlIGtlZXAgYXMgRGF5LmpzIG9iamVjdFxuXG4gICAgICAgICAgICAvLyBTZXQgdmlld2luZ1dpbmRvd1N0YXJ0IHRvIHRoZSBzdGFydCBvZiB0aGUgY3VycmVudCBob3VyIHVzaW5nIERheS5qc1xuICAgICAgICAgICAgdGhpcy52aWV3aW5nV2luZG93U3RhcnQgPSBub3cuc3RhcnRPZignaG91cicpLnRvRGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNoYW5nZURheShkYXlzKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZVpvbmUgPSBnZXRUaW1lWm9uZSgpIC8vIG9yIGhvd2V2ZXIgeW91IG9idGFpbiB0aGUgdGltZXpvbmVcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIHRpbWUgY29tcG9uZW50IGZyb20gdGhlIGN1cnJlbnQgdmlld2luZyB3aW5kb3cgc3RhcnRcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpLmhvdXIoKSAqIDYwICsgZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpLm1pbnV0ZSgpXG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBkYXkgYW5kIHNldCBpdCB0byB0aGUgc3RhcnQgb2YgdGhhdCBkYXlcbiAgICAgICAgICAgIGxldCBuZXdEYXkgPSBkYXlqcyh0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCkudHooY3VycmVudFRpbWVab25lKS5hZGQoZGF5cywgJ2RheScpLnN0YXJ0T2YoJ2RheScpXG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgdGltZSBiYWNrIHRvIHRoZSBvcmlnaW5hbCB0aW1lXG4gICAgICAgICAgICBuZXdEYXkgPSBuZXdEYXkuYWRkKGN1cnJlbnRUaW1lLCAnbWludXRlJylcblxuICAgICAgICAgICAgLy8gRGVwZW5kaW5nIG9uIHlvdXIgYXBwbGljYXRpb24ncyBuZWVkcywgeW91IG1heSBvciBtYXkgbm90IG5lZWQgdG8gY29udmVydCBpdCBiYWNrIHRvIGEgSmF2YVNjcmlwdCBEYXRlIG9iamVjdFxuICAgICAgICAgICAgLy8gSWYgeW91IG5lZWQgYSBEYXRlIG9iamVjdDpcbiAgICAgICAgICAgIHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0ID0gbmV3RGF5LnRvRGF0ZSgpXG5cbiAgICAgICAgICAgIC8vIElmIHlvdSBjYW4gdXNlIGRheWpzIG9iamVjdHMgZGlyZWN0bHkgKHByZWZlcnJlZCBpZiBwb3NzaWJsZSk6XG4gICAgICAgICAgICB0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCA9IG5ld0RheVxuXG4gICAgICAgICAgICAvLyAvLyBDaGVjayBpZiB0aGUgd2VlayBvZiB0aGUgbmV3IGRheSBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgLy8gY29uc3Qgd2Vla1N0YXJ0ID0gc3RhcnRPZldlZWsobmV3RGF5LCB7d2Vla1N0YXJ0c09uOiAwfSk7XG4gICAgICAgICAgICAvLyBjb25zdCB3ZWVrRW5kID0gZW5kT2ZXZWVrKG5ld0RheSwge3dlZWtTdGFydHNPbjogMH0pO1xuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHVwZGF0ZWQgY2VudHJhbGl6ZWQgZmV0Y2ggbG9naWMgd2l0aG91dCByZWR1bmRhbnQgY2hlY2tzXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmZldGNoV2Vla0RhdGFJZk5lZWRlZCgpXG5cbiAgICAgICAgICAgIC8vIC8vIENoZWNrIGZvciB0aGUgbmVlZCB0byBsb2FkIGRhdGEgZm9yIHRoZSBuZXcgd2Vla1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMubmVlZHNEYXRhRm9yV2Vlayh3ZWVrU3RhcnQsIHdlZWtFbmQpKSB7XG4gICAgICAgICAgICAvLyAgICAgYXdhaXQgdGhpcy5sb2FkV2Vla0Zyb21EYXRlKG5ld0RheSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgZGF0YSBmb3IgdGhlIG5ldyB3ZWVrOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIC8vIENoZWNrIGZvciB0aGUgbmVlZCB0byBsb2FkIGRhdGEgZm9yIHRoZSBuZXcgd2Vla1xuICAgICAgICAgICAgLy8gaWYgKCF0aGlzLm5lZWRzRGF0YUZvcldlZWsoKSkge1xuICAgICAgICAgICAgLy8gICAgIC8vIERhdGEgZm9yIHRoZSBjdXJyZW50IHdlZWsgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQ7IHNraXAgZmV0Y2hpbmdcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkRhdGEgZm9yIHRoZSBjdXJyZW50IHdlZWsgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQ7IHNraXBwaW5nIHJlZHVuZGFudCBmZXRjaC5cIik7XG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIC8vIFByb2NlZWQgd2l0aCBkYXRhIGZldGNoaW5nIGlmIG5lZWRlZFxuICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy5jaGVja0FuZEZldGNoRm9yVXBjb21pbmdDb250ZW50KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHNoaWZ0SG91cnMoaG91cnMpIHtcbiAgICAgICAgICAgIC8vIFNoaWZ0IHRoZSB2aWV3aW5nIHdpbmRvdyBieSB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBob3Vyc1xuICAgICAgICAgICAgdGhpcy52aWV3aW5nV2luZG93U3RhcnQgPSBkYXlqcyh0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCkuYWRkKGhvdXJzLCAnaG91cicpLnRvRGF0ZSgpXG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgY3VycmVudCB3ZWVrIHN0YXJ0IGFuZCBlbmQgYmFzZWQgb24gdGhlIG5ldyB2aWV3aW5nIHdpbmRvdyBzdGFydFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2Vla1N0YXJ0ID0gZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpLnN0YXJ0T2YoJ3dlZWsnKS50b0RhdGUoKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2Vla0VuZCA9IGRheWpzKHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0KS5lbmRPZignd2VlaycpLnRvRGF0ZSgpXG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkYXkgaGFzIGNoYW5nZWQsIHVwZGF0ZSBzZWxlY3RlZERheSBhbmQgdGhlIHdlZWsncyByYW5nZVxuICAgICAgICAgICAgaWYgKCFkYXlqcyh0aGlzLnZpZXdpbmdXaW5kb3dTdGFydCkuaXNTYW1lKGRheWpzKHRoaXMuc2VsZWN0ZWREYXkpLCAnZGF5JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF5ID0gZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpLnN0YXJ0T2YoJ2RheScpLnRvRGF0ZSgpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVzZSB0aGUgdXBkYXRlZCBmZXRjaCBsb2dpY1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaFdlZWtEYXRhSWZOZWVkZWQoKVxuICAgICAgICB9LFxuICAgICAgICBpc0VsZXZlblBNKGRhdGUpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIGRhdGUgdG8gYSBEYXkuanMgb2JqZWN0IGlmIGl0J3Mgbm90IGFscmVhZHkgb25lXG4gICAgICAgICAgICBjb25zdCB0aW1lID0gZGF5anMoZGF0ZSlcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBob3VyIGlzIDIzICgxMSBQTSlcbiAgICAgICAgICAgIHJldHVybiB0aW1lLmhvdXIoKSA9PT0gMjNcbiAgICAgICAgfSxcbiAgICAgICAgLy8gQWN0aW9ucyB0byBjaGFuZ2UgdGhlIG1vbnRoXG4gICAgICAgIGFzeW5jIHN1YnRyYWN0TW9udGgoKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGN1cnJlbnRNb250aCB0byBhIERheS5qcyBvYmplY3QgaWYgaXQncyBub3QgYWxyZWFkeSBhbmQgc3VidHJhY3Qgb25lIG1vbnRoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IGRheWpzKHRoaXMuY3VycmVudE1vbnRoKS5zdWJ0cmFjdCgxLCAnbW9udGgnKS50b0RhdGUoKVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIG5ldyBjdXJyZW50TW9udGggdG8gc2V0U2VsZWN0ZWREYXlcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldFNlbGVjdGVkRGF5KHRoaXMuY3VycmVudE1vbnRoKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXQgc2VsZWN0ZWQgZGF5IGJhc2VkIG9uIGN1cnJlbnQgbW9udGg6JywgdGhpcy5jdXJyZW50TW9udGgpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzZXQgc2VsZWN0ZWQgZGF5IGJhc2VkIG9uIGN1cnJlbnQgbW9udGggJHt0aGlzLmN1cnJlbnRNb250aH06YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGFkZE1vbnRoKCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBjdXJyZW50TW9udGggdG8gYSBEYXkuanMgb2JqZWN0IGlmIGl0J3Mgbm90IGFscmVhZHkgYW5kIGFkZCBvbmUgbW9udGhcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gZGF5anModGhpcy5jdXJyZW50TW9udGgpLmFkZCgxLCAnbW9udGgnKS50b0RhdGUoKVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIG5ldyBjdXJyZW50TW9udGggdG8gc2V0U2VsZWN0ZWREYXlcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNldFNlbGVjdGVkRGF5KHRoaXMuY3VycmVudE1vbnRoKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXQgc2VsZWN0ZWQgZGF5IGJhc2VkIG9uIGN1cnJlbnQgbW9udGg6JywgdGhpcy5jdXJyZW50TW9udGgpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzZXQgc2VsZWN0ZWQgZGF5IGJhc2VkIG9uIGN1cnJlbnQgbW9udGggJHt0aGlzLmN1cnJlbnRNb250aH06YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGZldGNoRml2ZURheVNpeEhvdXJTY2hlZHVsZSgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZldGNoRml2ZURheVNpeEhvdXJTY2hlZHVsZScpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJTdG9yZSA9IHVzZVVzZXJTdG9yZSgpXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvc2NoZWR1bGUnKVxuXG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gcmVzcG9uc2UgdGltZXpvbmUgaWYgdXNlclN0b3JlLnRpbWV6b25lIGlzIG5vdCBzZXRcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lem9uZSA9IHVzZXJTdG9yZS50aW1lem9uZSB8fCByZXNwb25zZS5kYXRhLnVzZXJUaW1lem9uZSB8fCAnVVRDJyAvLyBBZGRpdGlvbmFsIGZhbGxiYWNrIHRvICdVVEMnXG5cbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBlbnRpcmUgc2NoZWR1bGUsIGluY2x1ZGluZyBuZXN0ZWQgcmVjdXJyZW5jZURldGFpbHMsIHRvIHRoZSB1c2VyJ3MgdGltZXpvbmVcbiAgICAgICAgICAgICAgICB0aGlzLmZpdmVEYXlTaXhIb3VyU2NoZWR1bGUgPSBjb252ZXJ0U2NoZWR1bGVUb1RpbWV6b25lKHJlc3BvbnNlLmRhdGEsIHRpbWV6b25lKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZldGNoRml2ZURheVNpeEhvdXJTY2hlZHVsZScsIHJlc3BvbnNlLmRhdGEpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNjaGVkdWxlIHNob3dzOicsIGVycm9yKVxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgZXJyb3Igc3RhdGUgYXMgbmVlZGVkLCBlLmcuLCBzZXR0aW5nIGFuIGVycm9yIHN0YXRlIHByb3BlcnR5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGZldGNoVG9kYXlzQ29udGVudCgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlclN0b3JlID0gdXNlVXNlclN0b3JlKClcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnL2FwaS9zY2hlZHVsZS90b2RheScpXG5cbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byByZXNwb25zZSB0aW1lem9uZSBpZiB1c2VyU3RvcmUudGltZXpvbmUgaXMgbm90IHNldFxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWV6b25lID0gdXNlclN0b3JlLnRpbWV6b25lIHx8IHJlc3BvbnNlLmRhdGEudXNlclRpbWV6b25lIHx8ICdVVEMnIC8vIEFkZGl0aW9uYWwgZmFsbGJhY2sgdG8gJ1VUQydcblxuICAgICAgICAgICAgICAgIHRoaXMudG9kYXlzQ29udGVudCA9IGNvbnZlcnRTY2hlZHVsZVRvVGltZXpvbmUocmVzcG9uc2UuZGF0YSwgdGltZXpvbmUpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB0b2RheVxcJ3MgY29udGVudDonLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgcHJlbG9hZFdlZWtseUNvbnRlbnQoKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIGN1cnJlbnQgZGF0ZSB0byBwcmVsb2FkIGNvbnRlbnQgZm9yIHRoZSBjdXJyZW50IHdlZWtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gZGF5anMoKSAvLyBDcmVhdGVzIGEgRGF5LmpzIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgZGF0ZSBhbmQgdGltZVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIENhbGwgbG9hZFdlZWtGcm9tRGF0ZSB3aXRoIHRoZSBjdXJyZW50IERheS5qcyBkYXRlIG9iamVjdCwgY29udmVydGVkIHRvIGEgRGF0ZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRXZWVrRnJvbURhdGUoY3VycmVudERhdGUudG9EYXRlKCkpIC8vIENvbnZlcnQgdG8gSmF2YVNjcmlwdCBEYXRlIGlmIGxvYWRXZWVrRnJvbURhdGUgZXhwZWN0cyBhIERhdGUgb2JqZWN0XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwcmVsb2FkIHdlZWtseSBjb250ZW50OicsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBsb2FkV2Vla0Zyb21EYXRlKGRhdGUpIHtcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWREYXRlID0gbnVsbCAvLyBEZWNsYXJlIGZvcm1hdHRlZERhdGUgb3V0c2lkZSBvZiB0aGUgdHJ5IGJsb2NrXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlSXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyU3RvcmUgPSB1c2VVc2VyU3RvcmUoKVxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgZGF0ZSBpcyBpbiBVVEMgZm9ybWF0IGZvciB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdEYXRlIGJlZm9yZSBmb3JtYXR0ZWQ6ICcgKyBkYXRlKVxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZGF0ZSB0byBEYXkuanMgb2JqZWN0IGFuZCBmb3JtYXQgaXQgaW4gSVNPIHN0cmluZyB3aXRoIFVUQ1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheURhdGUgPSBkYXlqcyhkYXRlKVxuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxJU09EYXRlID0gZGF5RGF0ZS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYExvYWRpbmcgd2VlayBkYXRhIGZvciBkYXRlIGluIFVUQzogJHtmdWxsSVNPRGF0ZX1gKVxuXG4gICAgICAgICAgICAgICAgLy8gRmV0Y2ggdGhlIHdlZWsncyBzY2hlZHVsZSBkYXRhXG4gICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgZGF0ZVRpbWUgYW5kIHRpbWV6b25lIGFzIGEgSlNPTiBvYmplY3QgaW4gYSBQT1NUIHJlcXVlc3RcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYC9hcGkvc2NoZWR1bGUvd2Vlay8ke2Z1bGxJU09EYXRlfWApXG5cbiAgICAgICAgICAgICAgICAvLyBjb25zdCBmb3JtYXR0ZWREYXRlID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgICAgICAgICAgLy8gTG9nIGFuZCBlcnJvciBoYW5kbGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXlEYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpIC8vIEZvciBwb3RlbnRpYWwgZXJyb3IgbWVzc2FnZXMgYW5kIGxvZ2dpbmdcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgTG9hZGluZyB3ZWVrIGRhdGEgZm9yIGRhdGU6ICR7Zm9ybWF0dGVkRGF0ZX1gKTsgLy8gTG9nIHRoZSBkYXRlIGJlaW5nIHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYC9hcGkvc2NoZWR1bGUvd2Vlay8ke2Zvcm1hdHRlZERhdGV9YCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1JlY2VpdmVkIHJlc3BvbnNlOicsIHJlc3BvbnNlLmRhdGEpIC8vIExvZyB0aGUgcmF3IHJlc3BvbnNlIGRhdGFcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHJlc3BvbnNlIHRpbWV6b25lIGlmIHVzZXJTdG9yZS50aW1lem9uZSBpcyBub3Qgc2V0XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXpvbmUgPSB1c2VyU3RvcmUudGltZXpvbmUgfHwgcmVzcG9uc2UuZGF0YS51c2VyVGltZXpvbmUgfHwgJ1VUQycgLy8gQWRkaXRpb25hbCBmYWxsYmFjayB0byAnVVRDJ1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBVc2luZyB0aW1lem9uZTogJHt0aW1lem9uZX1gKSAvLyBMb2cgdGhlIHRpbWV6b25lIGJlaW5nIHVzZWRcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RhdGEgPSBjb252ZXJ0U2NoZWR1bGVUb1RpbWV6b25lKHJlc3BvbnNlLmRhdGEsIHRpbWV6b25lKSAvLyBFbnN1cmUgeW91IGFyZSBhY2Nlc3NpbmcgdGhlIGNvcnJlY3QgZGF0YSBwcm9wZXJ0eSBmcm9tIHRoZSByZXNwb25zZVxuXG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgbmV3RGF0YSBpbnRvIHdlZWtseUNvbnRlbnQsIGF2b2lkaW5nIGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICB0aGlzLndlZWtseUNvbnRlbnQgPSBbLi4udGhpcy53ZWVrbHlDb250ZW50LCAuLi5uZXdEYXRhXS5maWx0ZXIoKHZhbHVlLCBpbmRleCwgc2VsZikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID09PSBzZWxmLmZpbmRJbmRleCgodCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuaWQgPT09IHZhbHVlLmlkICYmIHQuc3RhcnRUaW1lID09PSB2YWx1ZS5zdGFydFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIC8vIE9wdGlvbmFsbHkgdXBkYXRlIGZldGNoIGxvZ3Mgb3IgcGVyZm9ybSBhZGRpdGlvbmFsIHN0YXRlIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZldGNoTG9ncyhkYXRlKVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGNvbnRlbnQgZm9yIHdlZWsgc3RhcnRpbmcgJHtmb3JtYXR0ZWREYXRlfTpgLCBlcnJvcilcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlSXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlRmV0Y2hMb2dzKGRhdGUpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZGF0ZSB0byBhIERheS5qcyBvYmplY3QgaWYgaXQncyBub3QgYWxyZWFkeSBvbmVcbiAgICAgICAgICAgIGNvbnN0IGRheURhdGUgPSBkYXlqcyhkYXRlKVxuXG4gICAgICAgICAgICAvLyBVc2UgRGF5LmpzIHRvIGNhbGN1bGF0ZSB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgd2Vla1xuICAgICAgICAgICAgY29uc3Qgd2Vla1N0YXJ0ID0gZGF5RGF0ZS5zdGFydE9mKCd3ZWVrJykudG9JU09TdHJpbmcoKSAvLyBBc3N1bWVzIHRoZSB3ZWVrIHN0YXJ0cyBvbiBTdW5kYXlcbiAgICAgICAgICAgIGNvbnN0IHdlZWtFbmQgPSBkYXlEYXRlLmVuZE9mKCd3ZWVrJykudG9JU09TdHJpbmcoKSAvLyBBc3N1bWVzIHRoZSB3ZWVrIGVuZHMgb24gU2F0dXJkYXlcbiAgICAgICAgICAgIGNvbnN0IGZldGNoVGltZSA9IGRheWpzKCkudG9JU09TdHJpbmcoKSAvLyBDdXJyZW50IHRpbWUgaW4gSVNPIGZvcm1hdFxuXG4gICAgICAgICAgICAvLyBGaW5kIGV4aXN0aW5nIGxvZyBlbnRyeSBmb3IgdGhlIHdlZWtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTG9nSW5kZXggPSB0aGlzLmRhdGFGZXRjaExvZy5maW5kSW5kZXgobG9nID0+XG4gICAgICAgICAgICAgICAgbG9nLndlZWtTdGFydCA9PT0gd2Vla1N0YXJ0ICYmIGxvZy53ZWVrRW5kID09PSB3ZWVrRW5kKVxuXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdMb2dJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxhc3QgZmV0Y2ggdGltZSBpZiB0aGUgbG9nIGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhRmV0Y2hMb2dbZXhpc3RpbmdMb2dJbmRleF0ubGFzdEZldGNoID0gZmV0Y2hUaW1lXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBsb2cgZW50cnkgaWYgaXQgZG9lcyBub3QgZXhpc3RcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFGZXRjaExvZy5wdXNoKHt3ZWVrU3RhcnQsIHdlZWtFbmQsIGxhc3RGZXRjaDogZmV0Y2hUaW1lfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbmVlZHNEYXRhRm9yV2VlaygpIHtcbiAgICAgICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgZGF0ZXMgdG8gJ1lZWVktTU0tREQnIGZvciBlYXNpZXIgY29tcGFyaXNvblxuICAgICAgICAgICAgY29uc3QgZm9ybWF0SVNPRGF0ZSA9IChkYXRlKSA9PiBkYXlqcyhkYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuXG4gICAgICAgICAgICAvLyBDdXJyZW50IHdlZWsgcmFuZ2UgaW4gJ1lZWVktTU0tREQnIGZvcm1hdFxuICAgICAgICAgICAgY29uc3Qgd2Vla1N0YXJ0U3RyID0gZm9ybWF0SVNPRGF0ZSh0aGlzLmN1cnJlbnRXZWVrU3RhcnQpXG4gICAgICAgICAgICBjb25zdCB3ZWVrRW5kU3RyID0gZm9ybWF0SVNPRGF0ZSh0aGlzLmN1cnJlbnRXZWVrRW5kKVxuXG4gICAgICAgICAgICAvLyBFbmhhbmNlZCBsb2dnaW5nIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHdlZWsgcmFuZ2U6ICR7d2Vla1N0YXJ0U3RyfSB0byAke3dlZWtFbmRTdHJ9YClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFeGlzdGluZyBkYXRhIGZldGNoIGxvZyBlbnRyaWVzOicsIHRoaXMuZGF0YUZldGNoTG9nKVxuXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGZldGNoIGxvZyB0byBjaGVjayBpZiB0aGUgY3VycmVudCB3ZWVrIGhhcyBiZWVuIGZldGNoZWRcbiAgICAgICAgICAgIGNvbnN0IHdlZWtIYXNCZWVuRmV0Y2hlZCA9IHRoaXMuZGF0YUZldGNoTG9nLnNvbWUobG9nID0+IHtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGxvZyBkYXRlcyB0byAnWVlZWS1NTS1ERCcgZm9ybWF0IGZvciBjb21wYXJpc29uXG4gICAgICAgICAgICAgICAgY29uc3QgbG9nV2Vla1N0YXJ0U3RyID0gZm9ybWF0SVNPRGF0ZShsb2cud2Vla1N0YXJ0KVxuICAgICAgICAgICAgICAgIGNvbnN0IGxvZ1dlZWtFbmRTdHIgPSBmb3JtYXRJU09EYXRlKGxvZy53ZWVrRW5kKVxuXG4gICAgICAgICAgICAgICAgLy8gTG9nIGVhY2ggY29tcGFyaXNvbiBmb3IgaW5zaWdodFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb21wYXJpbmcgdG8gZmV0Y2hlZCByYW5nZTogJHtsb2dXZWVrU3RhcnRTdHJ9IHRvICR7bG9nV2Vla0VuZFN0cn1gKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ1dlZWtTdGFydFN0ciA8PSB3ZWVrU3RhcnRTdHIgJiYgbG9nV2Vla0VuZFN0ciA+PSB3ZWVrRW5kU3RyXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyBMb2cgdGhlIGZpbmFsIGRldGVybWluYXRpb25cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBXZWVrIGZyb20gJHt3ZWVrU3RhcnRTdHJ9IHRvICR7d2Vla0VuZFN0cn0gaGFzICR7d2Vla0hhc0JlZW5GZXRjaGVkID8gJycgOiAnbm90ICd9YmVlbiBmZXRjaGVkLmApXG5cbiAgICAgICAgICAgIHJldHVybiAhd2Vla0hhc0JlZW5GZXRjaGVkXG4gICAgICAgIH0sXG4gICAgICAgIGNhbGN1bGF0ZUV4dGVuZGVkRW5kRm9yVXBjb21pbmdDb250ZW50KCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCB2aWV3aW5nV2luZG93U3RhcnQgdG8gYSBEYXkuanMgb2JqZWN0IGlmIGl0J3Mgbm90IGFscmVhZHkgb25lXG4gICAgICAgICAgICBjb25zdCBiYXNlU3RhcnRUaW1lID0gZGF5anModGhpcy52aWV3aW5nV2luZG93U3RhcnQpXG5cbiAgICAgICAgICAgIC8vIEV4dGVuZCBieSA2IGhvdXJzIHRvIGNvdmVyIHRoZSB1cGNvbWluZyBjb250ZW50IHNwYW5cbiAgICAgICAgICAgIC8vIERheS5qcyBoYW5kbGVzIGRhdGUgYW5kIHRpbWUgYWRkaXRpb24gY2xlYW5seSwgcmV0dXJuaW5nIGEgbmV3IERheS5qcyBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuZGVkRW5kVGltZSA9IGJhc2VTdGFydFRpbWUuYWRkKDYsICdob3VyJylcblxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBleHRlbmRlZCBlbmQgdGltZSBhcyBhIERhdGUgb2JqZWN0LCBpZiBuZWVkZWQgZWxzZXdoZXJlIGFzIGEgRGF0ZVxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuZGVkRW5kVGltZS50b0RhdGUoKVxuICAgICAgICB9LFxuICAgICAgICAvLyBGdW5jdGlvbiB0byBjaGVjayBmb3IgYW5kIGZldGNoIG1pc3NpbmcgdXBjb21pbmcgY29udGVudFxuICAgICAgICBhc3luYyBjaGVja0FuZEZldGNoRm9yVXBjb21pbmdDb250ZW50KCkge1xuICAgICAgICAgICAgY29uc3QgdXBjb21pbmdEYXRlcyA9IGdldFVwY29taW5nQ29udGVudERhdGVzKHRoaXMudmlld2luZ1dpbmRvd1N0YXJ0KSAvLyBBc3N1bWluZyB0aGlzIHJldHVybnMgRGF5LmpzIG9iamVjdHNcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IGRheWpzKClcbiAgICAgICAgICAgIGNvbnN0IGZpZnRlZW5NaW51dGVzQWdvID0gbm93LnN1YnRyYWN0KDE1LCAnbWludXRlcycpXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZGF0ZSBvZiB1cGNvbWluZ0RhdGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZVN0cmluZyA9IGRhdGUuZm9ybWF0KCdZWVlZLU1NLUREJykgIC8vIERheS5qcyBmb3JtYXQgZm9yICdZWVlZLU1NLUREJ1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRDb3ZlcmFnZUFuZEZyZXNobmVzcyA9IHRoaXMud2Vla2x5Q29udGVudC5zb21lKGNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50RGF0ZSA9IGRheWpzKGNvbnRlbnQuc3RhcnRUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQnKSAgLy8gQ29udmVydCBhbmQgY29tcGFyZSBhcyAnWVlZWS1NTS1ERCdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEZldGNoZWRUaW1lID0gdGhpcy5kYXRhRmV0Y2hMb2dbZGF0ZVN0cmluZ11cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNGcmVzaCA9IGxhc3RGZXRjaGVkVGltZSAmJiBkYXlqcyhsYXN0RmV0Y2hlZFRpbWUpID4gZmlmdGVlbk1pbnV0ZXNBZ29cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmcgPT09IGNvbnRlbnREYXRlICYmIGlzRnJlc2hcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZW50Q292ZXJhZ2VBbmRGcmVzaG5lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBkYXRlIG5lZWRzIGRhdGEgZmV0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaERhdGFBbmRVcGRhdGVMb2coZGF0ZVN0cmluZywgZGF0ZS50b0RhdGUoKSkgLy8gUGFzcyBhcyBEYXRlIGlmIG5lZWRlZCwgb3IgYWRqdXN0IGRvd25zdHJlYW0gZnVuY3Rpb25zIHRvIGFjY2VwdCBEYXkuanMgb2JqZWN0c1xuICAgICAgICAgICAgICAgICAgICBicmVhayAvLyBBc3N1bWluZyB5b3UgZmV0Y2ggZGF0YSBmb3IgdGhlIHdlZWssIHNvIG5vIG5lZWQgdG8gY2hlY2sgZnVydGhlciBkYXRlcyB3aXRoaW4gdGhlIHNhbWUgd2Vla1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZmV0Y2hEYXRhQW5kVXBkYXRlTG9nKGRhdGVTdHJpbmcsIGRhdGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQXNzdW1pbmcgJ2RhdGUnIGlzIGFscmVhZHkgYSBEYXkuanMgb2JqZWN0OyBpZiBub3QsIGNvbnZlcnQgaXRcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlEYXRlID0gZGF5anMoZGF0ZSlcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFdlZWtGcm9tRGF0ZShkYXlEYXRlLnRvRGF0ZSgpKSAgLy8gUGFzcyBhcyBhIERhdGUgaWYgbmVlZGVkLCBvciBhZGp1c3QgJ2xvYWRXZWVrRnJvbURhdGUnIHRvIGFjY2VwdCBEYXkuanMgb2JqZWN0c1xuICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3NmdWxseSBmZXRjaGVkLCBzbyB1cGRhdGUgdGhlIGxvZ1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUZldGNoTG9nW2RhdGVTdHJpbmddID0gZGF5anMoKS50b0lTT1N0cmluZygpICAvLyBVc2UgRGF5LmpzIHRvIGdldCB0aGUgY3VycmVudCB0aW1lIGluIElTTyBmb3JtYXRcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YSBmZXRjaGVkIHN1Y2Nlc3NmdWxseSBmb3IgZGF0ZTonLCBkYXRlU3RyaW5nKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZGF0YSBmb3IgZGF0ZSAke2RhdGVTdHJpbmd9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFVwZGF0ZWQgdG8gdXNlIHRoaXMuY3VycmVudFdlZWtTdGFydCBhbmQgdGhpcy5jdXJyZW50V2Vla0VuZCBkaXJlY3RseVxuICAgICAgICBhc3luYyBmZXRjaFdlZWtEYXRhSWZOZWVkZWQoKSB7XG4gICAgICAgICAgICAvLyBBc3N1bWVzIHRoaXMuY3VycmVudFdlZWtTdGFydCBhbmQgdGhpcy5jdXJyZW50V2Vla0VuZCBhcmUgYWxyZWFkeSBzZXRcbiAgICAgICAgICAgIGlmICh0aGlzLm5lZWRzRGF0YUZvcldlZWsoKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tBbmRGZXRjaEZvclVwY29taW5nQ29udGVudCgpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZGF0YSBmb3IgdGhlIHdlZWs6JywgZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZSAvLyBJbmRpY2F0ZXMgZmFpbHVyZSB0byBmZXRjaCB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWVrIGRhdGEgYWxyZWFkeSBsb2FkZWQ7IG5vIG5lZWQgdG8gZmV0Y2guJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBGdW5jdGlvbiB0byBzaW1wbHkgdXBkYXRlIGJhc2VUaW1lIHdpdGggdGhlIGdpdmVuIHRpbWUgKGV4cGVjdGVkIHRvIGJlIGEgRGF5LmpzIG9iamVjdCBvciBjb21wYXRpYmxlIGlucHV0KVxuICAgICAgICB1cGRhdGVCYXNlVGltZSh0aW1lKSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlIHRpbWUgaXMgYSBEYXkuanMgb2JqZWN0IHdoZW4gc2V0dGluZyBiYXNlVGltZVxuICAgICAgICAgICAgdGhpcy5iYXNlVGltZSA9IGRheWpzKHRpbWUpLnRvRGF0ZSgpICAvLyBDb252ZXJ0IHRvIERhdGUgaWYgbmVjZXNzYXJ5OyBjb25zaWRlciBrZWVwaW5nIGl0IGFzIERheS5qcyBvYmplY3QgaWYgcG9zc2libGVcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBGdW5jdGlvbiB0byBzZXQgYmFzZVRpbWUgYmFzZWQgb24gYSBuZXcgdGltZSBpbnB1dCAoZXhwZWN0ZWQgdG8gYmUgYSBzdHJpbmcsIERhdGUsIGV0Yy4pXG4gICAgICAgIHNldEJhc2VUaW1lKG5ld1RpbWUpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgbmV3VGltZSB0byBhIERheS5qcyBvYmplY3QgYW5kIHRoZW4gdG8gRGF0ZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgIHRoaXMuYmFzZVRpbWUgPSBkYXlqcyhuZXdUaW1lKS50b0RhdGUoKSAgLy8gVGhpcyBoYW5kbGVzIHZhcmlvdXMgaW5wdXQgZm9ybWF0cyBhbmQgZW5zdXJlcyBjb25zaXN0ZW5jeVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIG9yY2hlc3RyYXRlcyB0aGUgdXBkYXRlIG9mIHNob3cgc2NoZWR1bGluZyBkYXRhIGZvciB0aGUgbmV4dCBmb3VyIGhvdXJzLlxuICAgICAgICAgKiBJdCBpcyBkZXNpZ25lZCB0byBiZSB0cmlnZ2VyZWQgd2hlbiB0aGVyZSBhcmUgY2hhbmdlcyB0byB0aGUgYmFzZSB0aW1lIG9yIHdoZW4gYSBtYW51YWwgcmVmcmVzaCBpcyBuZWVkZWQuXG4gICAgICAgICAqIFRoZSBtZXRob2QgaGFuZGxlcyBsb2FkaW5nIGFuZCBvcmdhbml6aW5nIHRoZSBzY2hlZHVsaW5nIGRhdGEgdG8gYmUgcmVhZHkgZm9yIGRpc3BsYXkgaW4gdGhlIGdyaWQuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyB1cGRhdGVOZXh0Rm91ckhvdXJzKCkge1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBsb2FkaW5nIHN0YXRlIHRvIHRydWUgdG8gaW5kaWNhdGUgdGhhdCBkYXRhIHByb2Nlc3NpbmcgaXMgdW5kZXJ3YXkuXG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSB1c2VkIHRvIGRpc3BsYXkgYSBsb2FkaW5nIHNwaW5uZXIgb3IgZGlzYWJsZSB1c2VyIGludGVyYWN0aW9uIHRlbXBvcmFyaWx5LlxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUlzTG9hZGluZyA9IHRydWVcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0aW1lIHJhbmdlIGZvciB0aGUgc2NoZWR1bGluZyBncmlkLiBUaGlzIGFkanVzdHMgYGN1cnJlbnRIYWxmSG91cmAgYW5kIGBmb3VySG91cnNMYXRlcmBcbiAgICAgICAgICAgIC8vIGJhc2VkIG9uIHRoZSBjdXJyZW50IGBiYXNlVGltZWAuIFRoZXNlIHZhbHVlcyBkZWZpbmUgdGhlIHJhbmdlIG9mIHRpbWUgZm9yIHdoaWNoIHNob3dzIHdpbGwgYmUgZGlzcGxheWVkLlxuICAgICAgICAgICAgdGhpcy51cGRhdGVUaW1lUmFuZ2UoKVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHRpbWUgc2xvdHNcbiAgICAgICAgICAgIHRoaXMuc2V0VGltZVNsb3RzKClcblxuICAgICAgICAgICAgLy8gUHJlcGFyZXMgdGhlIHNob3dzIGZvciB0aGUgZ3JpZCBkaXNwbGF5IGJ5IGZpbHRlcmluZywgY2FsY3VsYXRpbmcgZ3JpZCBzbG90cyxcbiAgICAgICAgICAgIC8vIHJlc29sdmluZyBjb25mbGljdHMsIGFuZCBvcHRpb25hbGx5IGZpbGxpbmcgZW1wdHkgZ3JpZCBzbG90cyB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgICAgICAgIC8vIFRoaXMgc3RlcCBpbnZvbHZlcyBzZXZlcmFsIGZ1bmN0aW9ucyB0aGF0IGVuc3VyZSBzaG93cyBhcmUgcG9zaXRpb25lZCBjb3JyZWN0bHkgYWNjb3JkaW5nIHRvIHRoZWlyXG4gICAgICAgICAgICAvLyBzdGFydCB0aW1lLCBkdXJhdGlvbiwgYW5kIGNvbmZsaWN0cyB3aXRoIG90aGVyIHNob3dzLlxuICAgICAgICAgICAgdGhpcy5wcmVwYXJlU2hvd3NGb3JHcmlkKClcblxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGxvYWRpbmcgc3RhdGUgdG8gZmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIGRhdGEgcHJvY2Vzc2luZyBpcyBjb21wbGV0ZS5cbiAgICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIHRoZSB1c2VyIGludGVyZmFjZSB0byBiZSBpbnRlcmFjdGl2ZSBhZ2FpbiBhbmQgc2hvd3MgdGhlIHVwZGF0ZWQgZGF0YSBpbiB0aGUgZ3JpZC5cbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVJc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgdXBkYXRlVGltZVJhbmdlKCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBiYXNlVGltZSBpcyBpbnRlcnByZXRlZCBjb3JyZWN0bHkgaW4gdGhlIGN1cnJlbnQgdXNlcidzIHRpbWV6b25lXG4gICAgICAgICAgICBjb25zdCBiYXNlRGF0ZSA9IGRheWpzKHRoaXMuYmFzZVRpbWUpLnR6KGdldFRpbWVab25lKCkpXG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcm91bmRlZCBtaW51dGVzIHRvIGVpdGhlciAwIG9yIDMwIGJhc2VkIG9uIHRoZSBjdXJyZW50IHRpbWVcbiAgICAgICAgICAgIGNvbnN0IHJvdW5kZWRNaW51dGVzID0gYmFzZURhdGUubWludXRlKCkgPCAzMCA/IDAgOiAzMFxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGN1cnJlbnQgaGFsZiBob3VyLCByb3VuZGluZyBkb3duIHRvIHRoZSBuZWFyZXN0IGhhbGYtaG91ciBtYXJrXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SGFsZkhvdXIgPSBiYXNlRGF0ZS5taW51dGUocm91bmRlZE1pbnV0ZXMpLnNlY29uZCgwKS5taWxsaXNlY29uZCgwKS5zdGFydE9mKCdtaW51dGUnKVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgZm91ciBob3VycyBsYXRlciBmcm9tIHRoZSBjdXJyZW50IGhhbGYtaG91ciBtYXJrXG4gICAgICAgICAgICBjb25zdCBmb3VySG91cnNMYXRlciA9IGN1cnJlbnRIYWxmSG91ci5hZGQoNCwgJ2hvdXJzJylcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBzdG9yZSdzIGN1cnJlbnRIYWxmSG91ciBhbmQgZm91ckhvdXJzTGF0ZXIgZW5zdXJpbmcgdGhleSBhcmUgRGF0ZSBvYmplY3RzIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRIYWxmSG91ciA9IGN1cnJlbnRIYWxmSG91ci50b0RhdGUoKVxuICAgICAgICAgICAgdGhpcy5mb3VySG91cnNMYXRlciA9IGZvdXJIb3Vyc0xhdGVyLnRvRGF0ZSgpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBzaG93cyBiZXR3ZWVuOicsIGN1cnJlbnRIYWxmSG91ci5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSwgJ2FuZCcsIGZvdXJIb3Vyc0xhdGVyLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpKVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldFRpbWVTbG90cygpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcFNldHRpbmdTdG9yZSA9IHVzZUFwcFNldHRpbmdTdG9yZSgpXG4gICAgICAgICAgICBsZXQgc2xvdEhvdXJzXG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgbnVtYmVyIG9mIHNsb3QgaG91cnMgYmFzZWQgb24gc2NyZWVuIHNpemVcbiAgICAgICAgICAgIGlmIChhcHBTZXR0aW5nU3RvcmUuaXNWZXJ5U21hbGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBzbG90SG91cnMgPSB0aGlzLnZlcnlTbWFsbFNjcmVlblNsb3RIb3Vyc1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhcHBTZXR0aW5nU3RvcmUuaXNTbWFsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHNsb3RIb3VycyA9IHRoaXMuc21hbGxTY3JlZW5TbG90SG91cnNcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2xvdEhvdXJzID0gdGhpcy5tZWRpdW1TY3JlZW5TbG90SG91cnNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWxNaW51dGVzID0gdGhpcy5zbG90SW50ZXJ2YWxNaW51dGVzXG4gICAgICAgICAgICBjb25zdCBzbG90cyA9IFtdXG4gICAgICAgICAgICBjb25zdCB0b3RhbFNsb3RzID0gKHNsb3RIb3VycyAqIDYwKSAvIGludGVydmFsTWludXRlc1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgc3RhdGUuY3VycmVudEhhbGZIb3VyIGlzIGEgRGF5LmpzIG9iamVjdFxuICAgICAgICAgICAgY29uc3QgY3VycmVudEhhbGZIb3VyID0gZGF5anModGhpcy5jdXJyZW50SGFsZkhvdXIpXG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdGltZSBmb3IgZWFjaCBzbG90IHVzaW5nIERheS5qc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFNsb3RzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc2xvdFRpbWUgPSBjdXJyZW50SGFsZkhvdXIuYWRkKGkgKiBpbnRlcnZhbE1pbnV0ZXMsICdtaW51dGUnKVxuICAgICAgICAgICAgICAgIHNsb3RzLnB1c2goc2xvdFRpbWUudG9EYXRlKCkpICAvLyBDb252ZXJ0IGJhY2sgdG8gSmF2YVNjcmlwdCBEYXRlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50aW1lU2xvdHMgPSBzbG90c1xuICAgICAgICAgICAgcmV0dXJuIHNsb3RzLmxlbmd0aFxuICAgICAgICB9LFxuXG4gICAgICAgIHByZXBhcmVTaG93c0ZvckdyaWQoKSB7XG4gICAgICAgICAgICAvLyBTdGVwIDE6IEZpbHRlciBzaG93cyB3aXRoaW4gdGhlIGRlc2lyZWQgdGltZSByYW5nZVxuICAgICAgICAgICAgY29uc3Qgc2hvd3MgPSB0aGlzLmZpbHRlclNob3dzRm9yVGltZVJhbmdlKClcblxuICAgICAgICAgICAgLy8gU3RlcCAyOiBDYWxjdWxhdGUgaW5pdGlhbCBncmlkIHNsb3RzIGZvciB0aGVzZSBzaG93c1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkU2hvd3MgPSB0aGlzLmNhbGN1bGF0ZUdyaWRTbG90cyhzaG93cywgdGhpcy50aW1lU2xvdHMpXG5cbiAgICAgICAgICAgIGlmICghdGhpcy50aW1lU2xvdHMgfHwgIUFycmF5LmlzQXJyYXkodGhpcy50aW1lU2xvdHMpIHx8IHRoaXMudGltZVNsb3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3RpbWVTbG90cyBpcyBub3QgcHJvcGVybHkgaW5pdGlhbGl6ZWQuJylcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdGhpcyBzY2VuYXJpbywgZS5nLiwgYnkgaW5pdGlhbGl6aW5nIHRpbWVTbG90cywgb3Igc2tpcHBpbmcgdGhlIHVwZGF0ZVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdGVwIDM6IFByb2Nlc3Mgc2hvd3MgdG8gc2V0IG5vd1BsYXlpbmcgYW5kIGNvbWluZ1VwTmV4dCBmbGFnc1xuICAgICAgICAgICAgY29uc3Qgc2hvd3NXaXRoU3RhdHVzRmxhZ3MgPSB0aGlzLnByb2Nlc3NTaG93cyhwcm9jZXNzZWRTaG93cylcblxuICAgICAgICAgICAgLy8gU3RlcCA0OiBVcGRhdGUgY29sdW1uIG9jY3VwYW5jeSBhbmQgZmluZCB0aGUgbWF4aW11bSByb3cgdXNlZFxuICAgICAgICAgICAgY29uc3Qge2NvbE9jY3VwYW5jeSwgbWF4Um93VXNlZH0gPSB0aGlzLnVwZGF0ZUNvbHVtbk9jY3VwYW5jeShzaG93c1dpdGhTdGF0dXNGbGFncywgdGhpcy50aW1lU2xvdHMubGVuZ3RoKVxuXG4gICAgICAgICAgICAvLyBTdGVwIDU6IEZpbGwgZ2FwcyBpbiB0aGUgZ3JpZCB3aXRoIHBsYWNlaG9sZGVyc1xuICAgICAgICAgICAgY29uc3QgZ3JpZEl0ZW1zID0gdGhpcy5maWxsR2Fwc0FuZENyZWF0ZVBsYWNlaG9sZGVycyhjb2xPY2N1cGFuY3ksIG1heFJvd1VzZWQsIHRoaXMudGltZVNsb3RzLmxlbmd0aClcblxuICAgICAgICAgICAgLy8gU3RlcCA2OiBDb21iaW5lIHByb2Nlc3NlZCBzaG93cyB3aXRoIHRoZSBwbGFjZWhvbGRlcnNcbiAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkU2hvd3MgPSBbLi4uc2hvd3NXaXRoU3RhdHVzRmxhZ3MsIC4uLmdyaWRJdGVtc11cblxuICAgICAgICAgICAgLy8gU3RlcCA3OiBTb3J0IGFuZCBncm91cCBzaG93cyBieSByb3dzXG4gICAgICAgICAgICB0aGlzLm5leHRGb3VySG91cnNPZkNvbnRlbnQgPSB0aGlzLnNvcnRTaG93c0J5UG9zaXRpb24oY29tYmluZWRTaG93cylcbiAgICAgICAgfSxcblxuICAgICAgICBmaWx0ZXJTaG93c0ZvclRpbWVSYW5nZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndlZWtseUNvbnRlbnQuZmlsdGVyKHNob3cgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHNob3cgZGF0YSBpbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNob3cuc3RhcnRUaW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc2hvdy5kdXJhdGlvbk1pbnV0ZXMgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBzaG93IGRhdGE6Jywgc2hvdy5zdGFydFRpbWUsIHNob3cuZHVyYXRpb25NaW51dGVzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UgLy8gU2tpcCB0aGlzIHNob3cgaWYgaXQgZG9lc24ndCBtZWV0IGRhdGEgZXhwZWN0YXRpb25zXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd1N0YXJ0ID0gZGF5anMoc2hvdy5zdGFydFRpbWUpXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd0VuZCA9IGRheWpzKHNob3cuZW5kVGltZSlcbiAgICAgICAgICAgICAgICBjb25zdCBpc0luVGltZVJhbmdlID0gc2hvd1N0YXJ0LmlzQmVmb3JlKHRoaXMuZm91ckhvdXJzTGF0ZXIpICYmIHNob3dFbmQuaXNBZnRlcih0aGlzLmN1cnJlbnRIYWxmSG91cilcblxuICAgICAgICAgICAgICAgIC8vIERldGFpbGVkIGxvZ2dpbmcgZm9yIGRlYnVnZ2luZ1xuICAgICAgICAgICAgICAgIGlmIChpc0luVGltZVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1N0YXJ0ZWQgPSBzaG93U3RhcnQuaXNCZWZvcmUodGhpcy5jdXJyZW50SGFsZkhvdXIpID8gJ2FscmVhZHkgc3RhcnRlZCcgOiAnc3RhcnRzIHdpdGhpbiByYW5nZSdcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFNob3c6ICR7c2hvdy5jb250ZW50Lm5hbWV9LCAke2hhc1N0YXJ0ZWR9LCBTdGFydDogJHtzaG93U3RhcnQuZm9ybWF0KCdISDptbTpzcycpfSwgRW5kOiAke3Nob3dFbmQuZm9ybWF0KCdISDptbTpzcycpfSwgRHVyYXRpb246ICR7c2hvdy5kdXJhdGlvbk1pbnV0ZXN9YClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gaXNJblRpbWVSYW5nZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBjYWxjdWxhdGVHcmlkU2xvdHMoc2hvd3MsIHRpbWVTbG90cykge1xuICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhlIHRpbWVTbG90cyBhcnJheSB0byBwcmV2ZW50IGVycm9yc1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRpbWVTbG90cykgfHwgdGltZVNsb3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgb3IgZW1wdHkgdGltZVNsb3RzIGFycmF5JylcbiAgICAgICAgICAgICAgICByZXR1cm4gW10gLy8gRXhpdCBpZiBubyB2YWxpZCB0aW1lIHNsb3RzIHRvIHdvcmsgd2l0aFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHJhbmdlIG9mIHRpbWVTbG90c1xuICAgICAgICAgICAgY29uc3QgZmlyc3RUaW1lU2xvdCA9IGRheWpzKHRpbWVTbG90c1swXSlcbiAgICAgICAgICAgIGNvbnN0IGxhc3RUaW1lU2xvdCA9IGRheWpzKHRpbWVTbG90c1t0aW1lU2xvdHMubGVuZ3RoIC0gMV0pLmFkZCgzMCwgJ21pbnV0ZXMnKVxuXG5cbiAgICAgICAgICAgIHJldHVybiBzaG93cy5maWx0ZXIoc2hvdyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd1N0YXJ0ID0gZGF5anMoc2hvdy5zdGFydFRpbWUpXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd0VuZCA9IGRheWpzKHNob3cuZW5kVGltZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1N0YXJ0LmlzQmVmb3JlKGxhc3RUaW1lU2xvdCkgJiYgc2hvd0VuZC5pc0FmdGVyKGZpcnN0VGltZVNsb3QpXG4gICAgICAgICAgICB9KS5tYXAoc2hvdyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd1N0YXJ0ID0gZGF5anMoc2hvdy5zdGFydFRpbWUpXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd0VuZCA9IGRheWpzKHNob3cuZW5kVGltZSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqJylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBzaG93OiAke3Nob3cuY29udGVudC5uYW1lfSwgU3RhcnQ6ICR7c2hvdy5zdGFydFRpbWV9LCBFbmQ6ICR7c2hvdy5lbmRUaW1lfWApXG5cbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgc2xvdCB3aGVyZSB0aGUgc2hvdyBzaG91bGQgc3RhcnRcbiAgICAgICAgICAgICAgICBsZXQgc2xvdEluZGV4ID0gdGltZVNsb3RzLmZpbmRJbmRleChzbG90ID0+IHNob3dTdGFydC5pc1NhbWVPckJlZm9yZShkYXlqcyhzbG90KSkpXG5cbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgaWYgdGhlIHNob3cgc3RhcnRzIGV4YWN0bHkgYXQgYSBzbG90IHRpbWUgb3IganVzdCBhZnRlciB0aGUgbGFzdCBjaGVja2VkIHNsb3QgdGltZVxuICAgICAgICAgICAgICAgIGlmIChzbG90SW5kZXggPT09IC0xIHx8IHNob3dTdGFydC5pc0FmdGVyKGRheWpzKHRpbWVTbG90c1tzbG90SW5kZXhdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xvdEluZGV4ID0gTWF0aC5tYXgoMCwgc2xvdEluZGV4KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb21wYXJpbmcgc2hvdyBzdGFydCAke3Nob3dTdGFydC5mb3JtYXQoKX0gdG8gdGltZVNsb3QgaW5kZXggJHtzbG90SW5kZXh9IGF0ICR7ZGF5anModGltZVNsb3RzW3Nsb3RJbmRleF0pLmZvcm1hdCgpfWApXG5cbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGVuZCBzbG90IGluZGV4XG4gICAgICAgICAgICAgICAgbGV0IGVuZFNsb3RJbmRleCA9IHRpbWVTbG90cy5maW5kSW5kZXgoc2xvdCA9PiBzaG93RW5kLmlzU2FtZU9yQmVmb3JlKGRheWpzKHNsb3QpLmFkZCgzMCwgJ21pbnV0ZXMnKSkpXG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZW5kIHNsb3QgaW5kZXggcG9pbnRzIHRvIGEgc2xvdCB0aGF0IHN0YXJ0cyBhZnRlciB0aGUgc2hvdyBlbmRzLCBzdWJ0cmFjdCBvbmVcbiAgICAgICAgICAgICAgICBpZiAoZW5kU2xvdEluZGV4ICE9PSAtMSAmJiBzaG93RW5kLmlzQmVmb3JlKGRheWpzKHRpbWVTbG90c1tlbmRTbG90SW5kZXhdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kU2xvdEluZGV4LS1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdGhlIHNob3cgZW5kcyBhZnRlciB0aGUgbGFzdCBzbG90XG4gICAgICAgICAgICAgICAgaWYgKGVuZFNsb3RJbmRleCA9PT0gLTEgfHwgc2hvd0VuZC5pc1NhbWUoZGF5anModGltZVNsb3RzW3RpbWVTbG90cy5sZW5ndGggLSAxXSkuYWRkKDMwLCAnbWludXRlcycpKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRTbG90SW5kZXggPSB0aW1lU2xvdHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb21wYXJpbmcgc2hvdyBlbmQgJHtzaG93RW5kLmZvcm1hdCgpfSB0byB0aW1lU2xvdCBpbmRleCAke2VuZFNsb3RJbmRleH0gYXQgJHtlbmRTbG90SW5kZXggIT09IC0xID8gZGF5anModGltZVNsb3RzW2VuZFNsb3RJbmRleF0pLmZvcm1hdCgpIDogJ291dCBvZiByYW5nZSd9YClcblxuXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2Ygc2xvdHMgdGhlIHNob3cgc2hvdWxkIHNwYW5cbiAgICAgICAgICAgICAgICBsZXQgc3BhbiA9IGVuZFNsb3RJbmRleCAtIHNsb3RJbmRleCArIDFcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDYWxjdWxhdGVkIGdyaWRTdGFydDogJHtzbG90SW5kZXggKyAxfSwgZ3JpZFNwYW46ICR7c3Bhbn1gKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc2hvdyxcbiAgICAgICAgICAgICAgICAgICAgZ3JpZFN0YXJ0OiBzbG90SW5kZXggKyAxLCAvLyBDb252ZXJ0IHRvIDEtYmFzZWQgaW5kZXggZm9yIGdyaWQgcG9zaXRpb25pbmdcbiAgICAgICAgICAgICAgICAgICAgZ3JpZFNwYW46IHNwYW4sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBwcm9jZXNzU2hvd3Moc2hvd3MpIHtcbiAgICAgICAgICAgIGxldCBjb21pbmdVcE5leHRTZXQgPSBmYWxzZVxuXG4gICAgICAgICAgICBzaG93cy5mb3JFYWNoKHNob3cgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gZGF5anMoc2hvdy5zdGFydFRpbWUpXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gc3RhcnQuYWRkKHNob3cuZHVyYXRpb25NaW51dGVzLCAnbWludXRlcycpXG4gICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gZGF5anModGhpcy5iYXNlVGltZSlcblxuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBpZiB0aGUgc2hvdyBpcyBub3cgcGxheWluZ1xuICAgICAgICAgICAgICAgIHNob3cubm93UGxheWluZyA9ICFzaG93LnBsYWNlaG9sZGVyICYmIG5vdy5pc0FmdGVyKHN0YXJ0KSAmJiBub3cuaXNCZWZvcmUoZW5kKSAmJiBzaG93LmdyaWRTdGFydCA9PT0gMVxuXG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgZmlyc3Qgc2hvdyB0aGF0IGRvZXMgbm90IHN0YXJ0IGluIHRoZSBmaXJzdCBncmlkIGNvbHVtblxuICAgICAgICAgICAgICAgIGlmICghY29taW5nVXBOZXh0U2V0ICYmICFzaG93LnBsYWNlaG9sZGVyICYmIHNob3cuZ3JpZFN0YXJ0ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBzaG93LmNvbWluZ1VwTmV4dCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY29taW5nVXBOZXh0U2V0ID0gdHJ1ZSAgLy8gRW5zdXJlIG9ubHkgb25lIHNob3cgZ2V0cyB0aGlzIGZsYWdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXR1cm4gc2hvd3NcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVDb2x1bW5PY2N1cGFuY3kocHJvY2Vzc2VkU2hvd3MsIGNvbHMpIHtcbiAgICAgICAgICAgIGxldCBjb2xPY2N1cGFuY3kgPSBuZXcgQXJyYXkoY29scykuZmlsbChudWxsKS5tYXAoKCkgPT4gbmV3IFNldCgpKVxuICAgICAgICAgICAgbGV0IG1heFJvd1VzZWQgPSAwXG4gICAgICAgICAgICBwcm9jZXNzZWRTaG93cy5mb3JFYWNoKHNob3cgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzaG93LmdyaWRTdGFydCAtIDE7IGkgPCBzaG93LmdyaWRTdGFydCAtIDEgKyBzaG93LmdyaWRTcGFuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgY29scykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sT2NjdXBhbmN5W2ldLmFkZChzaG93LmdyaWRSb3cpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhSb3dVc2VkID0gTWF0aC5tYXgobWF4Um93VXNlZCwgc2hvdy5ncmlkUm93KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybiB7Y29sT2NjdXBhbmN5LCBtYXhSb3dVc2VkfVxuICAgICAgICB9LFxuXG4gICAgICAgIGZpbGxHYXBzQW5kQ3JlYXRlUGxhY2Vob2xkZXJzKGNvbE9jY3VwYW5jeSwgbWF4Um93VXNlZCwgY29scykge1xuICAgICAgICAgICAgbGV0IGdyaWRJdGVtcyA9IFtdXG4gICAgICAgICAgICAvLyBFbnN1cmUgYXQgbGVhc3Qgb25lIHJvdyBpcyBwcm9jZXNzZWQgZXZlbiBpZiBubyBzaG93cyBhcmUgcHJlc2VudFxuICAgICAgICAgICAgbWF4Um93VXNlZCA9IE1hdGgubWF4KG1heFJvd1VzZWQsIDEpXG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAxOyByb3cgPD0gbWF4Um93VXNlZDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICBncmlkSXRlbXMucHVzaCguLi50aGlzLmZpbmRBbmRGaWxsR2Fwc0ZvclNpbmdsZVJvdyhjb2xPY2N1cGFuY3ksIHJvdywgY29scykpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JpZEl0ZW1zXG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluZEFuZEZpbGxHYXBzRm9yU2luZ2xlUm93KGNvbE9jY3VwYW5jeSwgcm93LCBjb2xzKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZEl0ZW1zID0gW11cbiAgICAgICAgICAgIGxldCBnYXBTdGFydCA9IC0xXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghY29sT2NjdXBhbmN5W2ldLmhhcyhyb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhcFN0YXJ0ID0gZ2FwU3RhcnQgPT09IC0xID8gaSA6IGdhcFN0YXJ0XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnYXBTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGRpZmZlcmVudCBwbGFjZWhvbGRlcnMgYmFzZWQgb24gdGhlIHJvdyBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdyA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW1zLnB1c2godGhpcy5jcmVhdGVQbGFjZWhvbGRlcihnYXBTdGFydCArIDEsIGkgLSBnYXBTdGFydCwgcm93KSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRJdGVtcy5wdXNoKHRoaXMuY3JlYXRlQmxhbmtTcG90UGxhY2Vob2xkZXIoZ2FwU3RhcnQgKyAxLCBpIC0gZ2FwU3RhcnQsIHJvdykpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2FwU3RhcnQgPSAtMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYXBTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBBZ2FpbiwgZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHRoZSBmaXJzdCByb3cgYW5kIG90aGVyIHJvd3NcbiAgICAgICAgICAgICAgICBpZiAocm93ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRJdGVtcy5wdXNoKHRoaXMuY3JlYXRlUGxhY2Vob2xkZXIoZ2FwU3RhcnQgKyAxLCBjb2xzIC0gZ2FwU3RhcnQsIHJvdykpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW1zLnB1c2godGhpcy5jcmVhdGVCbGFua1Nwb3RQbGFjZWhvbGRlcihnYXBTdGFydCArIDEsIGNvbHMgLSBnYXBTdGFydCwgcm93KSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JpZEl0ZW1zXG4gICAgICAgIH0sXG5cbiAgICAgICAgc29ydFNob3dzQnlQb3NpdGlvbihjb21iaW5lZFNob3dzKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29tYmluZWRTaG93cykpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFeHBlY3RlZCBhbiBhcnJheSBvZiBzaG93cywgcmVjZWl2ZWQ6JywgY29tYmluZWRTaG93cylcbiAgICAgICAgICAgICAgICByZXR1cm4gW10gLy8gUmV0dXJuIGFuIGVtcHR5IGFycmF5IGlmIG5vdCBhbiBhcnJheSB0byBwcmV2ZW50IGVycm9yc1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTb3J0IHNob3dzIGRpcmVjdGx5IGJ5IHJvdyBhbmQgdGhlbiBieSBzdGFydCBwb3NpdGlvbiB3aXRoaW4gZWFjaCByb3dcbiAgICAgICAgICAgIHJldHVybiBjb21iaW5lZFNob3dzLnNvcnQoKGEsIGIpID0+IGEuZ3JpZFJvdyAtIGIuZ3JpZFJvdyB8fCBhLmdyaWRTdGFydCAtIGIuZ3JpZFN0YXJ0KVxuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZVBsYWNlaG9sZGVyKHN0YXJ0LCBzcGFuLCByb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiAncGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiAwLFxuICAgICAgICAgICAgICAgIGdyaWRTdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgZ3JpZFNwYW46IHNwYW4sXG4gICAgICAgICAgICAgICAgZ3JpZFJvdzogcm93LFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtuYW1lOiAnTm90aGluZyBzY2hlZHVsZWQuJ30sXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY3JlYXRlQmxhbmtTcG90UGxhY2Vob2xkZXIoc3RhcnQsIHNwYW4sIHJvdykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6ICdwbGFjZWhvbGRlcicsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgICAgICAgZ3JpZFN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBncmlkU3Bhbjogc3BhbixcbiAgICAgICAgICAgICAgICBncmlkUm93OiByb3csXG4gICAgICAgICAgICAgICAgY29udGVudDoge25hbWU6ICdCbGFuayBTcG90J30sIC8vIEVuc3VyZSBpdCBpcyBkaWZmZXJlbnRpYXRlZCBmcm9tIG5vcm1hbCBwbGFjZWhvbGRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgIH0sXG5cbiAgICBnZXR0ZXJzOiB7XG4gICAgICAgIGN1cnJlbnRUaW1lOiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkYXlqcyhzdGF0ZS5iYXNlVGltZSkuZm9ybWF0KCdoOm1tIEEnKVxuICAgICAgICB9LFxuICAgICAgICAvLyBQcmVwYXJlIGJhbm5lcnMgd2l0aCBncmlkIHBvc2l0aW9ucyBiYXNlZCBvbiBjdXJyZW50IHRpbWUgc2xvdHNcbiAgICAgICAgcHJlcGFyZWRUaW1lQmFubmVyczogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aW1lWm9uZSA9IGdldFRpbWVab25lKCk7IC8vIEVuc3VyZSB0aGlzIGlzIGRlZmluZWRcbiAgICAgICAgICAgIGxldCBub3cgPSBkYXlqcygpLnR6KHRpbWVab25lKTtcbiAgICAgICAgICAgIGxldCB0b2RheVN0YXJ0ID0gbm93LnN0YXJ0T2YoJ2RheScpO1xuICAgICAgICAgICAgbGV0IHRvbW9ycm93U3RhcnQgPSB0b2RheVN0YXJ0LmFkZCgxLCAnZGF5Jyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFRpbWUgU2xvdHM6Jywgc3RhdGUudGltZVNsb3RzLm1hcChzbG90ID0+IGRheWpzKHNsb3QpLmZvcm1hdCgnSEg6bW0nKSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUudGltZUJhbm5lcnMuZmxhdE1hcChiYW5uZXIgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBiYW5uZXIgdGltZXMgZm9yIHRvZGF5IGFuZCB0b21vcnJvdyB0byBoYW5kbGUgb3Zlcm5pZ2h0IHNwYW5zXG4gICAgICAgICAgICAgICAgbGV0IGJhbm5lclRvZGF5U3RhcnQgPSB0b2RheVN0YXJ0LmhvdXIocGFyc2VJbnQoYmFubmVyLnN0YXJ0VGltZS5zcGxpdCgnOicpWzBdKSkubWludXRlKHBhcnNlSW50KGJhbm5lci5zdGFydFRpbWUuc3BsaXQoJzonKVsxXSkpO1xuICAgICAgICAgICAgICAgIGxldCBiYW5uZXJUb2RheUVuZCA9IGJhbm5lclRvZGF5U3RhcnQuY2xvbmUoKS5hZGQoYmFubmVyLmR1cmF0aW9uLCAnaG91cnMnKTtcbiAgICAgICAgICAgICAgICBsZXQgYmFubmVyVG9tb3Jyb3dTdGFydCA9IHRvbW9ycm93U3RhcnQuaG91cihwYXJzZUludChiYW5uZXIuc3RhcnRUaW1lLnNwbGl0KCc6JylbMF0pKS5taW51dGUocGFyc2VJbnQoYmFubmVyLnN0YXJ0VGltZS5zcGxpdCgnOicpWzFdKSk7XG4gICAgICAgICAgICAgICAgbGV0IGJhbm5lclRvbW9ycm93RW5kID0gYmFubmVyVG9tb3Jyb3dTdGFydC5jbG9uZSgpLmFkZChiYW5uZXIuZHVyYXRpb24sICdob3VycycpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIGFycmF5IG9mIHBvdGVudGlhbCBiYW5uZXJzIGZvciB0b2RheSBhbmQgdG9tb3Jyb3dcbiAgICAgICAgICAgICAgICBsZXQgcG90ZW50aWFsQmFubmVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgeyAuLi5iYW5uZXIsIHN0YXJ0OiBiYW5uZXJUb2RheVN0YXJ0LCBlbmQ6IGJhbm5lclRvZGF5RW5kIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgLi4uYmFubmVyLCBzdGFydDogYmFubmVyVG9tb3Jyb3dTdGFydCwgZW5kOiBiYW5uZXJUb21vcnJvd0VuZCB9XG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwb3RlbnRpYWxCYW5uZXJzLm1hcChiYW5uZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydFNsb3RJbmRleCA9IHN0YXRlLnRpbWVTbG90cy5maW5kSW5kZXgoc2xvdCA9PiBiYW5uZXIuc3RhcnQuaXNTYW1lT3JCZWZvcmUoZGF5anMoc2xvdCkpICYmIGJhbm5lci5lbmQuaXNBZnRlcihkYXlqcyhzbG90KSkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kU2xvdEluZGV4ID0gc3RhdGUudGltZVNsb3RzLmZpbmRJbmRleChzbG90ID0+IGJhbm5lci5lbmQuaXNTYW1lT3JCZWZvcmUoZGF5anMoc2xvdCkpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBZGp1c3QgdGhlIGVuZCBpbmRleCB0byBiZSBpbmNsdXNpdmUgb2YgdGhlIGVuZCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRTbG90SW5kZXggPT09IC0xIHx8IGJhbm5lci5lbmQuaXNBZnRlcihkYXlqcyhzdGF0ZS50aW1lU2xvdHNbc3RhdGUudGltZVNsb3RzLmxlbmd0aCAtIDFdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFNsb3RJbmRleCA9IHN0YXRlLnRpbWVTbG90cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kU2xvdEluZGV4IC09IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBncmlkU3RhcnQgPSBzdGFydFNsb3RJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyaWRTcGFuID0gZW5kU2xvdEluZGV4IC0gc3RhcnRTbG90SW5kZXggKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIEJhbm5lcjogJHtiYW5uZXIubmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFN0YXJ0VGltZTogJHtiYW5uZXIuc3RhcnQuZm9ybWF0KCdISDptbScpfSwgRW5kVGltZTogJHtiYW5uZXIuZW5kLmZvcm1hdCgnSEg6bW0nKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFN0YXJ0U2xvdEluZGV4OiAke3N0YXJ0U2xvdEluZGV4fSwgRW5kU2xvdEluZGV4OiAke2VuZFNsb3RJbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENhbGN1bGF0ZWQgZ3JpZFN0YXJ0OiAke2dyaWRTdGFydH0sIGdyaWRTcGFuOiAke2dyaWRTcGFufWApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgYmFubmVyIHNob3VsZCBiZSBkaXNwbGF5ZWQgd2l0aGluIHRoZSBjdXJyZW50IHRpbWUgc2xvdHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRTdGFydCAmJiBncmlkU3BhbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmJhbm5lciwgZ3JpZFN0YXJ0LCBncmlkU3BhbiB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkuZmlsdGVyKGJhbm5lciA9PiBiYW5uZXIgIT0gbnVsbCk7IC8vIEZpbHRlciBvdXQgYmFubmVycyB0aGF0IGRvbid0IGZpdCB3aXRoaW4gdGhlIGN1cnJlbnQgdGltZSBzbG90c1xuICAgICAgICB9LFxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICAvLyBzZXRUaW1lU2xvdHM6IChzdGF0ZSkgPT4ge1xuICAgICAgICAvLyAgICAgY29uc3QgYXBwU2V0dGluZ1N0b3JlID0gdXNlQXBwU2V0dGluZ1N0b3JlKClcbiAgICAgICAgLy8gICAgIGxldCBzbG90SG91cnNcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIC8vIERldGVybWluZSB0aGUgbnVtYmVyIG9mIHNsb3QgaG91cnMgYmFzZWQgb24gc2NyZWVuIHNpemVcbiAgICAgICAgLy8gICAgIGlmIChhcHBTZXR0aW5nU3RvcmUuaXNWZXJ5U21hbGxTY3JlZW4pIHtcbiAgICAgICAgLy8gICAgICAgICBzbG90SG91cnMgPSBzdGF0ZS52ZXJ5U21hbGxTY3JlZW5TbG90SG91cnNcbiAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAoYXBwU2V0dGluZ1N0b3JlLmlzU21hbGxTY3JlZW4pIHtcbiAgICAgICAgLy8gICAgICAgICBzbG90SG91cnMgPSBzdGF0ZS5zbWFsbFNjcmVlblNsb3RIb3Vyc1xuICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICBzbG90SG91cnMgPSBzdGF0ZS5tZWRpdW1TY3JlZW5TbG90SG91cnNcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGNvbnN0IGludGVydmFsTWludXRlcyA9IHN0YXRlLnNsb3RJbnRlcnZhbE1pbnV0ZXNcbiAgICAgICAgLy8gICAgIGNvbnN0IHNsb3RzID0gW11cbiAgICAgICAgLy8gICAgIGNvbnN0IHRvdGFsU2xvdHMgPSAoc2xvdEhvdXJzICogNjApIC8gaW50ZXJ2YWxNaW51dGVzXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAvLyBFbnN1cmUgc3RhdGUuY3VycmVudEhhbGZIb3VyIGlzIGEgRGF5LmpzIG9iamVjdFxuICAgICAgICAvLyAgICAgY29uc3QgY3VycmVudEhhbGZIb3VyID0gZGF5anMoc3RhdGUuY3VycmVudEhhbGZIb3VyKVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0aW1lIGZvciBlYWNoIHNsb3QgdXNpbmcgRGF5LmpzXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsU2xvdHM7IGkrKykge1xuICAgICAgICAvLyAgICAgICAgIGxldCBzbG90VGltZSA9IGN1cnJlbnRIYWxmSG91ci5hZGQoaSAqIGludGVydmFsTWludXRlcywgJ21pbnV0ZScpXG4gICAgICAgIC8vICAgICAgICAgc2xvdHMucHVzaChzbG90VGltZS50b0RhdGUoKSkgIC8vIENvbnZlcnQgYmFjayB0byBKYXZhU2NyaXB0IERhdGUgaWYgbmVjZXNzYXJ5XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBzdGF0ZS50aW1lU2xvdHMgPSBzbG90c1xuICAgICAgICAvLyAgICAgcmV0dXJuIHNsb3RzLmxlbmd0aFxuICAgICAgICAvLyB9LFxuXG4gICAgICAgIG5leHRGb3VySG91cnNXaXRoSGFsZkhvdXJJbnRlcnZhbHM6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXNlclN0b3JlID0gdXNlVXNlclN0b3JlKCkgLy8gQWNjZXNzIHRoZSB1c2VyIHN0b3JlXG4gICAgICAgICAgICBjb25zdCBhcHBTZXR0aW5nU3RvcmUgPSB1c2VBcHBTZXR0aW5nU3RvcmUoKSAvLyBBY2Nlc3MgdGhlIHNldHRpbmdzIHN0b3JlXG4gICAgICAgICAgICBjb25zdCB1c2VyVGltZXpvbmUgPSB1c2VyU3RvcmUudGltZXpvbmUgLy8gR2V0IHRoZSB1c2VyJ3MgdGltZXpvbmVcbiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSBzdGF0ZS50aW1lU2xvdHMubGVuZ3RoXG5cblxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWxzID0gW11cbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IGRheWpzKHN0YXRlLmJhc2VUaW1lKS50eih1c2VyVGltZXpvbmUpIC8vIEdldCB0aGUgY3VycmVudCB0aW1lIGluIHRoZSB1c2VyJ3MgdGltZXpvbmVcblxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBjdXJyZW50IG1pbnV0ZSBpcyBsZXNzIHRoYW4gMzAgdG8gc3RhcnQgYXQgdGhlIHRvcCBvZiB0aGUgaG91ciBvciBhdCB0aGUgaGFsZi1ob3VyXG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IG5vdy5taW51dGUoKSA8IDMwID8gbm93LnN0YXJ0T2YoJ2hvdXInKSA6IG5vdy5zdGFydE9mKCdob3VyJykuYWRkKDMwLCAnbWludXRlcycpXG5cblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgaW50ZXJ2YWxzIGZvciB0aGUgbmV4dCA0IGhvdXJzLCBlYWNoIDMwIG1pbnV0ZXMgYXBhcnRcbiAgICAgICAgICAgIC8vIEFkanVzdCB0aGUgbG9vcCBjb3VudCBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGNvbHVtbnMvIGludGVydmFscyBuZWVkZWRcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sczsgaSsrKSB7IC8vIEFkanVzdCB0aGUgbnVtYmVyIG9mIGludGVydmFscyBiYXNlZCBvbiB0aGUgc2NyZWVuIHNpemVcbiAgICAgICAgICAgICAgICBpbnRlcnZhbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZDogY3VycmVudC5mb3JtYXQoJ2hoOm1tIEEnKSwgLy8gRm9ybWF0dGVkIHRpbWUgZm9yIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgZGF0ZVRpbWVTdHJpbmc6IGN1cnJlbnQuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyksIC8vIFktbS1kIEg6bTpzIGZvcm1hdCBmb3IgY29tcGFyaXNvbnNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmFkZCgzMCwgJ21pbnV0ZScpIC8vIE1vdmUgdG8gdGhlIG5leHQgMzAtbWludXRlIGludGVydmFsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbHNcbiAgICAgICAgfSxcblxuICAgICAgICB1cGNvbWluZ0NvbnRlbnQ6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgLy8gU2luY2Ugdmlld2luZ1dpbmRvd1N0YXJ0IGlzIG5vdyBhIERheS5qcyBvYmplY3QsIHVzZSBEYXkuanMgbWV0aG9kcyBkaXJlY3RseVxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBkYXlqcyhzdGF0ZS52aWV3aW5nV2luZG93U3RhcnQpLnN1YnRyYWN0KDEsICdob3VyJykgLy8gMSBob3VyIGVhcmxpZXJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0LmFkZCg3LCAnaG91cnMnKSAvLyA2IGhvdXJzIGxhdGVyIGZyb20gdGhlIHN0YXJ0XG5cbiAgICAgICAgICAgIC8vIEdyb3VwIHNob3dzIGJ5IHN0YXJ0IHRpbWUgdXNpbmcgRGF5LmpzXG4gICAgICAgICAgICBjb25zdCBzaG93c0dyb3VwZWRCeVN0YXJ0VGltZSA9IHN0YXRlLndlZWtseUNvbnRlbnQucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtU3RhcnQgPSBkYXlqcyhpdGVtLnN0YXJ0VGltZSkudmFsdWVPZigpIC8vIFVzZSAudmFsdWVPZigpIHRvIGdldCB0aGUgdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgaWYgKCFhY2NbaXRlbVN0YXJ0XSkge1xuICAgICAgICAgICAgICAgICAgICBhY2NbaXRlbVN0YXJ0XSA9IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjY1tpdGVtU3RhcnRdLnB1c2goaXRlbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgICAgICB9LCB7fSlcblxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBzaG93IHdpdGggdGhlIGxvd2VzdCBwcmlvcml0eSBmb3IgZWFjaCBzdGFydCB0aW1lXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFNob3dzID0gT2JqZWN0LnZhbHVlcyhzaG93c0dyb3VwZWRCeVN0YXJ0VGltZSkubWFwKGdyb3VwID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXAucmVkdWNlKChzZWxlY3RlZCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXNlbGVjdGVkIHx8IGl0ZW0ucHJpb3JpdHkgPCBzZWxlY3RlZC5wcmlvcml0eSA/IGl0ZW0gOiBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIH0sIG51bGwpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgc2hvd3MgdGhhdCBmYWxsIHdpdGhpbiB0aGUgbmV4dCA2LWhvdXIgd2luZG93IGFuZCBzb3J0IHRoZW1cbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFNob3dzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbVN0YXJ0ID0gZGF5anMoaXRlbS5zdGFydFRpbWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtU3RhcnQuaXNTYW1lT3JBZnRlcihzdGFydCkgJiYgaXRlbVN0YXJ0LmlzQmVmb3JlKGVuZClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBkYXlqcyhhLnN0YXJ0VGltZSkudW5peCgpIC0gZGF5anMoYi5zdGFydFRpbWUpLnVuaXgoKSkgLy8gU29ydGluZyBieSBVbml4IHRpbWVzdGFtcFxuICAgICAgICB9LFxuXG5cbiAgICAgICAgbmV4dFNpeEhvdXJzOiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8vIEFzc3VtaW5nIHN0YXRlLnZpZXdpbmdXaW5kb3dTdGFydCBpcyBhbHJlYWR5IGEgRGF5LmpzIG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0J3Mgc3RpbGwgYSBuYXRpdmUgRGF0ZSwgY29udmVydCBpdCBmaXJzdDpcbiAgICAgICAgICAgIGxldCBhZGp1c3RlZFN0YXJ0ID0gZGF5anMoc3RhdGUudmlld2luZ1dpbmRvd1N0YXJ0KVxuXG4gICAgICAgICAgICAvLyBBZGQgNiBob3VycyB0byB0aGUgYWRqdXN0ZWQgc3RhcnQgdGltZVxuICAgICAgICAgICAgY29uc3QgZW5kID0gYWRqdXN0ZWRTdGFydC5hZGQoNiwgJ2hvdXJzJylcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgZWFjaCBob3VyIG9mIHRoZSBpbnRlcnZhbCBiZXR3ZWVuIGFkanVzdGVkU3RhcnQgYW5kIGVuZFxuICAgICAgICAgICAgY29uc3QgaG91cnMgPSBbXVxuICAgICAgICAgICAgbGV0IGhvdXIgPSBhZGp1c3RlZFN0YXJ0XG5cbiAgICAgICAgICAgIHdoaWxlIChob3VyLmlzQmVmb3JlKGVuZCkpIHtcbiAgICAgICAgICAgICAgICBob3Vycy5wdXNoKGhvdXIudG9EYXRlKCkpIC8vIENvbnZlcnQgYmFjayB0byBEYXRlIGlmIG5lY2Vzc2FyeTsgb3RoZXJ3aXNlLCBqdXN0IHVzZSBgaG91cmAgaWYgeW91IGNhbiB1c2UgRGF5LmpzIG9iamVjdHMgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICBob3VyID0gaG91ci5hZGQoMSwgJ2hvdXInKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaG91cnNcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRlTWVzc2FnZTogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGFydERheSA9IHN0YXJ0T2ZEYXkoc3RhdGUudmlld2luZ1dpbmRvd1N0YXJ0KVxuICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdChzdGFydERheSwgJ0VFRUUgTU1NTSBkbywgeXl5eScpXG4gICAgICAgICAgICBpZiAoaXNUb2RheShzdGFydERheSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRvZGF5IC0gJHtmb3JtYXR0ZWREYXRlfWBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNZZXN0ZXJkYXkoc3RhcnREYXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZZXN0ZXJkYXkgLSAke2Zvcm1hdHRlZERhdGV9YFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1RvbW9ycm93KHN0YXJ0RGF5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgVG9tb3Jyb3cgLSAke2Zvcm1hdHRlZERhdGV9YFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkRGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGN1cnJlbnRNb250aEluZGV4OiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBzdGF0ZS5jdXJyZW50TW9udGggaXMgY29udmVydGVkIHRvIGEgRGF5LmpzIG9iamVjdFxuICAgICAgICAgICAgY29uc3QgbW9udGggPSBkYXlqcyhzdGF0ZS5jdXJyZW50TW9udGgpXG4gICAgICAgICAgICAvLyBEYXkuanMgbW9udGhzIGFyZSAwLWluZGV4ZWQganVzdCBsaWtlIEphdmFTY3JpcHQgRGF0ZSwgcmV0dXJucyB0aGUgbW9udGggKDAtMTEpXG4gICAgICAgICAgICByZXR1cm4gbW9udGgubW9udGgoKVxuICAgICAgICB9LFxuXG4gICAgICAgIGN1cnJlbnRNb250aE5hbWU6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHN0YXRlLmN1cnJlbnRNb250aCBpcyBjb252ZXJ0ZWQgdG8gYSBEYXkuanMgb2JqZWN0XG4gICAgICAgICAgICBjb25zdCBtb250aCA9IGRheWpzKHN0YXRlLmN1cnJlbnRNb250aClcbiAgICAgICAgICAgIC8vIFJldHVybnMgdGhlIGZ1bGwgbmFtZSBvZiB0aGUgbW9udGgsIGUuZy4sICdKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgZXRjLlxuICAgICAgICAgICAgcmV0dXJuIG1vbnRoLmZvcm1hdCgnTU1NTScpXG4gICAgICAgIH0sXG5cbiAgICAgICAgY3VycmVudFllYXI6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHN0YXRlLmN1cnJlbnRNb250aCBpcyBjb252ZXJ0ZWQgdG8gYSBEYXkuanMgb2JqZWN0XG4gICAgICAgICAgICBjb25zdCBtb250aCA9IGRheWpzKHN0YXRlLmN1cnJlbnRNb250aClcbiAgICAgICAgICAgIC8vIFJldHVybnMgdGhlIHllYXJcbiAgICAgICAgICAgIHJldHVybiBtb250aC55ZWFyKClcbiAgICAgICAgfSxcbiAgICAgICAgaXNUb2RheTogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2RheSA9IGRheWpzKCkgIC8vIEdldHMgdG9kYXkncyBkYXRlIGFzIGEgRGF5LmpzIG9iamVjdFxuICAgICAgICAgICAgY29uc3Qgdmlld2luZ1N0YXJ0ID0gZGF5anMoc3RhdGUudmlld2luZ1dpbmRvd1N0YXJ0KSAgLy8gQ29udmVydCB0byBEYXkuanMgb2JqZWN0IGlmIG5vdCBhbHJlYWR5XG5cbiAgICAgICAgICAgIC8vIENvbXBhcmUgaWYgYm90aCBkYXRlcyBhcmUgdGhlIHNhbWUgY2FsZW5kYXIgZGF5XG4gICAgICAgICAgICByZXR1cm4gdG9kYXkuaXNTYW1lKHZpZXdpbmdTdGFydCwgJ2RheScpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGF5c0luTW9udGg6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgLy8gQXNzdW1pbmcgc3RhdGUuY3VycmVudE1vbnRoIGlzIGEgRGF5LmpzIG9iamVjdDsgaWYgaXQncyBhIERhdGUsIGNvbnZlcnQgaXQ6XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TW9udGggPSBkYXlqcyhzdGF0ZS5jdXJyZW50TW9udGgpXG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2ZDdXJyZW50TW9udGggPSBjdXJyZW50TW9udGguc3RhcnRPZignbW9udGgnKVxuICAgICAgICAgICAgY29uc3QgZW5kT2ZDdXJyZW50TW9udGggPSBjdXJyZW50TW9udGguZW5kT2YoJ21vbnRoJylcblxuICAgICAgICAgICAgLy8gQWRqdXN0IHRoZXNlIHRvIGVuc3VyZSB0aGUgZ3JpZCBzdGFydHMgb24gU3VuZGF5IGFuZCBlbmRzIG9uIFNhdHVyZGF5XG4gICAgICAgICAgICBjb25zdCBzdGFydE9mR3JpZCA9IHN0YXJ0T2ZDdXJyZW50TW9udGguc3RhcnRPZignd2VlaycpICAvLyBBc3N1bWVzIHRoZSB3ZWVrIHN0YXJ0cyBvbiBTdW5kYXkgYnkgZGVmYXVsdFxuICAgICAgICAgICAgY29uc3QgZW5kT2ZHcmlkID0gZW5kT2ZDdXJyZW50TW9udGguZW5kT2YoJ3dlZWsnKSAgICAgICAgLy8gQXNzdW1lcyB0aGUgd2VlayBlbmRzIG9uIFNhdHVyZGF5IGJ5IGRlZmF1bHRcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgdGhlIGRheXMgZm9yIHRoZSBjYWxlbmRhciBncmlkXG4gICAgICAgICAgICBjb25zdCBkYXlzID0gW11cbiAgICAgICAgICAgIGxldCBkYXkgPSBzdGFydE9mR3JpZFxuXG4gICAgICAgICAgICB3aGlsZSAoZGF5LmlzQmVmb3JlKGVuZE9mR3JpZCkgfHwgZGF5LmlzU2FtZShlbmRPZkdyaWQsICdkYXknKSkge1xuICAgICAgICAgICAgICAgIGRheXMucHVzaChkYXkudG9EYXRlKCkpIC8vIENvbGxlY3QgZGF5cyBhcyBEYXRlIG9iamVjdHM7IHJlbW92ZSB0b0RhdGUoKSBpZiB5b3UgY2FuIHVzZSBEYXkuanMgb2JqZWN0cyBkaXJlY3RseVxuICAgICAgICAgICAgICAgIGRheSA9IGRheS5hZGQoMSwgJ2RheScpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXlzXG4gICAgICAgIH0sXG5cbiAgICB9LFxufSlcbiJdLCJuYW1lcyI6WyJfcmVnZW5lcmF0b3JSdW50aW1lIiwiZSIsInQiLCJyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwibiIsImhhc093blByb3BlcnR5IiwibyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJpIiwiU3ltYm9sIiwiYSIsIml0ZXJhdG9yIiwiYyIsImFzeW5jSXRlcmF0b3IiLCJ1IiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ3cmFwIiwiR2VuZXJhdG9yIiwiY3JlYXRlIiwiQ29udGV4dCIsIm1ha2VJbnZva2VNZXRob2QiLCJ0cnlDYXRjaCIsInR5cGUiLCJhcmciLCJjYWxsIiwiaCIsImwiLCJmIiwicyIsInkiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwicCIsImQiLCJnZXRQcm90b3R5cGVPZiIsInYiLCJ2YWx1ZXMiLCJnIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIl9pbnZva2UiLCJBc3luY0l0ZXJhdG9yIiwiaW52b2tlIiwiX3R5cGVvZiIsInJlc29sdmUiLCJfX2F3YWl0IiwidGhlbiIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiRXJyb3IiLCJkb25lIiwibWV0aG9kIiwiZGVsZWdhdGUiLCJtYXliZUludm9rZURlbGVnYXRlIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJUeXBlRXJyb3IiLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsImlzTmFOIiwibGVuZ3RoIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJrZXlzIiwicmV2ZXJzZSIsInBvcCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJydmFsIiwiaGFuZGxlIiwiY29tcGxldGUiLCJmaW5pc2giLCJfY2F0Y2giLCJkZWxlZ2F0ZVlpZWxkIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJpbmZvIiwiZXJyb3IiLCJfYXN5bmNUb0dlbmVyYXRvciIsImZuIiwic2VsZiIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImVyciIsInVuZGVmaW5lZCIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfb2JqZWN0U3ByZWFkIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJvYmoiLCJfdG9Qcm9wZXJ0eUtleSIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsInRvUHJpbWl0aXZlIiwiTnVtYmVyIiwiZGVmaW5lU3RvcmUiLCJ1c2VVc2VyU3RvcmUiLCJ1c2VBcHBTZXR0aW5nU3RvcmUiLCJjcmVhdGVUaW1lU2xvdHMiLCJhZGREYXlzIiwiYWRkSG91cnMiLCJhZGRNb250aHMiLCJlYWNoRGF5T2ZJbnRlcnZhbCIsImVhY2hIb3VyT2ZJbnRlcnZhbCIsImVuZE9mTW9udGgiLCJlbmRPZldlZWsiLCJmb3JtYXQiLCJnZXRIb3VycyIsImdldE1vbnRoIiwiZ2V0WWVhciIsImlzU2FtZURheSIsImlzVG9kYXkiLCJpc1RvbW9ycm93IiwiaXNZZXN0ZXJkYXkiLCJzdGFydE9mRGF5Iiwic3RhcnRPZkhvdXIiLCJzdGFydE9mTW9udGgiLCJzdGFydE9mV2VlayIsInN1Yk1vbnRocyIsImRheWpzIiwiaXNTYW1lT3JBZnRlciIsImlzU2FtZU9yQmVmb3JlIiwicmVsYXRpdmVUaW1lIiwiZHVyYXRpb24iLCJ0aW1lem9uZSIsInV0YyIsIndlZWtPZlllYXIiLCJhZHZhbmNlZEZvcm1hdCIsImV4dGVuZCIsImNvbnZlcnRTY2hlZHVsZVRvVGltZXpvbmUiLCJzY2hlZHVsZURhdGEiLCJ1c2VyU3RvcmUiLCJkYXRhIiwibWFwIiwiaXRlbSIsInN0YXJ0VGltZUluVXNlclR6Iiwic3RhcnRUaW1lIiwiZm9ybWF0RGF0ZVRpbWVGcm9tVXRjVG9Vc2VyVGltZXpvbmUiLCJlbmRUaW1lSW5Vc2VyVHoiLCJlbmRUaW1lIiwiZ2V0VXBjb21pbmdDb250ZW50RGF0ZXMiLCJ2aWV3aW5nV2luZG93U3RhcnQiLCJkYXRlcyIsInN0YXJ0IiwiYWRkIiwidG9EYXRlIiwiZ2V0VGltZVpvbmUiLCJpbml0aWFsU3RhdGUiLCJiYXNlVGltZSIsInR6IiwiY3VycmVudEhhbGZIb3VyIiwic3RhcnRPZiIsIm1pbnV0ZSIsImZvdXJIb3Vyc0xhdGVyIiwiY3VycmVudE1vbnRoIiwic2VsZWN0ZWREYXkiLCJjdXJyZW50V2Vla1N0YXJ0IiwiY3VycmVudFdlZWtFbmQiLCJlbmRPZiIsIm5leHRGb3VySG91cnNPZkNvbnRlbnQiLCJuZXh0Rm91ckhvdXJzT2ZDb250ZW50V2l0aFBsYWNlaG9sZGVycyIsImZpdmVEYXlTaXhIb3VyU2NoZWR1bGUiLCJ0b2RheXNDb250ZW50Iiwid2Vla2x5Q29udGVudCIsImRhdGFGZXRjaExvZyIsInNjaGVkdWxlSXNMb2FkaW5nIiwic2F2aW5nVG9TY2hlZHVsZSIsInNsb3RJbnRlcnZhbE1pbnV0ZXMiLCJtZWRpdW1TY3JlZW5TbG90SG91cnMiLCJzbWFsbFNjcmVlblNsb3RIb3VycyIsInZlcnlTbWFsbFNjcmVlblNsb3RIb3VycyIsInRpbWVTbG90cyIsInRpbWVCYW5uZXJzIiwiaWQiLCJ1c2VTY2hlZHVsZVN0b3JlIiwic3RhdGUiLCJhY3Rpb25zIiwicmVzZXRBbGwiLCJhc3NpZ24iLCJzZXRTZWxlY3RlZERheSIsImRheSIsIl90aGlzIiwiX2NhbGxlZSIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJmZXRjaFdlZWtEYXRhSWZOZWVkZWQiLCJzZXRTZWxlY3RlZERheVRvVG9kYXkiLCJub3ciLCJjaGFuZ2VEYXkiLCJkYXlzIiwiX3RoaXMyIiwiX2NhbGxlZTIiLCJjdXJyZW50VGltZVpvbmUiLCJjdXJyZW50VGltZSIsIm5ld0RheSIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsImhvdXIiLCJzaGlmdEhvdXJzIiwiaG91cnMiLCJfdGhpczMiLCJfY2FsbGVlMyIsIl9jYWxsZWUzJCIsIl9jb250ZXh0MyIsImlzU2FtZSIsImlzRWxldmVuUE0iLCJkYXRlIiwidGltZSIsInN1YnRyYWN0TW9udGgiLCJfdGhpczQiLCJfY2FsbGVlNCIsIl9jYWxsZWU0JCIsIl9jb250ZXh0NCIsInN1YnRyYWN0IiwiY29uc29sZSIsImxvZyIsInQwIiwiY29uY2F0IiwiYWRkTW9udGgiLCJfdGhpczUiLCJfY2FsbGVlNSIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsImZldGNoRml2ZURheVNpeEhvdXJTY2hlZHVsZSIsIl90aGlzNiIsIl9jYWxsZWU2IiwicmVzcG9uc2UiLCJfdGltZXpvbmUiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJheGlvcyIsImdldCIsInVzZXJUaW1lem9uZSIsImZldGNoVG9kYXlzQ29udGVudCIsIl90aGlzNyIsIl9jYWxsZWU3IiwiX3RpbWV6b25lMiIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsInByZWxvYWRXZWVrbHlDb250ZW50IiwiX3RoaXM4IiwiX2NhbGxlZTgiLCJjdXJyZW50RGF0ZSIsIl9jYWxsZWU4JCIsIl9jb250ZXh0OCIsImxvYWRXZWVrRnJvbURhdGUiLCJfdGhpczkiLCJfY2FsbGVlOSIsImZvcm1hdHRlZERhdGUiLCJkYXlEYXRlIiwiZnVsbElTT0RhdGUiLCJfZm9ybWF0dGVkRGF0ZSIsIl90aW1lem9uZTMiLCJuZXdEYXRhIiwiX2NhbGxlZTkkIiwiX2NvbnRleHQ5IiwidG9JU09TdHJpbmciLCJwb3N0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJ1cGRhdGVGZXRjaExvZ3MiLCJ3ZWVrU3RhcnQiLCJ3ZWVrRW5kIiwiZmV0Y2hUaW1lIiwiZXhpc3RpbmdMb2dJbmRleCIsImxhc3RGZXRjaCIsIm5lZWRzRGF0YUZvcldlZWsiLCJmb3JtYXRJU09EYXRlIiwid2Vla1N0YXJ0U3RyIiwid2Vla0VuZFN0ciIsIndlZWtIYXNCZWVuRmV0Y2hlZCIsInNvbWUiLCJsb2dXZWVrU3RhcnRTdHIiLCJsb2dXZWVrRW5kU3RyIiwiY2FsY3VsYXRlRXh0ZW5kZWRFbmRGb3JVcGNvbWluZ0NvbnRlbnQiLCJiYXNlU3RhcnRUaW1lIiwiZXh0ZW5kZWRFbmRUaW1lIiwiY2hlY2tBbmRGZXRjaEZvclVwY29taW5nQ29udGVudCIsIl90aGlzMTAiLCJfY2FsbGVlMTAiLCJ1cGNvbWluZ0RhdGVzIiwiZmlmdGVlbk1pbnV0ZXNBZ28iLCJfaXRlcmF0b3IiLCJfc3RlcCIsIl9sb29wIiwiX2NhbGxlZTEwJCIsIl9jb250ZXh0MTEiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsImRhdGVTdHJpbmciLCJjb250ZW50Q292ZXJhZ2VBbmRGcmVzaG5lc3MiLCJfbG9vcCQiLCJfY29udGV4dDEwIiwiY29udGVudCIsImNvbnRlbnREYXRlIiwibGFzdEZldGNoZWRUaW1lIiwiaXNGcmVzaCIsImZldGNoRGF0YUFuZFVwZGF0ZUxvZyIsInQxIiwiX3RoaXMxMSIsIl9jYWxsZWUxMSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDEyIiwiX3RoaXMxMiIsIl9jYWxsZWUxMiIsIl9jYWxsZWUxMiQiLCJfY29udGV4dDEzIiwidXBkYXRlQmFzZVRpbWUiLCJzZXRCYXNlVGltZSIsIm5ld1RpbWUiLCJ1cGRhdGVOZXh0Rm91ckhvdXJzIiwiX3RoaXMxMyIsIl9jYWxsZWUxMyIsIl9jYWxsZWUxMyQiLCJfY29udGV4dDE0IiwidXBkYXRlVGltZVJhbmdlIiwic2V0VGltZVNsb3RzIiwicHJlcGFyZVNob3dzRm9yR3JpZCIsImJhc2VEYXRlIiwicm91bmRlZE1pbnV0ZXMiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCIsImFwcFNldHRpbmdTdG9yZSIsInNsb3RIb3VycyIsImlzVmVyeVNtYWxsU2NyZWVuIiwiaXNTbWFsbFNjcmVlbiIsImludGVydmFsTWludXRlcyIsInNsb3RzIiwidG90YWxTbG90cyIsInNsb3RUaW1lIiwic2hvd3MiLCJmaWx0ZXJTaG93c0ZvclRpbWVSYW5nZSIsInByb2Nlc3NlZFNob3dzIiwiY2FsY3VsYXRlR3JpZFNsb3RzIiwiQXJyYXkiLCJpc0FycmF5Iiwic2hvd3NXaXRoU3RhdHVzRmxhZ3MiLCJwcm9jZXNzU2hvd3MiLCJfdGhpcyR1cGRhdGVDb2x1bW5PY2MiLCJ1cGRhdGVDb2x1bW5PY2N1cGFuY3kiLCJjb2xPY2N1cGFuY3kiLCJtYXhSb3dVc2VkIiwiZ3JpZEl0ZW1zIiwiZmlsbEdhcHNBbmRDcmVhdGVQbGFjZWhvbGRlcnMiLCJjb21iaW5lZFNob3dzIiwic29ydFNob3dzQnlQb3NpdGlvbiIsIl90aGlzMTQiLCJzaG93IiwiZHVyYXRpb25NaW51dGVzIiwid2FybiIsInNob3dTdGFydCIsInNob3dFbmQiLCJpc0luVGltZVJhbmdlIiwiaXNCZWZvcmUiLCJpc0FmdGVyIiwiaGFzU3RhcnRlZCIsImZpcnN0VGltZVNsb3QiLCJsYXN0VGltZVNsb3QiLCJzbG90SW5kZXgiLCJzbG90IiwiTWF0aCIsIm1heCIsImVuZFNsb3RJbmRleCIsInNwYW4iLCJncmlkU3RhcnQiLCJncmlkU3BhbiIsIl90aGlzMTUiLCJjb21pbmdVcE5leHRTZXQiLCJlbmQiLCJub3dQbGF5aW5nIiwicGxhY2Vob2xkZXIiLCJjb21pbmdVcE5leHQiLCJjb2xzIiwiZmlsbCIsIlNldCIsImdyaWRSb3ciLCJyb3ciLCJmaW5kQW5kRmlsbEdhcHNGb3JTaW5nbGVSb3ciLCJnYXBTdGFydCIsImhhcyIsImNyZWF0ZVBsYWNlaG9sZGVyIiwiY3JlYXRlQmxhbmtTcG90UGxhY2Vob2xkZXIiLCJzb3J0IiwiYiIsInByaW9yaXR5IiwiZ2V0dGVycyIsInByZXBhcmVkVGltZUJhbm5lcnMiLCJ0aW1lWm9uZSIsInRvZGF5U3RhcnQiLCJ0b21vcnJvd1N0YXJ0IiwiZmxhdE1hcCIsImJhbm5lciIsImJhbm5lclRvZGF5U3RhcnQiLCJwYXJzZUludCIsInNwbGl0IiwiYmFubmVyVG9kYXlFbmQiLCJjbG9uZSIsImJhbm5lclRvbW9ycm93U3RhcnQiLCJiYW5uZXJUb21vcnJvd0VuZCIsInBvdGVudGlhbEJhbm5lcnMiLCJzdGFydFNsb3RJbmRleCIsIm5leHRGb3VySG91cnNXaXRoSGFsZkhvdXJJbnRlcnZhbHMiLCJpbnRlcnZhbHMiLCJjdXJyZW50IiwiZm9ybWF0dGVkIiwiZGF0ZVRpbWVTdHJpbmciLCJ1cGNvbWluZ0NvbnRlbnQiLCJzaG93c0dyb3VwZWRCeVN0YXJ0VGltZSIsInJlZHVjZSIsImFjYyIsIml0ZW1TdGFydCIsInZhbHVlT2YiLCJzZWxlY3RlZFNob3dzIiwiZ3JvdXAiLCJzZWxlY3RlZCIsInVuaXgiLCJuZXh0U2l4SG91cnMiLCJhZGp1c3RlZFN0YXJ0IiwiZGF0ZU1lc3NhZ2UiLCJzdGFydERheSIsImN1cnJlbnRNb250aEluZGV4IiwibW9udGgiLCJjdXJyZW50TW9udGhOYW1lIiwiY3VycmVudFllYXIiLCJ5ZWFyIiwidG9kYXkiLCJ2aWV3aW5nU3RhcnQiLCJkYXlzSW5Nb250aCIsInN0YXJ0T2ZDdXJyZW50TW9udGgiLCJlbmRPZkN1cnJlbnRNb250aCIsInN0YXJ0T2ZHcmlkIiwiZW5kT2ZHcmlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/Stores/ScheduleStore.js\n");

/***/ }),

/***/ "./resources/js/Utilities/TimeUtils.js":
/*!*********************************************!*\
  !*** ./resources/js/Utilities/TimeUtils.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTimeSlots: () => (/* binding */ createTimeSlots)\n/* harmony export */ });\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ \"./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/plugin/utc */ \"./node_modules/dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/timezone */ \"./node_modules/dayjs/plugin/timezone.js\");\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__);\n// utilities/timeUtils.js\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default()));\n\n/**\n * Creates an array of Date objects representing time slots.\n *\n * This function generates a sequence of time slots starting from a specified\n * start time, continuing for a given number of hours, and spaced apart\n * by a specified interval in minutes.\n *\n * @param {Date} start - The start time from which to generate slots, as a Date object.\n * @param {number} [durationHours=4] - The total duration for which to generate slots, in hours.\n * @param {number} [intervalMinutes=30] - The interval between each slot, in minutes.\n * @param {string} timezone - The timezone in which the time slots will be calculated.\n * @returns {Date[]} An array of Date objects, each representing a time slot.\n *\n * Example:\n * If start is `new Date('2024-01-01T08:00:00Z')`, durationHours is 2, and intervalMinutes is 30,\n * the output will be an array of Date objects representing the times:\n * `08:00`, `08:30`, `09:00`, and `09:30`.\n */\nfunction createTimeSlots(start) {\n  var durationHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n  var intervalMinutes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 30;\n  var timezone = arguments.length > 3 ? arguments[3] : undefined;\n  // console.log(`Creating time slots starting from ${start}, for ${durationHours} hours, every ${intervalMinutes} minutes in timezone ${timezone}.`);\n  var slots = [];\n  var startTime = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(start).tz(timezone); // Convert start time to the correct time zone\n  for (var i = 0; i < durationHours * 60 / intervalMinutes; i++) {\n    var slotTime = startTime.add(i * intervalMinutes, 'minute').toDate(); // Generate slots in the correct time zone\n    slots.push(slotTime); // Keep as Date object\n  }\n  return slots;\n}\n// export function createTimeSlots(start, durationHours = 4, intervalMinutes = 30) {\n//     let slots = [];\n//     let startTime = dayjs(start).tz(userStore.timezone);  // Convert start time to the correct time zone\n//     for (let i = 0; i < (durationHours * 60) / intervalMinutes; i++) {\n//         let slotTime = new Date(start.getTime() + i * intervalMinutes * 60000);\n//         slots.push(slotTime);  // Keep as Date object\n//     }\n//     return slots;\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvVXRpbGl0aWVzL1RpbWVVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDMEI7QUFDUztBQUNVO0FBRTdDQSxtREFBWSxDQUFDQyx5REFBRyxDQUFDO0FBQ2pCRCxtREFBWSxDQUFDRSw4REFBUSxDQUFDOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTRSxlQUFlQSxDQUFDQyxLQUFLLEVBQXFEO0VBQUEsSUFBbkRDLGFBQWEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQztFQUFBLElBQUVHLGVBQWUsR0FBQUgsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtFQUFBLElBQUVMLFFBQVEsR0FBQUssU0FBQSxDQUFBQyxNQUFBLE9BQUFELFNBQUEsTUFBQUUsU0FBQTtFQUNwRjtFQUNBLElBQUlFLEtBQUssR0FBRyxFQUFFO0VBQ2QsSUFBSUMsU0FBUyxHQUFHWiw0Q0FBSyxDQUFDSyxLQUFLLENBQUMsQ0FBQ1EsRUFBRSxDQUFDWCxRQUFRLENBQUMsQ0FBQyxDQUFFO0VBQzVDLEtBQUssSUFBSVksQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFJUixhQUFhLEdBQUcsRUFBRSxHQUFJSSxlQUFlLEVBQUVJLENBQUMsRUFBRSxFQUFFO0lBQzdELElBQUlDLFFBQVEsR0FBR0gsU0FBUyxDQUFDSSxHQUFHLENBQUNGLENBQUMsR0FBR0osZUFBZSxFQUFFLFFBQVEsQ0FBQyxDQUFDTyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUU7SUFDdkVOLEtBQUssQ0FBQ08sSUFBSSxDQUFDSCxRQUFRLENBQUMsQ0FBQyxDQUFFO0VBQzNCO0VBQ0EsT0FBT0osS0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9VdGlsaXRpZXMvVGltZVV0aWxzLmpzP2JiNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdXRpbGl0aWVzL3RpbWVVdGlscy5qc1xuaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcbmltcG9ydCB1dGMgZnJvbSAnZGF5anMvcGx1Z2luL3V0Yyc7XG5pbXBvcnQgdGltZXpvbmUgZnJvbSAnZGF5anMvcGx1Z2luL3RpbWV6b25lJztcblxuZGF5anMuZXh0ZW5kKHV0Yyk7XG5kYXlqcy5leHRlbmQodGltZXpvbmUpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgRGF0ZSBvYmplY3RzIHJlcHJlc2VudGluZyB0aW1lIHNsb3RzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZ2VuZXJhdGVzIGEgc2VxdWVuY2Ugb2YgdGltZSBzbG90cyBzdGFydGluZyBmcm9tIGEgc3BlY2lmaWVkXG4gKiBzdGFydCB0aW1lLCBjb250aW51aW5nIGZvciBhIGdpdmVuIG51bWJlciBvZiBob3VycywgYW5kIHNwYWNlZCBhcGFydFxuICogYnkgYSBzcGVjaWZpZWQgaW50ZXJ2YWwgaW4gbWludXRlcy5cbiAqXG4gKiBAcGFyYW0ge0RhdGV9IHN0YXJ0IC0gVGhlIHN0YXJ0IHRpbWUgZnJvbSB3aGljaCB0byBnZW5lcmF0ZSBzbG90cywgYXMgYSBEYXRlIG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25Ib3Vycz00XSAtIFRoZSB0b3RhbCBkdXJhdGlvbiBmb3Igd2hpY2ggdG8gZ2VuZXJhdGUgc2xvdHMsIGluIGhvdXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtpbnRlcnZhbE1pbnV0ZXM9MzBdIC0gVGhlIGludGVydmFsIGJldHdlZW4gZWFjaCBzbG90LCBpbiBtaW51dGVzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRpbWV6b25lIC0gVGhlIHRpbWV6b25lIGluIHdoaWNoIHRoZSB0aW1lIHNsb3RzIHdpbGwgYmUgY2FsY3VsYXRlZC5cbiAqIEByZXR1cm5zIHtEYXRlW119IEFuIGFycmF5IG9mIERhdGUgb2JqZWN0cywgZWFjaCByZXByZXNlbnRpbmcgYSB0aW1lIHNsb3QuXG4gKlxuICogRXhhbXBsZTpcbiAqIElmIHN0YXJ0IGlzIGBuZXcgRGF0ZSgnMjAyNC0wMS0wMVQwODowMDowMFonKWAsIGR1cmF0aW9uSG91cnMgaXMgMiwgYW5kIGludGVydmFsTWludXRlcyBpcyAzMCxcbiAqIHRoZSBvdXRwdXQgd2lsbCBiZSBhbiBhcnJheSBvZiBEYXRlIG9iamVjdHMgcmVwcmVzZW50aW5nIHRoZSB0aW1lczpcbiAqIGAwODowMGAsIGAwODozMGAsIGAwOTowMGAsIGFuZCBgMDk6MzBgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGltZVNsb3RzKHN0YXJ0LCBkdXJhdGlvbkhvdXJzID0gNCwgaW50ZXJ2YWxNaW51dGVzID0gMzAsIHRpbWV6b25lKSB7XG4gICAgLy8gY29uc29sZS5sb2coYENyZWF0aW5nIHRpbWUgc2xvdHMgc3RhcnRpbmcgZnJvbSAke3N0YXJ0fSwgZm9yICR7ZHVyYXRpb25Ib3Vyc30gaG91cnMsIGV2ZXJ5ICR7aW50ZXJ2YWxNaW51dGVzfSBtaW51dGVzIGluIHRpbWV6b25lICR7dGltZXpvbmV9LmApO1xuICAgIGxldCBzbG90cyA9IFtdO1xuICAgIGxldCBzdGFydFRpbWUgPSBkYXlqcyhzdGFydCkudHoodGltZXpvbmUpOyAgLy8gQ29udmVydCBzdGFydCB0aW1lIHRvIHRoZSBjb3JyZWN0IHRpbWUgem9uZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGR1cmF0aW9uSG91cnMgKiA2MCkgLyBpbnRlcnZhbE1pbnV0ZXM7IGkrKykge1xuICAgICAgICBsZXQgc2xvdFRpbWUgPSBzdGFydFRpbWUuYWRkKGkgKiBpbnRlcnZhbE1pbnV0ZXMsICdtaW51dGUnKS50b0RhdGUoKTsgIC8vIEdlbmVyYXRlIHNsb3RzIGluIHRoZSBjb3JyZWN0IHRpbWUgem9uZVxuICAgICAgICBzbG90cy5wdXNoKHNsb3RUaW1lKTsgIC8vIEtlZXAgYXMgRGF0ZSBvYmplY3RcbiAgICB9XG4gICAgcmV0dXJuIHNsb3RzO1xufVxuLy8gZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRpbWVTbG90cyhzdGFydCwgZHVyYXRpb25Ib3VycyA9IDQsIGludGVydmFsTWludXRlcyA9IDMwKSB7XG4vLyAgICAgbGV0IHNsb3RzID0gW107XG4vLyAgICAgbGV0IHN0YXJ0VGltZSA9IGRheWpzKHN0YXJ0KS50eih1c2VyU3RvcmUudGltZXpvbmUpOyAgLy8gQ29udmVydCBzdGFydCB0aW1lIHRvIHRoZSBjb3JyZWN0IHRpbWUgem9uZVxuLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGR1cmF0aW9uSG91cnMgKiA2MCkgLyBpbnRlcnZhbE1pbnV0ZXM7IGkrKykge1xuLy8gICAgICAgICBsZXQgc2xvdFRpbWUgPSBuZXcgRGF0ZShzdGFydC5nZXRUaW1lKCkgKyBpICogaW50ZXJ2YWxNaW51dGVzICogNjAwMDApO1xuLy8gICAgICAgICBzbG90cy5wdXNoKHNsb3RUaW1lKTsgIC8vIEtlZXAgYXMgRGF0ZSBvYmplY3Rcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIHNsb3RzO1xuLy8gfSJdLCJuYW1lcyI6WyJkYXlqcyIsInV0YyIsInRpbWV6b25lIiwiZXh0ZW5kIiwiY3JlYXRlVGltZVNsb3RzIiwic3RhcnQiLCJkdXJhdGlvbkhvdXJzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaW50ZXJ2YWxNaW51dGVzIiwic2xvdHMiLCJzdGFydFRpbWUiLCJ0eiIsImkiLCJzbG90VGltZSIsImFkZCIsInRvRGF0ZSIsInB1c2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/Utilities/TimeUtils.js\n");

/***/ })

}]);