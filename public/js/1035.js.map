{"version":3,"file":"js/1035.js","mappings":";wJAMO,SAASA,EAAaC,GACzB,IAAMC,GAAYC,EAAAA,EAAAA,gBACZC,GAAkBC,EAAAA,EAAAA,sBAClBC,GAAmBC,EAAAA,EAAAA,uBAEzBH,EAAgBI,YAAcP,EAC9BG,EAAgBK,kBAAmB,EACnCL,EAAgBM,cAAe,EAE3BR,EAAUS,WACVP,EAAgBQ,IAAM,GAG1BN,EAAiBO,qBAEjBC,EAAAA,EAAAA,YAAU,WAKN,KAHmD,KAA3BC,OAAOC,SAASC,QAGlB,CAClB,IAAMC,EAASC,SAASC,eAAe,UACnCF,GACAA,EAAOG,gBAEf,CAEAjB,EAAgBkB,aAChBC,EAAAA,QAAQC,QAEZ,GACJ,i0NCPMC,EAAc,gCCzBpB,wCDaAzB,EAAAA,EAAAA,GAAa,aAKS0B,EAAAA,EAAAA,GAClBC,EAAQC,IAAIC,YADhB,IASIC,GAAOC,EAAAA,EAAAA,IAAQ,CAEnB,GAEIC,EAAS,WACTC,MAAMC,KAAK,WAAU,iBAAAC,KAAAC,IAAAC,MAAE,SAAAC,EAAOC,EAAKC,GAAG,IAAAC,EAAA,OAAAL,IAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACZC,OAAOC,SAASC,SAASC,OAAO,CAClDC,WAAY,CACR,CAEIC,MAAO,sBACPC,SAAU,IAGlBC,KAAM,eACNC,YAAa,GAAFC,OAAK9B,EAAW,oBAC3B+B,WAAY,GAAFD,OAAK9B,EAAW,wBAC5B,OAXIgB,EAAOE,EAAAc,KAYbjB,EAAIkB,SAAS,IAAKjB,EAAQkB,KAAK,wBAAAhB,EAAAiB,OAAA,GAAAtB,EAAA,mLAClC,gBAAAuB,EAAAC,GAAA,OAAA3B,EAAA4B,MAAA,KAAAC,UAAA,EAdoB,GAezB","sources":["webpack:///./resources/js/Utilities/PageSetup.js","webpack:///./resources/js/Pages/Payment2.vue","webpack:///./resources/js/Pages/Payment2.vue?aa88"],"sourcesContent":["import { onMounted } from 'vue'\nimport { useUserStore } from \"@/Stores/UserStore\"\nimport { useAppSettingStore } from \"@/Stores/AppSettingStore\"\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore\"\nimport { Inertia } from \"@inertiajs/inertia\"\n\nexport function usePageSetup(pageName) {\n    const userStore = useUserStore()\n    const appSettingStore = useAppSettingStore()\n    const videoPlayerStore = useVideoPlayerStore()\n\n    appSettingStore.currentPage = pageName\n    appSettingStore.showFlashMessage = true\n    appSettingStore.pageIsHidden = false\n\n    if (userStore.isMobile) {\n        appSettingStore.ott = 0\n    }\n\n    videoPlayerStore.makeVideoTopRight()\n\n    onMounted(() => {\n        // Check if the URL contains query strings\n        const hasQueryStrings = window.location.search !== '';\n\n        // Only scroll into view if there are no query strings\n        if (!hasQueryStrings) {\n            const topDiv = document.getElementById(\"topDiv\")\n            if (topDiv) {\n                topDiv.scrollIntoView()\n            }\n        }\n        // Only update if we're not already on this page to avoid overwriting with the current URL\n        appSettingStore.setPrevUrl()\n        Inertia.reload()\n\n    });\n}\n","<template>\n\n    <form @submit.prevent=\"submit\" >\n        <button type=\"submit\"\n                id=\"checkout-button\"\n                class=\"h-fit bg-blue-600 hover:bg-blue-500 text-white rounded py-2 px-4\"\n                :disabled=\"form.processing\">\n            Checkout</button>\n    </form>\n\n</template>\n\n<script setup>\nimport { onMounted } from \"vue\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { useForm } from \"@inertiajs/inertia-vue3\"\nimport { usePageSetup } from '@/Utilities/PageSetup'\n\nusePageSetup('payment2')\n\n// This is your test secret API key.\n// const stripePromise = loadStripe('pk_test_51KJwK5Kahp38LUVYOjg7h425exCr6UZmMm1M24d31ZaS0HTsgPWIZE9Hd2F0KnREVHuPm2VHesX3J5SQfFFg7fTC00DMNpq1Lj');\n\nconst stripePromise = loadStripe(\n    process.env.STRIPE_KEY\n);\n\n// const stripe = Stripe(process.env.STRIPE_SECRET_KEY);\n\n\nconst YOUR_DOMAIN = 'http://nottv.local:8000';\n\nlet form = useForm({\n\n});\n\nlet submit = () => {\n    axios.post('/upgrade', async (req, res) => {\n        const session = await stripe.checkout.sessions.create({\n            line_items: [\n                {\n                    // Provide the exact Price ID (for example, pr_1234) of the product you want to sell\n                    price: 'plan_LyCOYZAqzVdFpz',\n                    quantity: 1,\n                },\n            ],\n            mode: 'subscription',\n            success_url: `${YOUR_DOMAIN}/payment_success`,\n            cancel_url: `${YOUR_DOMAIN}/payment_cancelled`,\n        });\n        res.redirect(303, session.url);\n    });\n};\n\n</script>\n","import script from \"./Payment2.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Payment2.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["usePageSetup","pageName","userStore","useUserStore","appSettingStore","useAppSettingStore","videoPlayerStore","useVideoPlayerStore","currentPage","showFlashMessage","pageIsHidden","isMobile","ott","makeVideoTopRight","onMounted","window","location","search","topDiv","document","getElementById","scrollIntoView","setPrevUrl","Inertia","reload","YOUR_DOMAIN","loadStripe","process","env","STRIPE_KEY","form","useForm","submit","axios","post","_ref","_regeneratorRuntime","mark","_callee","req","res","session","wrap","_context","prev","next","stripe","checkout","sessions","create","line_items","price","quantity","mode","success_url","concat","cancel_url","sent","redirect","url","stop","_x","_x2","apply","arguments"],"sourceRoot":""}