{"version":3,"file":"js/4729.js","mappings":"sTAKA,E,6CCDA,IAAMA,GAASC,EAAAA,EAAAA,WAAS,kBAAMC,EAAAA,EAAAA,MAAUC,MAAMC,MAAMJ,MAAM,IACpDK,GAAYJ,EAAAA,EAAAA,WAAS,kBAAMK,OAAOC,KAAKP,EAAOI,OAAOI,OAAS,CAAC,I,m1GCArE,G,+ICwOIC,GAAmBC,EAAAA,EAAAA,KACnBC,IAAYC,EAAAA,EAAAA,KAEhBD,GAAUE,YAAc,QACxBF,GAAUG,kBAAmB,GAE7BC,EAAAA,EAAAA,YAAU,WACNN,EAAiBO,oBACbL,GAAUM,WACVR,EAAiBS,SAAW,WAC5BT,EAAiBU,IAAM,GAE3BC,SAASC,eAAe,UAAUC,gBACtC,IAUA,IAAIC,IAAOC,EAAAA,EAAAA,IAAQ,CACfC,GAAItB,EAAMuB,SAASD,GACnBE,KAAMxB,EAAMuB,SAASC,KACrBC,MAAOzB,EAAMuB,SAASE,MACtBC,QAAS1B,EAAMuB,SAASG,QACxBC,SAAU3B,EAAMuB,SAASI,SACzBC,SAAU5B,EAAMuB,SAASK,SACzBC,KAAM7B,EAAMuB,SAASM,KACrBC,SAAU9B,EAAMuB,SAASO,SACzBC,QAAS/B,EAAMuB,SAASQ,QACxBC,WAAYhC,EAAMuB,SAASS,WAC3BC,MAAOjC,EAAMuB,SAASU,QAO1B,IAAIC,GAAS,WACTd,GAAKe,IAAIC,MAAM,eAAgBpC,EAAMuB,SAASD,IAClD,EAEA,SAASe,KACLC,EAAAA,QAAQC,MAAM,uBAAwB,CAClCC,OAAQ,OACRC,KAAM,CACFnB,GAAItB,EAAMuB,SAASD,GACnBE,KAAMxB,EAAMuB,SAASC,OAGjC,CAEA,SAASkB,KACDC,QAAQ,oEACRvB,GAAKe,IAAIC,MAAM,qBAAsBpC,EAAMuB,SAASD,IAE5D,CAEA,SAASsB,KACDD,QAAQ,qDACRvB,GAAKe,IAAIC,MAAM,eAAgB,CAAC,GAAMpC,EAAMuB,SAASD,KAK7D,CAEA,SAASuB,KACDF,QAAQ,0DACRvB,GAAKe,IAAIC,MAAM,kBAAmBpC,EAAMuB,SAASD,IAEzD,CAEA,SAASwB,KACL,IAAIC,GAAUhD,EAAAA,EAAAA,MAAUC,MAAMC,MAAM8C,QACpB,UAAZA,GACAT,EAAAA,QAAQC,MAAMQ,EAEtB,C","sources":["webpack:///./resources/js/Jetstream/ValidationErrors.vue?5fdc","webpack:///./resources/js/Jetstream/ValidationErrors.vue","webpack:///./resources/js/Pages/Users/{$id}/Edit.vue?30c3","webpack:///./resources/js/Pages/Users/{$id}/Edit.vue"],"sourcesContent":["import script from \"./ValidationErrors.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ValidationErrors.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { computed } from 'vue';\nimport { usePage } from '@inertiajs/inertia-vue3';\n\nconst errors = computed(() => usePage().props.value.errors);\nconst hasErrors = computed(() => Object.keys(errors.value).length > 0);\n</script>\n\n<template>\n    <div v-if=\"hasErrors\">\n        <div class=\"font-medium text-red-600\">\n            Whoops! Something went wrong.\n        </div>\n\n        <ul class=\"mt-3 list-disc list-inside text-sm text-red-600\">\n            <li v-for=\"(error, key) in errors\" :key=\"key\">\n                {{ error }}\n            </li>\n        </ul>\n    </div>\n</template>\n","import script from \"./Edit.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Edit.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <Head title=\"Edit User\"/>\n\n    <div class=\"place-self-center flex flex-col gap-y-3\">\n        <div id=\"topDiv\" class=\"light:bg-white light:text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10\">\n\n            <Message v-if=\"userStore.showFlashMessage\" :flash=\"$page.props.flash\"/>\n\n            <div class=\"flex justify-between mb-6\">\n\n                <div>\n                    <div class=\"font-bold mb-4 text-red-700\">EDIT USER</div>\n                    <h1 class=\"text-3xl\"><Link :href=\"`/users/${props.userEdit.id}`\" class=\"text-red-700 font-bold uppercase\">{{props.userEdit.name}}</Link></h1>\n                </div>\n                <div>\n                    <button\n                        @click=\"back\"\n                        class=\"px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg\"\n                    >Cancel\n                    </button>\n                </div>\n\n            </div>\n\n        <div class=\"max-w-md mx-auto mt-8\">\n            <div class=\"flex flex-row justify-between\">\n                <div>\n                    <div class=\"mb-6\"><img :src=\"props.userEdit.profile_photo_url\" class=\"rounded-full h-20 w-20 object-cover\"/></div>\n                    <div class=\"\"><span class=\"text-xs uppercase\">User ID: </span><span class=\"font-semibold\">{{props.userEdit.id}}</span></div>\n                    <div class=\"\"><span class=\"text-xs uppercase\">Subscription Status: </span><span class=\"font-semibold\">{{props.userEdit.subscriptionStatus}}</span></div>\n                    <div class=\"\" v-if=\"props.userEdit.role_id == 4\"><span class=\"text-xs uppercase\">Creator #: </span><span class=\"font-semibold\">{{props.userEdit.creatorNumber}}</span></div>\n                </div>\n                <div class=\"flex flex-col space-y-2 align-bottom\">\n                    <button v-if=\"!isNewsPerson\"\n                            @click=\"addUserToNewsroom\"\n                            class=\"text-white font-semibold bg-yellow-600 hover:bg-yellow-800 hover:text-gray-100 rounded px-4 py-2 w-fit h-12\">\n                        Add User to Newsroom</button>\n                    <button v-if=\"isNewsPerson\"\n                            @click=\"removeUserFromNewsroom\"\n                            class=\"text-white font-semibold bg-yellow-600 hover:bg-yellow-800 hover:text-gray-100 rounded px-4 py-2 w-fit h-12\">\n                        Remove User from Newsroom</button>\n                    <button v-if=\"!isVip\"\n                            @click=\"addUserToVip\"\n                            class=\"text-white font-semibold bg-yellow-600 hover:bg-yellow-800 hover:text-gray-100 rounded px-4 py-2 w-fit h-12\">\n                        Make User a VIP</button>\n                    <button v-if=\"isVip\"\n                            @click=\"removeUserFromVip\"\n                            class=\"text-white font-semibold bg-yellow-600 hover:bg-yellow-800 hover:text-gray-100 rounded px-4 py-2 w-fit h-12\">\n                        Remove User from VIP</button>\n                </div>\n            </div>\n\n            <form @submit.prevent=\"submit\" class=\"mt-6\">\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"name\"\n                    >\n                        User Role\n                    </label>\n                    <select class=\"border border-gray-400 p-2 w-full rounded-lg block mb-2 uppercase font-bold text-xs text-gray-700\"\n                            v-model=\"form.role_id\"\n                    >\n                        <option value=\"1\">Standard User</option>\n                        <option value=\"4\">Creator</option>\n                    </select>\n\n                    <div v-if=\"form.errors.role_id\" v-text=\"form.errors.role_id\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n                <div class=\"my-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"name\"\n                    >\n                        Name\n                    </label>\n\n                    <input v-model=\"form.name\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"name\"\n                           id=\"name\"\n                           required\n                    >\n                    <div v-if=\"form.errors.name\" v-text=\"form.errors.name\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"email\"\n                    >\n                        Email\n                    </label>\n\n                    <input v-model=\"form.email\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"email\"\n                           name=\"email\"\n                           id=\"email\"\n                           required\n                    >\n                    <div v-if=\"form.errors.email\" v-text=\"form.errors.email\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"phone\"\n                    >\n                        Phone Number\n                    </label>\n\n                    <input v-model=\"form.phone\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"phone\"\n                           id=\"phone\"\n                    >\n                    <div v-if=\"form.errors.phone\" v-text=\"form.errors.phone\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"address1\"\n                    >\n                        Address 1\n                    </label>\n\n                    <input v-model=\"form.address1\"\n                           class=\"border border-gray-400 p-2 mb-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"address1\"\n                           id=\"address1\"\n                    >\n                </div>\n\n                    <div class=\"mb-6\">\n                        <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                               for=\"address2\"\n                        >\n                            Address 2\n                        </label>\n\n                    <input v-model=\"form.address2\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"address2\"\n                           id=\"address2\"\n                    >\n                    <div v-if=\"form.errors.address1\" v-text=\"form.errors.address1\" class=\"text-xs text-red-600 mt-1\"></div>\n                    <div v-if=\"form.errors.address2\" v-text=\"form.errors.address2\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"city\"\n                    >\n                        City\n                    </label>\n\n                    <input v-model=\"form.city\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"city\"\n                           id=\"city\"\n                    >\n                    <div v-if=\"form.errors.city\" v-text=\"form.errors.city\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"province\"\n                    >\n                        Province\n                    </label>\n\n                    <input v-model=\"form.province\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"province\"\n                           id=\"province\"\n                    >\n                    <div v-if=\"form.errors.province\" v-text=\"form.errors.province\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"country\"\n                    >\n                        Country\n                    </label>\n\n                    <input v-model=\"form.country\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"country\"\n                           id=\"country\"\n                    >\n                    <div v-if=\"form.errors.country\" v-text=\"form.errors.country\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 uppercase font-bold text-xs light:text-gray-700 dark:text-gray-200\"\n                           for=\"postal_code\"\n                    >\n                        Postal Code\n                    </label>\n\n                    <input v-model=\"form.postalCode\"\n                           class=\"border border-gray-400 p-2 w-full rounded-lg text-black\"\n                           type=\"text\"\n                           name=\"postalCode\"\n                           id=\"postalCode\"\n                    >\n                    <div v-if=\"form.errors.postalCode\" v-text=\"form.errors.postalCode\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n\n                <div class=\"flex justify-between mb-6\">\n                    <JetValidationErrors class=\"mr-4\" />\n                    <button\n                        type=\"submit\"\n                        class=\"h-fit bg-blue-400 text-white rounded py-2 px-4 hover:bg-blue-500\"\n                        :disabled=\"form.processing\"\n                    >\n                        Submit\n                    </button>\n                    <div v-if=\"form.errors\" v-text=\"form.errors\" class=\"text-xs text-red-600 mt-1\"></div>\n                </div>\n            </form>\n        </div>\n\n    </div>\n    </div>\n</template>\n\n<script setup>\nimport { onBeforeMount, onMounted, ref } from \"vue\";\nimport {useForm, usePage} from \"@inertiajs/inertia-vue3\"\nimport { Inertia } from \"@inertiajs/inertia\";\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore.js\"\nimport { useUserStore } from \"@/Stores/UserStore\";\nimport Message from \"@/Components/Modals/Messages\";\nimport JetValidationErrors from '@/Jetstream/ValidationErrors.vue';\n\nlet videoPlayerStore = useVideoPlayerStore()\nlet userStore = useUserStore()\n\nuserStore.currentPage = 'users'\nuserStore.showFlashMessage = true;\n\nonMounted(() => {\n    videoPlayerStore.makeVideoTopRight();\n    if (userStore.isMobile) {\n        videoPlayerStore.ottClass = 'ottClose'\n        videoPlayerStore.ott = 0\n    }\n    document.getElementById(\"topDiv\").scrollIntoView()\n});\n\nlet props = defineProps({\n    userEdit: Object,\n    isNewsPerson: Boolean,\n    isVip: Boolean,\n    isSubscriber: Boolean,\n    subscriptionStatus: '',\n});\n\nlet form = useForm({\n    id: props.userEdit.id,\n    name: props.userEdit.name,\n    email: props.userEdit.email,\n    role_id: props.userEdit.role_id,\n    address1: props.userEdit.address1,\n    address2: props.userEdit.address2,\n    city: props.userEdit.city,\n    province: props.userEdit.province,\n    country: props.userEdit.country,\n    postalCode: props.userEdit.postalCode,\n    phone: props.userEdit.phone,\n});\n\nfunction reset() {\n    form.reset();\n};\n\nlet submit = () => {\n    form.put(route('users.update', props.userEdit.id));\n};\n\nfunction addUserToNewsroom() {\n    Inertia.visit('/newsroom/newsperson', {\n        method: 'post',\n        data: {\n            id: props.userEdit.id,\n            name: props.userEdit.name\n        },\n    })\n}\n\nfunction removeUserFromNewsroom() {\n    if (confirm(\"Are you sure you want to remove this person from the news team?\")) {\n        form.put(route('newsperson.destroy', props.userEdit.id));\n    }\n}\n\nfunction addUserToVip() {\n    if (confirm(\"Are you sure you want to add this person to VIP?\")) {\n        form.put(route('user.vip.add', {'id': props.userEdit.id}));\n    }\n    // Inertia.reload({\n    //     only: [\"userEdit\", \"isVip\"],\n    // })\n}\n\nfunction removeUserFromVip() {\n    if (confirm(\"Are you sure you want to remove this person from VIP?\")) {\n        form.put(route('user.vip.remove', props.userEdit.id));\n    }\n}\n\nfunction back() {\n    let urlPrev = usePage().props.value.urlPrev\n    if (urlPrev !== 'empty') {\n        Inertia.visit(urlPrev)\n    }\n}\n\n</script>\n"],"names":["errors","computed","usePage","props","value","hasErrors","Object","keys","length","videoPlayerStore","useVideoPlayerStore","userStore","useUserStore","currentPage","showFlashMessage","onMounted","makeVideoTopRight","isMobile","ottClass","ott","document","getElementById","scrollIntoView","form","useForm","id","userEdit","name","email","role_id","address1","address2","city","province","country","postalCode","phone","submit","put","route","addUserToNewsroom","Inertia","visit","method","data","removeUserFromNewsroom","confirm","addUserToVip","removeUserFromVip","back","urlPrev"],"sourceRoot":""}