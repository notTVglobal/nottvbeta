{"version":3,"file":"js/8216.js","mappings":"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","sources":["webpack:///./resources/js/Components/Admin/AdminHeader.vue","webpack:///./resources/js/Components/Admin/AdminHeader.vue?7b8b","webpack:///./resources/js/Pages/Admin/MistServerApi.vue?7cc8","webpack:///./resources/js/Pages/Admin/MistServerApi.vue"],"sourcesContent":["<template>\n    <header>\n        <div class=\"flex justify-between my-3\">\n            <div class=\"mb-4\">\n                <h1 class=\"text-3xl font-semibold\"><slot /></h1>\n            </div>\n            <div>\n                <div class=\"flex flex-wrap-reverse justify-end gap-2\">\n                    <Link :href=\"`/admin/settings`\">\n                        <button\n                            class=\"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg\"\n                        >Admin Settings\n                        </button>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    </header>\n\n</template>\n\n<script setup>\n\n</script>\n","import { render } from \"./AdminHeader.vue?vue&type=template&id=0e7c3d0b\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./MistServerApi.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MistServerApi.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n    <Head title=\"MistServer API\" />\n    <div class=\"place-self-center flex flex-col gap-y-3\">\n        <div id=\"topDiv\" class=\"bg-white text-black p-5 mb-10\">\n\n            <Message v-if=\"userStore.showFlashMessage\" :flash=\"$page.props.flash\"/>\n\n            <AdminHeader>MistServer API</AdminHeader>\n\n            <div class=\"flex justify-between\">\n                <div>\n                    <div class=\"\">Status: <span class=\"font-semibold\">{{ videoPlayerStore.status }}</span></div>\n\n                    <button class=\"ml-2 py-2 my-2 px-4 text-white bg-orange-800 hover:bg-orange-500 mr-2 rounded-xl\" @click.prevent=\"getStatus\">\n                        Get Status\n                    </button>\n\n                    <button v-if=\"videoPlayerStore.status === 'OK'\"\n                            class=\"ml-2 py-2 my-2 px-4 text-white bg-blue-800 hover:bg-blue-500 mr-2 rounded-xl\"\n                            @click.prevent=\"displayPushForm\">\n                        Start Push\n                    </button>\n\n                    <button v-if=\"videoPlayerStore.status === 'OK'\"\n                            class=\"ml-2 py-2 my-2 px-4 text-white bg-blue-800 hover:bg-blue-500 mr-2 rounded-xl\"\n                            @click.prevent=\"addStream\">\n                        Add Stream\n                    </button>\n                </div>\n                <div v-if=\"videoPlayerStore.status === 'OK'\" class=\"\">\n\n                </div>\n\n            </div>\n\n            <div v-if=\"videoPlayerStore.status === 'CHALL'\" class=\"mb-8\">\n                <div  class=\"py-3 px-4 mb-4 bg-orange-800 text-white rounded\">MistServer needs to be authenticated</div>\n\n                <div class=\"font-semibold text-2xl px-2\">\n                    Connect to the MistServer\n                </div>\n\n                <div class=\"my-3 pl-2 text-sm w-1/2\">If the MistServer Status will either be OK, CHALL, NOACC or ACC_MADE.\n                    If it's \"CHALL\" then you need to re-authenticate with the username and password.</div>\n\n                <form @submit.prevent class=\"mt-2 pl-2\">\n\n                    <div class=\"mt-2\">Challenge:</div>\n                    <input type=\"text\" name=\"challenge\" id=\"challenge\" v-model=\"videoPlayerStore.challenge\" disabled/>\n\n                    <div class=\"font-semibold mt-2\">MistServer Username:</div>\n                    <input class=\"mb-2\" type=\"text\" name=\"username\" v-model=\"videoPlayerStore.mistUsername\" />\n\n                    <div class=\"font-semibold mt-2\">MistServer Password:</div>\n                    <input type=\"password\" name=\"password\" v-model=\"form.password\" />\n\n                    <div class=\"mb-4 w-1/2 text-sm\"> Credit to Jeff Mott for his work on a pure JS implementation of the MD5 algorithm.\n                        You can find the npm package <a href=\"https://www.npmjs.com/package/md5\" target=\"_blank\" class=\"text-blue-800 hover:text-gray-500\">here.</a></div>\n\n                    <button class=\"ml-2 py-2 px-4 text-white bg-green-800 hover:bg-green-500 rounded-xl\" @click.prevent=\"authenticateMistServer\">\n                        Authenticate\n                    </button>\n\n                </form>\n\n            </div>\n\n            <div v-if=\"videoPlayerStore.status === 'OK'\" class=\"mb-8\">\n                <div  class=\"py-3 px-4 mb-4 bg-green-900 text-white rounded\">MistServer is connected</div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-3\">\n                    <div class=\"col-span-1\">\n                    <div class=\"flex flex-col space-y-2\">\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-blue-800 hover:bg-blue-500 rounded-xl\" @click.prevent=\"checkUpdates\">\n                           Check for Updates\n                        </button>\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-blue-800 hover:bg-blue-500 rounded-xl\" @click.prevent=\"getCapabilities\">\n                            Get Server Capabilities\n                        </button>\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-blue-800 hover:bg-blue-500 mr-2 rounded-xl\" @click.prevent=\"getTotals\">\n                            Get Totals\n                        </button>\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-blue-800 hover:bg-blue-500 mr-2 rounded-xl\" @click.prevent=\"getClients\">\n                            Get Clients\n                        </button>\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-blue-800 hover:bg-blue-500 rounded-xl\" @click.prevent=\"getActiveStreams\">\n                            Get Active Streams\n                        </button>\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-blue-800 hover:bg-blue-500 rounded-xl\" @click.prevent=\"getLog\">\n                            Get Log\n                        </button>\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-orange-800 hover:bg-orange-500 rounded-xl\" @click.prevent=\"clearLog\">\n                            Clear Log\n                        </button>\n\n                        <button class=\"ml-2 py-2 px-4 text-white bg-blue-800 hover:bg-blue-500 rounded-xl\" @click.prevent=\"browseRecordings\">\n                            Recordings\n                        </button>\n\n                    </div>\n                    </div>\n\n\n                    <div class=\"md:col-span-2 pl-6\">\n<!--                        <div v-if=\"videoPlayer.mistStatus\">-->\n<!--                            <div class=\"mt-2\">Returned data:</div>-->\n<!--                            <div class=\"\">-->\n<!--                                {{videoPlayer.apiResponse}}-->\n<!--                            </div>-->\n<!--                        </div>-->\n                        <div class=\"mt-2 text-xs uppercase\">Returned data:</div>\n\n                        <div v-if=\"videoPlayerStore.mistDisplay === 'updates'\">\n                            <table>\n                                <thead>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                </thead>\n                                <tr v-for=\"update in videoPlayerStore.apiResponse.update\" :key=\"update.item\">\n                                    <td>{{ update[0] }}</td>\n                                    <td>{{ update[1] }}</td>\n                                    <td>{{ update[2] }}</td>\n                                    <td>{{ update[3] }}</td>\n                                    <td>{{ update[4] }}</td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div v-if=\"videoPlayerStore.mistDisplay === 'capabilities'\">\n                            <div class=\"mt-2 font-semibold\">CPU</div>\n                            <table>\n                                <tr v-for=\"(value, name) in videoPlayerStore.apiResponse.capabilities.cpu[0]\" :key=\"name\">\n                                    <td>{{name}}</td>\n                                    <td>{{value}}</td>\n                                </tr>\n                            </table>\n                            <div class=\"mt-2 font-semibold\">Load</div>\n                            <table>\n                                <tr v-for=\"(value, name) in videoPlayerStore.apiResponse.capabilities.load\" :key=\"name\">\n                                    <td>{{name}}</td>\n                                    <td>{{value}}</td>\n                                </tr>\n                            </table>\n                            <div class=\"mt-2 font-semibold\">Mem</div>\n                            <table>\n                                <tr v-for=\"(value, name) in videoPlayerStore.apiResponse.capabilities.mem\" :key=\"name\">\n                                    <td>{{name}}</td>\n                                    <td>{{value}}</td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div v-if=\"videoPlayerStore.mistDisplay === 'totals'\">\n\n                            <table>\n                                <thead>\n                                <td>{{videoPlayerStore.apiResponse.totals.fields[0]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.totals.fields[1]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.totals.fields[2]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.totals.fields[3]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.totals.fields[4]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.totals.fields[5]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.totals.fields[6]}}</td>\n                                </thead>\n                                <tr v-for=\"total in videoPlayerStore.apiResponse.totals.data.slice().reverse()\" :key=\"total.item\">\n                                    <td>{{ total[0] }}</td>\n                                    <td>{{ total[1] }}</td>\n                                    <td>{{ total[2] }}</td>\n                                    <td>{{ total[3] }}</td>\n                                    <td>{{ total[4] }}</td>\n                                    <td>{{ total[5] }}</td>\n                                    <td>{{ total[6] }}</td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div v-if=\"videoPlayerStore.mistDisplay === 'clients'\">\n\n                            <table>\n                                <thead>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[0]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[1]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[2]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[3]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[4]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[5]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[6]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[7]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[8]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[9]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[10]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[11]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[12]}}</td>\n                                <td>{{videoPlayerStore.apiResponse.clients.fields[13]}}</td>\n                                <td>time</td>\n                                </thead>\n                                <tr v-for=\"client in videoPlayerStore.apiResponse.clients.data\" :key=\"client.item\">\n                                    <td>{{ client[0] }}</td>\n                                    <td>{{ client[1] }}</td>\n                                    <td>{{ client[2] }}</td>\n                                    <td>{{ client[3] }}</td>\n                                    <td>{{ client[4] }}</td>\n                                    <td>{{ client[5] }}</td>\n                                    <td>{{ client[6] }}</td>\n                                    <td>{{ client[7] }}</td>\n                                    <td>{{ client[8] }}</td>\n                                    <td>{{ client[9] }}</td>\n                                    <td>{{ client[10] }}</td>\n                                    <td>{{ client[11] }}</td>\n                                    <td>{{ client[12] }}</td>\n                                    <td>{{ client[13] }}</td>\n                                    <td>{{ client[14] }}</td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div v-if=\"videoPlayerStore.mistDisplay === 'active_streams'\">\n\n                            <table>\n                                <thead class=\"font-semibold mb-2\">\n                                <td>Stream Name</td>\n                                </thead>\n                                <tr v-for=\"stream in videoPlayerStore.apiResponse.active_streams\" :key=\"stream.item\">\n                                    <td>{{ stream }}</td>\n\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div v-if=\"videoPlayerStore.mistDisplay === 'log'\">\n\n                            <table>\n                                <tr v-for=\"log in videoPlayerStore.apiResponse.log\" :key=\"log.item\">\n                                    <td>{{ log[0] }}</td>\n                                    <td>{{ log[1] }}</td>\n                                    <td>{{ log[2] }}</td>\n                                    <td>{{ log[3] }}</td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div v-if=\"videoPlayerStore.mistDisplay === 'recordings'\">\n\n                            <table>\n                                <tr v-for=\"log in videoPlayerStore.apiResponse.log\" :key=\"log.item\">\n                                    <td>{{ log[0] }}</td>\n                                    <td>{{ log[1] }}</td>\n                                    <td>{{ log[2] }}</td>\n                                    <td>{{ log[3] }}</td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <!--                    Begin Push Form ... move this to its own component.           -->\n                        <div v-if=\"videoPlayerStore.mistDisplayPushForm\">\n                            <div class=\"font-semibold my-2\">Push a Stream:</div>\n                            <div class=\"\">\n                                <label for=\"streamName\" class=\"mb-1\">Choose stream:</label>\n                                <select\n                                    id=\"streamName\"\n                                    v-model=\"streamStore.streamName\"\n                                    class=\"w-full mb-2\" >\n                                    <option v-for=\"stream in videoPlayerStore.apiResponse.active_streams\" :key=\"stream\">\n                                        {{ stream }}\n                                    </option>\n                                </select>\n                                <label for=\"rtmpDestination\" class=\"mb-1\">Set destination:</label>\n                                <input type=\"text\"\n                                       id=\"rtmpDestination\"\n                                       v-model=\"streamStore.rtmpDestination\"\n                                       placeholder=\"RTMP destination...\"\n                                       class=\"w-full my-2\">\n                                <button @click.prevent=\"startPush\"\n                                        class=\"ml-2 py-2 px-4 text-white bg-green-800 hover:bg-green-500 rounded-xl\">\n                                    Push\n                                </button>\n                                <video src=\"https://streams.not.tv/vmixsource01%2bspring.mp4\" class=\"mt-20 w-96\" controls autoplay></video>\n                                <br>Preview video is hardcoded to \"vmixsource01+spring\"\n                            </div>\n                        </div>\n\n                    </div>\n\n\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n\n</template>\n\n<script setup>\nimport { onMounted, ref, reactive, onBeforeMount } from \"vue\";\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore.js\";\nimport {useStreamStore} from \"@/Stores/StreamStore\";\nimport {useUserStore} from \"@/Stores/UserStore\";\nimport Message from \"@/Components/Modals/Messages.vue\";\nimport AdminHeader from \"@/Components/Admin/AdminHeader.vue\";\n\nlet videoPlayerStore = useVideoPlayerStore()\nlet streamStore = useStreamStore()\nlet userStore = useUserStore()\n\nvideoPlayerStore.apiActiveStreams = null\nvideoPlayerStore.mistStatus = false\nuserStore.currentPage = 'adminSettings'\nuserStore.showFlashMessage = true;\n\nonMounted(() => {\n    videoPlayerStore.makeVideoTopRight()\n    if (userStore.isMobile) {\n        videoPlayerStore.ottClass = 'ottClose'\n        videoPlayerStore.ott = 0\n    }\n    document.getElementById(\"topDiv\").scrollIntoView()\n});\n\nlet props = defineProps({\n    apiReturn: Object,\n    message: ref(String),\n    mistNewHashedPassword: ref(String),\n});\n\nlet form = reactive({\n    challenge: videoPlayerStore.challenge,\n    status: videoPlayerStore.status,\n    username: '',\n    password: '',\n})\n\nvideoPlayerStore.mistUsername = 'nottvadmin';\nform.password = '20y$!PwX12S';\n\nvideoPlayerStore.mistStatus = true\nvideoPlayerStore.mistDisplayPushForm = false\n\nconst password = ref('');\n\nlet md5 = require('md5');\n\n\n////////////////////  MIST SERVER ADDRESS //////////////////////////////\n// Keep this here to change which MistServer is used for testing purposes\n//\n// let mistAddress = 'http://localhost:4242/api'\n// let mistAddress = 'https://beta-staging.not.tv/mistserver/api'\nlet mistAddress = 'https://mist.not.tv/'\n// let mistAddress = 'http://10.124.0.3:4242/api'\n// let mistAddress = 'http://localhost:4242/api'\n// let mistAddress = 'http://mist.nottv.io:4242/api'\n// let mistAddressWs = 'ws://mist.nottv.io:4242/ws'\n//\n///////////////////////////////////////////////////////////////////////\n\n\n\nasync function getStatus() {\n    await axios.get(mistAddress)\n        .then(response => {\n            videoPlayerStore.apiRequest = response.data;\n            videoPlayerStore.challenge = videoPlayerStore.apiRequest.authorize.challenge;\n            videoPlayerStore.status = videoPlayerStore.apiRequest.authorize.status;\n        })\n        .catch(error => {\n            console.log(error);\n        })\n    console.log('get API');\n\n}\n\n// The Websocket connection will give us near real-time\n// info from the server.\n//\n// Create the header for the MistServer WS API Request\n// const mistWsHeader = {\n//     headers: {\n//         \"Authorization\": \"json \"+AuthenticationGoesHere,\n//     },\n// };\n\nasync function authenticateMistServer() {\n    let hashedPassword = md5(form.password)\n    console.log(\"Hashed password: \" + hashedPassword)\n    let authReturn = md5(hashedPassword+videoPlayerStore.challenge)\n    videoPlayerStore.mistPassword = authReturn\n    console.log(\"Final hashed password: \" + authReturn)\n    await axios.get(mistAddress+'?command=%7B%0A%22authorize%22%3A%20%7B%0A%22username%22%3A%20%22'+videoPlayerStore.mistUsername+'%22,%0A%22password%22%3A%20%22'+authReturn+'%22%0A%7D%0A%7D')\n        .then(response => {\n            videoPlayerStore.apiRequest = response.data\n            videoPlayerStore.challenge = videoPlayerStore.apiRequest.authorize.challenge\n            videoPlayerStore.status = videoPlayerStore.apiRequest.authorize.status\n            console.log(response.data);\n        })\n        .catch(error => {\n            console.log(error)\n        })\n    console.log('mistServer API authorization sent.');\n\n}\n\nlet checkUpdates = () => {\n    videoPlayerStore.mistDisplay = \"updates\"\n    let request = \"\\\"update\\\": true\"\n    getApi(request)\n}\n\nlet getCapabilities = () => {\n    videoPlayerStore.mistDisplay = \"capabilities\"\n    let request = \"%22capabilities%22%3A%20true\"\n    getApi(request)\n}\n\nlet getTotals = () => {\n    videoPlayerStore.mistDisplay = \"totals\"\n    let request = \"\\\"totals\\\": {}\"\n    getApi(request)\n}\n\nlet getActiveStreams = () => {\n    videoPlayerStore.mistDisplay = \"active_streams\"\n    let request = \"\\\"active_streams\\\": true\"\n    getApi(request)\n}\n\nlet getClients = () => {\n    videoPlayerStore.mistDisplay = \"clients\"\n        // This request delivers information about each client connected\n        // to a specific stream name.\n        //\n    // let request = \"\\\"clients\\\": [{\\\"streams\\\": [\\\"vmixsource03\\\"],},{}]}\"\n\n    // This request delivers all clients\n    let request = \"\\\"clients\\\": {}\"\n    getApi(request)\n}\n\nlet getLog = () => {\n    videoPlayerStore.mistDisplay = \"log\"\n    let request = \"\\\"log\\\": {}\"\n    getApi(request)\n}\n\nlet clearLog = () => {\n    videoPlayerStore.mistDisplay = \"log\"\n    let request = \"\\\"clearstatlog\\\": true\"\n    getApi(request)\n}\n\nlet browseRecordings = () => {\n    videoPlayerStore.mistDisplay = \"recordings\"\n    let request = \"\\\"path\\\": \\\"/media/upload\\\"\"\n    getApi(request)\n}\n\n\n\nasync function getApi(request) {\n    videoPlayerStore.mistStatus = true\n    videoPlayerStore.mistDisplayPushForm = false\n    // let apiRequest = '%7B%20%22authorize%22%3A%20%7B%0A%20%20%20%20%22username%22%3A%20%22'+videoPlayer.mistUsername+'%22,%0A%20%20%20%20%22password%22%3A%20%22'+videoPlayer.mistPassword+'%22%0A%20%20%20%7D,%0A%20'+request+'%0A%7D'\n    let apiRequest = '%7B%20%22authorize%22%3A%20%7B%0A%20%20%20%20%22username%22%3A%20%22'+videoPlayerStore.mistUsername+'%22,%0A%20%20%20%20%22password%22%3A%20%22'+videoPlayerStore.mistPassword+'%22%0A%20%20%20%7D,%0A%20'+request+'%0A%0A%7D'\n        await axios.get(mistAddress+'?command='+apiRequest)\n            .then(response => {\n                videoPlayerStore.apiResponse = response.data;\n                videoPlayerStore.challenge = videoPlayerStore.apiResponse.authorize.challenge;\n                videoPlayerStore.status = videoPlayerStore.apiResponse.authorize.status;\n            })\n            .catch(error => {\n                console.log(error);\n            })\n    console.log('mistServer API request sent.');\n}\n\nasync function getApiLocal(request) {\n    videoPlayerStore.mistStatus = true\n    videoPlayerStore.mistDisplayPushForm = false\n    // let apiRequest = '%7B%20%22authorize%22%3A%20%7B%0A%20%20%20%20%22username%22%3A%20%22'+videoPlayer.mistUsername+'%22,%0A%20%20%20%20%22password%22%3A%20%22'+videoPlayer.mistPassword+'%22%0A%20%20%20%7D,%0A%20'+request+'%0A%7D'\n    // let apiRequest = '%7B%20%22authorize%22%3A%20%7B%0A%20%20%20%20%22username%22%3A%20%22'+videoPlayer.mistUsername+'%22,%0A%20%20%20%20%22password%22%3A%20%22'+videoPlayer.mistPassword+'%22%0A%20%20%20%7D,%0A%20'+request+'%0A%0A%7D'\n    await axios.get(mistAddress+'?command='+request)\n        .then(response => {\n            videoPlayerStore.apiResponse = response.data;\n            videoPlayerStore.challenge = videoPlayerStore.apiResponse.authorize.challenge;\n            videoPlayerStore.status = videoPlayerStore.apiResponse.authorize.status;\n        })\n        .catch(error => {\n            console.log(error);\n        })\n    console.log('mistServer API request sent.');\n}\n\n// Create method to push a stream somewhere\n//\n\n\nfunction displayPushForm() {\n    getActiveStreams()\n    videoPlayerStore.mistStatus = false\n    videoPlayerStore.mistDisplayPushForm = true\n}\n\nfunction startPush() {\n    // api call to mist server.\n    // \"push_start\":[\"STREAMNAME\", \"URI\"]\n    // let request = \"\\\"push_start\\\":[\\\"\"+streamStore.streamName+\", \\\"\"+streamStore.rtmpDestination+\"\\\"]\"\n    let request = '%7B%20%22push_start%22%3A%20%7B%22stream%22%3A%22'+streamStore.streamName+'%22,%22target%22%3A%22'+streamStore.rtmpDestination+'%22%7D%7D'\n    // setTimeout(() => {  getApi(request); console.log(\"World!\"); }, 2000);\n    getApi(request)\n    videoPlayerStore.mistStatus = false\n    videoPlayerStore.mistDisplayPushForm = true\n    // log output\n    console.log(\"stream push started: \" + request)\n}\n\nfunction addStream() {\n    console.log(\"adding new stream\")\n    // api call to mist server.\n    let request = \"%7B%22addstream%22%3A%7B%22streamname%22%3A%7B%22source%22%3A%22push%3A%2F%2F%22%7D%7D%7D\"\n    getApi(request)\n    videoPlayerStore.mistStatus = true\n    videoPlayerStore.mistDisplayPushForm = false\n    // log output\n    console.log(\"stream added: \" + request)\n}\n\n\n// let setMistHashedPassword = () => {\n//     if (props.message) {\n//         props.mistNewHashedPassword = md5(props.message);\n//     }\n// }\n//\n// setMistHashedPassword();\n\n\n\n/////////////// EXAMPLES OF MISTSERVER API CALLS ///////////////\n//\n// Keep these here. The MistServer API Call needs to be Url Encoded.\n//\n// This is a properly formatted HTTP API call to the MistServer:\n//\n// {\n//     \"addstream\": {\n//     \"streamname_here\": {},\n// }\n// }\n\n// { \"authorize\": {\n//     \"username\": \"USERNAME\",\n//     \"password\": \"PASSWORD\"\n//     }\n// },\n// { \"minimal\": 1 },\n// { \"active_streams\": true }\n//\n// https://beta-staging.not.tv/mistserver/api?command=%7B%20%22authorize%22%3A%20%7B%0A%20%20%20%20%22username%22%3A%20%22USERNAME%22,%0A%20%20%20%20%22password%22%3A%20%22PASSWORD%22%0A%20%20%20%20%7D%0A%7D,%0A%7B%20%22minimal%22%3A%201%20%7D,%0A%7B%20%22active_streams%22%3A%20true%20%7D\n// https://beta-staging.not.tv/mistserver/api?command=%7B%20%22authorize%22%3A%20%7B%0A%20%20%20%20%22username%22%3A%20%22USERNAME%22,%0A%20%20%20%20%22password%22%3A%20%22PASSWORD%22%0A%20%20%20%20%7D,%0A%7B%20%22minimal%22%3A%201%20%7D,%0A%7B%20%22active_streams%22%3A%20true%20%7D%0A%7D\n\n//\n///////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n// {\n//     \"authorize\":\n//     {\n// //Username to login as\n//         \"username\":\n//         \"test\",\n// //Hash of password to login with. Send empty value when no challenge for the hash is known yet.\n// //When the challenge is known, the value to be used here can be calculated as follows:\n// // MD5( MD5(\"secret\") + challenge)\n// //Where \"secret\" is the plaintext password.\n//             \"password\": \"\"\n//     }\n// }\n\n\n// tec21: this returns the pattern that mistServer is apparently looking for.\n// let submit = () => {\n//     console.log(form.response);\n//     Inertia.post(route('mistApi', {authorization: {challenge: videoPlayer.challenge, status: videoPlayer.status}}));\n// }\n\n// tec21: this works... it returns $request->challenge and $request->status to Laravel\n// let submit = () => {\n//     console.log('sent to backend');\n//     Inertia.post(route('mistApi', {challenge: videoPlayer.challenge, status: videoPlayer.status}));\n// }\n\n</script>\n\n\n"],"names":["class","_createElementVNode","script","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_renderSlot","_ctx","$slots","_hoisted_4","_createVNode","_component_Link","href","_withCtx","_hoisted_5","_","videoPlayerStore","useVideoPlayerStore","streamStore","useStreamStore","userStore","useUserStore","apiActiveStreams","mistStatus","currentPage","showFlashMessage","onMounted","makeVideoTopRight","isMobile","ottClass","ott","document","getElementById","scrollIntoView","form","reactive","challenge","status","username","password","mistUsername","mistDisplayPushForm","ref","md5","require","mistAddress","getStatus","_getStatus","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","axios","get","then","response","apiRequest","data","authorize","error","console","log","stop","authenticateMistServer","_authenticateMistServer","_callee2","hashedPassword","authReturn","_context2","mistPassword","checkUpdates","mistDisplay","getApi","getCapabilities","getTotals","getActiveStreams","getClients","getLog","clearLog","browseRecordings","_x","_getApi","_callee3","request","_context3","apiResponse","displayPushForm","startPush","streamName","rtmpDestination","addStream"],"sourceRoot":""}