/*! For license information please see 6462.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6462,4679],{74679:(e,t,n)=>{n.r(t),n.d(t,{useScheduleStore:()=>R});var r=n(69876),o=n(90771);var a=n(2855),i=n(45459),s=n(58439),c=n(76172),l=n(96794),u=n(87509),d=n(28999),h=n(25341),m=n(15559),f=n(37406),p=n(8270),g=n(87028),v=n(17773),w=n(5190),y=n(23318),x=n(60595),b=n(94848),S=n(43073),k=n(23745),C=n(31930),E=n(27484),A=n.n(E),T=n(84110),D=n.n(T),M=n(29387),N=n.n(M),B=n(70178),I=n.n(B);function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function F(){F=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),s=new N(r||[]);return o(i,"_invoke",{value:A(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="suspendedYield",f="executing",p="completed",g={};function v(){}function w(){}function y(){}var x={};l(x,i,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(B([])));S&&S!==n&&r.call(S,i)&&(x=S);var k=y.prototype=v.prototype=Object.create(x);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==V(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,r){var o=h;return function(a,i){if(o===f)throw new Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?p:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=p,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(V(t)+" is not iterable")}return w.prototype=y,o(k,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:w,configurable:!0}),w.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},C(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new E(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(k),l(k,c,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function L(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,s,"next",e)}function s(e){L(a,r,o,i,s,"throw",e)}i(void 0)}))}}function _(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){var r;return r=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==V(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){var t=(0,o.useUserStore)();return e.data.map((function(e){var n=e.start_time?t.formatDateTimeFromUtcToUserTimezone(e.start_time,"YYYY-MM-DD HH:mm:ss"):null,r=e.end_time?t.formatDateTimeFromUtcToUserTimezone(e.end_time,"YYYY-MM-DD HH:mm:ss"):null,o=null;if(e.recurrenceDetails){var a=e.recurrenceDetails,i=a.start_time,s=a.start_date,c=a.end_date;o=U(U({},e.recurrenceDetails),{},{start_time:i?t.formatTimeInUserTimezone(i,"HH:mm:ss"):null,start_date:s?t.formatDateTimeFromUtcToUserTimezone(s,"YYYY-MM-DD"):null,end_date:c?t.formatDateTimeFromUtcToUserTimezone(c,"YYYY-MM-DD"):null})}return U(U({},e),{},{start_time:n,end_time:r,recurrenceDetails:o})}))}function Y(e){for(var t=[],n=new Date(e),r=0;r<6;r++)t.push(new Date(n.setHours(n.getHours()+r)));return t}A().extend(D()),A().extend(N()),A().extend(I());var Z=function(){return{viewingWindowStart:new Date,currentMonth:new Date,selectedDay:new Date,currentWeekStart:null,currentWeekEnd:null,fiveDaySixHourSchedule:[],todaysContent:[],weeklyContent:[],dataFetchLog:[],scheduleIsLoading:!1,savingToSchedule:!1}},R=(0,r.Q_)("scheduleStore",{state:Z,actions:{resetAll:function(){Object.assign(this,Z())},reset:function(){var e=new Date;this.viewingWindowStart=e,this.currentMonth=e,this.selectedDay=e},setSelectedDay:function(e){var t=this;return j(F().mark((function n(){return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.selectedDay=e,t.viewingWindowStart=(0,a.T)((0,i.b)(e),4),t.currentWeekStart=(0,s.z)(e,{weekStartsOn:0}),t.currentWeekEnd=(0,c.v)(e,{weekStartsOn:0}),n.next=6,t.fetchWeekDataIfNeeded();case 6:case"end":return n.stop()}}),n)})))()},setSelectedDayToToday:function(e){var t=new Date;this.selectedDay=t,this.viewingWindowStart=(0,l.o)(t)},changeDay:function(e){var t=this;return j(F().mark((function n(){var r,o;return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=60*t.viewingWindowStart.getHours()+t.viewingWindowStart.getMinutes(),o=(0,u.E)((0,i.b)(t.viewingWindowStart),e),o=new Date(o.setMinutes(r)),t.selectedDay=o,t.viewingWindowStart=o,t.currentWeekStart=(0,s.z)(o,{weekStartsOn:0}),t.currentWeekEnd=(0,c.v)(o,{weekStartsOn:0}),n.next=9,t.fetchWeekDataIfNeeded();case 9:case"end":return n.stop()}}),n)})))()},shiftHours:function(e){var t=this;return j(F().mark((function n(){return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.viewingWindowStart=(0,a.T)(t.viewingWindowStart,e),t.currentWeekStart=(0,s.z)(t.viewingWindowStart,{weekStartsOn:0}),t.currentWeekEnd=(0,c.v)(t.viewingWindowStart,{weekStartsOn:0}),(0,d.K)(t.viewingWindowStart,t.selectedDay)||(t.selectedDay=(0,i.b)(t.viewingWindowStart)),n.next=6,t.fetchWeekDataIfNeeded();case 6:case"end":return n.stop()}}),n)})))()},isElevenPM:function(e){return 23===(0,h.p)(e)},subtractMonth:function(){var e=this;return j(F().mark((function t(){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=(0,m.W)(e.currentMonth,1),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:console.log("Set selected day based on current month:",e.currentMonth),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},addMonth:function(){var e=this;return j(F().mark((function t(){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentMonth=(0,f.z)(e.currentMonth,1),t.prev=1,t.next=4,e.setSelectedDay(e.currentMonth);case 4:console.log("Set selected day based on current month:",e.currentMonth),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("Failed to set selected day based on current month ".concat(e.currentMonth,":"),t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},fetchFiveDaySixHourSchedule:function(){var e=this;return j(F().mark((function t(){var n,r;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error("fetchFiveDaySixHourSchedule"),t.prev=1,n=(0,o.useUserStore)(),t.next=5,axios.get("/api/schedule");case 5:r=t.sent,n.timezone||r.data.userTimezone||"UTC",e.fiveDaySixHourSchedule=z(r.data),console.error("fetchFiveDaySixHourSchedule",r.data),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("Failed to load schedule shows:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},fetchTodaysContent:function(){var e=this;return j(F().mark((function t(){var n,r;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=(0,o.useUserStore)(),t.next=4,axios.get("/api/schedule/today");case 4:r=t.sent,n.timezone||r.data.userTimezone||"UTC",e.todaysContent=z(r.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch today's content:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},preloadWeeklyContent:function(){var e=this;return j(F().mark((function t(){var n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,t.prev=1,t.next=4,e.loadWeekFromDate(n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Failed to preload weekly content:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},loadWeekFromDate:function(e){var t=this;return j(F().mark((function n(){var r,a,i,l,u,d,h,m,f;return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.scheduleIsLoading=!0,n.prev=1,r=(0,o.useUserStore)(),console.log("Date before formatted: "+e),a=e.toISOString(),console.log("Loading week data for date in UTC: ".concat(a)),n.next=8,axios.post("/api/schedule/week/".concat(a));case 8:i=n.sent,console.log("Received response:",i.data),l=r.timezone||i.data.userTimezone||"UTC",console.log("Using timezone: ".concat(l)),u=z(i.data),d=(0,s.z)(new Date(e),{weekStartsOn:0}).toISOString(),h=(0,c.v)(new Date(e),{weekStartsOn:0}).toISOString(),m=(new Date).toISOString(),-1!==(f=t.dataFetchLog.findIndex((function(e){return e.weekStart===d&&e.weekEnd===h})))?t.dataFetchLog[f].lastFetch=m:t.dataFetchLog.push({weekStart:d,weekEnd:h,lastFetch:m}),t.weeklyContent=[].concat(_(t.weeklyContent),_(u)).filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id&&t.start_time===e.start_time}))})),t.scheduleIsLoading=!1,n.next=26;break;case 22:n.prev=22,n.t0=n.catch(1),console.error("Failed to load content for week starting ".concat(undefined,":"),n.t0),t.scheduleIsLoading=!1;case 26:case"end":return n.stop()}}),n,null,[[1,22]])})))()},needsDataForWeek:function(){var e=function(e){return e.toISOString().split("T")[0]},t=e(this.currentWeekStart),n=e(this.currentWeekEnd);console.log("Current week range: ".concat(t," to ").concat(n)),console.log("Existing data fetch log entries:",this.dataFetchLog);var r=this.dataFetchLog.some((function(r){var o=e(new Date(r.weekStart)),a=e(new Date(r.weekEnd));return console.log("Comparing to fetched range: ".concat(o," to ").concat(a)),o<=t&&a>=n}));return console.log("Week from ".concat(t," to ").concat(n," has ").concat(r?"":"not ","been fetched.")),!r},calculateExtendedEndForUpcomingContent:function(){var e=new Date(this.viewingWindowStart);return new Date(e.getTime()+216e5)},checkAndFetchForUpcomingContent:function(){var e=this;return j(F().mark((function t(){var n,r,o,a,i,s;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Y(e.viewingWindowStart),r=new Date,o=new Date(r.getTime()-9e5),a=O(n),t.prev=4,s=F().mark((function t(){var n,r;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.value,r=n.toISOString().split("T")[0],e.weeklyContent.some((function(t){var a=new Date(t.start_time).toDateString(),i=e.dataFetchLog[r],s=i&&new Date(i)>o;return n.toDateString()===a&&s}))){t.next=7;break}return t.next=6,e.fetchDataAndUpdateLog(r,n);case 6:return t.abrupt("return",1);case 7:case"end":return t.stop()}}),t)})),a.s();case 7:if((i=a.n()).done){t.next=13;break}return t.delegateYield(s(),"t0",9);case 9:if(!t.t0){t.next=11;break}return t.abrupt("break",13);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(4),a.e(t.t1);case 18:return t.prev=18,a.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))()},fetchDataAndUpdateLog:function(e,t){var n=this;return j(F().mark((function r(){return F().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.loadWeekFromDate(t);case 3:n.dataFetchLog[e]=(new Date).toISOString(),console.log("Data fetched successfully for date:",e),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error("Failed to fetch data for date ".concat(e,":"),r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},fetchWeekDataIfNeeded:function(){var e=this;return j(F().mark((function t(){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.needsDataForWeek()){t.next=5;break}return t.next=3,e.checkAndFetchForUpcomingContent().catch((function(e){return console.error("Failed to load data for the week:",e),!1}));case 3:t.next=6;break;case 5:console.log("Week data already loaded; no need to fetch.");case 6:case"end":return t.stop()}}),t)})))()},mapShowsToTimeSlots:function(e,t){var n=e.map((function(e){var n=new Date(e.start_time),r=new Date(e.start_time);r.setMinutes(r.getMinutes()+e.durationMinutes);var o=t.findIndex((function(e){return n>=e&&n<new Date(e.getTime()+18e5)})),a=Math.ceil(e.durationMinutes/30);return o+a>t.length&&(a=t.length-o),U(U({},e),{},{gridStart:o+1,gridSpan:a})}));return t.map((function(e,t){var r=n.find((function(e){return e.gridStart===t+1}));return r||{placeholder:!0,gridStart:t+1,gridSpan:1,content:{show:{name:"Nothing scheduled."}}}}))}},getters:{nextFourHoursOfContent:function(e){var t=new Date,n=new Date(t.setMinutes(0,0,0)),r=new Date(n.getTime()+144e5),a=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=[],o=0;o<60*t/n;o++){var a=new Date(e.getTime()+o*n*6e4);r.push(a)}return r}(n,4,30),i=function(e,t,n){var r=(0,o.useUserStore)();if(!(t instanceof Date&&n instanceof Date))throw new TypeError("startDateTime and endDateTime must be Date objects.");var a=r.convertUtcToUserTimezone(t.toISOString()),i=r.convertUtcToUserTimezone(n.toISOString());return e.weeklyContent.filter((function(e){if("string"!=typeof e.start_time)return console.warn("Expected show.start_time to be a string in ISO format."),!1;var t=r.convertUtcToUserTimezone(e.start_time);return new Date(t)>=new Date(a)&&new Date(t)<new Date(i)}))}(e,n,r),s=function(e){var t=e.sort((function(e,t){var n=new Date(e.start_time)-new Date(t.start_time);return 0===n?e.priority-t.priority:n})),n=[],r={};return t.forEach((function(e){var t=new Date(e.start_time).toISOString();r[t]||(r[t]=[]),r[t].push(e)})),Object.values(r).forEach((function(e){e.length,n.push(e[0])})),n}(i),c=function(e,t){return e.map((function(e){var n=new Date(e.start_time),r=new Date(e.start_time);r.setMinutes(r.getMinutes()+e.durationMinutes);var o=t.findIndex((function(e){return n>=e&&n<new Date(e.getTime()+18e5)})),a=Math.ceil(e.durationMinutes/30);return o+a>t.length&&(a=t.length-o),U(U({},e),{},{gridStart:o+1,gridSpan:a})}))}(s,a);return function(e,t){var n=[];return t.forEach((function(t,r){if(console.log("type of slot: "+t,V(t)),t instanceof Date){var o=t;e.some((function(e){return o>=new Date(e.start_time)&&o<new Date(new Date(e.start_time).getTime()+6e4*e.durationMinutes)}))||n.push({placeholder:!0,start_time:t.toISOString(),gridStart:r+1,gridSpan:1,content:{show:{name:"Nothing scheduled."}}})}else console.error("slot is not a Date object:",t)})),[].concat(_(e),n).sort((function(e,t){return e.gridStart-t.gridStart}))}(c,a)},nextFourHoursWithHalfHourIntervals:function(e){for(var t=(0,o.useUserStore)().timezone,n=[],r=A()().tz(t).startOf("hour"),a=0;a<8;a++)n.push({formatted:r.format("hh:mm A"),dateTimeString:r.format("YYYY-MM-DD HH:mm:ss")}),r=r.add(30,"minute");return n},upcomingContent:function(e){var t=new Date(e.viewingWindowStart.getTime()-36e5),n=new Date(t.getTime()+252e5),r=e.weeklyContent.reduce((function(e,t){var n=new Date(t.start_time).getTime();return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.values(r).map((function(e){return e.reduce((function(e,t){return!e||t.priority<e.priority?t:e}),null)})).filter((function(e){var r=new Date(e.start_time);return r>=t&&r<n})).sort((function(e,t){return new Date(e.start_time)-new Date(t.start_time)}))},nextSixHours:function(e){var t=e.viewingWindowStart,n=(0,a.T)(t,5);return(0,p.e)({start:t,end:n})},dateMessage:function(e){var t=(0,i.b)(e.viewingWindowStart),n=(0,g.WU)(t,"EEEE MMMM do, yyyy");return(0,v.z)(t)?"Today - ".concat(n):(0,w.g)(t)?"Yesterday - ".concat(n):(0,y.P)(t)?"Tomorrow - ".concat(n):n},currentMonthIndex:function(e){return(0,x.j)(e.currentMonth)},currentMonthName:function(e){return(0,g.WU)(e.currentMonth,"MMMM")},currentYear:function(e){return(0,b.S)(e.currentMonth)},daysInMonth:function(e){var t=(0,S.N)(e.currentMonth),n=(0,k.V)(e.currentMonth),r=(0,s.z)(t,{weekStartsOn:0}),o=(0,c.v)(n,{weekStartsOn:0});return(0,C.D)({start:r,end:o})},isToday:function(e){var t=new Date,n=new Date(e.viewingWindowStart);return t.toDateString()===n.toDateString()}}})},24831:(e,t,n)=>{n.d(t,{U:()=>s});n(70821);var r=n(90771),o=n(58358),a=n(40191),i=n(9680);function s(e){var t=(0,r.useUserStore)(),n=(0,o.useAppSettingStore)(),s=(0,a.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(n.ott=1,n.showOttButtons=!0),s.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,window.location.reload(!0)),i.Inertia.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:n.ott=1,""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1}},77396:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const s=i},45769:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".grid[data-v-753bb39c]{display:grid;gap:4px;grid-auto-rows:minmax(100px,auto);grid-template-columns:repeat(8,minmax(0,1fr))}@media (max-width:640px){.grid[data-v-753bb39c]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width:641px) and (max-width:768px){.grid[data-v-753bb39c]{grid-template-columns:repeat(6,minmax(0,1fr))}}@media (min-width:769px){.grid[data-v-753bb39c]{grid-template-columns:repeat(8,minmax(0,1fr))}}","",{version:3,sources:["webpack://./resources/js/Components/Pages/Schedule/ScheduleGrid.vue"],names:[],mappings:"AAmKA,uBACE,YAAa,CAGb,OAAQ,CADR,iCAAmC,CADnC,6CAGF,CAEA,yBACE,uBACE,6CACF,CACF,CACA,+CACE,uBACE,6CACF,CACF,CACA,yBACE,uBACE,6CACF,CACF",sourcesContent:["<template>\n  <div>\n    <input type=\"time\" v-model=\"currentHour\" @input=\"updateShows\" class=\"text-black\">\n    <div :class=\"gridClass\">\n      <SpotComponent\n          v-for=\"show in visibleShows\"\n          :key=\"show.id\"\n          :show=\"show\"\n          :span=\"calculateSpan(show)\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted, onUnmounted, watchEffect } from 'vue'\nimport { useScheduleStore } from '@/Stores/ScheduleStore'\nimport SpotComponent from './SpotComponent.vue';\nimport { mockShows } from '../../../Json/mockShows'; // assuming you export this from a module\n\nconst scheduleStore = useScheduleStore()\n\nconst baseTime = ref(new Date());\nconst currentHour = ref(baseTime.value.toISOString().substring(11, 16));\n// const shows = ref([]);\n\n// Update base time whenever current hour changes\n// const updateShows = () => {\n//   const [hours, minutes] = currentHour.value.split(':');\n//   baseTime.value.setHours(parseInt(hours), parseInt(minutes), 0, 0);\n// };\n\nconst gridClass = computed(() => {\n  // Here you can have logic based on window width or other factors\n  return 'grid grid-cols-8 gap-2 p-4'\n}); // as before\n\nconst updateShows = () => {\n  const [hour, minute] = currentHour.value.split(':');\n  baseTime.value.setHours(parseInt(hour), parseInt(minute), 0, 0);\n  // You might want to force a re-render or re-compute of visible shows here\n};\n\n/**\n * Calculates how many 30-minute columns a show should span within the visible grid based on its start and end times.\n * @param {Object} show - The show object containing start time and duration.\n * @returns {Number} The number of 30-minute columns the show spans within the visible grid.\n */\nconst calculateSpan = (show) => {\n\n  // gridWindowEnd is calculated as 4 hours beyond the baseTime.\n  // This covers the full span of the visible schedule grid from the current base time.\n  const gridWindowEnd = new Date(baseTime.value.getTime() + 4 * 3600000); // 4 hours from baseTime\n\n  // Convert show start time and duration into JavaScript Date objects for easier manipulation.\n  const showStart = new Date(show.startTime);\n  const showEnd = new Date(showStart.getTime() + show.duration * 60000); // Convert duration from minutes to milliseconds\n\n  // Check if the show is outside the visible time window defined by baseTime and gridWindowEnd.\n  if (showEnd <= baseTime || showStart >= gridWindowEnd) {\n    // If the show ends before the grid starts or begins after the grid ends, it is not visible.\n    return 0;\n  }\n\n  // Calculate the actual start and end times of the show that are visible within the grid.\n  const visibleStartTime = showStart < baseTime ? baseTime : showStart;\n  const visibleEndTime = showEnd > gridWindowEnd ? gridWindowEnd : showEnd;\n\n  // Calculate the visible duration of the show in minutes.\n  const visibleDuration = (visibleEndTime - visibleStartTime) / 60000; // Convert milliseconds to minutes\n\n  // Determine how many 30-minute columns this visible duration spans.\n  // Use Math.ceil to ensure that any part of a column used requires a full column allocation.\n  return Math.ceil(visibleDuration / 30);\n};\n\n\nwatch(currentHour, (newHour, oldHour) => {\n  updateShows(newHour);  // Update to use newHour if necessary\n}, { immediate: true });\n\nconst visibleShows = computed(() => {\n  return mockShows.map(show => {\n    const startTime = new Date(baseTime.value.toDateString() + ' ' + show.startTime);\n    const span = Math.min(show.span, 8); // Limit span to grid size\n    return { ...show, startTime, span };\n  });\n});\n\nconst timeFormat = (date) => {\n  return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n};\n\nconst endTime = (show) => {\n  return new Date(show.startTime.getTime() + show.span * 30 * 60000);\n};\n\n// const visibleShows = computed(() => {\n//   return mockShows.map(show => {\n//     // Calculate the adjusted start time based on the base time\n//     const startTime = new Date(baseTime.value.toDateString() + ' ' + show.startTime);\n//     const endTime = new Date(startTime.getTime() + show.span * 30 * 60000); // span in minutes to milliseconds\n//\n//     // Determine if the show should be visible within the current view window\n//     // For example, assuming the view window is 4 hours from the base time\n//     const viewWindowStart = baseTime.value;\n//     const viewWindowEnd = new Date(baseTime.value.getTime() + 4 * 3600000);\n//\n//     // Check if the show overlaps with the current view window\n//     const isVisible = (startTime < viewWindowEnd && endTime > viewWindowStart);\n//\n//     return {\n//       ...show,\n//       startTime,\n//       endTime, // optional, for debugging or further calculations\n//       isVisible // This can be used to conditionally render shows\n//     };\n//   }).filter(show => show.isVisible); // Optionally filter out shows not visible in the current window\n// });\n\n// const visibleShows = computed(() => {\n//   // Filter or adjust shows based on the current 'baseTime'\n//   return mockShows.map(show => ({\n//     ...show,\n//     startTime: new Date(show.startTime.getTime()) // ensure reactive updates\n//   }));\n// });\n\n// const numberOfColumns = scheduleStore.numberOfColumns;\n\n// const width = ref(window.innerWidth);\n\nonMounted(async() => {\n// Register the resize event listener to update the width\n  window.addEventListener('resize', scheduleStore.updateWidth);\n  // const response = await axios.get('@/Json/mockShows');\n  // shows.value = response.data.mockShows.map(show => ({\n  //   ...show,\n  //   startTime: new Date(baseTime.value.toDateString() + ' ' + show.startTime)\n  // }));\n});\n\nonUnmounted(() => {\n  window.removeEventListener('resize', scheduleStore.updateWidth);\n});\n\n// Assuming the current hour is 0, which represents the start of our viewing grid\n// const baseTime = new Date();\n// baseTime.setMinutes(0, 0, 0); // Normalize to the full hour for consistency\n\n// const mockShows = [\n//   { name: 'Early Morning Show', span: 2, startTime: new Date(baseTime.getTime() - 30*60000) }, // Started 30 minutes ago\n//   { name: 'Morning Show', span: 4, startTime: baseTime }, // Starts now\n//   { name: 'Late Morning Show', span: 3, startTime: new Date(baseTime.getTime() + 1*3600000) }, // Starts in 1 hour\n//   { name: 'Noon News', span: 2, startTime: new Date(baseTime.getTime() + 90*60000) }, // Starts in 1.5 hours\n//   { name: 'Afternoon Talk', span: 6, startTime: new Date(baseTime.getTime() + 2*3600000) }, // Starts in 2 hours\n//   { name: 'Evening Special', span: 1, startTime: new Date(baseTime.getTime() - 90*60000) }, // Started 1.5 hours ago\n//   { name: 'Late Show', span: 3, startTime: new Date(baseTime.getTime() + 2*3600000) }, // Starts in 2 hours\n//   { name: 'Night Owl Movie', span: 2, startTime: new Date(baseTime.getTime() + 3*3600000) } // Starts in 3 hours\n// ];\n<\/script>\n\n<style scoped>\n.grid {\n  display: grid;\n  grid-template-columns: repeat(8, minmax(0, 1fr));\n  grid-auto-rows: minmax(100px, auto);\n  gap: 4px;\n}\n\n@media (max-width: 640px) {\n  .grid {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n}\n@media (min-width: 641px) and (max-width: 768px) {\n  .grid {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n}\n@media (min-width: 769px) {\n  .grid {\n    grid-template-columns: repeat(8, minmax(0, 1fr));\n  }\n}\n</style>\n"],sourceRoot:""}]);const s=i},56701:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,'.bg-gradient-show[data-v-501aba6f]{background:linear-gradient(90deg,#1f4037,#99f2c8)}.bg-gradient-show-hover[data-v-501aba6f]:hover{background:linear-gradient(90deg,#66d3fa,#6e45e2)}.bg-gradient-new-release[data-v-501aba6f]{background:linear-gradient(90deg,#654ea3,#eaafc8)}.bg-gradient-new-release-hover[data-v-501aba6f]:hover{background:linear-gradient(90deg,#c2e59c,#64b3f4)}.column-width[data-v-501aba6f]{@apply w-16}.schedule-item[data-v-501aba6f]{align-items:center;background:#f0f0f0;color:#000;display:flex;flex-direction:column;gap:10px;padding:10px}.time-slot[data-v-501aba6f]{border-bottom:1px solid #fff;grid-row:1;padding:10px 0;text-align:center}.time-cell[data-v-501aba6f]{border:1px solid #fff}.content[data-v-501aba6f]{background:#f0f0f0;border:1px solid #ddd;padding:8px}.placeholder[data-v-501aba6f]{background:#ccc;height:60px;width:100%}.schedule-grid[data-v-501aba6f]{display:grid;grid-template-columns:repeat(8,1fr)}.content-row[data-v-501aba6f],.header-row[data-v-501aba6f],.status-row[data-v-501aba6f]{display:contents;width:100%}.schedule-cell[data-v-501aba6f]{background:#333;color:#fff;padding:8px;text-align:center}.item-content[data-v-501aba6f]{background:linear-gradient(90deg,#444444e6,#444444b3);padding:8px}.item-content[data-v-501aba6f]:hover{background:linear-gradient(90deg,#06beb6,#48b1bf)}.content-image[data-v-501aba6f]{height:auto;object-fit:cover;width:100%}.status-row[data-v-501aba6f]{background-color:#000000b3;color:#fff;font-size:1rem;padding:10px 0;text-align:center;width:100%}.status-cell[data-v-501aba6f]{align-items:center;color:#fff;display:flex;font-weight:700;height:100%;justify-content:center;opacity:.8;padding:8px;transition:background-color .3s ease;width:100%}.status-cell span[data-v-501aba6f]{background-color:#000;border-radius:4px;display:block;padding:4px 8px}.status-cell[data-v-501aba6f]:empty:after{background:none;content:"";display:block;height:100%;width:100%}.now-playing[data-v-501aba6f]{animation:pulseAnimation-501aba6f 2s infinite;background-color:#4caf50}.coming-up-next[data-v-501aba6f]{background-color:#ff9800}@keyframes pulseAnimation-501aba6f{0%{opacity:.75}50%{opacity:1}to{opacity:.75}}@media (min-width:1280px){.xl\\:hidden[data-v-501aba6f]{display:none}}@media (min-width:1024px){.lg\\:hidden[data-v-501aba6f]{display:none}}',"",{version:3,sources:["webpack://./resources/js/Pages/Schedule/Index.vue"],names:[],mappings:"AA0lBA,mCACE,iDACF,CAEA,+CACE,iDACF,CAEA,0CACE,iDACF,CAEA,sDACE,iDACF,CAGA,+BACE,WACF,CAGA,gCAOE,kBAAmB,CANnB,kBAAmB,CACnB,UAAW,CAEX,YAAa,CACb,qBAAsB,CACtB,QAAS,CAHT,YAKF,CAEA,4BAGE,4BAA6B,CAC7B,UAAW,CAFX,cAAe,CADf,iBAIF,CAEA,4BACE,qBACF,CAEA,0BACE,kBAAmB,CAEnB,qBAAsB,CADtB,WAEF,CAEA,8BACE,eAAgB,CAEhB,WAAY,CADZ,UAEF,CAGA,gCACE,YAAa,CACb,mCAEF,CAEA,wFACE,gBAAiB,CACjB,UACF,CAEA,gCACE,eAAgB,CAChB,UAAW,CAEX,WAAY,CADZ,iBAEF,CAEA,+BAEE,qDAAmF,CADnF,WAEF,CAEA,qCACE,iDAEF,CAEA,gCAEE,WAAY,CACZ,gBAAiB,CAFjB,UAGF,CAEA,6BAME,0BAAiC,CAFjC,UAAY,CADZ,cAAe,CAEf,cAAe,CAHf,iBAAkB,CADlB,UAMF,CAEA,8BAGE,kBAAmB,CAEnB,UAAY,CAJZ,YAAa,CAOb,eAAiB,CADjB,WAAW,CALX,sBAAuB,CAOvB,UAAY,CALZ,WAAY,CAMZ,oCAAsC,CAJtC,UAKF,CAEA,mCAIE,qBAAuB,CADvB,iBAAkB,CAFlB,aAAc,CACd,eAGF,CAGA,0CAKE,eAAgB,CAJhB,UAAW,CACX,aAAc,CAEd,WAAY,CADZ,UAGF,CAEA,8BAEE,6CAAqC,CADrC,wBAEF,CAEA,iCACE,wBACF,CAIA,mCACE,GAAK,WAAe,CACpB,IAAM,SAAY,CAClB,GAAO,WAAe,CACxB,CAGA,0BAEE,6BACE,YACF,CACF,CAEA,0BAEE,6BACE,YACF,CACF",sourcesContent:['<script>\n\n// DELETE THIS SCRIPT TAG\n// This is only for notes about building this page.\n\n// The schedule page will allow free users to look back 72 hours and look ahead 72 hours.\n// On a mobile device it\'s easy enough to create a forever scroll for looking forward.\n// The easter egg will be scrolling UP to look back at the past 72 hours.\n// Free users can watch any of the content in the past 72 hours for free.\n// Users are given credits each month to watch premium notTV content.\n// They may purchase more credits, or subscribe for unlimited access.\n// They may also use credits to purchase licenses to content from creators.\n// Credits may also be spent in the shop.\n\n<\/script>\n\n<template>\n  <Head title="Schedule"/>\n\n  <div class="place-self-center flex flex-col w-full overscroll-x-none pb-64">\n    <div id="topDiv" class="flex justify-end px-5">\n      <div class="relative w-32 h-32 mt-8 -mb-8 mr-8">\n        <div class="absolute top-3 left-0 w-full h-full flex justify-center items-center z-20"><h1 class="text-4xl font-bold text-white bg-black bg-opacity-80 px-4 py-1 text-center">Broadcast<br />Schedule</h1></div>\n        <div class="absolute top-3 left-0 w-full h-full flex justify-center items-center z-10"><img src="/storage/images/Ping.png" alt="notTV Ping"/></div>\n      </div>\n\n    </div>\n    <Message v-if="appSettingStore.showFlashMessage" :flash="$page.props.flash"/>\n    \x3c!--    <div class="mx-6">--\x3e\n    \x3c!--      <div class="alert alert-info">--\x3e\n    \x3c!--        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">--\x3e\n    \x3c!--          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"--\x3e\n    \x3c!--                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>--\x3e\n    \x3c!--        </svg>--\x3e\n    \x3c!--        <span></span>--\x3e\n    \x3c!--      </div>--\x3e\n    \x3c!--    </div>--\x3e\n    \x3c!--    <ul class="w-64 ml-12 my-8">--\x3e\n    \x3c!--      <li class="p-2 bg-green-800">Scheduled Shows</li>--\x3e\n    \x3c!--      <li class="p-2 bg-purple-800">New Releases</li>--\x3e\n    \x3c!--      <li class="p-2 bg-blue-800">Live Events</li>--\x3e\n    \x3c!--      <li class="p-2 bg-yellow-800">News</li>--\x3e\n    \x3c!--      &lt;!&ndash;            <li class="p-2"><font-awesome-icon icon="fa-leaf" class="text-red-600 text-3xl pr-2"/> Canadian Content</li>&ndash;&gt;--\x3e\n    \x3c!--      &lt;!&ndash;            <li class="p-2"><font-awesome-icon icon="fa-flag-usa" class="text-red-600 text-3xl pr-2"/> American Content</li>&ndash;&gt;--\x3e\n\n    \x3c!--    </ul>--\x3e\n\n    <div class="ml-5 px-2 mb-2">\n      <span class="text-sm uppercase text-purple-500">All times are listed in your timezone.</span>\n    </div>\n\n    \x3c!--    <div class="schedule-grid">--\x3e\n    \x3c!--      &lt;!&ndash; Header Row for Times &ndash;&gt;--\x3e\n    \x3c!--      <div class="header-row">--\x3e\n    \x3c!--        <template v-for="(time, index) in nextFourHours" :key="`header-${index}`">--\x3e\n    \x3c!--          <div class="schedule-cell" :style="{ \'grid-column\': index + 1 }">{{ time.formatted }}</div>--\x3e\n    \x3c!--        </template>--\x3e\n    \x3c!--      </div>--\x3e\n    <div class="schedule-grid">\n    <div class="header-row">\n      \x3c!-- Time slots header --\x3e\n      <div class="time-cell bg-gray-900 px-3 py-2 text-center font-bold" v-for="interval in nextFourHoursWithHalfHourIntervals" :key="interval.dateTime">\n        {{ interval.formatted }}\n      </div>\n    </div>\n    </div>\n    <ScheduleGrid />\n\n\n    <div class="schedule-grid">\n      <div class="header-row">\n        \x3c!-- Time slots header --\x3e\n        <div class="time-cell bg-gray-900 px-3 py-2 text-center font-bold" v-for="interval in nextFourHoursWithHalfHourIntervals" :key="interval.dateTime">\n          {{ interval.formatted }}\n        </div>\n      </div>\n\n      <div v-if="scheduleStore.scheduleIsLoading && scheduleStore.nextFourHoursOfContent.length === 0"\n            class="w-full flex justify-center text-center items-center">\n        <span class="loading loading-ball loading-xl text-info"></span>\n      </div>\n\n      <div class="content-row">\n        \x3c!-- Scheduled shows --\x3e\n        <template v-for="item in nextFourHoursOfContent" :key="item.id">\n          <div\n              class="show-cell flex flex-col w-full h-full"\n              :class="getCellClasses(item.type)"\n              :style="gridPlacement(item.start_time, item.durationMinutes)"\n              @click="handleShowClick(item)"\n          >\n            <div  class="item-content flex flex-col items-center justify-center gap-y-2 flex-grow">\n              <h3>{{ item.content.show?.name || \'No Show Name\' }}</h3>\n              \x3c!-- Display the image if available --\x3e\n              <SingleImage v-if="item.content.show?.image"\n                           :image="item.content.show?.image"\n                           :alt="item.content.show?.name"\n                           class="content-image"/>\n              \x3c!-- Fallback placeholder if no image --\x3e\n              <div v-else class="placeholder"></div>\n            </div>\n          </div>\n        </template>\n      </div>\n\n\n      \x3c!-- Status Row --\x3e\n      <div class="status-row">\n        \x3c!-- Status for each show --\x3e\n        <template v-for="(item, index) in nextFourHoursOfContent" :key="`status-${item.id}`">\n          <div\n              :class="getStatusCellClasses(index)" :style="gridPlacement(item.start_time, item.durationMinutes)"\n          >\n            \x3c!-- Use the index to determine the status --\x3e\n            <span v-if="index === 0">NOW PLAYING</span>\n            <span v-else-if="index === 1">COMING UP NEXT</span>\n\n          </div>\n        </template>\n      </div>\n\n      \x3c!--      &lt;!&ndash; Content Row &ndash;&gt;--\x3e\n      \x3c!--      <div class="content-row">--\x3e\n      \x3c!--        <div--\x3e\n      \x3c!--            v-for="(item, index) in nextFourHoursOfContent"--\x3e\n      \x3c!--            :key="`content-${index}`"--\x3e\n      \x3c!--            :style="{ \'grid-column\': item.gridColumn }"--\x3e\n      \x3c!--            class="item-cell"--\x3e\n      \x3c!--        >--\x3e\n      \x3c!--          &lt;!&ndash; Calculate where the item should start and how many columns it should span &ndash;&gt;--\x3e\n      \x3c!--          <div :style="{--\x3e\n      \x3c!--                \'grid-column\': `${calculateStartColumn(item.start_time, timeSlots)} / span ${calculateSpan(item.start_time, item.durationMinutes, timeSlots)}`,--\x3e\n      \x3c!--                }">--\x3e\n      \x3c!--            &lt;!&ndash; Content Here &ndash;&gt;--\x3e\n      \x3c!--            &lt;!&ndash; Content Display Logic &ndash;&gt;--\x3e\n      \x3c!--            <div class="item-content">--\x3e\n      \x3c!--              <h3>{{ item.content.show?.name || \'No Show Name\' }}</h3>--\x3e\n      \x3c!--              &lt;!&ndash; Display the image if available &ndash;&gt;--\x3e\n      \x3c!--              <SingleImage v-if="item.content.show?.image"--\x3e\n      \x3c!--                           :image="item.content.show?.image"--\x3e\n      \x3c!--                           :alt="item.content.show?.name"--\x3e\n      \x3c!--                           class="content-image" />--\x3e\n      \x3c!--              &lt;!&ndash; Fallback placeholder if no image &ndash;&gt;--\x3e\n      \x3c!--              <div v-else class="placeholder"></div>--\x3e\n      \x3c!--            </div>--\x3e\n      \x3c!--          </div>--\x3e\n\n      \x3c!--        </div>--\x3e\n      \x3c!--      </div>--\x3e\n\n    </div>\n\n\n\x3c!--    <table class="table-fixed mx-5">--\x3e\n\x3c!--      <thead class="bg-gray-900">--\x3e\n\x3c!--      <tr class="border-b border-0.5 border-white">--\x3e\n\x3c!--        &lt;!&ndash; Loop for each hour, including its half-hour mark &ndash;&gt;--\x3e\n\x3c!--        <template v-for="(time, index) in nextFourHours" :key="index">--\x3e\n\x3c!--          &lt;!&ndash; Hour mark &ndash;&gt;--\x3e\n\x3c!--          <th :class="getColumnVisibilityClass(index * 2)">--\x3e\n\x3c!--            {{ formatTime(new Date(time)) }}--\x3e\n\x3c!--          </th>--\x3e\n\x3c!--          &lt;!&ndash; Half-hour mark &ndash;&gt;--\x3e\n\x3c!--          <th :class="getColumnVisibilityClass(index * 2 + 1)">--\x3e\n\x3c!--            {{ formatHalfHour(new Date(time)) }}--\x3e\n\x3c!--          </th>--\x3e\n\x3c!--        </template>--\x3e\n\x3c!--      </tr>--\x3e\n\x3c!--      </thead>--\x3e\n\x3c!--      <tbody>--\x3e\n\x3c!--      &lt;!&ndash; Loop through each content item &ndash;&gt;--\x3e\n\x3c!--      <tr v-for="(item, index) in nextFourHoursOfContent" :key="index" class="border-b border-0.5 border-white">--\x3e\n\x3c!--        &lt;!&ndash; Calculate the colspan based on durationMinutes &ndash;&gt;--\x3e\n\x3c!--        <td :colspan="calculateColspan(item.durationMinutes)" @click="openModal(`goToNowPlayingModal`)"--\x3e\n\x3c!--            :class="getCellClasses(item.type)">--\x3e\n\x3c!--          <div class="flex flex-col">--\x3e\n\x3c!--            <span class="text-center pb-2">{{ item.content.show?.name || \'No Show Name\' }}</span>--\x3e\n\x3c!--            &lt;!&ndash; Optionally display an image if available &ndash;&gt;--\x3e\n\x3c!--            &lt;!&ndash;            <div v-if="content.show?.image" class="w-full h-64" :style="{ backgroundImage: `url(${content.show.image.cdn_endpoint}${content.show.image.folder}/${content.show.image.name})`, backgroundSize: \'cover\' }"></div>&ndash;&gt;--\x3e\n\x3c!--            <SingleImage v-if="item.type === \'show\'" :image="item?.content?.show?.image"--\x3e\n\x3c!--                         :alt="item?.content?.show?.name" :class="`max-w-full h-auto object-cover`"/>--\x3e\n\x3c!--            <SingleImage v-else :image="item?.content?.image" :alt="item?.content?.name"--\x3e\n\x3c!--                         :class="`max-w-xs h-auto object-cover`"/>--\x3e\n\x3c!--            &lt;!&ndash; Placeholder if no image is available &ndash;&gt;--\x3e\n\x3c!--            <div v-else class="w-full h-64 bg-gray-400"></div>--\x3e\n\x3c!--          </div>--\x3e\n\x3c!--        </td>--\x3e\n\x3c!--      </tr>--\x3e\n\x3c!--      </tbody>--\x3e\n\n\x3c!--    </table>--\x3e\n\n    <PopUpModal :id="`goToNowPlayingModal`">\n      <template v-slot:header>Now Playing</template>\n      <template v-slot:main><span class="text-orange-500">This modal is temporary. This will take you to the now playing show or episode page.</span>\n      </template>\n    </PopUpModal>\n    <PopUpModal :id="`getReminderModal`">\n      <template v-slot:header>Set Reminder</template>\n      <template v-slot:main><span class="text-orange-500">This modal is temporary. Set a reminder when this show starts and/or subscribe to the show to get all notifications when new episodes are released or the show goes live. <br /><br /><span class="font-semibold text-yellow-600">NOTE: Monthly and Yearly contributors get first access to new features.</span></span>\n      </template>\n    </PopUpModal>\n\n    <div class="bg-gray-600 rounded-lg shadow m-10 p-4">\n\n\n      <TodayView/>\n    </div>\n\n\n  </div>\n</template>\n\n<script setup>\nimport { usePageSetup } from \'@/Utilities/PageSetup\'\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useScheduleStore } from \'@/Stores/ScheduleStore\'\nimport Message from \'@/Components/Global/Modals/Messages\'\nimport PopUpModal from \'@/Components/Global/Modals/PopUpModal\'\nimport TodayView from \'@/Components/Global/Calendar/TodayView.vue\'\nimport { computed, onMounted } from \'vue\'\nimport SingleImage from \'@/Components/Global/Multimedia/SingleImage.vue\'\nimport dayjs from \'dayjs\'\nimport { Inertia } from \'@inertiajs/inertia\'\nimport ScheduleGrid from \'@/Components/Pages/Schedule/ScheduleGrid.vue\'\n\nusePageSetup(\'schedule\')\n\nconst appSettingStore = useAppSettingStore()\nconst scheduleStore = useScheduleStore()\n\nlet props = defineProps({\n  can: Object,\n})\n\n// Computed property to ensure reactivity\nconst nextFourHours = computed(() => scheduleStore.nextFourHoursWithHalfHourIntervals)\nconst nextFourHoursOfContent = computed(() => scheduleStore.nextFourHoursOfContent)\nconst nextFourHoursWithHalfHourIntervals = computed(() => scheduleStore.nextFourHoursWithHalfHourIntervals)\nconst timeIntervals = computed(() => scheduleStore.nextFourHoursWithHalfHourIntervals)\nconst shows = computed(() => scheduleStore.nextFourHoursOfContent)\n\n// Determine the "Now Playing" and "Coming Up Next" statuses\nconst now = dayjs();\nlet nowPlayingIndex = -1;\nlet comingUpNextIndex = -1;\n//\n// // Ensure shows.value is defined and is an array before attempting to iterate over it\n// if (Array.isArray(shows.value)) {\n//   shows.value.forEach((show, index) => {\n//     const showStart = dayjs(show.start_time);\n//     const showEnd = showStart.add(show.durationMinutes, \'minutes\');\n//     if (now.isSameOrBefore(showEnd) && now.isAfter(showStart)) {\n//       nowPlayingIndex = index; // This show is now playing\n//     }\n//     // Assuming shows are sorted by start time\n//     if (nowPlayingIndex !== -1 && index === nowPlayingIndex + 1) {\n//       comingUpNextIndex = index; // The next show in the list\n//     }\n//   });\n// }\n\n// Provide these indexes for template usage\n// const isNowPlaying = (index) => index === nowPlayingIndex;\nconst isComingUpNext = (index) => index === comingUpNextIndex;\n\nconst gridPlacement = (startTime, durationMinutes) => {\n  // Convert startTime to a comparable format if necessary\n  const startDateTime = new Date(startTime)\n  const timeSlots = nextFourHoursWithHalfHourIntervals.value.map(interval => new Date(interval.dateTimeString))\n\n  // Find the index of the time slot that matches the item\'s start time\n  let startColumn = timeSlots.findIndex(slot => startDateTime >= slot && startDateTime < new Date(slot.getTime() + 30 * 60000))\n  if (startColumn === -1) {\n    console.error(\'Start time does not match any interval:\', startTime)\n    return {} // Fallback or error handling\n  }\n\n  // Adjust startColumn for 1-based indexing in CSS Grid\n  startColumn += 1\n\n  // Calculate span based on duration\n  const span = Math.ceil(durationMinutes / 30)\n\n  // Return CSS style object for grid placement\n  return {\n    \'gridColumn\': `${startColumn} / span ${span}`,\n  }\n}\n\n// Determines the classes for a status cell\nconst getStatusCellClasses = (index) => {\n  const classes = [\'status-cell\'];\n  if (index === 0) classes.push(\'now-playing\');\n  else if (index === 1) classes.push(\'coming-up-next\');\n  else classes.push(\'status-cell-empty\'); // For cells without specific content\n  return classes;\n};\n\n// Checks if a given show is currently playing\nfunction isNowPlaying(showStartTime, durationMinutes) {\n  const now = dayjs()\n  const startTime = dayjs(showStartTime)\n  const endTime = startTime.add(durationMinutes, \'minute\')\n  console.log(\'ShowStartTime Time: \' + showStartTime)\n  console.log(\'Duration Minutes: \' + durationMinutes)\n  console.log(\'Now: \' + now)\n  console.log(\'Start Time: \' + startTime)\n  console.log(\'End Time: \' + endTime)\n  return now.isAfter(startTime) && now.isBefore(endTime)\n}\n\n\n// const isComingUpNext = (shows) => {\n//   const now = dayjs();\n//   let nowPlayingIndex = -1;\n//\n//   // First, find the index of the show that\'s currently playing, if any\n//   shows.value.forEach((show, index) => {\n//     const showStart = dayjs(show.start_time);\n//     const showEnd = showStart.add(show.durationMinutes, \'minute\');\n//     if (now.isAfter(showStart) && now.isBefore(showEnd)) {\n//       nowPlayingIndex = index;\n//     }\n//   });\n//\n//   // The show coming up next would be the first show that starts after the current time\n//   // and is not the currently playing show\n//   for (let i = nowPlayingIndex + 1; i < shows.length; i++) {\n//     const nextShowStart = dayjs(shows[i].start_time);\n//     if (now.isBefore(nextShowStart)) {\n//       return i; // Return the index of the coming up next show\n//     }\n//   }\n//\n//   return -1; // Return -1 if there\'s no show coming up next\n// };\n\nconst nextShowIndex = isComingUpNext(shows);\nconsole.log("Coming up next show index:", nextShowIndex);\n\n\n// const nextFourHoursOfContent = computed(() => {\n//   return scheduleStore.nextFourHoursOfContent.map(item => {\n//     const { startColumn, span } = calculateGridPlacement(item.start_time, item.durationMinutes, nextFourHours.value);\n//     // Adjust startColumn for CSS Grid (1-indexed)\n//     const gridColumnStart = startColumn + 1;\n//     item.gridColumn = `${gridColumnStart} / span ${span}`;\n//     return item;\n//   });\n// });\n\n// console.log(nextFourHoursOfContent.value);\nconst timeSlots = computed(() => {\n  // Assuming nextFourHoursWithHalfHourIntervals is a reactive source\n  return nextFourHoursOfContent.value.map(slot => new Date(slot))\n})\n//\n// console.log(timeSlots.value);\n\nfunction calculateStartColumn(startTime, timeSlots) {\n  // Convert startTime to a Date object for comparison\n  const startDateTime = new Date(startTime)\n  // Find the first time slot that matches or exceeds the startDateTime\n  const columnIndex = timeSlots.findIndex(timeSlot => {\n    const timeSlotDate = new Date(timeSlot)\n    return startDateTime.getTime() <= timeSlotDate.getTime()\n  })\n  // Return the column index + 1 (CSS grid lines start at 1, not 0)\n  return columnIndex + 1\n}\n\nfunction calculateSpan(startTime, durationMinutes, timeSlots) {\n  const startDateTime = new Date(startTime)\n  const endDateTime = new Date(startDateTime.getTime() + durationMinutes * 60000) // Convert duration to milliseconds and add\n\n  let startIndex = -1\n  let endIndex = -1\n\n  // Loop through timeSlots to find start and end indexes\n  for (let i = 0; i < timeSlots.length; i++) {\n    const slot = new Date(timeSlots[i])\n    if (startIndex === -1 && startDateTime <= slot) {\n      startIndex = i\n    }\n    if (endDateTime <= slot) {\n      endIndex = i\n      break\n    }\n  }\n\n  // If the end index was not found, it means the event lasts beyond the last time slot\n  if (endIndex === -1) {\n    endIndex = timeSlots.length\n  }\n\n  // The span is the difference between the end and start indexes\n  return endIndex - startIndex\n}\n\nconst timeStringToMinutes = (timeStr) => {\n  const [hour, minute] = timeStr.match(/\\d+/g)\n  return parseInt(hour) * 60 + parseInt(minute)\n}\n\n// const calculateGridPlacement = (showStartTime, showDuration, timeIntervals) => {\n//   // Convert the show start time and intervals to minutes for comparison\n//   const showStartMinutes = timeStringToMinutes(showStartTime);\n//   const intervalStartMinutes = timeIntervals.map(interval => timeStringToMinutes(interval));\n//\n//   // Find the starting column by finding the closest interval start time\n//   let startColumn = intervalStartMinutes.findIndex(time => time >= showStartMinutes);\n//   startColumn = startColumn === -1 ? timeIntervals.length - 1 : startColumn; // Fallback to the last column if not found\n//\n//   // Calculate span based on duration (rounded up to cover partial intervals)\n//   const span = Math.ceil(showDuration / 30);\n//\n//   return { startColumn, span };\n// };\n\n// Sample usage\n// const timeIntervals = ["05:00 PM", "05:30 PM", "06:00 PM", "06:30 PM", "07:00 PM", "07:30 PM", "08:00 PM", "08:30 PM"];\n// const showStartTime = "17:00"; // "05:00 PM"\n// const showDuration = 60; // 60 minutes\n\n// const { startColumn, span } = calculateGridPlacement(showStartTime, showDuration, timeIntervals);\n\n// shows.value.forEach(show => {\n//   const { startColumn, span } = calculateGridPlacement(show.start_time, show.durationMinutes, timeIntervals.value);\n//   // Apply the calculated start column and span to your grid layout logic\n// });\n//\n// function calculateGridPlacement(showStartTime, showDuration, timeIntervals) {\n//   // Convert showStartTime to the user\'s timezone and format for comparison\n//   const showStartInUserTZ = userStore.convertUtcToUserTimezone(showStartTime);\n//\n//   // Find the index of the interval that matches the show\'s start time\n//   const startColumn = timeIntervals.findIndex(interval => showStartInUserTZ === interval.dateTimeString);\n//\n//   // Calculate how many 30-minute intervals the show spans\n//   const intervals = Math.ceil(showDuration / 30);\n//\n//   if (startColumn === -1) {\n//     console.error(\'Start time does not match any interval:\', showStartInUserTZ);\n//     // Handle the error case appropriately\n//     return { startColumn: 1, span: intervals }; // Default or error handling\n//   }\n//\n//   const span = startColumn + intervals > timeIntervals.length ? timeIntervals.length - startColumn : intervals;\n//\n//   return { startColumn: startColumn + 1, span }; // +1 for CSS grid\'s 1-based indexing\n// }\n\n\n// This function assumes that `showStartTime` is already in the same format as your time intervals.\n// If not, you may need to implement a conversion function to align the time formats.\n\nfunction convertTo24HourFormat(time) {\n  // Assume input is "HH:MM PM/AM" and convert to 24-hour format "HH:MM"\n  // This is a placeholder for actual conversion logic\n  return time\n}\n\n\n// function calculateGridColumn(startTime, durationMinutes, timeSlots) {\n//   // Find the index of the slot that matches the item\'s start time\n//   const startSlotIndex = timeSlots.value.findIndex(timeSlot =>\n//       new Date(startTime) >= new Date(timeSlot) &&\n//       new Date(startTime) < new Date(new Date(timeSlot).getTime() + 30 * 60000)\n//   ) + 1; // Grid lines start at 1\n// }\n//   function calculateSpan(startTime, durationMinutes) {\n//     if (!timeSlots.value || timeSlots.value.length === 0) {\n//       console.error(\'timeSlots is not defined or empty\');\n//       return 0; // or some fallback value\n//     }\n//\n//     // Now safe to use timeSlots.value.findIndex\n//     const startIndex = timeSlots.value.findIndex(/* your logic here */);\n//     // Further logic...\n//   }\n\n\n// Example processing of schedule into grid items\n// const processedSchedule = computed(() => {\n//   return shows.map(show => {\n//     const startCol = calculateStartColumn(show.startTime);\n//     const span = calculateSpan(show.duration, show.startTime);\n//\n//     return {\n//       ...show,\n//       startCol,\n//       span,\n//     };\n//   }).sort((a, b) => a.priority - b.priority); // Ensure sorting by priority\n// });\n\n// const calculateStartColumn = (startTime) => {\n//   const showStart = new Date(startTime);\n//   const gridStart = new Date(nextFourHours.value[0]);\n//\n//   // Calculate start column based on half-hour increments from gridStart\n//   const diffHours = (showStart - gridStart) / (1000 * 60 * 60);\n//   return Math.ceil(diffHours * 2) + 1; // +1 because CSS Grid lines start at 1\n// };\n//\n// const calculateSpan = (durationMinutes) => {\n//   return Math.ceil(durationMinutes / 30); // Span based on 30-minute intervals\n// };\n\n// const calculateStartColumn = (startTime) => {\n//   const showStart = new Date(startTime);\n//   const gridStart = nextFourHours[0];\n//\n//   // Find the index of the time slot that matches or immediately precedes the show\'s start time\n//   const columnIndex = nextFourHours.findIndex(time => showStart < time) - 1;\n//   console.log(\'BAHH \' + columnIndex);\n//\n//   return columnIndex >= 0 ? columnIndex + 1 : 1; // Ensure it falls within the grid columns\n// };\n//\n// const calculateSpan = (startTime, durationMinutes) => {\n//   const startColumn = calculateStartColumn(startTime);\n//   const span = Math.ceil(durationMinutes / 30); // Determine span based on duration\n//\n//   // Adjust the span to ensure it doesn\'t extend beyond the grid\n//   return startColumn + span - 1 <= 8 ? span : 8 - startColumn + 1;\n// };\n\nconst getItemStyle = (item) => {\n  const startColumn = calculateStartColumn(item.start_time)\n  const span = calculateSpan(item.durationMinutes)\n\n  return {\n    gridColumnStart: startColumn,\n    gridColumnEnd: `span ${span}`,\n    gridRowStart: 2, // All items start in the second row\n  }\n}\n\n// Method to format the full hour\nfunction formatTime(date) {\n  return date.toLocaleTimeString(\'en-US\', {hour: \'numeric\', minute: \'2-digit\', hour12: true})\n}\n\n// Method to add 30 minutes to the given date and format it\nfunction formatHalfHour(date) {\n  const halfHourLater = new Date(date.getTime() + 30 * 60 * 1000)\n  return halfHourLater.toLocaleTimeString(\'en-US\', {hour: \'numeric\', minute: \'2-digit\', hour12: true})\n}\n\n// Determine visibility classes based on column index and if it\'s a half-hour\nfunction getColumnVisibilityClass(index, isHalfHour) {\n  // Adjust index for half-hour columns\n  const adjustedIndex = isHalfHour ? index * 2 + 1 : index * 2\n\n  if (adjustedIndex >= 6) { // Last two columns visible only on 2xl screens\n    return \'hidden 2xl:table-cell\'\n  } else if (adjustedIndex >= 3) { // Columns 4, 5, 6 visible on xl screens and above\n    return \'hidden xl:table-cell\'\n  } else { // Columns 1, 2, 3 are always visible\n    return \'\'\n  }\n}\n\nfunction calculateColspan(durationMinutes) {\n  // Assuming each hour (and its half-hour mark) is represented by two columns\n  // and that each content item\'s duration in minutes can determine its span\n  return Math.ceil(durationMinutes / 30)\n}\n\nfunction getCellClasses(type) {\n  const baseClass = \'column-width text-sm 2xl:text-md border border-0.5 border-green-300 hover:border-blue-500 cursor-pointer\'\n  switch (type) {\n    case \'show\':\n      return `${baseClass} bg-gradient-show hover:bg-gradient-show-hover`\n    case \'new_release\':\n      return `${baseClass} bg-gradient-new-release hover:bg-gradient-new-release-hover`\n      // Add more cases as needed\n    default:\n      return baseClass\n  }\n}\n\nfunction handleShowClick(item) {\n  if (isNowPlaying(item.start_time, item.durationMinutes)) {\n    // Redirect to the show\'s page if it\'s currently playing\n    Inertia.visit(`/shows/${item.content.show.slug}/`)\n  } else {\n    // Open the reminder modal for shows that are not currently playing\n    openModal(\'getReminderModal\')\n  }\n}\n\nfunction openModal(modalName) {\n  document.getElementById(modalName).showModal()\n}\n\n<\/script>\n\n<style scoped>\n\n.bg-gradient-show {\n  background: linear-gradient(to right, #1f4037, #99f2c8); /* Example green gradient */\n}\n\n.bg-gradient-show-hover:hover {\n  background: linear-gradient(to right, #66D3FA, #6E45E2); /* Example green gradient on hover */\n}\n\n.bg-gradient-new-release {\n  background: linear-gradient(to right, #654ea3, #eaafc8); /* Example purple gradient */\n}\n\n.bg-gradient-new-release-hover:hover {\n  background: linear-gradient(to right, #c2e59c, #64b3f4); /* Example purple gradient on hover */\n}\n\n\n.column-width {\n  @apply w-16\n}\n\n\n.schedule-item {\n  background: #f0f0f0;\n  color: #000;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.time-slot {\n  text-align: center;\n  padding: 10px 0;\n  border-bottom: 1px solid #fff;\n  grid-row: 1; /* Ensures all time slots are in the first row */\n}\n\n.time-cell {\n  border: 1px solid #fff;\n}\n\n.content {\n  background: #f0f0f0;\n  padding: 8px;\n  border: 1px solid #ddd;\n}\n\n.placeholder {\n  background: #ccc;\n  width: 100%;\n  height: 60px;\n}\n\n\n.schedule-grid {\n  display: grid;\n  grid-template-columns: repeat(8, 1fr); /* Adjust based on your actual time slots */\n\n}\n\n.header-row, .content-row, .status-row {\n  display: contents; /* Make these divs act as part of the grid layout without creating extra rows */\n  width: 100%; /* Ensure they span the full width of the grid */\n}\n\n.schedule-cell {\n  background: #333;\n  color: #fff;\n  text-align: center;\n  padding: 8px;\n}\n\n.item-content {\n  padding: 8px;\n  background: linear-gradient(to right, rgba(68, 68, 68, 0.9), rgba(68, 68, 68, 0.7));\n}\n\n.item-content:hover {\n  background: linear-gradient(to right, #06beb6, #48b1bf);\n  /* Adjust the colors above to match your desired hover effect */\n}\n\n.content-image {\n  width: 100%;\n  height: auto;\n  object-fit: cover;\n}\n\n.status-row {\n  width: 100%; /* Ensure the row takes the full width of its container */\n  text-align: center;\n  font-size: 1rem; /* Adjust as needed */\n  color: white; /* Adjust as needed */\n  padding: 10px 0; /* Adjust as needed */\n  background-color: rgba(0,0,0,0.7); /* Adjust as needed for visibility */\n}\n\n.status-cell {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n  color: white;\n  width: 100%;\n  height:100%;\n  font-weight: bold;\n  opacity: 0.8;\n  transition: background-color 0.3s ease;\n}\n\n.status-cell span {\n  display: block;\n  padding: 4px 8px;\n  border-radius: 4px;\n  background-color: black;\n}\n\n/* Optional: If you want the empty cells to have a slight indication they are there */\n.status-cell:empty::after {\n  content: "";\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: none; /* Adjust this to a very subtle color or keep transparent */\n}\n\n.now-playing {\n  background-color: #4CAF50; /* Green for now playing */\n  animation: pulseAnimation 2s infinite;\n}\n\n.coming-up-next {\n  background-color: #FF9800; /* Orange for coming up next */\n}\n\n\n\n@keyframes pulseAnimation {\n  0% { opacity: 0.75; }\n  50% { opacity: 1; }\n  100% { opacity: 0.75; }\n}\n\n/* Responsive visibility */\n@media (min-width: 1280px) {\n  /* 2xl */\n  .xl\\:hidden {\n    display: none;\n  }\n}\n\n@media (min-width: 1024px) {\n  /* xl */\n  .lg\\:hidden {\n    display: none;\n  }\n}\n\n</style>\n'],sourceRoot:""}]);const s=i},93319:(e,t,n)=>{n.d(t,{Z:()=>oe});var r=n(70821),o=n(74679),a=n(90771),i=n(96794),s=n(2855),c=n(87028),l=n(45459),u=n(17773),d=n(5190),h=n(23318),m=n(69876),f=n(25543),p=n(9680);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(){v=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new I(r||[]);return o(i,"_invoke",{value:D(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="suspendedYield",f="executing",p="completed",w={};function y(){}function x(){}function b(){}var S={};l(S,i,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(O([])));C&&C!==n&&r.call(C,i)&&(S=C);var E=b.prototype=y.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==g(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function D(t,n,r){var o=h;return function(a,i){if(o===f)throw new Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=M(s,r);if(c){if(c===w)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?p:m,l.arg===w)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=p,r.method="throw",r.arg=l.arg)}}}function M(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,w;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,w):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(g(t)+" is not iterable")}return x.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:x,configurable:!0}),x.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},A(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new T(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),w}},t}function w(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,s,"next",e)}function s(e){w(a,r,o,i,s,"throw",e)}i(void 0)}))}}var x=function(e){return(0,r.pushScopeId)("data-v-6a43bda0"),e=e(),(0,r.popScopeId)(),e},b={class:"today-view container mx-auto px-4 py-8 flex flex-col"},S=x((function(){return(0,r.createElementVNode)("div",{id:"topDivForTodayView"},null,-1)})),k={class:"flex justify-center text-center mb-4"},C={class:"text-3xl font-bold mb-2"},E={class:"flex justify-between items-center mb-4"},A={class:"flex flex-col text-center"},T={class:"flex flex-col flex-grow"},D=["onClick"],M={class:"flex flex-row flex-wrap gap-x-4 gap-y-2"},N={class:"flex flex-col w-28 max-w-28 text-gray-500"},B={class:"font-bold text-black break-words"},I={class:"break-words"},O={class:"flex flex-col"},F=["onClick"],L={class:"flex flex-col items-start h-full"},j={class:"text-gray-800 text-2xl tracking-wider"},_=["onClick"],P={key:0},H={key:1},V={class:"mt-2 text-gray-700 flex flex-wrap gap-1"},W={class:"w-fit text-xs font-semibold uppercase tracking-wide bg-gray-900 px-2 py-1 rounded"},U={key:0,class:"text-green-500"},G={key:1,class:"text-pink-500 bg-gray-900 px-2 py-1"},z={key:0,class:"w-fit text-xs font-semibold uppercase tracking-wider text-yellow-600 bg-gray-900 px-2 py-1 rounded"},Y={key:0,class:""},Z={key:1,class:""},R={key:1,class:"w-fit text-xs font-semibold tracking-wide text-yellow-500 bg-gray-900 px-2 py-1 rounded"},$={key:0,class:""},q={key:1,class:""},J={class:"font-semibold"},X=x((function(){return(0,r.createElementVNode)("div",null,"Nothing scheduled.",-1)})),K={key:2,class:"my-4 p-2 bg-blue-800 text-white rounded shadow"};const Q={__name:"TodayView",setup:function(e){var t=(0,o.useScheduleStore)(),n=(0,a.useUserStore)(),g=(0,m.Jk)(t),w=g.upcomingContent,x=g.dateMessage,Q=(0,r.ref)(t.selectedDay),ee=((0,r.computed)((function(){return t.weeklyContent})),function(){var e=y(v().mark((function e(n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("topDivForTodayView").scrollIntoView({behavior:"smooth"}),e.next=4,t.shiftHours(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function te(e,t){var n=(0,i.o)(t),r=(0,s.T)(n,1),o=new Date(e.start_time);return o>=n&&o<r}function ne(e){var t=(0,i.o)(e),n=(0,s.T)(t,1);return w.value.some((function(e){var r=new Date(e.start_time);return r>=t&&r<n}))}function re(e){return(0,c.WU)(e,"h:mm aaaa")}function oe(e){var t=e.getHours();return t>=4&&t<6?{segment:"Early Morning",color:"bg-gray-200"}:t>=6&&t<12?{segment:"Morning",color:"bg-yellow-200"}:t>=12&&t<17?{segment:"Afternoon",color:"bg-green-200"}:t>=17&&t<20?{segment:"Prime Time",color:"bg-red-200"}:t>=20&&t<23?{segment:"Late Prime Time",color:"bg-purple-200"}:t>=23||t<1?{segment:"Late Night",color:"bg-blue-200"}:t>=1&&t<4?{segment:"Overnight",color:"bg-indigo-200"}:{segment:"",color:""}}(0,r.watch)(Q,(function(e){t.setSelectedDay(e)}));(0,r.computed)((function(){return t.nextSixHours.value.length>0?oe(t.nextSixHours.value[0]):null}));var ae=function(e){"show"===e.type?p.Inertia.visit("/shows/".concat(e.content.show.slug)):"movie"===e.type&&p.Inertia.visit("/movies/".concat(e.content.slug))},ie=function(e){if(e<60)return"".concat(e," minutes");if(60===e)return"1 hour";var t=Math.floor(e/60),n=e%60;return 0===n?"".concat(t," hours"):"".concat(t," hour").concat(t>1?"s":""," and ").concat(n," minutes")};return(0,r.watch)((function(){return n.timezone}),function(){var e=y(v().mark((function e(n,r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,t.preloadWeeklyContent();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{immediate:!0}),function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",b,[S,(0,r.unref)(t).isToday?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:o[0]||(o[0]=function(e){(0,r.unref)(t).setSelectedDayToToday(new Date)}),class:(0,r.normalizeClass)(["py-1 px-2 text-white rounded-lg w-fit",{"bg-blue-300":(0,r.unref)(t).isToday,"bg-green-600 hover:bg-green-700":!(0,r.unref)(t).isToday}])}," Go To Now",2)),(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("h2",C,(0,r.toDisplayString)((0,r.unref)(x)),1)]),(0,r.createElementVNode)("div",E,[(0,r.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return(0,r.unref)(t).changeDay(-1)}),class:"bg-gray-100 hover:bg-gray-200 text-black p-2 rounded shadow"}," < Previous Day "),(0,r.createElementVNode)("div",A,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)((0,r.unref)(n).canadianTimezoneDescription)+" Time",1)]),(0,r.createElementVNode)("button",{onClick:o[2]||(o[2]=function(e){return(0,r.unref)(t).changeDay(1)}),class:"bg-gray-100 hover:bg-gray-200 text-black p-2 rounded shadow"}," Next Day > ")]),(0,r.createElementVNode)("button",{onClick:o[3]||(o[3]=function(e){return(0,r.unref)(t).shiftHours(-6)}),class:"mb-4 bg-gray-100 hover:bg-gray-200 text-black py-2 rounded shadow"},"  Back 6 Hours "),(0,r.createElementVNode)("div",T,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).nextSixHours,(function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.toString()},[0===o||oe(e).segment!==oe((0,r.unref)(t).nextSixHours[o-1]).segment?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)([oe(e).color,"mb-4 p-2 text-black text-center font-bold text-2xl rounded shadow"])},(0,r.toDisplayString)(oe(e).segment),3)):(0,r.createCommentVNode)("",!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(w),(function(t){var o,a,i,s,c,l,u,d,h,m,p,g,v,w,y,x;return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[te(t,e)?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t.id,class:(0,r.normalizeClass)(["hover:bg-blue-400 hover:cursor-pointer",["p-4 rounded-lg shadow",oe(new Date(t.start_time)).color,"mb-4"]]),onClick:(0,r.withModifiers)((function(e){return ae(t)}),["prevent"])},[(0,r.createElementVNode)("div",M,[(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("div",B,(0,r.toDisplayString)(re(new Date(t.start_time)))+""+(0,r.toDisplayString)((0,r.unref)(n).timezoneAbbreviation),1),(0,r.createElementVNode)("div",I,(0,r.toDisplayString)(ie(t.durationMinutes)),1)]),(0,r.createElementVNode)("div",O,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(e){return ae(t)}),["prevent"])},["show"===t.type?((0,r.openBlock)(),(0,r.createBlock)(f.Z,{key:0,image:null==t||null===(o=t.content)||void 0===o||null===(o=o.show)||void 0===o?void 0:o.image,alt:null==t||null===(a=t.content)||void 0===a||null===(a=a.show)||void 0===a?void 0:a.name,class:"w-20 h-20"},null,8,["image","alt"])):((0,r.openBlock)(),(0,r.createBlock)(f.Z,{key:1,image:null==t||null===(i=t.content)||void 0===i?void 0:i.image,alt:null==t||null===(s=t.content)||void 0===s?void 0:s.name,class:"w-20 h-20"},null,8,["image","alt"]))],8,F)]),(0,r.createElementVNode)("div",L,[(0,r.createElementVNode)("div",j,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(e){return ae(t)}),["prevent"]),class:"text-left"},["show"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",P,(0,r.toDisplayString)(null==t||null===(c=t.content)||void 0===c||null===(c=c.show)||void 0===c?void 0:c.name),1)):(0,r.createCommentVNode)("",!0),"movie"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",H,(0,r.toDisplayString)(null==t||null===(l=t.content)||void 0===l?void 0:l.name),1)):(0,r.createCommentVNode)("",!0)],8,_)]),(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("div",W,["show"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",U,"show")):(0,r.createCommentVNode)("",!0),"movie"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",G,"movie")):(0,r.createCommentVNode)("",!0)]),null!=t&&null!==(u=t.content)&&void 0!==u&&null!==(u=u.show)&&void 0!==u&&null!==(u=u.category)&&void 0!==u&&u.name||null!=t&&null!==(d=t.content)&&void 0!==d&&null!==(d=d.category)&&void 0!==d&&d.name?((0,r.openBlock)(),(0,r.createElementBlock)("div",z,["show"===t.type&&null!=t&&null!==(h=t.content)&&void 0!==h&&null!==(h=h.show)&&void 0!==h&&null!==(h=h.category)&&void 0!==h&&h.name?((0,r.openBlock)(),(0,r.createElementBlock)("span",Y,(0,r.toDisplayString)(null==t||null===(m=t.content)||void 0===m||null===(m=m.show)||void 0===m||null===(m=m.category)||void 0===m?void 0:m.name),1)):(0,r.createCommentVNode)("",!0),"movie"===t.type&&null!=t&&null!==(p=t.content)&&void 0!==p&&null!==(p=p.subCategory)&&void 0!==p&&p.name?((0,r.openBlock)(),(0,r.createElementBlock)("span",Z,(0,r.toDisplayString)(null==t||null===(g=t.content)||void 0===g||null===(g=g.category)||void 0===g?void 0:g.name),1)):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),null!=t&&null!==(v=t.content)&&void 0!==v&&null!==(v=v.show)&&void 0!==v&&null!==(v=v.subCategory)&&void 0!==v&&v.name||null!=t&&null!==(w=t.content)&&void 0!==w&&null!==(w=w.subCategory)&&void 0!==w&&w.name?((0,r.openBlock)(),(0,r.createElementBlock)("div",R,["show"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",$,(0,r.toDisplayString)(null==t||null===(y=t.content)||void 0===y||null===(y=y.show)||void 0===y||null===(y=y.subCategory)||void 0===y?void 0:y.name),1)):(0,r.createCommentVNode)("",!0),"movie"===t.type?((0,r.openBlock)(),(0,r.createElementBlock)("span",q,(0,r.toDisplayString)(null==t||null===(x=t.content)||void 0===x||null===(x=x.subCategory)||void 0===x?void 0:x.name),1)):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)])])])],10,D)):(0,r.createCommentVNode)("",!0)],64)})),256)),ne(e)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:(0,r.normalizeClass)([oe(e).color,"mb-4 p-4 rounded-lg shadow text-gray-500"])},[(0,r.createElementVNode)("div",J,(0,r.toDisplayString)(re(e))+""+(0,r.toDisplayString)((0,r.unref)(n).timezoneAbbreviation),1),X],2)),(0,r.unref)(t).isElevenPM(e)&&(0,r.unref)(t).nextSixHours[o+1]?((0,r.openBlock)(),(0,r.createElementBlock)("div",K,(0,r.toDisplayString)((a=(0,r.unref)(s.T)(e,1),i=(0,l.b)(a),m=(0,c.WU)(i,"EEEE, MMMM do"),(0,u.z)(i)?"Today - ".concat(m):(0,d.g)(i)?"Yesterday - ".concat(m):(0,h.P)(i)?"Tomorrow - ".concat(m):m)),1)):(0,r.createCommentVNode)("",!0)]);var a,i,m})),128))]),(0,r.createElementVNode)("button",{onClick:o[4]||(o[4]=function(e){return ee(6)}),class:"bg-gray-100 hover:bg-gray-200 text-black py-2 rounded shadow"},"  Forward 6 Hours ")])}}};var ee=n(93379),te=n.n(ee),ne=n(77396),re={insert:"head",singleton:!1};te()(ne.Z,re);ne.Z.locals;const oe=(0,n(83744).Z)(Q,[["__scopeId","data-v-6a43bda0"]])},59369:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(70821),o=n(9680),a=n(58358);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new I(r||[]);return o(i,"_invoke",{value:D(e,n,s)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f="suspendedStart",p="suspendedYield",g="executing",v="completed",w={};function y(){}function x(){}function b(){}var S={};d(S,c,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(O([])));C&&C!==n&&r.call(C,c)&&(S=C);var E=b.prototype=y.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,a,s,c){var l=m(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function D(t,n,r){var o=f;return function(a,i){if(o===g)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=M(s,r);if(c){if(c===w)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var l=m(t,n,r);if("normal"===l.type){if(o=r.done?v:p,l.arg===w)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function M(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,w;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,w):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},A(T.prototype),d(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new T(h(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(E),d(E,u,"Generator"),d(E,c,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),w}},t}function c(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),h={key:1,class:"alert alert-success mt-4 mx-3"},m=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f={key:2,class:"alert alert-warning mt-4 mx-3"},p=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),g={key:3,class:"alert alert-error mt-4 mx-3"},v=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const w={__name:"Messages",props:{flash:Object},setup:function(e){(0,a.useAppSettingStore)().showFlashMessage=!0;var t=e,n=((0,r.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Inertia.post(route("flash.clear"));case 2:o.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.unref)(t).flash.message?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.message),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.success?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,[m,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.success),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.warning?((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[p,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.warning),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[v,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.error),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0)])}}}},38575:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(70821),o=n(83004),a=["id"],i={class:"modal-box text-center my-auto border-2 border-secondary","data-theme":"dark"},s={class:"font-bold text-3xl text-secondary"},c={class:"py-4 text-xl"},l={class:"modal-action justify-center w-full"},u={method:"dialog"};const d={__name:"PopUpModal",props:{id:String},setup:function(e){var t=(0,o.useNotificationStore)();return function(n,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("dialog",{id:e.id,class:"modal"},[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("h2",s,[(0,r.renderSlot)(n.$slots,"header")]),(0,r.createElementVNode)("p",c,[(0,r.renderSlot)(n.$slots,"main")]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("form",u,[(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,r.unref)(t).showPopUpModal=!1}),class:"btn btn-secondary"},"Okay")])])])],8,a)])}}}},36462:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var r=n(70821),o=n(24831),a=n(58358),i=n(74679),s=n(59369),c=n(38575),l=n(93319),u=n(25543),d=n(27484),h=n.n(d),m=n(9680),f={class:"font-bold"};const p={__name:"SpotComponent",props:{show:{type:Object,required:!0},span:{type:Number,required:!0}},setup:function(e){var t=e,n=(0,r.computed)((function(){switch(t.span){case 1:return"bg-green-500";case 2:return"bg-orange-500";case 3:return"bg-blue-500";case 4:return"bg-yellow-500";case 5:return"bg-red-500";case 6:return"bg-purple-500";default:return"bg-gray-400"}})),o=(0,r.computed)((function(){return t.show.startTime.toLocaleTimeString()})),a=(0,r.computed)((function(){return new Date(t.show.startTime.getTime()+30*t.show.span*6e4).toLocaleTimeString()}));return function(t,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["col-span-".concat(e.span," ").concat(n.value," row-span-1"),"flex flex-col items-center justify-center text-white text-sm p-2 overflow-hidden"])},[(0,r.createElementVNode)("h3",f,(0,r.toDisplayString)(e.show.name),1),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(o.value)+" - "+(0,r.toDisplayString)(a.value),1)],2)}}},g=JSON.parse('{"D":[{"id":1,"name":"Early Morning Show","span":2,"startTime":"06:00"},{"id":2,"name":"Morning Show","span":4,"startTime":"08:00"},{"id":3,"name":"Late Morning Show","span":3,"startTime":"12:00"},{"id":4,"name":"Noon News","span":2,"startTime":"14:30"},{"id":5,"name":"Afternoon Talk","span":6,"startTime":"15:00"},{"id":6,"name":"Evening Special","span":1,"startTime":"18:00"},{"id":7,"name":"Late Show","span":3,"startTime":"20:00"},{"id":8,"name":"Night Owl Movie","span":2,"startTime":"23:00"}]}');function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function w(){w=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new I(r||[]);return o(i,"_invoke",{value:D(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="suspendedYield",f="executing",p="completed",g={};function y(){}function x(){}function b(){}var S={};l(S,i,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(O([])));C&&C!==n&&r.call(C,i)&&(S=C);var E=b.prototype=y.prototype=Object.create(S);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==v(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function D(t,n,r){var o=h;return function(a,i){if(o===f)throw new Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=M(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?p:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=p,r.method="throw",r.arg=l.arg)}}}function M(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return x.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:x,configurable:!0}),x.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},A(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new T(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function y(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,s,"next",e)}function s(e){y(a,r,o,i,s,"throw",e)}i(void 0)}))}}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){var r;return r=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const A={__name:"ScheduleGrid",setup:function(e){var t=(0,i.useScheduleStore)(),n=(0,r.ref)(new Date),o=(0,r.ref)(n.value.toISOString().substring(11,16)),a=(0,r.computed)((function(){return"grid grid-cols-8 gap-2 p-4"})),s=function(){var e=C(o.value.split(":"),2),t=e[0],r=e[1];n.value.setHours(parseInt(t),parseInt(r),0,0)},c=function(e){var t=new Date(n.value.getTime()+144e5),r=new Date(e.startTime),o=new Date(r.getTime()+6e4*e.duration);if(o<=n||r>=t)return 0;var a=((o>t?t:o)-(r<n?n:r))/6e4;return Math.ceil(a/30)};(0,r.watch)(o,(function(e,t){s()}),{immediate:!0});var l=(0,r.computed)((function(){return g.D.map((function(e){var t=new Date(n.value.toDateString()+" "+e.startTime),r=Math.min(e.span,8);return S(S({},e),{},{startTime:t,span:r})}))}));return(0,r.onMounted)(x(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("resize",t.updateWidth);case 1:case"end":return e.stop()}}),e)})))),(0,r.onUnmounted)((function(){window.removeEventListener("resize",t.updateWidth)})),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"time","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e}),onInput:s,class:"text-black"},null,544),[[r.vModelText,o.value]]),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(a.value)},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value,(function(e){return(0,r.openBlock)(),(0,r.createBlock)(p,{key:e.id,show:e,span:c(e)},null,8,["show","span"])})),128))],2)])}}};var T=n(93379),D=n.n(T),M=n(45769),N={insert:"head",singleton:!1};D()(M.Z,N);M.Z.locals;var B=n(83744);const I=(0,B.Z)(A,[["__scopeId","data-v-753bb39c"]]);var O=function(e){return(0,r.pushScopeId)("data-v-501aba6f"),e=e(),(0,r.popScopeId)(),e},F={class:"place-self-center flex flex-col w-full overscroll-x-none pb-64"},L=(0,r.createStaticVNode)('<div id="topDiv" class="flex justify-end px-5" data-v-501aba6f><div class="relative w-32 h-32 mt-8 -mb-8 mr-8" data-v-501aba6f><div class="absolute top-3 left-0 w-full h-full flex justify-center items-center z-20" data-v-501aba6f><h1 class="text-4xl font-bold text-white bg-black bg-opacity-80 px-4 py-1 text-center" data-v-501aba6f>Broadcast<br data-v-501aba6f>Schedule</h1></div><div class="absolute top-3 left-0 w-full h-full flex justify-center items-center z-10" data-v-501aba6f><img src="/storage/images/Ping.png" alt="notTV Ping" data-v-501aba6f></div></div></div>',1),j=O((function(){return(0,r.createElementVNode)("div",{class:"ml-5 px-2 mb-2"},[(0,r.createElementVNode)("span",{class:"text-sm uppercase text-purple-500"},"All times are listed in your timezone.")],-1)})),_={class:"schedule-grid"},P={class:"header-row"},H={class:"schedule-grid"},V={class:"header-row"},W={key:0,class:"w-full flex justify-center text-center items-center"},U=[O((function(){return(0,r.createElementVNode)("span",{class:"loading loading-ball loading-xl text-info"},null,-1)}))],G={class:"content-row"},z=["onClick"],Y={class:"item-content flex flex-col items-center justify-center gap-y-2 flex-grow"},Z={key:1,class:"placeholder"},R={class:"status-row"},$={key:0},q={key:1},J=O((function(){return(0,r.createElementVNode)("span",{class:"text-orange-500"},"This modal is temporary. This will take you to the now playing show or episode page.",-1)})),X=O((function(){return(0,r.createElementVNode)("span",{class:"text-orange-500"},[(0,r.createTextVNode)("This modal is temporary. Set a reminder when this show starts and/or subscribe to the show to get all notifications when new episodes are released or the show goes live. "),(0,r.createElementVNode)("br"),(0,r.createElementVNode)("br"),(0,r.createElementVNode)("span",{class:"font-semibold text-yellow-600"},"NOTE: Monthly and Yearly contributors get first access to new features.")],-1)})),K={class:"bg-gray-600 rounded-lg shadow m-10 p-4"};const Q={__name:"Index",props:{can:Object},setup:function(e){(0,o.U)("schedule");var t=(0,a.useAppSettingStore)(),n=(0,i.useScheduleStore)(),d=((0,r.computed)((function(){return n.nextFourHoursWithHalfHourIntervals})),(0,r.computed)((function(){return n.nextFourHoursOfContent}))),f=(0,r.computed)((function(){return n.nextFourHoursWithHalfHourIntervals})),p=((0,r.computed)((function(){return n.nextFourHoursWithHalfHourIntervals})),(0,r.computed)((function(){return n.nextFourHoursOfContent}))),g=(h()(),function(e,t){var n=new Date(e),r=f.value.map((function(e){return new Date(e.dateTimeString)})).findIndex((function(e){return n>=e&&n<new Date(e.getTime()+18e5)}));if(-1===r)return console.error("Start time does not match any interval:",e),{};r+=1;var o=Math.ceil(t/30);return{gridColumn:"".concat(r," / span ").concat(o)}}),v=function(e){var t=["status-cell"];return 0===e?t.push("now-playing"):1===e?t.push("coming-up-next"):t.push("status-cell-empty"),t};var w=-1===p;console.log("Coming up next show index:",w);(0,r.computed)((function(){return d.value.map((function(e){return new Date(e)}))}));function y(e){var t="column-width text-sm 2xl:text-md border border-0.5 border-green-300 hover:border-blue-500 cursor-pointer";switch(e){case"show":return"".concat(t," bg-gradient-show hover:bg-gradient-show-hover");case"new_release":return"".concat(t," bg-gradient-new-release hover:bg-gradient-new-release-hover");default:return t}}function x(e){var t;!function(e,t){var n=h()(),r=h()(e),o=r.add(t,"minute");return console.log("ShowStartTime Time: "+e),console.log("Duration Minutes: "+t),console.log("Now: "+n),console.log("Start Time: "+r),console.log("End Time: "+o),n.isAfter(r)&&n.isBefore(o)}(e.start_time,e.durationMinutes)?(t="getReminderModal",document.getElementById(t).showModal()):m.Inertia.visit("/shows/".concat(e.content.show.slug,"/"))}return function(e,o){var a=(0,r.resolveComponent)("Head");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(a,{title:"Schedule"}),(0,r.createElementVNode)("div",F,[L,(0,r.unref)(t).showFlashMessage?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(s.Z),{key:0,flash:e.$page.props.flash},null,8,["flash"])):(0,r.createCommentVNode)("",!0),j,(0,r.createElementVNode)("div",_,[(0,r.createElementVNode)("div",P,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(f.value,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"time-cell bg-gray-900 px-3 py-2 text-center font-bold",key:e.dateTime},(0,r.toDisplayString)(e.formatted),1)})),128))])]),(0,r.createVNode)(I),(0,r.createElementVNode)("div",H,[(0,r.createElementVNode)("div",V,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(f.value,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"time-cell bg-gray-900 px-3 py-2 text-center font-bold",key:e.dateTime},(0,r.toDisplayString)(e.formatted),1)})),128))]),(0,r.unref)(n).scheduleIsLoading&&0===(0,r.unref)(n).nextFourHoursOfContent.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",W,U)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",G,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,(function(e){var t,n,o,a;return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["show-cell flex flex-col w-full h-full",y(e.type)]),style:(0,r.normalizeStyle)(g(e.start_time,e.durationMinutes)),onClick:function(t){return x(e)}},[(0,r.createElementVNode)("div",Y,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)((null===(t=e.content.show)||void 0===t?void 0:t.name)||"No Show Name"),1),null!==(n=e.content.show)&&void 0!==n&&n.image?((0,r.openBlock)(),(0,r.createBlock)(u.Z,{key:0,image:null===(o=e.content.show)||void 0===o?void 0:o.image,alt:null===(a=e.content.show)||void 0===a?void 0:a.name,class:"content-image"},null,8,["image","alt"])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Z))])],14,z)})),128))]),(0,r.createElementVNode)("div",R,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:"status-".concat(e.id),class:(0,r.normalizeClass)(v(t)),style:(0,r.normalizeStyle)(g(e.start_time,e.durationMinutes))},[0===t?((0,r.openBlock)(),(0,r.createElementBlock)("span",$,"NOW PLAYING")):1===t?((0,r.openBlock)(),(0,r.createElementBlock)("span",q,"COMING UP NEXT")):(0,r.createCommentVNode)("",!0)],6)})),128))])]),(0,r.createVNode)((0,r.unref)(c.Z),{id:"goToNowPlayingModal"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Now Playing")]})),main:(0,r.withCtx)((function(){return[J]})),_:1}),(0,r.createVNode)((0,r.unref)(c.Z),{id:"getReminderModal"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Set Reminder")]})),main:(0,r.withCtx)((function(){return[X]})),_:1}),(0,r.createElementVNode)("div",K,[(0,r.createVNode)(l.Z)])])],64)}}};var ee=n(56701),te={insert:"head",singleton:!1};D()(ee.Z,te);ee.Z.locals;const ne=(0,B.Z)(Q,[["__scopeId","data-v-501aba6f"]])}}]);
//# sourceMappingURL=6462.js.map