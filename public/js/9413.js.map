{"version":3,"file":"js/9413.js","mappings":"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","sources":["webpack:///./resources/js/Utilities/PageSetup.js","webpack:///./resources/js/Pages/Subscribe2.vue?a645","webpack:///./resources/js/Components/Global/Modals/Messages.vue?dfe9","webpack:///./resources/js/Components/Global/Modals/Messages.vue","webpack:///./resources/js/Pages/SrMessages.vue?c45d","webpack:///./resources/js/Pages/SrMessages.vue","webpack:///./resources/js/Pages/Subscribe2.vue","webpack:///./resources/js/Pages/Subscribe2.vue?889a","webpack:///./resources/js/Pages/Subscribe2.vue?1ea2"],"sourcesContent":["import { onBeforeMount, onMounted } from 'vue'\nimport { useUserStore } from \"@/Stores/UserStore\"\nimport { useAppSettingStore } from \"@/Stores/AppSettingStore\"\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore\"\nimport { Inertia } from '@inertiajs/inertia'\n\nexport function usePageSetup(pageName) {\n    const userStore = useUserStore()\n    const appSettingStore = useAppSettingStore()\n    const videoPlayerStore = useVideoPlayerStore()\n\n    appSettingStore.currentPage = pageName\n    appSettingStore.showFlashMessage = true\n    appSettingStore.pageIsHidden = false\n\n    if (userStore.isMobile || window.innerWidth < 1024) {\n        appSettingStore.ott = 0;\n    } else {\n        appSettingStore.ott = 1;\n    }\n\n    videoPlayerStore.makeVideoTopRight()\n\n    if (appSettingStore.pageReload) {\n        appSettingStore.pageReload = false\n        window.location.reload(true);\n    }\n    // Check if the URL contains query strings\n\n\n    // Only scroll into view if there are no query strings\n\n        // const topDiv = document.getElementById(\"topDiv\")\n        // if (topDiv) {\n        //     topDiv.scrollIntoView()\n        // }\n        Inertia.on('navigate', (event) => {\n            if (userStore.isMobile || window.innerWidth < 1024) {\n                appSettingStore.ott = 0;\n            } else {\n                appSettingStore.ott = 1;\n            }\n            const hasQueryStrings = window.location.search !== '';\n            if (!hasQueryStrings || appSettingStore.shouldScrollToTop) {\n                requestAnimationFrame(() => {\n                    const topDiv = document.getElementById(\"topDiv\");\n                    if (topDiv) {\n                        topDiv.scrollIntoView({behavior: 'auto'});\n                    } else {\n                        window.scrollTo(0, 0);\n                    }\n                });\n            }\n            appSettingStore.shouldScrollToTop = false;\n        })\n    // Only update if we're not already on this page to avoid overwriting with the current URL\n    appSettingStore.setPrevUrl()\n    appSettingStore.showOttButtons = true\n    appSettingStore.noLayout = false\n\n    // Inertia.reload()\n\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Raleway&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-6a668dd6]:root{--light-grey:#f6f9fc;--dark-terminal-color:#0a2540;--accent-color:#635bff;--radius:3px}body[data-v-6a668dd6]{color:var(--dark-terminal-color);display:flex;font-family:Raleway;font-size:1.2em;justify-content:center;padding:20px}main[data-v-6a668dd6]{width:480px}form>*[data-v-6a668dd6]{margin:10px 0}button[data-v-6a668dd6]{background-color:var(--accent-color);background:var(--accent-color);border:0;border-radius:var(--radius);color:#fff;cursor:pointer;display:block;font-weight:600;margin-top:16px;padding:12px 16px;transition:all .2s ease}button[data-v-6a668dd6]:hover{filter:contrast(115%)}button[data-v-6a668dd6]:active{filter:brightness(.9);transform:translateY(0) scale(.98)}button[data-v-6a668dd6]:disabled{cursor:none;opacity:.5}input[data-v-6a668dd6],select[data-v-6a668dd6]{font-size:1.1em;margin-bottom:10px;width:100%}input[data-v-6a668dd6],label[data-v-6a668dd6],select[data-v-6a668dd6]{display:block}a[data-v-6a668dd6]{color:var(--accent-color);font-weight:900}small[data-v-6a668dd6]{font-size:.6em}fieldset[data-v-6a668dd6],input[data-v-6a668dd6],select[data-v-6a668dd6]{border:1px solid #efefef}#payment-form[data-v-6a668dd6]{border:1px solid #f6f9fc;box-shadow:0 30px 50px -20px #32325d40,0 30px 60px -30px #0000004d}#messages[data-v-6a668dd6],#payment-form[data-v-6a668dd6]{border-radius:var(--radius);margin:20px 0;padding:20px}#messages[data-v-6a668dd6]{background-color:#0a253c;color:#00d924;font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New;font-size:.7em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/Pages/Subscribe2.vue\"],\"names\":[],\"mappings\":\"AA8HA,uBACE,oBAAqB,CACrB,6BAA8B,CAC9B,sBAAuB,CACvB,YACF,CAEA,sBAME,gCAAiC,CAHjC,YAAa,CADb,mBAAsB,CAGtB,eAAgB,CADhB,sBAAuB,CAHvB,YAMF,CAEA,sBACE,WACF,CAEA,wBACE,aACF,CAEA,wBACE,oCAAqC,CAIrC,8BAA+B,CAG/B,QAAS,CAFT,2BAA4B,CAC5B,UAAY,CAKZ,cAAe,CAEf,aAAc,CAHd,eAAgB,CADhB,eAAgB,CADhB,iBAAkB,CAIlB,uBAXF,CAeA,8BACE,qBACF,CAEA,+BAEE,qBAAuB,CADvB,kCAEF,CAEA,iCAEE,WAAY,CADZ,UAEF,CAEA,+CAEE,eAAgB,CAEhB,kBAAmB,CADnB,UAEF,CAEA,sEANE,aAQF,CAEA,mBACE,yBAA0B,CAC1B,eACF,CAEA,uBACE,cACF,CAEA,yEACE,wBACF,CAEA,+BACE,wBAAyB,CAIzB,kEACF,CAEA,0DANE,2BAA4B,CAE5B,aAAc,CADd,YAaF,CARA,2BAEE,wBAAyB,CACzB,aAAc,CAFd,6DAAoE,CAMpE,cACF\",\"sourcesContent\":[\"<template>\\n\\n  <Head title=\\\"TEST SUBSCRIBE\\\"/>\\n  <!--        <script src=\\\"https://js.stripe.com/v3/\\\" defer></script>-->\\n\\n  <div id=\\\"topDiv\\\" class=\\\"h-[calc(100vh-16rem)] text-center bg-gray-800 text-white p-10\\\">\\n\\n\\n    <Message v-if=\\\"appSettingStore.showFlashMessage\\\" :flash=\\\"$page.props.flash\\\"/>\\n\\n    <!--            <h1 class=\\\"text-3xl font-semibold pb-3\\\">Become a notTV Premium Subscriber</h1>-->\\n\\n    <div class=\\\"flex justify-center w-full\\\">\\n      <div class=\\\"flex flex-col justify-center w-fit bg-gray-900 rounded-md py-10 mb-24\\\">\\n\\n        <main>\\n          <h1>Payment</h1>\\n\\n          <p>\\n            Enable more payment method types\\n            <a\\n                href=\\\"https://dashboard.stripe.com/settings/payment_methods\\\"\\n                target=\\\"_blank\\\"\\n            >in your dashboard</a>.\\n          </p>\\n\\n          <form\\n              id=\\\"payment-form\\\"\\n              @submit.prevent=\\\"handleSubmit\\\"\\n          >\\n            <div id=\\\"link-authentication-element\\\"/>\\n            <div id=\\\"payment-element\\\"/>\\n            <button\\n                id=\\\"submit\\\"\\n                :disabled=\\\"isLoading\\\"\\n            >\\n              Pay now\\n            </button>\\n            <sr-messages :messages=\\\"messages\\\"/>\\n          </form>\\n        </main>\\n\\n      </div>\\n    </div>\\n\\n\\n  </div>\\n\\n</template>\\n\\n<script setup>\\nimport { Inertia } from '@inertiajs/inertia'\\nimport { onBeforeMount, onMounted, ref } from 'vue'\\nimport { useForm } from '@inertiajs/inertia-vue3'\\nimport { loadStripe } from '@stripe/stripe-js'\\nimport { usePageSetup } from '@/Utilities/PageSetup'\\nimport { useAppSettingStore } from '@/Stores/AppSettingStore'\\nimport Message from '@/Components/Global/Modals/Messages'\\nimport SrMessages from './SrMessages'\\n\\nusePageSetup('subscribe')\\n\\nconst appSettingStore = useAppSettingStore()\\n\\nconst isLoading = ref(false)\\nconst messages = ref([])\\n\\nlet stripe\\nlet elements\\n\\nonMounted(async () => {\\n  const {publishableKey} = await fetch('/api/config').then((res) => res.json())\\n  stripe = await loadStripe('pk_test_51KJwK5Kahp38LUVYOjg7h425exCr6UZmMm1M24d31ZaS0HTsgPWIZE9Hd2F0KnREVHuPm2VHesX3J5SQfFFg7fTC00DMNpq1Lj')\\n\\n  const {clientSecret, error: backendError} = await fetch('/api/create-payment-intent').then((res) => res.json())\\n\\n  if (backendError) {\\n    messages.value.push(backendError.message)\\n  }\\n  messages.value.push(`Client secret returned.`)\\n\\n  elements = stripe.elements({clientSecret})\\n  const paymentElement = elements.create('payment')\\n  paymentElement.mount('#payment-element')\\n  const linkAuthenticationElement = elements.create('linkAuthentication')\\n  linkAuthenticationElement.mount('#link-authentication-element')\\n  isLoading.value = false\\n})\\n\\nconst handleSubmit = async () => {\\n  if (isLoading.value) {\\n    return\\n  }\\n\\n  isLoading.value = true\\n\\n  const {error} = await stripe.confirmPayment({\\n    elements,\\n    confirmParams: {\\n      return_url: `${window.location.origin}/return`,\\n    },\\n  })\\n\\n  if (error.type === 'card_error' || error.type === 'validation_error') {\\n    messages.value.push(error.message)\\n  } else {\\n    messages.value.push('An unexpected error occured.')\\n  }\\n\\n  isLoading.value = false\\n}\\n\\nlet props = defineProps({\\n  intent: Object,\\n  card: ref(null),\\n})\\n\\nlet form = useForm({\\n  name: '',\\n})\\n\\n</script>\\n\\n<style scoped>\\n@import url('https://fonts.googleapis.com/css?family=Raleway&display=swap');\\n\\n:root {\\n  --light-grey: #F6F9FC;\\n  --dark-terminal-color: #0A2540;\\n  --accent-color: #635BFF;\\n  --radius: 3px;\\n}\\n\\nbody {\\n  padding: 20px;\\n  font-family: 'Raleway';\\n  display: flex;\\n  justify-content: center;\\n  font-size: 1.2em;\\n  color: var(--dark-terminal-color);\\n}\\n\\nmain {\\n  width: 480px;\\n}\\n\\nform > * {\\n  margin: 10px 0;\\n}\\n\\nbutton {\\n  background-color: var(--accent-color);\\n}\\n\\nbutton {\\n  background: var(--accent-color);\\n  border-radius: var(--radius);\\n  color: white;\\n  border: 0;\\n  padding: 12px 16px;\\n  margin-top: 16px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n  display: block;\\n}\\n\\nbutton:hover {\\n  filter: contrast(115%);\\n}\\n\\nbutton:active {\\n  transform: translateY(0px) scale(0.98);\\n  filter: brightness(0.9);\\n}\\n\\nbutton:disabled {\\n  opacity: 0.5;\\n  cursor: none;\\n}\\n\\ninput, select {\\n  display: block;\\n  font-size: 1.1em;\\n  width: 100%;\\n  margin-bottom: 10px;\\n}\\n\\nlabel {\\n  display: block;\\n}\\n\\na {\\n  color: var(--accent-color);\\n  font-weight: 900;\\n}\\n\\nsmall {\\n  font-size: .6em;\\n}\\n\\nfieldset, input, select {\\n  border: 1px solid #efefef;\\n}\\n\\n#payment-form {\\n  border: #F6F9FC solid 1px;\\n  border-radius: var(--radius);\\n  padding: 20px;\\n  margin: 20px 0;\\n  box-shadow: 0 30px 50px -20px rgb(50 50 93 / 25%), 0 30px 60px -30px rgb(0 0 0 / 30%);\\n}\\n\\n#messages {\\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New';\\n  background-color: #0A253C;\\n  color: #00D924;\\n  padding: 20px;\\n  margin: 20px 0;\\n  border-radius: var(--radius);\\n  font-size: 0.7em;\\n}\\n\\n\\n</style>\\n\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import script from \"./Messages.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Messages.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"mx-4 my-4\">\n    <div class=\"alert alert-info mt-4\"\n         v-if=\"props.flash.message\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" class=\"stroke-current shrink-0 w-6 h-6\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n      </svg>\n      <span>{{ props.flash.message }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n    <div class=\"alert alert-success mt-4 mx-3\"\n         v-if=\"props.flash.success\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n      </svg>\n      <span>{{ props.flash.success }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n    <div class=\"alert alert-warning mt-4 mx-3\"\n         v-if=\"props.flash.warning\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"/>\n      </svg>\n      <span>{{ props.flash.warning }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n    <div class=\"alert alert-error mt-4 mx-3\"\n         v-if=\"props.flash.error\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n      </svg>\n      <span>{{ props.flash.error }}</span>\n      <button class=\"text-xs ml-12\" @click=\"clearFlashMessage\"> Close</button>\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport { Inertia } from \"@inertiajs/inertia\"\nimport { computed } from \"vue\"\nimport { useAppSettingStore } from \"@/Stores/AppSettingStore\"\n\nconst appSettingStore = useAppSettingStore()\n\nappSettingStore.showFlashMessage = true\n\nlet props = defineProps({\n  flash: Object,\n\n})\n\nconst messageType = computed(() => ({\n  'text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800': props.flash.success,\n  'text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800': props.flash.message,\n  'text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800': props.flash.warning,\n  'text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800': props.flash.error,\n}))\n\nconst clearFlashMessage = async () => {\n  await Inertia.post(route('flash.clear'));\n  Inertia.reload();\n};\n</script>\n","import script from \"./SrMessages.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SrMessages.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { defineProps, computed, toRef } from 'vue';\n\nconst props = defineProps({\n    messages: {\n        type: Array,\n        required: true\n    }\n});\n\nconst messagesRef = toRef(props, 'messages');\n\nconst splitMessages = computed(() => {\n    return messagesRef.value.map((x) => {\n\n        const paymentIntentRe = /(pi_(\\S*)\\b)/\n        const paymentIntentMatch = x.match(paymentIntentRe)\n        return {\n            ...(paymentIntentMatch && {paymentIntent: paymentIntentMatch[0]}),\n            content: x.replace(paymentIntentRe, '') || x\n        }\n    });\n})\n\nconst addDashboardLinks = (paymentIntent) => {\n    return `https://dashboard.stripe.com/test/payments/${paymentIntent}`;\n};\n\n</script>\n<template>\n    <div\n        id=\"messages\"\n        role=\"alert\"\n    >\n    <span\n        v-for=\"message in splitMessages\"\n        :key=\"message\"\n    >\n      > {{ message.content }}<a\n        v-if=\"message.paymentIntent\"\n        :href=\"addDashboardLinks(message.paymentIntent)\"\n    >{{ message.paymentIntent }}</a>\n      <br>\n    </span>\n    </div>\n</template>\n","<template>\n\n  <Head title=\"TEST SUBSCRIBE\"/>\n  <!--        <script src=\"https://js.stripe.com/v3/\" defer></script>-->\n\n  <div id=\"topDiv\" class=\"h-[calc(100vh-16rem)] text-center bg-gray-800 text-white p-10\">\n\n\n    <Message v-if=\"appSettingStore.showFlashMessage\" :flash=\"$page.props.flash\"/>\n\n    <!--            <h1 class=\"text-3xl font-semibold pb-3\">Become a notTV Premium Subscriber</h1>-->\n\n    <div class=\"flex justify-center w-full\">\n      <div class=\"flex flex-col justify-center w-fit bg-gray-900 rounded-md py-10 mb-24\">\n\n        <main>\n          <h1>Payment</h1>\n\n          <p>\n            Enable more payment method types\n            <a\n                href=\"https://dashboard.stripe.com/settings/payment_methods\"\n                target=\"_blank\"\n            >in your dashboard</a>.\n          </p>\n\n          <form\n              id=\"payment-form\"\n              @submit.prevent=\"handleSubmit\"\n          >\n            <div id=\"link-authentication-element\"/>\n            <div id=\"payment-element\"/>\n            <button\n                id=\"submit\"\n                :disabled=\"isLoading\"\n            >\n              Pay now\n            </button>\n            <sr-messages :messages=\"messages\"/>\n          </form>\n        </main>\n\n      </div>\n    </div>\n\n\n  </div>\n\n</template>\n\n<script setup>\nimport { Inertia } from '@inertiajs/inertia'\nimport { onBeforeMount, onMounted, ref } from 'vue'\nimport { useForm } from '@inertiajs/inertia-vue3'\nimport { loadStripe } from '@stripe/stripe-js'\nimport { usePageSetup } from '@/Utilities/PageSetup'\nimport { useAppSettingStore } from '@/Stores/AppSettingStore'\nimport Message from '@/Components/Global/Modals/Messages'\nimport SrMessages from './SrMessages'\n\nusePageSetup('subscribe')\n\nconst appSettingStore = useAppSettingStore()\n\nconst isLoading = ref(false)\nconst messages = ref([])\n\nlet stripe\nlet elements\n\nonMounted(async () => {\n  const {publishableKey} = await fetch('/api/config').then((res) => res.json())\n  stripe = await loadStripe('pk_test_51KJwK5Kahp38LUVYOjg7h425exCr6UZmMm1M24d31ZaS0HTsgPWIZE9Hd2F0KnREVHuPm2VHesX3J5SQfFFg7fTC00DMNpq1Lj')\n\n  const {clientSecret, error: backendError} = await fetch('/api/create-payment-intent').then((res) => res.json())\n\n  if (backendError) {\n    messages.value.push(backendError.message)\n  }\n  messages.value.push(`Client secret returned.`)\n\n  elements = stripe.elements({clientSecret})\n  const paymentElement = elements.create('payment')\n  paymentElement.mount('#payment-element')\n  const linkAuthenticationElement = elements.create('linkAuthentication')\n  linkAuthenticationElement.mount('#link-authentication-element')\n  isLoading.value = false\n})\n\nconst handleSubmit = async () => {\n  if (isLoading.value) {\n    return\n  }\n\n  isLoading.value = true\n\n  const {error} = await stripe.confirmPayment({\n    elements,\n    confirmParams: {\n      return_url: `${window.location.origin}/return`,\n    },\n  })\n\n  if (error.type === 'card_error' || error.type === 'validation_error') {\n    messages.value.push(error.message)\n  } else {\n    messages.value.push('An unexpected error occured.')\n  }\n\n  isLoading.value = false\n}\n\nlet props = defineProps({\n  intent: Object,\n  card: ref(null),\n})\n\nlet form = useForm({\n  name: '',\n})\n\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css?family=Raleway&display=swap');\n\n:root {\n  --light-grey: #F6F9FC;\n  --dark-terminal-color: #0A2540;\n  --accent-color: #635BFF;\n  --radius: 3px;\n}\n\nbody {\n  padding: 20px;\n  font-family: 'Raleway';\n  display: flex;\n  justify-content: center;\n  font-size: 1.2em;\n  color: var(--dark-terminal-color);\n}\n\nmain {\n  width: 480px;\n}\n\nform > * {\n  margin: 10px 0;\n}\n\nbutton {\n  background-color: var(--accent-color);\n}\n\nbutton {\n  background: var(--accent-color);\n  border-radius: var(--radius);\n  color: white;\n  border: 0;\n  padding: 12px 16px;\n  margin-top: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: block;\n}\n\nbutton:hover {\n  filter: contrast(115%);\n}\n\nbutton:active {\n  transform: translateY(0px) scale(0.98);\n  filter: brightness(0.9);\n}\n\nbutton:disabled {\n  opacity: 0.5;\n  cursor: none;\n}\n\ninput, select {\n  display: block;\n  font-size: 1.1em;\n  width: 100%;\n  margin-bottom: 10px;\n}\n\nlabel {\n  display: block;\n}\n\na {\n  color: var(--accent-color);\n  font-weight: 900;\n}\n\nsmall {\n  font-size: .6em;\n}\n\nfieldset, input, select {\n  border: 1px solid #efefef;\n}\n\n#payment-form {\n  border: #F6F9FC solid 1px;\n  border-radius: var(--radius);\n  padding: 20px;\n  margin: 20px 0;\n  box-shadow: 0 30px 50px -20px rgb(50 50 93 / 25%), 0 30px 60px -30px rgb(0 0 0 / 30%);\n}\n\n#messages {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New';\n  background-color: #0A253C;\n  color: #00D924;\n  padding: 20px;\n  margin: 20px 0;\n  border-radius: var(--radius);\n  font-size: 0.7em;\n}\n\n\n</style>\n\n\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Subscribe2.vue?vue&type=style&index=0&id=6a668dd6&scoped=true&lang=css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import script from \"./Subscribe2.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Subscribe2.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Subscribe2.vue?vue&type=style&index=0&id=6a668dd6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a668dd6\"]])\n\nexport default __exports__"],"names":["usePageSetup","pageName","userStore","useUserStore","appSettingStore","useAppSettingStore","videoPlayerStore","useVideoPlayerStore","currentPage","showFlashMessage","pageIsHidden","isMobile","window","innerWidth","ott","makeVideoTopRight","pageReload","location","reload","Inertia","on","event","search","shouldScrollToTop","requestAnimationFrame","topDiv","document","getElementById","scrollIntoView","behavior","scrollTo","setPrevUrl","showOttButtons","noLayout","___CSS_LOADER_EXPORT___","push","module","id","props","__props","clearFlashMessage","computed","flash","success","message","warning","error","_ref","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","post","route","stop","apply","arguments","messagesRef","toRef","splitMessages","value","map","x","paymentIntentRe","paymentIntentMatch","match","_objectSpread","paymentIntent","content","replace","concat","stripe","elements","isLoading","ref","messages","onMounted","_asyncToGenerator","_yield$fetch$then","_yield$fetch$then2","clientSecret","backendError","fetch","then","res","json","sent","publishableKey","loadStripe","create","mount","handleSubmit","_ref2","_callee2","_yield$stripe$confirm","_context2","abrupt","confirmPayment","confirmParams","return_url","origin","type","useForm","name","options","locals"],"sourceRoot":""}