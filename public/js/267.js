"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[267],{50980:(e,o,n)=>{n.d(o,{Z:()=>d});var t=n(94015),r=n.n(t),i=n(23645),a=n.n(i)()(r());a.push([e.id,"#tooltip[data-v-07239986]{background:#333;border-radius:4px;color:#fff;font-size:13px;font-weight:700;padding:4px 8px}[data-v-07239986] .popper{background:#333;border-radius:20px;color:#fff;font-weight:700;padding:2px;text-transform:uppercase}[data-v-07239986] .popper #arrow:before{background:#333}[data-v-07239986] .popper:hover,[data-v-07239986] .popper:hover>#arrow:before{background:#333}","",{version:3,sources:["webpack://./resources/js/Components/Tables/VideoTable.vue"],names:[],mappings:"AAiIA,0BACI,eAAgB,CAKhB,iBAAkB,CAJlB,UAAY,CAGZ,cAAe,CAFf,eAAiB,CACjB,eAGJ,CAEA,0BACI,eAAmB,CAEnB,kBAAmB,CACnB,UAAW,CACX,eAAiB,CAHjB,WAAY,CAIZ,wBACJ,CAEA,wCACI,eACJ,CAEA,8EAEI,eACJ",sourcesContent:['<template>\n\n    <div class="relative overflow-x-auto shadow-md sm:rounded-lg">\n        <div\n            class="table w-full text-sm text-left text-gray-500 dark:text-gray-400"\n        >\n            <div\n                class="table-header-group text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"\n            >\n                <div class="table-row">\n                    <div scope="col" class="table-cell px-6 py-3">\n                        <font-awesome-icon icon="fa-repeat" class="mr-2 cursor-pointer hover:text-blue-500" @click.prevent="reload()"/>\n                        Filename\n                    </div>\n                    <div scope="col" class="hidden md:table-cell px-6 py-3">\n                        Size\n                    </div>\n                    <div scope="col" class="table-cell px-6 py-3">\n                        Date\n                    </div>\n                    <div scope="col" class="px-6 py-3">\n\n                    </div>\n                </div>\n            </div>\n            <div class="table-row-group">\n                <div\n                    v-for="video in videos.data"\n                    :key="video.id"\n                    class="table-row bg-white border-b dark:bg-gray-800 dark:border-gray-700"\n                >\n                    <div\n                        scope="row"\n                        class="table-cell min-w-[8rem] px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"\n                    >\n\n                        <Popper\n                            hover openDelay="50" closeDelay="50" offset-skid="0" offset-distance="0" placement="bottom"\n\n                        ><template #content>\n                            <div class="text-xs" id="tooltip">\n                                <div>Filename: {{ video.file_name }}</div>\n                                <div>ID: {{ video.id }}</div>\n                                <div>Type: {{ video.type }}</div>\n                                <div>Size: {{ video.size }}</div>\n                                <div v-if="video.user_id">Owner: {{ video.user_id}}</div>\n                                <div v-if="video.showEpisode">Show: {{ video.showEpisode.show.name}}</div>\n                                <div v-if="video.showEpisode">Episode: {{ video.showEpisode.name}}</div>\n                                <div v-if="video.movie">Movie: {{ video.movie.name}}</div>\n                                <div v-if="video.movieTrailer">Trailer: {{ video.movieTrailer.name}}</div>\n                                <div v-if="video.newsPost">News Post: {{ video.newsPost.name}}</div>\n                            </div>\n                        </template>\n\n\n                        <button\n                                v-if="video.can.view"\n                                @click.prevent="videoPlayerStore.loadNewSourceFromFile(video)"\n                                :disabled="video.upload_status === \'processing\'"\n                                class="disabled:cursor-not-allowed disabled:text-gray-500 disabled:italic inline"\n                        >\n                            {{ video.file_name.length > 15 ? video.file_name.substring(0, 15 - 3) + "..." : video.file_name.substring(0, 15) }}\n                        </button>\n                        </Popper>\n                        <div class="flex flex-row space-x-1">\n                            <div v-if="video.showEpisode" class="w-fit text-xs rounded-lg px-1 uppercase bg-blue-800 text-white font-semibold hover:cursor-pointer">\n                                Episode</div>\n                            <div v-if="video.movie" class="w-fit text-xs rounded-lg px-1 uppercase bg-purple-800 text-white font-semibold hover:cursor-pointer">\n                                Movie</div>\n                            <div v-if="video.movieTrailer" class="w-fit text-xs rounded-lg px-1 uppercase bg-indigo-800 text-white font-semibold">Trailer</div>\n                            <div v-if="video.newsPost" class="hidden w-fit text-xs rounded-lg px-1 uppercase bg-orange-800 text-white font-semibold">News</div>\n                        </div>\n                        <span v-if="!video.can.view" class="font-semibold text-red-700">You are currently unable to view this video. Please check with the admin.</span>\n                        <div v-show="video.upload_status === \'processing\'" class="ml-2 mb-1 py-1 px-2 bg-gray-600 text-gray-50 text-xs w-fit rounded-lg inline">Processing</div>\n                    </div>\n                    <div\n                        scope="row"\n                        class="hidden md:table-cell px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"\n                    >\n                        <span>{{ video.size }}</span>\n                    </div>\n                    <div class="table-cell px-6 py-4">\n                        <span>{{ formatDate(video.created_at) }}</span>\n                    </div>\n                    <div>\n                        <Link :href="`#`"><button\n                            @click.prevent="deleteVideo(video)"\n                            class="px-3 py-2 mb-2 mr-4 font-xs text-white bg-red-600 hover:bg-red-500 rounded-lg"\n                        >Delete</button>\n                        </Link>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        \x3c!-- Paginator --\x3e\n        <Pagination :data="videos" class="pb-6"/>\n    </div>\n\n</template>\n\n<script setup>\nimport Pagination from "@/Components/Pagination.vue";\nimport { useVideoPlayerStore } from "@/Stores/VideoPlayerStore";\nimport { Inertia } from "@inertiajs/inertia";\nimport { FontAwesomeIcon } from "@fortawesome/vue-fontawesome";\n\nlet videoPlayerStore = useVideoPlayerStore()\n\ndefineProps({\n    videos: Object,\n    can: Object,\n})\n\nfunction reload() {\n    Inertia.reload({\n        only: [\'videos\'],\n    });\n}\nfunction deleteVideo($video) {\n    if(confirm(\'Are you sure you want to delete this video? This action is not reversible and may have\' +\n        \' devastating effects on the database.\')) {\n        Inertia.post(\'/video/delete\', {\'videoId\': $video.id});\n    }\n}\n\n<\/script>\n\n<style scoped>\n#tooltip {\n    background: #333;\n    color: white;\n    font-weight: bold;\n    padding: 4px 8px;\n    font-size: 13px;\n    border-radius: 4px;\n}\n\n:deep(.popper) {\n    background: #333333;\n    padding: 2px;\n    border-radius: 20px;\n    color: #fff;\n    font-weight: bold;\n    text-transform: uppercase;\n}\n\n:deep(.popper #arrow::before) {\n    background: #333333;\n}\n\n:deep(.popper:hover),\n:deep(.popper:hover > #arrow::before) {\n    background: #333333;\n}\n</style>\n'],sourceRoot:""}]);const d=a},57416:(e,o,n)=>{n.d(o,{Z:()=>d});var t=n(94015),r=n.n(t),i=n(23645),a=n.n(i)()(r());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const d=a},50643:(e,o,n)=>{n.d(o,{Z:()=>d});var t=n(94015),r=n.n(t),i=n(23645),a=n.n(i)()(r());a.push([e.id,".dropzone[data-v-24d24480]{align-items:center;background-color:#fce4bb;border:2px dashed #000;display:flex;flex-direction:column;justify-content:center;row-gap:16px;transition:all .3s ease}label[data-v-24d24480]{padding:8px 12px;transition:all .3s ease}.active-dropzone[data-v-24d24480],label[data-v-24d24480]{background-color:#4bb1b1;color:#fff}.active-dropzone[data-v-24d24480]{border-color:#fff}.active-dropzone label[data-v-24d24480]{background-color:#fff;color:#4bb1b1}","",{version:3,sources:["webpack://./resources/js/Components/Uploaders/VideoUpload.vue"],names:[],mappings:"AA8HA,2BAII,kBAAmB,CAGnB,wBAAyB,CADzB,sBAA0B,CAL1B,YAAa,CACb,qBAAsB,CACtB,sBAAuB,CAEvB,YAAa,CAGb,uBACJ,CAEA,uBACI,gBAAiB,CAGjB,uBACJ,CAEA,yDAJI,wBAAyB,CADzB,UASJ,CAJA,kCAEI,iBAEJ,CAEA,wCACI,qBAAsB,CACtB,aACJ",sourcesContent:['<template>\n    <div>\n\n        <progress v-show="userStore.uploadPercentage != 0" max="100" :value="userStore.uploadPercentage" class="w-full" />\n        <div v-show="userStore.uploadPercentage != 0" class="w-full mb-4">{{userStore.uploadPercentageRounded}}%</div>\n\n        <div v-show="uploadingMessage" class="mb-4 font-bold text-center">Please stay on this screen until upload is complete.</div>\n        <div v-show="uploadCompleteMessage" class="mb-4 font-bold text-center">Upload is complete. The video is now processing.</div>\n        <form v-show="!isHidden" id="videoUploadForm" action="/videoupload" class="dropzone dropzoneFile border border-black rounded w-full h-48 max-w-md px-2 py-2 mb-6">\n            \x3c!--                            add input fields and a submit button to send data back to Laravel --\x3e\n            <input hidden name="movieId" v-model="form.movieId">\n\x3c!--            <input hidden name="movieTrailerId" v-model="form.movieTrailerId">--\x3e\n            <input hidden name="showEpisodeId" v-model="form.showEpisodeId">\n        </form>\n\n    </div>\n</template>\n\n<script setup>\nimport { Dropzone } from "dropzone";\nimport { useForm } from "@inertiajs/inertia-vue3"\nimport { useUserStore } from "@/Stores/UserStore";\nimport { onMounted, ref } from "vue";\nimport { Inertia } from "@inertiajs/inertia";\n\nlet userStore = useUserStore()\nlet uploadPercentage = ref(0);\nlet uploadingMessage = ref(0);\nlet uploadCompleteMessage = ref(0);\nlet isHidden = ref(false);\n\nonMounted(() => {\n// see options for Dropzone here: https://github.com/dropzone/dropzone/blob/main/src/options.js\nlet myDropzone = new Dropzone("#videoUploadForm", {\n    url: "/videoupload",\n    paramName: "file", // The name that will be used to transfer the file\n    maxFilesize: \'25 GB\', // MB\n    chunking: true,\n    chunkSize: 2 * 1024 * 1024,\n    parallelChunkUploads: false,\n    retryChunks: true,\n    retryChunksLimit: 10,\n    capture: null,\n    // can set the capture method as camera, microphone or video\n    // for mobile devices to skip the file selection and choose the\n    // recording device instead.\n    acceptedFiles: \'video/*, audio/*\',\n    uploadprogress: function(file, progress, bytesSent) {\n        userStore.uploadPercentage = progress;\n        console.log(userStore.uploadPercentage);\n        if(userStore.uploadPercentage !== 100){\n            isHidden = true;\n        }\n    },\n    dictDefaultMessage: "Click here or Drop video here to upload <br>(Max video file size is 25GB)",\n    forceFallback: false, // for testing, set to true.\n    accept: function(file, done) {\n        if (file.name === "") {\n            done("Need a file.");\n        } else if (file.size > 25000000000) {\n            console.log(file.size)\n            done("Video file too big.");\n            alert(\'Video file must be smaller than 25GB\');\n        }\n        else { done(); }\n    }\n});\n\nmyDropzone.on("addedfile", file => {\n    uploadingMessage = 1;\n    console.log(`File added: ${file.name}`);\n\n});\n\nmyDropzone.on("complete", function(file) {\n    uploadingMessage = 0;\n    uploadCompleteMessage = 1;\n    myDropzone.removeFile(file);\n    userStore.uploadPercentage = 0;\n    isHidden = false;\n    Inertia.reload({\n        only: ["videos"],\n    });\n});\n\n})\n\nlet props = defineProps({\n    movieId: Number,\n    movieTrailerId: Number,\n    showEpisodeId: Number,\n})\n\nfunction setMovieOrEpisodeId() {\n    if (props.movieId !== null) {\n        userStore.uploadMovieId = props.mov;\n    } else if (props.movieTrailerId !== null) {\n        userStore.movieTrailerId = props.movieTrailerId;\n    } else if (props.showEpisodeId !== null) {\n        userStore.uploadShowEpisodeId = props.showEpisodeId;\n    }\n}\n\nsetMovieOrEpisodeId()\n\nlet form = useForm({\n    file: [],\n    // movieId: userStore.uploadMovieId,\n    movieId: props.movieId,\n    movieTrailerId: props.movieId,\n    showEpisodeId: props.showEpisodeId,\n});\n\n// let props = defineProps({\n//     filters: Object,\n//     can: Object,\n//     videos: Object,\n//     message: String,\n//     errors: ref(\'\'),\n//     isHidden: ref(false),\n//     done: ref(),\n// });\n\n<\/script>\n<style scoped>\n\n.dropzone {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    row-gap: 16px;\n    border: 2px dashed #000000;\n    background-color: #fce4bb;\n    transition: 0.3s ease all;\n}\n\nlabel {\n    padding: 8px 12px;\n    color: #fff;\n    background-color: #4bb1b1;\n    transition: 0.3s ease all;\n}\n\n.active-dropzone {\n    color: #fff;\n    border-color: #fff;\n    background-color: #4bb1b1;\n}\n\n.active-dropzone  label {\n    background-color: #fff;\n    color: #4bb1b1;\n}\n/*6b7280*/\n/*4bb1b1*/\n\n</style>\n'],sourceRoot:""}]);const d=a},15209:(e,o,n)=>{n.d(o,{Z:()=>d});var t=n(94015),r=n.n(t),i=n(23645),a=n.n(i)()(r());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const d=a},92505:(e,o,n)=>{n.d(o,{Z:()=>a});var t=n(70821),r={key:0,class:"flex flex-wrap justify-center my-4 space-x-4 space-y-2"},i=(0,t.createElementVNode)("div",null,null,-1);const a={__name:"Pagination",props:{data:Object},setup:function(e){return function(o,n){return e.data.last_page>1?((0,t.openBlock)(),(0,t.createElementBlock)("div",r,[i,((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.data.links,(function(e,o){return(0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.url?"Link":"span"),{key:o,href:e.url,innerHTML:e.label,class:(0,t.normalizeClass)(["px-4 py-3 text-sm leading-4 h-fit",{"text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400":e.active,"rounded mt-2 mr-0.5 bg-gray-100 hover:bg-gray-100 text-gray-300 dark:bg-gray-900 dark:hover:bg-gray-900 dark:text-gray-700":!e.url,"rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow":e.url}]),onScroll:n[0]||(n[0]=(0,t.withModifiers)((function(){}),["prevent"]))},null,40,["href","innerHTML","class"])})),128))])):(0,t.createCommentVNode)("",!0)}}}},26285:(e,o,n)=>{n.d(o,{Z:()=>b});var t=n(70821),r=n(94623),i=n(39038),a=n(90771),d=n(9680),l=["value"],s={class:"mb-4 font-bold text-center"},c={class:"mb-4 font-bold text-center"},p={id:"videoUploadForm",action:"/videoupload",class:"dropzone dropzoneFile border border-black rounded w-full h-48 max-w-md px-2 py-2 mb-6"};const u={__name:"VideoUpload",props:{movieId:Number,movieTrailerId:Number,showEpisodeId:Number},setup:function(e){var o=e,n=(0,a.L)(),u=((0,t.ref)(0),(0,t.ref)(0)),v=(0,t.ref)(0),m=(0,t.ref)(!1);(0,t.onMounted)((function(){var e=new r.f("#videoUploadForm",{url:"/videoupload",paramName:"file",maxFilesize:"25 GB",chunking:!0,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!0,retryChunksLimit:10,capture:null,acceptedFiles:"video/*, audio/*",uploadprogress:function(e,o,t){n.uploadPercentage=o,console.log(n.uploadPercentage),100!==n.uploadPercentage&&(m=!0)},dictDefaultMessage:"Click here or Drop video here to upload <br>(Max video file size is 25GB)",forceFallback:!1,accept:function(e,o){""===e.name?o("Need a file."):e.size>25e9?(console.log(e.size),o("Video file too big."),alert("Video file must be smaller than 25GB")):o()}});e.on("addedfile",(function(e){u=1,console.log("File added: ".concat(e.name))})),e.on("complete",(function(o){u=0,v=1,e.removeFile(o),n.uploadPercentage=0,m=!1,d.Inertia.reload({only:["videos"]})}))})),null!==o.movieId?n.uploadMovieId=o.mov:null!==o.movieTrailerId?n.movieTrailerId=o.movieTrailerId:null!==o.showEpisodeId&&(n.uploadShowEpisodeId=o.showEpisodeId);var f=(0,i.cI)({file:[],movieId:o.movieId,movieTrailerId:o.movieId,showEpisodeId:o.showEpisodeId});return function(e,o){return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[(0,t.withDirectives)((0,t.createElementVNode)("progress",{max:"100",value:(0,t.unref)(n).uploadPercentage,class:"w-full"},null,8,l),[[t.vShow,0!=(0,t.unref)(n).uploadPercentage]]),(0,t.withDirectives)((0,t.createElementVNode)("div",{class:"w-full mb-4"},(0,t.toDisplayString)((0,t.unref)(n).uploadPercentageRounded)+"%",513),[[t.vShow,0!=(0,t.unref)(n).uploadPercentage]]),(0,t.withDirectives)((0,t.createElementVNode)("div",s,"Please stay on this screen until upload is complete.",512),[[t.vShow,(0,t.unref)(u)]]),(0,t.withDirectives)((0,t.createElementVNode)("div",c,"Upload is complete. The video is now processing.",512),[[t.vShow,(0,t.unref)(v)]]),(0,t.withDirectives)((0,t.createElementVNode)("form",p,[(0,t.withDirectives)((0,t.createElementVNode)("input",{hidden:"",name:"movieId","onUpdate:modelValue":o[0]||(o[0]=function(e){return(0,t.unref)(f).movieId=e})},null,512),[[t.vModelText,(0,t.unref)(f).movieId]]),(0,t.withDirectives)((0,t.createElementVNode)("input",{hidden:"",name:"showEpisodeId","onUpdate:modelValue":o[1]||(o[1]=function(e){return(0,t.unref)(f).showEpisodeId=e})},null,512),[[t.vModelText,(0,t.unref)(f).showEpisodeId]])],512),[[t.vShow,!(0,t.unref)(m)]])])}}};var v=n(72446),m=n.n(v),f=n(50643),g={insert:"head",singleton:!1};m()(f.Z,g);f.Z.locals;const b=(0,n(83744).Z)(u,[["__scopeId","data-v-24d24480"]])},40267:(e,o,n)=>{n.r(o),n.d(o,{default:()=>be});var t=n(70821),r=n(9680),i=n(40191),a=n(90771),d=(n(94623),n(39038),n(92505)),l=n(57810),s=function(e){return(0,t.pushScopeId)("data-v-07239986"),e=e(),(0,t.popScopeId)(),e},c={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},p={class:"table w-full text-sm text-left text-gray-500 dark:text-gray-400"},u={class:"table-header-group text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},v={class:"table-row"},m={scope:"col",class:"table-cell px-6 py-3"},f=s((function(){return(0,t.createElementVNode)("div",{scope:"col",class:"hidden md:table-cell px-6 py-3"}," Size ",-1)})),g=s((function(){return(0,t.createElementVNode)("div",{scope:"col",class:"table-cell px-6 py-3"}," Date ",-1)})),b=s((function(){return(0,t.createElementVNode)("div",{scope:"col",class:"px-6 py-3"},null,-1)})),h={class:"table-row-group"},w={scope:"row",class:"table-cell min-w-[8rem] px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},x={class:"text-xs",id:"tooltip"},y={key:0},k={key:1},E={key:2},A={key:3},V={key:4},B={key:5},C=["onClick","disabled"],N={class:"flex flex-row space-x-1"},I={key:0,class:"w-fit text-xs rounded-lg px-1 uppercase bg-blue-800 text-white font-semibold hover:cursor-pointer"},S={key:1,class:"w-fit text-xs rounded-lg px-1 uppercase bg-purple-800 text-white font-semibold hover:cursor-pointer"},D={key:2,class:"w-fit text-xs rounded-lg px-1 uppercase bg-indigo-800 text-white font-semibold"},P={key:3,class:"hidden w-fit text-xs rounded-lg px-1 uppercase bg-orange-800 text-white font-semibold"},T={key:0,class:"font-semibold text-red-700"},z={class:"ml-2 mb-1 py-1 px-2 bg-gray-600 text-gray-50 text-xs w-fit rounded-lg inline"},M={scope:"row",class:"hidden md:table-cell px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},_={class:"table-cell px-6 py-4"},F=["onClick"];const U={__name:"VideoTable",props:{videos:Object,can:Object},setup:function(e){var o=(0,i.q)();return function(n,i){var a=(0,t.resolveComponent)("Popper"),s=(0,t.resolveComponent)("Link");return(0,t.openBlock)(),(0,t.createElementBlock)("div",c,[(0,t.createElementVNode)("div",p,[(0,t.createElementVNode)("div",u,[(0,t.createElementVNode)("div",v,[(0,t.createElementVNode)("div",m,[(0,t.createVNode)((0,t.unref)(l.GN),{icon:"fa-repeat",class:"mr-2 cursor-pointer hover:text-blue-500",onClick:i[0]||(i[0]=(0,t.withModifiers)((function(e){r.Inertia.reload({only:["videos"]})}),["prevent"]))}),(0,t.createTextVNode)(" Filename ")]),f,g,b])]),(0,t.createElementVNode)("div",h,[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.videos.data,(function(e){return(0,t.openBlock)(),(0,t.createElementBlock)("div",{key:e.id,class:"table-row bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[(0,t.createElementVNode)("div",w,[(0,t.createVNode)(a,{hover:"",openDelay:"50",closeDelay:"50","offset-skid":"0","offset-distance":"0",placement:"bottom"},{content:(0,t.withCtx)((function(){return[(0,t.createElementVNode)("div",x,[(0,t.createElementVNode)("div",null,"Filename: "+(0,t.toDisplayString)(e.file_name),1),(0,t.createElementVNode)("div",null,"ID: "+(0,t.toDisplayString)(e.id),1),(0,t.createElementVNode)("div",null,"Type: "+(0,t.toDisplayString)(e.type),1),(0,t.createElementVNode)("div",null,"Size: "+(0,t.toDisplayString)(e.size),1),e.user_id?((0,t.openBlock)(),(0,t.createElementBlock)("div",y,"Owner: "+(0,t.toDisplayString)(e.user_id),1)):(0,t.createCommentVNode)("",!0),e.showEpisode?((0,t.openBlock)(),(0,t.createElementBlock)("div",k,"Show: "+(0,t.toDisplayString)(e.showEpisode.show.name),1)):(0,t.createCommentVNode)("",!0),e.showEpisode?((0,t.openBlock)(),(0,t.createElementBlock)("div",E,"Episode: "+(0,t.toDisplayString)(e.showEpisode.name),1)):(0,t.createCommentVNode)("",!0),e.movie?((0,t.openBlock)(),(0,t.createElementBlock)("div",A,"Movie: "+(0,t.toDisplayString)(e.movie.name),1)):(0,t.createCommentVNode)("",!0),e.movieTrailer?((0,t.openBlock)(),(0,t.createElementBlock)("div",V,"Trailer: "+(0,t.toDisplayString)(e.movieTrailer.name),1)):(0,t.createCommentVNode)("",!0),e.newsPost?((0,t.openBlock)(),(0,t.createElementBlock)("div",B,"News Post: "+(0,t.toDisplayString)(e.newsPost.name),1)):(0,t.createCommentVNode)("",!0)])]})),default:(0,t.withCtx)((function(){return[e.can.view?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:0,onClick:(0,t.withModifiers)((function(n){return(0,t.unref)(o).loadNewSourceFromFile(e)}),["prevent"]),disabled:"processing"===e.upload_status,class:"disabled:cursor-not-allowed disabled:text-gray-500 disabled:italic inline"},(0,t.toDisplayString)(e.file_name.length>15?e.file_name.substring(0,12)+"...":e.file_name.substring(0,15)),9,C)):(0,t.createCommentVNode)("",!0)]})),_:2},1024),(0,t.createElementVNode)("div",N,[e.showEpisode?((0,t.openBlock)(),(0,t.createElementBlock)("div",I," Episode")):(0,t.createCommentVNode)("",!0),e.movie?((0,t.openBlock)(),(0,t.createElementBlock)("div",S," Movie")):(0,t.createCommentVNode)("",!0),e.movieTrailer?((0,t.openBlock)(),(0,t.createElementBlock)("div",D,"Trailer")):(0,t.createCommentVNode)("",!0),e.newsPost?((0,t.openBlock)(),(0,t.createElementBlock)("div",P,"News")):(0,t.createCommentVNode)("",!0)]),e.can.view?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createElementBlock)("span",T,"You are currently unable to view this video. Please check with the admin.")),(0,t.withDirectives)((0,t.createElementVNode)("div",z,"Processing",512),[[t.vShow,"processing"===e.upload_status]])]),(0,t.createElementVNode)("div",M,[(0,t.createElementVNode)("span",null,(0,t.toDisplayString)(e.size),1)]),(0,t.createElementVNode)("div",_,[(0,t.createElementVNode)("span",null,(0,t.toDisplayString)(n.formatDate(e.created_at)),1)]),(0,t.createElementVNode)("div",null,[(0,t.createVNode)(s,{href:"#"},{default:(0,t.withCtx)((function(){return[(0,t.createElementVNode)("button",{onClick:(0,t.withModifiers)((function(o){return n=e,void(confirm("Are you sure you want to delete this video? This action is not reversible and may have devastating effects on the database.")&&r.Inertia.post("/video/delete",{videoId:n.id}));var n}),["prevent"]),class:"px-3 py-2 mb-2 mr-4 font-xs text-white bg-red-600 hover:bg-red-500 rounded-lg"},"Delete",8,F)]})),_:2},1024)])])})),128))])]),(0,t.createVNode)(d.Z,{data:e.videos,class:"pb-6"},null,8,["data"])])}}};var j=n(72446),Z=n.n(j),O=n(50980),L={insert:"head",singleton:!1};Z()(O.Z,L);O.Z.locals;var G=n(83744);const J=(0,G.Z)(U,[["__scopeId","data-v-07239986"]]);var H=n(26285);var R=n(57416),Y={insert:"head",singleton:!1};Z()(R.Z,Y);R.Z.locals;var q=n(23493),$=n.n(q),W=n(664),K=function(e){return(0,t.pushScopeId)("data-v-0e4e4b13"),e=e(),(0,t.popScopeId)(),e},X={class:"place-self-center flex flex-col gap-y-3"},Q={id:"topDiv",class:"bg-white text-black p-5 mb-10"},ee=K((function(){return(0,t.createElementVNode)("div",{id:"topDiv"},null,-1)})),oe=K((function(){return(0,t.createElementVNode)("h1",{class:"text-3xl font-semibold text-center lg:text-left"},"Video Upload",-1)})),ne={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},te={class:"p-6 bg-white border-b border-gray-200"},re={class:"flex justify-between"},ie={class:"flex-wrap ml-2 px-5 pb-6"},ae={class:""},de={class:""},le={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},se={key:0,class:"mt-6 p-2 rounded-xl bg-gray-300 border-2 border-gray-500"},ce={class:"flex justify-between mt-6 lg:mt-0"},pe=K((function(){return(0,t.createElementVNode)("div",{class:"p-2 font-semibold text-xl"},"All Videos (Admin view only)",-1)})),ue={class:"relative"},ve=K((function(){return(0,t.createElementVNode)("div",{class:"absolute top-0 flex items-center h-full ml-2"},[(0,t.createElementVNode)("svg",{class:"fill-current text-gray-400 w-4 pb-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,t.createElementVNode)("path",{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3ZM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8Z"})])],-1)}));const me={__name:"VideoUpload",props:{filters:Object,can:Object,videos:Object,allVideos:Object,myTotalStorageUsed:String,notTvTotalStorageUsed:String,errors:(0,t.ref)(""),isHidden:(0,t.ref)(!1)},setup:function(e){var o=e,n=(0,i.q)(),d=(0,a.L)();d.currentPage="videoUpload",d.showFlashMessage=!0,(0,t.onMounted)((function(){n.makeVideoTopRight(),d.isMobile&&(n.ottClass="ottClose",n.ott=0),document.getElementById("topDiv").scrollIntoView()}));var l=(0,t.ref)(o.filters.search);function s(){window.history.back()}return(0,t.watch)(l,$()((function(e){r.Inertia.get("/videoupload",{search:e},{preserveState:!0,replace:!0})}),300)),function(o,n){var r=(0,t.resolveComponent)("Head");return(0,t.openBlock)(),(0,t.createElementBlock)("div",null,[(0,t.createVNode)(r,{title:"Video Upload"}),(0,t.createElementVNode)("div",X,[(0,t.createElementVNode)("div",Q,[(0,t.unref)(d).showFlashMessage?((0,t.openBlock)(),(0,t.createBlock)((0,t.unref)(W.Z),{key:0,flash:o.$page.props.flash},null,8,["flash"])):(0,t.createCommentVNode)("",!0),ee,(0,t.createElementVNode)("header",{class:"flex justify-between mb-3 border-b border-gray-800 pb-6"},[oe,(0,t.createElementVNode)("div",null,[(0,t.createElementVNode)("button",{onClick:s,class:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg"},"Back ")])]),(0,t.createElementVNode)("div",ne,[(0,t.createElementVNode)("div",te,[(0,t.createElementVNode)("div",re,[(0,t.createVNode)((0,t.unref)(H.Z)),(0,t.createElementVNode)("div",ie,[(0,t.createElementVNode)("div",ae,"My total storage used: "+(0,t.toDisplayString)(e.myTotalStorageUsed),1),(0,t.createElementVNode)("div",de,"not.TV total storage used: "+(0,t.toDisplayString)(e.notTvTotalStorageUsed),1)])]),(0,t.createElementVNode)("div",le,[(0,t.createVNode)((0,t.unref)(J),{videos:e.videos,can:e.can,class:""},null,8,["videos","can"])]),e.can.viewAny?((0,t.openBlock)(),(0,t.createElementBlock)("div",se,[(0,t.createElementVNode)("div",ce,[pe,(0,t.createElementVNode)("div",ue,[(0,t.withDirectives)((0,t.createElementVNode)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,t.isRef)(l)?l.value=e:l=e}),type:"search",class:"bg-gray-50 text-black text-sm rounded-full focus:outline-none focus:shadow w-64 pl-8 px-3 py-1",placeholder:"Search..."},null,512),[[t.vModelText,(0,t.unref)(l)]]),ve])]),(0,t.createVNode)((0,t.unref)(J),{videos:e.allVideos,can:e.can,class:""},null,8,["videos","can"])])):(0,t.createCommentVNode)("",!0)])]),(0,t.createTextVNode)(" FOOTER ")])])])}}};var fe=n(15209),ge={insert:"head",singleton:!1};Z()(fe.Z,ge);fe.Z.locals;const be=(0,G.Z)(me,[["__scopeId","data-v-0e4e4b13"]])}}]);
//# sourceMappingURL=267.js.map