/*! For license information please see 6225.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6225,120,5819,3049],{120:(e,t,r)=>{r.r(t),r.d(t,{useMovieStore:()=>a});var n=r(69876),o=function(){return{category_id:0,category_description:"",categories:[],sub_category_id:0,sub_category_description:"",sub_categories:[]}},a=(0,n.Q_)("movieStore",{state:o,actions:{reset:function(){Object.assign(this,{category_id:0,category_description:"",categories:[],sub_category_id:0,sub_category_description:"",sub_categories:[]})},initializeDescriptions:function(e,t){this.category_id=e;var r=this.categories.find((function(t){return t.id===e}));this.category_description=r?r.description:"",this.sub_categories=r?r.sub_categories:[],this.updateSubCategoryDescription(t)},updateSubCategoryDescription:function(e){var t=this.sub_categories.find((function(t){return t.id===e}));this.sub_category_id=t?t.id:"",this.sub_category_description=t?t.description:""}},getters:{}})},95819:(e,t,r)=>{r.r(t),r.d(t,{useUploadStore:()=>a});var n=r(69876),o=function(){return{videoId:null,uploadStatus:"idle"}},a=(0,n.Q_)("uploadStore",{state:o,actions:{reset:function(){Object.assign(this,{videoId:null,uploadStatus:"idle"})},setVideoId:function(e){this.videoId=e},setUploadStatus:function(e){this.uploadStatus=e}}})},24831:(e,t,r)=>{r.d(t,{U:()=>s});r(70821);var n=r(90771),o=r(58358),a=r(40191),l=r(9680);function s(e){var t=(0,n.useUserStore)(),r=(0,o.useAppSettingStore)(),s=(0,a.useVideoPlayerStore)();r.currentPage=e,r.showFlashMessage=!0,r.pageIsHidden=!1,t.isMobile||window.innerWidth<1024?r.ott=0:r.ott=1,s.makeVideoTopRight(),r.pageReload&&(r.pageReload=!1,window.location.reload(!0)),l.Inertia.on("navigate",(function(e){t.isMobile||window.innerWidth<1024?r.ott=0:r.ott=1,""!==window.location.search&&!r.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),r.shouldScrollToTop=!1})),r.setPrevUrl(),r.showOttButtons=!0,r.noLayout=!1}},51330:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(94015),o=r.n(n),a=r(23645),l=r.n(a)()(o());l.push([e.id,".dropzone[data-v-21826cbb]{align-items:center;background-color:#fce4bb;border:2px dashed #000;display:flex;flex-direction:column;justify-content:center;row-gap:16px;transition:all .3s ease}label[data-v-21826cbb]{padding:8px 12px;transition:all .3s ease}.active-dropzone[data-v-21826cbb],label[data-v-21826cbb]{background-color:#4bb1b1;color:#fff}.active-dropzone[data-v-21826cbb]{border-color:#fff}.active-dropzone label[data-v-21826cbb]{background-color:#fff;color:#4bb1b1}","",{version:3,sources:["webpack://./resources/js/Components/Global/Uploaders/VideoUpload.vue"],names:[],mappings:"AA4KA,2BAIE,kBAAmB,CAGnB,wBAAyB,CADzB,sBAA0B,CAL1B,YAAa,CACb,qBAAsB,CACtB,sBAAuB,CAEvB,YAAa,CAGb,uBACF,CAEA,uBACE,gBAAiB,CAGjB,uBACF,CAEA,yDAJE,wBAAyB,CADzB,UASF,CAJA,kCAEE,iBAEF,CAEA,wCACE,qBAAsB,CACtB,aACF",sourcesContent:['<template>\n  <div>\n\n    <progress v-show="userStore.uploadPercentage !== 0" max="100" :value="userStore.uploadPercentage" class="w-full"/>\n    <div v-show="userStore.uploadPercentage !== 0" class="w-full mb-4">{{ userStore.uploadPercentageRounded }}%</div>\n\n    <div v-show="uploadingMessage" class="mb-4 font-bold text-center">Please stay on this screen until upload is\n      complete.\n    </div>\n    <div v-show="uploadComplete" class="mb-4 font-bold text-center">Upload is complete. The video is now\n      processing.\n    </div>\n    <form v-show="!isHidden" id="videoUploadForm" action="/videoupload"\n          class="dropzone dropzoneFile border border-black rounded w-full h-48 max-w-md px-2 py-2 mb-6">\n      \x3c!--                            add input fields and a submit button to send data back to Laravel --\x3e\n      <input hidden name="movieId" v-model="form.movieId">\n      \x3c!--            <input hidden name="movieTrailerId" v-model="form.movieTrailerId">--\x3e\n      <input hidden name="showEpisodeId" v-model="form.showEpisodeId">\n    </form>\n\n  </div>\n</template>\n\n<script setup>\nimport { Inertia } from "@inertiajs/inertia"\nimport { onMounted, ref } from "vue"\nimport { useForm } from "@inertiajs/inertia-vue3"\nimport { Dropzone } from "dropzone"\nimport { useUserStore } from "@/Stores/UserStore"\nimport { useUploadStore } from "@/Stores/UploadStore"\n\nconst userStore = useUserStore()\nconst uploadStore = useUploadStore()\n\nlet uploadPercentage = ref(0)\nlet uploadingMessage = ref(false)\nlet uploadComplete = ref(false)\nlet isHidden = ref(false)\n\nconst emits = defineEmits([\'upload-start\', \'upload-finished\']);\n\nconst uploadCompleteMessage = () => {\n  uploadingMessage = false\n  uploadComplete = true\n}\n\nconst uploadStarted = () => {\n  uploadingMessage = true\n  emits(\'upload-start\');\n}\n\nfunction onUploadSuccess(videoId) {\n  emits(\'upload-finished\', videoId);\n  uploadStore.setVideoId(videoId);\n  uploadStore.setUploadStatus(\'processing\');\n}\n\nonMounted(() => {\n  // Make sure the element with the ID "videoUploadForm" is available in the DOM.\n  const videoUploadForm = document.getElementById(\'videoUploadForm\');\n\n  if (videoUploadForm) {\n    // Initialize Dropzone on the element.\n\n    // see options for Dropzone here: https://github.com/dropzone/dropzone/blob/main/src/options.js\n    let myDropzone = new Dropzone("#videoUploadForm", {\n      url: "/videoupload",\n      paramName: "file", // The name that will be used to transfer the file\n      maxFilesize: \'25 GB\', // MB\n      chunking: true,\n      chunkSize: 2 * 1024 * 1024,\n      parallelChunkUploads: false,\n      retryChunks: true,\n      retryChunksLimit: 10,\n      capture: null,\n      // can set the capture method as camera, microphone or video\n      // for mobile devices to skip the file selection and choose the\n      // recording device instead.\n      acceptedFiles: \'video/*, audio/*\',\n      uploadprogress: function (file, progress, bytesSent) {\n        userStore.uploadPercentage = progress;\n        console.log(userStore.uploadPercentage);\n        if (userStore.uploadPercentage !== 100) {\n          isHidden = true;\n        }\n      },\n      dictDefaultMessage: "Click here or Drop video here to upload <br>(Max video file size is 25GB)",\n      forceFallback: false, // for testing, set to true.\n      accept: function (file, done) {\n        if (file.name === "") {\n          done("Need a file.");\n        } else if (file.size > 25000000000) {\n          console.log(file.size)\n          done("Video file too big.");\n          alert(\'Video file must be smaller than 25GB\');\n        } else {\n          done();\n        }\n      }\n    });\n\n    myDropzone.on("addedfile", file => {\n      uploadStarted()\n      console.log(`File added: ${file.name}`);\n    });\n\n    myDropzone.on("success", function(file, response) {\n      // Assuming \'response\' contains the videoId after the file is uploaded\n      if (response.videoId) {\n        console.log(response.videoId)\n        const videoId = response.videoId;\n        if (videoId) {\n          onUploadSuccess(videoId);\n          // onUploadSuccess(response.videoId);\n        }\n      }\n    });\n\n    myDropzone.on("complete", function (file, response) {\n      uploadCompleteMessage()\n      myDropzone.removeFile(file);\n      userStore.uploadPercentage = 0;\n      isHidden = false;\n      Inertia.reload({\n        only: ["videos"],\n      });\n    });\n\n  } else {\n    console.error(\'Element with ID "videoUploadForm" not found in the DOM.\');\n  }\n})\n\nlet props = defineProps({\n  movieId: Number,\n  movieTrailerId: Number,\n  showEpisodeId: Number,\n})\n\nfunction setMovieOrEpisodeId() {\n  if (props.movieId !== null) {\n    userStore.uploadMovieId = props.mov;\n  } else if (props.movieTrailerId !== null) {\n    userStore.movieTrailerId = props.movieTrailerId;\n  } else if (props.showEpisodeId !== null) {\n    userStore.uploadShowEpisodeId = props.showEpisodeId;\n  }\n}\n\nsetMovieOrEpisodeId()\n\nlet form = useForm({\n  file: [],\n  // movieId: userStore.uploadMovieId,\n  movieId: props.movieId,\n  movieTrailerId: props.movieId,\n  showEpisodeId: props.showEpisodeId,\n});\n\n// let props = defineProps({\n//     filters: Object,\n//     can: Object,\n//     videos: Object,\n//     message: String,\n//     errors: ref(\'\'),\n//     isHidden: ref(false),\n//     done: ref(),\n// });\n\n<\/script>\n<style scoped>\n\n.dropzone {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  row-gap: 16px;\n  border: 2px dashed #000000;\n  background-color: #fce4bb;\n  transition: 0.3s ease all;\n}\n\nlabel {\n  padding: 8px 12px;\n  color: #fff;\n  background-color: #4bb1b1;\n  transition: 0.3s ease all;\n}\n\n.active-dropzone {\n  color: #fff;\n  border-color: #fff;\n  background-color: #4bb1b1;\n}\n\n.active-dropzone label {\n  background-color: #fff;\n  color: #4bb1b1;\n}\n\n/*6b7280*/\n/*4bb1b1*/\n\n</style>\n'],sourceRoot:""}]);const s=l},30586:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(94015),o=r.n(n),a=r(23645),l=r.n(a)()(o());l.push([e.id,".topBannerErrorMessage[data-v-7566c6fc]{background-color:#000;color:#fff;font-size:1rem;font-weight:600;padding:.5rem;width:100%}.errorClass[data-v-7566c6fc]{color:#90ee90;font-weight:600}","",{version:3,sources:["webpack://./resources/js/Pages/Movies/{$id}/Edit.vue"],names:[],mappings:"AAgvBA,wCACE,qBAAuB,CAGvB,UAAY,CAEZ,cAAe,CADf,eAAgB,CAHhB,aAAe,CACf,UAIF,CACA,6BACE,aAAiB,CACjB,eACF",sourcesContent:['<template>\n\n    <Head :title="`Edit Movie: ${movie.name}`"/>\n\n    <div class="place-self-center flex flex-col gap-y-3">\n        <div id="topDiv" class="bg-dark text-light p-5 mb-10 pt-6">\n\n            <Message v-if="appSettingStore.showFlashMessage" :flash="$page.props.flash"/>\n\n            <header>\n                <div class="flex justify-between mb-6">\n                    <div>\n                        <div class="font-bold mb-4 text-red-700">EDIT MOVIE</div>\n                        <h1 class="text-3xl">\n                            <Link :href="`/movies/${movie.slug}`" class="text-red-700 font-bold uppercase">{{ movie.name }}</Link>\n                        </h1>\n                    </div>\n                  <div class="flex flex-row flex-wrap">\n                    <button\n                        @click="submit"\n                        class="h-fit bg-blue-600 hover:bg-blue-500 text-white rounded py-2 px-4 mr-2"\n                        :disabled="form.processing"\n                    >\n                      Save\n                    </button>\n                    <CancelButton />\n                  </div>\n\n                </div>\n            </header>\n\n            <div class="flex flex-col">\n                <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">\n                    <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">\n                        <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">\n\n\n                            <div v-if="form.errors.name" v-text="form.errors.name"\n                                 class="topBannerErrorMessage"></div>\n                            <div v-if="form.errors.description" v-text="form.errors.description"\n                                 class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.logline" v-text="form.errors.logline"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.release_year" v-text="form.errors.release_year"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.release_date" v-text="form.errors.release_date"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.creative_commons_id" v-text="form.errors.creative_commons_id"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.copyrightYear" v-text="form.errors.copyrightYear"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.category" v-text="form.errors.category"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.sub_category" v-text="form.errors.sub_category"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.video_url" v-text="form.errors.video_url"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.www_url" v-text="form.errors.www_url"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.instagram_name" v-text="form.errors.instagram_name"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.telegram_url" v-text="form.errors.telegram_url"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.twitter_handle" v-text="form.errors.twitter_handle"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.notes" v-text="form.errors.notes"\n                               class="topBannerErrorMessage"></div>\n                          <div v-if="form.errors.status" v-text="form.errors.status"\n                               class="topBannerErrorMessage"></div>\n                            \x3c!--                            <div v-if="form.errors.video_file_embed_code" v-text="form.errors.video_file_embed_code"--\x3e\n                            \x3c!--                                 class="topBannerErrorMessage--\x3e\n\n\n                            \x3c!-- Begin grid 2-col --\x3e\n                            <div class="grid grid-cols-1 sm:grid-cols-2 space-x-6 p-6">\n\n\n                                \x3c!--Left Column--\x3e\n                                <div>\n                                    <div class="flex space-y-3">\n                                        <div class="mb-6">\n                                            <SingleImage :image="image" :key="image"/>\n                                        </div>\n                                    </div>\n\n                                    <div class="w-full">\n\n                                        <label class="block mb-2 uppercase font-bold text-xs text-light text-red-700"\n                                               for="name"\n                                        >\n                                            Change Movie Poster\n                                        </label>\n\n                                        <ImageUpload :image="image"\n                                                     :modelType="\'movie\'"\n                                                     :modelId="movie.id"\n                                                     :name="\'Upload Movie Poster\'"\n                                                     :maxSize="\'30MB\'"\n                                                     :fileTypes="\'image/jpg, image/jpeg, image/png\'"\n                                                     @reloadImage="reloadImage"\n                                        />\n\n                                    </div>\n\n                                    <div class="flex space-y-3">\n                                        <div class="mb-6 bg-black w-full p-6">\n                                            <span\n                                                v-if="video.upload_status === \'processing\'"\n                                                class="text-center place-self-center text-white font-semibold text-xl">Video processing...</span>\n                                            <video v-if="video.upload_status !== \'processing\'" :src="video.cdn_endpoint+video.cloud_folder+video.folder+\'/\'+video.file_name" :type="video.type" controls></video>\n                                        </div>\n                                    </div>\n\n                                    <div class="">\n                                        <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                               for="name"\n                                        >\n                                            Upload Movie\n                                        </label>\n                                        <div class="max-full mx-auto mt-2 mb-6 bg-gray-200 px-6 pt-4 pb-2 text-dark">\n                                            <h2 class="text-xl font-semibold text-gray-800">Upload Video</h2>\n\n                                            <ul class="pb-4 text-gray-800">\n                                                <li>Max Video Length: <span class="text-orange-400">4 hours</span>\n                                                </li>\n                                                <li>File Types accepted: <span class="text-orange-400">mp4, webm, ogg</span>\n                                                </li>\n                                            </ul>\n\n                                            <VideoUpload :movieId="movie.id" class="text-black"/>\n\n                                        </div>\n\n\n\n                                    </div>\n\n\n\n\n                                    <div class="flex space-y-3">\n                                        <div class="mb-6 bg-black w-full p-6">\n\x3c!--                                            VIDEO HERE--\x3e\n                                        </div>\n                                    </div>\n\n                                    <div>\n                                        <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                               for="name"\n                                        >\n                                            Upload Movie Trailer\n                                        </label>\n                                        <div class="max-full mx-auto mt-2 mb-6 bg-gray-200 px-6 pt-4 pb-2 text-dark">\n                                            <h2 class="text-xl font-semibold text-gray-800">Upload Video</h2>\n\n                                            <ul class="pb-4 text-gray-800">\n                                                <li>Max Video Length: <span class="text-orange-400">4 hours</span>\n                                                </li>\n                                                <li>File Types accepted: <span class="text-orange-400">mp4, webm, ogg</span>\n                                                </li>\n                                            </ul>\n\n\x3c!--                                            <VideoUpload class="text-black"/>--\x3e\n\n                                        </div>\n\n                                    </div>\n\n\n\n                                </div>\n\n\n\n                            \x3c!--Right Column--\x3e\n                                <div>\n\n                                    <form @submit.prevent="submit">\n\n                                      <div class="mb-6">\n                                        <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                               for="status"\n                                        >\n                                          Status\n                                        </label>\n\n                                        <div class="text-sm mb-2">Set the status to Active to make the movie accessible to the public. Set the status to Creators only to only make it available to creators. All other statuses will only be viewable by you.</div>\n\n                                        <select required class="border border-gray-400 text-gray-800 p-2 w-1/2 rounded-lg block mb-2 uppercase font-bold text-xs "\n                                                v-model="form.status"\n                                        >\n                                          <option v-for="status in statuses"\n                                                  :key="status.id" :value="status.id">{{status.name}}</option>\n\n\n                                        </select>\n                                        <div v-if="form.errors.status" v-text="form.errors.status"\n                                             class="errorClass"></div>\n                                      </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="name"\n                                            >\n                                                Movie Name\n                                            </label>\n\n                                            <input v-model="form.name"\n                                                   class="border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg"\n                                                   type="text"\n                                                   name="name"\n                                                   id="name"\n                                                   required\n                                            >\n                                            <div v-if="form.errors.name" v-text="form.errors.name"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="mb-6 w-64">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="release_date"\n                                            >\n                                                Release Year\n                                            </label>\n\n                                            <input v-model="selectedReleaseYear" @change="handleReleaseYearChange"\n\n                                                   class="border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg"\n                                                   type="number"\n                                                   name="release_year"\n                                                   id="release_year"\n                                                   min="1900"\n                                                   max="2100"\n\n                                            >\n                                            <div v-if="form.errors.release_year" v-text="form.errors.release_year"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                      <div class="mb-6 w-64">\n                                        <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                               for="creative_commons"\n                                        >\n                                          Creative Commons / Copyright\n                                        </label>\n\n                                        <select class="border border-gray-400 text-gray-800 py-2 pl-2 pr-8 w-fit rounded-lg block mb-2 uppercase font-bold text-xs"\n                                                v-model="selectedCreativeCommons" @change="handleCreativeCommonsChange">\n                                          <option v-for="cc in creative_commons" :key="cc.id" :value="cc.id">{{ cc.name }}</option>\n                                        </select>\n\n                                        <div v-if="form.errors.creative_commons_id" v-text="form.errors.creative_commons_id"\n                                             class="errorClass"></div>\n\n                                        <div class="">{{ selectedCreativeCommonsDescription }}</div>\n\n                                      </div>\n\n                                      <div v-if="selectedCreativeCommons" class="mb-6 w-64">\n\n                                        <div v-if="selectedCreativeCommons === 8">\n                                          <input class="hidden border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg"\n                                                 type="hidden"\n                                                 v-model="selectedCopyrightYear"\n                                                 value="null">\n                                        </div>\n                                        <div v-else>\n                                          <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                 for="copyrightYear"\n                                          >\n                                            Copyright Year\n                                          </label>\n                                          <input class="border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg"\n                                                 type="number"\n                                                 minlength="4"\n                                                 maxlength="4"\n                                                 v-model="selectedCopyrightYear">\n                                        </div>\n\n                                        <div v-if="form.errors.copyrightYear" v-text="form.errors.copyrightYear"\n                                             class="errorClass"></div>\n                                      </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="category"\n                                            >\n                                                Category\n                                            </label>\n\n                                            <select class="border border-gray-400 text-gray-800 p-2 w-1/2 rounded-lg block mb-2 uppercase font-bold text-xs"\n                                                    v-model="selectedCategoryId" @change="chooseCategory"\n                                            >\n                                                <option v-for="category in categories"\n                                                        :key="category.id" :value="category.id">{{category.name}}</option>\n                                            </select>\n\n                                          <div v-if="form.errors.category" v-text="form.errors.category"\n                                               class="errorClass"></div>\n\n                                            <span class="">{{movieStore.category_description}}</span>\n\n\n                                        </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="sub_category"\n                                            >\n                                                Sub-category\n                                            </label>\n\n                                            <select class="border border-gray-400 text-gray-800 disabled:bg-gray-600 disabled:cursor-not-allowed p-2 w-1/2 rounded-lg block mb-2 uppercase font-bold text-xs"\n                                                    v-model="selectedSubCategoryId" :disabled="!selectedCategoryId"  @change="chooseSubCategory"\n                                            >\n                                                <option disabled value="">Select a subcategory</option>\n                                                <option v-for="subCategory in subCategories" :key="subCategory.id" :value="subCategory.id">\n\n                                                  {{ subCategory.name }}\n                                                </option>\n                                            </select>\n                                            <span class="">{{movieStore.sub_category_description}}</span>\n                                            <div v-if="form.errors.sub_category" v-text="form.errors.sub_category"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="name"\n                                            >\n                                                Logline\n                                            </label>\n\n                                            <input v-model="form.logline"\n                                                   class="border border-gray-400 text-gray-800 p-2 w-1/2 rounded-lg"\n                                                   type="text"\n                                                   name="logline"\n                                                   id="logline"\n                                                   required\n                                            >\n                                            <div v-if="form.errors.logline" v-text="form.errors.logline"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="description"\n                                            >\n                                                Description\n                                            </label>\n                                            <TabbableTextarea v-model="form.description"\n                                                              class="border border-gray-400 text-gray-800 p-2 w-full rounded-lg"\n                                                              name="description"\n                                                              id="description"\n                                                              rows="10" cols="30"\n                                                              required\n                                            />\n                                            <div v-if="form.errors.description" v-text="form.errors.description"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="file_url"\n                                            >\n                                                Change Video URL (if hosted externally) <span class="text-white dark:text-black">*</span>\n                                            </label>\n\n                                            <input v-model="form.video_url"\n                                                   class="border border-gray-400 text-gray-800 p-2 w-full rounded-lg"\n                                                   type="text"\n                                                   name="video_url"\n                                                   id="video_url"\n                                            >\n                                            <div v-if="form.errors.video_url" v-text="form.errors.video_url"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="block mb-6 text-sm font-semibold tracking-wider">\n                                            <div class="mb-2 uppercase">* Note:</div>\n\n                                            <ul class="list-decimal pb-2 ml-2 mb-4 border-b font-medium">\n                                                <li>\n                                                  We have <span class="underline">not</span> enabled the use of Facebook or YouTube videos for security purposes.\n                                                </li>\n                                            </ul>\n                                        </div>\n\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="name"\n                                            >\n                                                Website URL\n                                            </label>\n\n                                            <input v-model="form.www_url"\n                                                   class="border border-gray-400 p-2 w-full rounded-lg text-black"\n                                                   type="text"\n                                                   name="www_url"\n                                                   id="www_url"\n                                            >\n                                            <div v-if="form.errors.www_url" v-text="form.errors.www_url"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="name"\n                                            >\n                                                Instagram @\n                                            </label>\n\n                                            <input v-model="form.instagram_name"\n                                                   class="border border-gray-400 p-2 w-full rounded-lg text-black"\n                                                   type="text"\n                                                   name="instagram_name handle"\n                                                   id="instagram_name"\n                                            >\n                                            <div v-if="form.errors.instagram_name" v-text="form.errors.instagram_name"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="name"\n                                            >\n                                                Telegram URL\n                                            </label>\n\n                                            <input v-model="form.telegram_url"\n                                                   class="border border-gray-400 p-2 w-full rounded-lg text-black"\n                                                   type="text"\n                                                   name="telegram_url"\n                                                   id="telegram_url"\n                                            >\n                                            <div v-if="form.errors.telegram_url" v-text="form.errors.telegram_url"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                        <div class="mb-6">\n                                            <label class="block mb-2 uppercase font-bold text-xs text-red-700"\n                                                   for="name"\n                                            >\n                                                X (formerly Twitter) @\n                                            </label>\n\n                                            <input v-model="form.twitter_handle"\n                                                   class="border border-gray-400 p-2 w-full rounded-lg text-black"\n                                                   type="text"\n                                                   name="twitter_handle"\n                                                   id="twitter_handle"\n                                            >\n                                            <div v-if="form.errors.twitter_handle" v-text="form.errors.twitter_handle"\n                                                 class="errorClass"></div>\n                                        </div>\n\n                                    </form>\n\n                                </div>\n                                \x3c!-- End Right Column --\x3e\n                            </div>\n                            \x3c!-- End grid 2-col --\x3e\n\n\n                            <div class="flex justify-end my-6 mr-6">\n                                <JetValidationErrors class="mr-4" />\n                                <button\n                                    @click="submit"\n                                    class="bg-blue-600 hover:bg-blue-500 text-white rounded py-2 px-4"\n                                    :disabled="form.processing"\n                                >\n                                    Save\n                                </button>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n        </div>\n    </div>\n\n</template>\n\n<script setup>\nimport { Inertia } from "@inertiajs/inertia"\nimport {useForm, usePage} from "@inertiajs/inertia-vue3"\nimport { usePageSetup } from \'@/Utilities/PageSetup\'\nimport { useAppSettingStore } from "@/Stores/AppSettingStore"\nimport { useVideoPlayerStore } from "@/Stores/VideoPlayerStore"\nimport { useMovieStore } from "@/Stores/MovieStore"\nimport JetValidationErrors from \'@/Jetstream/ValidationErrors\'\nimport TabbableTextarea from "@/Components/Global/TextEditor/TabbableTextarea"\nimport Message from "@/Components/Global/Modals/Messages"\nimport SingleImage from "@/Components/Global/Multimedia/SingleImage"\nimport ImageUpload from "@/Components/Global/Uploaders/ImageUpload"\nimport VideoUpload from "@/Components/Global/Uploaders/VideoUpload"\nimport CancelButton from "@/Components/Global/Buttons/CancelButton.vue"\nimport { computed, onBeforeUnmount, onMounted, ref, toRefs, watch } from \'vue\'\n\nusePageSetup(\'movieEdit\')\n\nconst appSettingStore = useAppSettingStore()\nconst videoPlayerStore = useVideoPlayerStore()\nconst movieStore = useMovieStore()\n\nlet props = defineProps({\n    movie: Object,\n    video: Object,\n    trailer: Object,\n    image: Object,\n    categories: Object,\n    statuses: Object,\n    creative_commons: Object,\n    can: Object,\n})\n\nlet selectedCategoryId = ref(props.movie.movie_category_id);\nlet selectedSubCategoryId = ref(props.movie.movie_category_sub_id);\nconst selectedCreativeCommons = ref(props.movie.creative_commons_id);\nlet selectedCopyrightYear = ref(props.movie.copyrightYear);\nlet selectedReleaseYear = ref(props.movie.release_year);\nconst currentYear = new Date().getFullYear();\n\nconst subCategories = computed(() => {\n  const category = props.categories.find(cat => cat.id === selectedCategoryId.value);\n  return category ? category.sub_categories : [];\n});\n\nconst handleCreativeCommonsChange = () => {\n  if (selectedCreativeCommons.value === 8) {\n    selectedCopyrightYear.value = null;\n  } else if (selectedCopyrightYear.value === null) {\n    // Pre-populate with current year only if copyrightYear is null\n    selectedCopyrightYear.value = currentYear;\n  }\n};\n\nconst selectedCreativeCommonsDescription = computed(() => {\n  const selectedCC = props.creative_commons.find((cc) => cc.id === selectedCreativeCommons.value);\n  return selectedCC ? selectedCC.description : \'\';\n});\n\nconst handleReleaseYearChange = () => {\n  if (selectedReleaseYear.value === null) {\n    // Pre-populate with current year only if copyrightYear is null\n    selectedReleaseYear.value = currentYear;\n  }\n};\n\n// const releaseYear = computed(() => {\n//   return props.movie.release_year === null ? new Date().getFullYear() : props.movie.release_year;\n// });\n\n// Initialize releaseYear with either the movie\'s release_year or the current year\n// form.releaseYear = props.movie.release_year ?? new Date().getFullYear();\n// Destructure props for easier access\n// const { movie, video } = toRefs(props);\n\n// Handling nullable release_year\n// const releaseYear = computed(() => movie.value.release_year ?? new Date().getFullYear());\n\n\n// Watchers to update the store based on category and subcategory selections\nwatch(selectedCategoryId, () => {\n  movieStore.initializeDescriptions(selectedCategoryId.value, selectedSubCategoryId.value);\n}, { immediate: true });\n\nwatch(selectedSubCategoryId, () => {\n  movieStore.updateSubCategoryDescription(selectedSubCategoryId.value);\n});\n\nonMounted(() => {\n  movieStore.categories = props.categories;\n  movieStore.initializeDescriptions(selectedCategoryId.value, selectedSubCategoryId.value);\n  watch(() => props.movie.creative_commons_id, (newVal) => {\n    selectedCreativeCommons.value = newVal;\n    handleCreativeCommonsChange();\n  });\n});\n\nconst chooseCategory = () => {\n  // Update the selected category ID based on the new selection\n  // Vue automatically updates selectedCategoryId due to v-model binding\n  // So, there is no need to manually set it here\n\n  // Call the store method to update descriptions and subcategories\n  movieStore.initializeDescriptions(selectedCategoryId.value, selectedSubCategoryId.value);\n};\n\nconst chooseSubCategory = () => {\n  // Update the store state based on the new subcategory selection\n  movieStore.updateSubCategoryDescription(selectedSubCategoryId.value);\n};\n\n\n\n// let subCategory = ref(null);\n\nlet form = useForm({\n    id: props.movie.id,\n    name: props.movie.name,\n    status: props.movie.status_id,\n    release_year: selectedReleaseYear,\n    copyrightYear: selectedCopyrightYear,\n    creative_commons_id: selectedCreativeCommons.value,\n    category: movieStore.category_id,\n    sub_category: movieStore.sub_category_id,\n    description: props.movie.description,\n    logline: props.movie.logline,\n    user_id: props.movie.user_id,\n    team_id: props.movie.team_id,\n    video_url: props.video.video_url ?? null,\n    www_url: props.movie.www_url,\n    instagram_name: props.movie.instagram_name,\n    telegram_url: props.movie.telegram_url,\n    twitter_handle: props.movie.twitter_handle,\n})\n\nlet submit = () => {\n  form.category = movieStore.category_id;\n  form.sub_category = movieStore.sub_category_id;\n  form.copyrightYear = selectedCopyrightYear;\n  form.creative_commons_id = selectedCreativeCommons.value;\n  form.release_year = selectedReleaseYear.value;\n  form.patch(route(\'movies.update\', props.movie.slug));\n}\n\nlet reloadImage = () => {\n    Inertia.reload({\n        only: [\'image\'],\n    });\n};\n\n\n\n// let category = ref();\n\n// function chooseCategory(event) {\n// movieStore.category_description =  props.categories[event.target.selectedIndex].description;\n// }\n\n\n// Computed property to filter subcategories based on the selected category\n// const subCategories = computed(() => {\n//   const category = props.categories.find(cat => cat.id === selectedCategoryId.value);\n//   return category ? category.sub_categories : [];\n// });\n\n\n\n\n\n// Initialize and update descriptions when IDs change\n// watch([selectedCategoryId, selectedSubCategoryId], () => {\n//   movieStore.initializeDescriptions(props.categories, selectedCategoryId.value, selectedSubCategoryId.value);\n//\n// }, { immediate: true });\n\n// watch([subCategories, selectedCategoryId, selectedSubCategoryId], () => {\n//   movieStore.initializeDescriptions(selectedCategoryId.value, selectedSubCategoryId.value);\n//\n// }, { immediate: true });\n\n// Initialize on mount\n// onMounted(() => {\n//   // movieStore.initializeDescriptions(props.categories, selectedCategoryId.value, selectedSubCategoryId.value);\n//   // movieStore.initializeDescriptions(props.categories, props.movie.movie_category_id, props.movie.movie_category_sub_id);\n//   movieStore.categories = props.categories\n//   movieStore.category_id = props.movie.movie_category_id\n//   movieStore.category_description = props.movie.movie_category.description\n//   movieStore.sub_category_id = props.movie.movie_category_sub_id\n//   movieStore.sub_category_description = props.movie.movie_category_sub.description\n//\n//   // movieStore.initializeDescriptions()\n// });\n\n// // Initialize category and subcategory descriptions\n// const initializeDescriptions = () => {\n//   const category = props.categories.find(cat => cat.id === selectedCategoryId.value);\n//   movieStore.category_id = category ? category.id : \'\';\n//   movieStore.category_description = category ? category.description : \'\';\n//   movieStore.sub_categories = category ? category.sub_categories : [];\n//\n//   subCategory = subCategories.value.find(sub => sub.id === selectedSubCategoryId.value);\n//   movieStore.sub_category_id = subCategory ? subCategory.id : \'\';\n//   movieStore.sub_category_description = subCategory ? subCategory.description : \'\';\n//   console.log(\'GARCK\' + selectedSubCategoryId.value)\n//   movieStore.sub_category_id = selectedSubCategoryId.value;\n// };\n//\n// // Call the function to set initial descriptions\n// initializeDescriptions();\n//\n// // When a category is chosen\n// const chooseCategory = () => {\n//   selectedCategoryId.value = parseInt(event.target.value);\n//   initializeDescriptions(); // Re-initialize to update subcategories and descriptions\n// };\n//\n// // When a subcategory is chosen\n// const chooseSubCategory = () => {\n//   subCategory = movieStore.sub_categories.find(sub => sub.id === selectedSubCategoryId.value);\n//   console.log(\'FFFFFFAAAAAA\' + selectedSubCategoryId.value)\n//   movieStore.sub_category_id = subCategory ? subCategory.id : \'\';\n//   movieStore.sub_category_description = subCategory ? subCategory.description : \'\';\n// };\n\n// Watchers to update descriptions when IDs change\n// watch(selectedCategoryId, () => {\n//   const category = props.categories.find(cat => cat.id === selectedCategoryId.value);\n//   movieStore.category_description = category ? category.description : \'\';\n//   selectedSubCategoryId.value = null; // Reset subcategory selection\n// });\n//\n// watch(selectedSubCategoryId, () => {\n//   console.log(\'GET FLIGHTY\' + selectedSubCategoryId.value)\n//   const subCategory = movieStore.sub_categories.find(sub => sub.id === selectedSubCategoryId.value);\n//   movieStore.sub_category_id = subCategory ? subCategory.id : \'\';\n//\n//   movieStore.sub_category_description = subCategory ? subCategory.description : \'\';\n// });\n\n\n// const chooseCategory = (event) => {\n//   selectedCategoryId.value = parseInt(event.target.value);\n// };\n//\n// const chooseSubCategory = (subCategoryId) => {\n//   selectedSubCategoryId.value = subCategoryId;\n// };\n\nfunction muteMainVideo(){\n    videoPlayerStore.mute();\n}\n\nfunction back() {\n    let urlPrev = usePage().props.value.urlPrev\n    if (urlPrev !== \'empty\') {\n        Inertia.visit(urlPrev)\n    }\n}\n\nonBeforeUnmount(() => {\n  movieStore.reset(); // Call the reset method of your store\n});\n\n<\/script>\n<style scoped>\n.topBannerErrorMessage {\n  background-color: black; /* bg-black */\n  padding: 0.5rem; /* p-2 */\n  width: 100%; /* w-full */\n  color: white; /* text-white */\n  font-weight: 600; /* font-semibold, for bold you might want to use 700 */\n  font-size: 1rem; /* Adjust based on your design, as Tailwind\'s text sizes are utility-based */\n}\n.errorClass {\n  color: lightgreen;\n  font-weight: 600; /* font-semibold, for bold you might want to use 700 */\n}\n</style>'],sourceRoot:""}]);const s=l},19204:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(70821),o=r(9680),a=r(58358),l=r(90771);const s={__name:"CancelButton",props:{url:String},setup:function(e){var t=(0,a.useAppSettingStore)(),r=(0,l.useUserStore)(),s=e;function i(){if(t.prevUrl)s.url?o.Inertia.visit(s.url):o.Inertia.visit(t.prevUrl);else if(s.url)o.Inertia.visit(s.url);else{var e=r.isCreator?"/dashboard":"/";o.Inertia.visit(e)}}return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(i,["prevent"]),class:"ml-2 px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg"},"Cancel ")])}}}},59369:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(70821),o=r(9680),a=r(58358);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(){s=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function m(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,l=Object.create(a.prototype),s=new M(n||[]);return o(l,"_invoke",{value:B(e,r,s)}),l}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var v="suspendedStart",f="suspendedYield",g="executing",b="completed",y={};function h(){}function x(){}function w(){}var C={};u(C,i,(function(){return this}));var k=Object.getPrototypeOf,_=k&&k(k(A([])));_&&_!==r&&n.call(_,i)&&(C=_);var E=w.prototype=h.prototype=Object.create(C);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,s,i){var c=p(e[o],e,a);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==l(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function B(t,r,n){var o=v;return function(a,l){if(o===g)throw new Error("Generator is already running");if(o===b){if("throw"===a)throw l;return{value:e,done:!0}}for(n.method=a,n.arg=l;;){var s=n.delegate;if(s){var i=N(s,n);if(i){if(i===y)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=p(t,r,n);if("normal"===c.type){if(o=n.done?b:f,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=b,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var l=a.arg;return l?l.done?(r[t.resultName]=l.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):l:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(l(t)+" is not iterable")}return x.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,d,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(V.prototype),u(V.prototype,c,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var l=new V(m(e,r,n,o),a);return t.isGeneratorFunction(r)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},S(E),u(E,d,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],s=l.completion;if("root"===l.tryLoc)return o("end");if(l.tryLoc<=this.prev){var i=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(i&&c){if(this.prev<l.catchLoc)return o(l.catchLoc,!0);if(this.prev<l.finallyLoc)return o(l.finallyLoc)}else if(i){if(this.prev<l.catchLoc)return o(l.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return o(l.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;D(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,r,n,o,a,l){try{var s=e[a](l),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,o)}var c={class:"mx-4 my-4"},d={key:0,class:"alert alert-info mt-4"},u=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m={key:1,class:"alert alert-success mt-4 mx-3"},p=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),v={key:2,class:"alert alert-warning mt-4 mx-3"},f=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),g={key:3,class:"alert alert-error mt-4 mx-3"},b=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const y={__name:"Messages",props:{flash:Object},setup:function(e){(0,a.useAppSettingStore)().showFlashMessage=!0;var t=e,r=((0,n.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Inertia.post(route("flash.clear"));case 2:o.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function l(e){i(a,n,o,l,s,"next",e)}function s(e){i(a,n,o,l,s,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",c,[(0,n.unref)(t).flash.message?((0,n.openBlock)(),(0,n.createElementBlock)("div",d,[u,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.message),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.success?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[p,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.success),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.warning?((0,n.openBlock)(),(0,n.createElementBlock)("div",v,[f,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.warning),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",g,[b,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.error),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0)])}}}},73516:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(70821),o=["onKeydown","value","placeholder"];const a={__name:"TabbableTextarea",props:{modelValue:String,placeholder:String},emits:["update:modelValue"],setup:function(e,t){var r=t.emit,a=function(e){r("update:modelValue",e.target.value)};function l(e){var t=e.target,r=t.value,n=t.selectionStart,o=t.selectionEnd;t.value=r.substring(0,n)+"\t"+r.substring(o),t.selectionStart=t.selectionEnd=n+1}return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("textarea",{onKeydown:(0,n.withKeys)((0,n.withModifiers)(l,["prevent"]),["tab"]),onInput:a,value:e.modelValue,placeholder:e.placeholder,class:"textarea textarea-bordered"},null,40,o)}}}},96786:(e,t,r)=>{r.d(t,{Z:()=>k});var n=r(70821),o=r(83004),a=r(61658),l=r.n(a),s=r(90521),i=r.n(s),c=r(18236),d=r.n(c),u=r(72965),m=r.n(u),p=r(22185),v=r.n(p);r(36647),r(66593);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function g(e,t,r){var n;return n=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==f(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={class:""},y={class:"max-full mx-auto mt-2 mb-6 bg-gray-200 p-6 text-black"},h={class:"text-xl font-semibold"},x={class:"pb-4"},w={class:"text-orange-400"},C={class:"text-orange-400"};const k={__name:"ImageUpload",props:{image:Object,name:String,metadataKey:String,metadataValue:String,modelType:String,modelId:String,maxSize:String,fileTypes:String},emits:["reloadImage"],setup:function(e,t){var r=t.emit,a=(0,o.useNotificationStore)(),s=e,c=(g({},s.metadataKey,s.metadataValue),{process:function(e,t,r,n,o,l,i){var c=new FormData;c.append("image",t,t.name),s.modelType&&c.append("modelType",s.modelType),s.modelId&&c.append("modelId",s.modelId);var d={onUploadProgress:function(e){l(e.lengthComputable,e.loaded,e.total)}};return axios.post("/api/image-upload",c,d).then((function(e){n(e.data.fileId)})).catch((function(e){var t="An unexpected error occurred during the upload. Please try again.";if(e.response&&e.response.data)if("object"===f(e.response.data)&&e.response.data.errors){var r=e.response.data.errors,n=Object.keys(r).map((function(e){return"".concat(e,": ").concat(r[e].join(", "))})).join("\n");t="Upload failed with errors:\n".concat(n)}else"string"==typeof e.response.data&&(t=e.response.data);a.setGeneralServiceNotification("Upload Error",t),o("An error occurred during the upload.")})),{abort:function(){console.log("Upload aborted by the user."),i()}}}}),u=l()(i(),d(),m(),v());function p(){console.log("Filepond is ready!")}u.setOptions={fileMetadataObject:{show_id:"1"}};var k=r;function _(e,t){if(e)return console.log("Filepond processed file"),console.log(e),void console.log(t);k("reloadImage")}return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",b,[(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("h2",h,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)("ul",x,[(0,n.createElementVNode)("li",null,[(0,n.createTextVNode)("Max File Size: "),(0,n.createElementVNode)("span",w,(0,n.toDisplayString)(e.maxSize),1)]),(0,n.createElementVNode)("li",null,[(0,n.createTextVNode)("File Types accepted: "),(0,n.createElementVNode)("span",C,(0,n.toDisplayString)(e.fileTypes),1)])]),(0,n.createVNode)((0,n.unref)(u),{name:"image",ref:"pond","label-idle":"Click to choose file, or drag here...",onInit:p,server:c,"accepted-file-types":e.fileTypes,onProcessfile:_,"max-file-size":e.maxSize},null,8,["accepted-file-types","max-file-size"])])])}}}},33049:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(70821),o=r(9680),a=r(39038),l=r(94623),s=r(90771),i=r(95819),c=["value"],d={class:"mb-4 font-bold text-center"},u={class:"mb-4 font-bold text-center"},m={id:"videoUploadForm",action:"/videoupload",class:"dropzone dropzoneFile border border-black rounded w-full h-48 max-w-md px-2 py-2 mb-6"};const p={__name:"VideoUpload",props:{movieId:Number,movieTrailerId:Number,showEpisodeId:Number},emits:["upload-start","upload-finished"],setup:function(e,t){var r=t.emit,p=(0,s.useUserStore)(),v=(0,i.useUploadStore)(),f=((0,n.ref)(0),(0,n.ref)(!1)),g=(0,n.ref)(!1),b=(0,n.ref)(!1),y=r;(0,n.onMounted)((function(){if(document.getElementById("videoUploadForm")){var e=new l.f("#videoUploadForm",{url:"/videoupload",paramName:"file",maxFilesize:"25 GB",chunking:!0,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!0,retryChunksLimit:10,capture:null,acceptedFiles:"video/*, audio/*",uploadprogress:function(e,t,r){p.uploadPercentage=t,console.log(p.uploadPercentage),100!==p.uploadPercentage&&(b=!0)},dictDefaultMessage:"Click here or Drop video here to upload <br>(Max video file size is 25GB)",forceFallback:!1,accept:function(e,t){""===e.name?t("Need a file."):e.size>25e9?(console.log(e.size),t("Video file too big."),alert("Video file must be smaller than 25GB")):t()}});e.on("addedfile",(function(e){f=!0,y("upload-start"),console.log("File added: ".concat(e.name))})),e.on("success",(function(e,t){if(t.videoId){console.log(t.videoId);var r=t.videoId;r&&function(e){y("upload-finished",e),v.setVideoId(e),v.setUploadStatus("processing")}(r)}})),e.on("complete",(function(t,r){f=!1,g=!0,e.removeFile(t),p.uploadPercentage=0,b=!1,o.Inertia.reload({only:["videos"]})}))}else console.error('Element with ID "videoUploadForm" not found in the DOM.')}));var h=e;null!==h.movieId?p.uploadMovieId=h.mov:null!==h.movieTrailerId?p.movieTrailerId=h.movieTrailerId:null!==h.showEpisodeId&&(p.uploadShowEpisodeId=h.showEpisodeId);var x=(0,a.cI)({file:[],movieId:h.movieId,movieTrailerId:h.movieId,showEpisodeId:h.showEpisodeId});return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.withDirectives)((0,n.createElementVNode)("progress",{max:"100",value:(0,n.unref)(p).uploadPercentage,class:"w-full"},null,8,c),[[n.vShow,0!==(0,n.unref)(p).uploadPercentage]]),(0,n.withDirectives)((0,n.createElementVNode)("div",{class:"w-full mb-4"},(0,n.toDisplayString)((0,n.unref)(p).uploadPercentageRounded)+"%",513),[[n.vShow,0!==(0,n.unref)(p).uploadPercentage]]),(0,n.withDirectives)((0,n.createElementVNode)("div",d,"Please stay on this screen until upload is complete. ",512),[[n.vShow,(0,n.unref)(f)]]),(0,n.withDirectives)((0,n.createElementVNode)("div",u,"Upload is complete. The video is now processing. ",512),[[n.vShow,(0,n.unref)(g)]]),(0,n.withDirectives)((0,n.createElementVNode)("form",m,[(0,n.withDirectives)((0,n.createElementVNode)("input",{hidden:"",name:"movieId","onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,n.unref)(x).movieId=e})},null,512),[[n.vModelText,(0,n.unref)(x).movieId]]),(0,n.withDirectives)((0,n.createElementVNode)("input",{hidden:"",name:"showEpisodeId","onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,n.unref)(x).showEpisodeId=e})},null,512),[[n.vModelText,(0,n.unref)(x).showEpisodeId]])],512),[[n.vShow,!(0,n.unref)(b)]])])}}};var v=r(93379),f=r.n(v),g=r(51330),b={insert:"head",singleton:!1};f()(g.Z,b);g.Z.locals;const y=(0,r(83744).Z)(p,[["__scopeId","data-v-21826cbb"]])},30131:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(70821),o=r(39038),a={key:0},l=(0,n.createElementVNode)("div",{class:"font-medium text-red-600"}," Whoops! Something went wrong. ",-1),s={class:"mt-3 list-disc list-inside text-sm text-red-600"};const i={__name:"ValidationErrors",setup:function(e){var t=(0,n.computed)((function(){return(0,o.qt)().props.value.errors})),r=(0,n.computed)((function(){return Object.keys(t.value).length>0}));return function(e,o){return r.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[l,(0,n.createElementVNode)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t.value,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t},(0,n.toDisplayString)(e),1)})),128))])])):(0,n.createCommentVNode)("",!0)}}}},56225:(e,t,r)=>{r.r(t),r.d(t,{default:()=>vt});var n=r(70821),o=r(9680),a=r(39038),l=r(24831),s=r(58358),i=r(40191),c=r(120),d=r(30131),u=r(73516),m=r(59369),p=r(25543),v=r(96786),f=r(33049),g=r(19204),b=function(e){return(0,n.pushScopeId)("data-v-7566c6fc"),e=e(),(0,n.popScopeId)(),e},y={class:"place-self-center flex flex-col gap-y-3"},h={id:"topDiv",class:"bg-dark text-light p-5 mb-10 pt-6"},x={class:"flex justify-between mb-6"},w=b((function(){return(0,n.createElementVNode)("div",{class:"font-bold mb-4 text-red-700"},"EDIT MOVIE",-1)})),C={class:"text-3xl"},k={class:"flex flex-row flex-wrap"},_=["disabled"],E={class:"flex flex-col"},S={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},V={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},B={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},N=["textContent"],I=["textContent"],D=["textContent"],M=["textContent"],A=["textContent"],U=["textContent"],T=["textContent"],F=["textContent"],z=["textContent"],j=["textContent"],P=["textContent"],Y=["textContent"],L=["textContent"],O=["textContent"],R=["textContent"],G=["textContent"],Z={class:"grid grid-cols-1 sm:grid-cols-2 space-x-6 p-6"},q={class:"flex space-y-3"},H={class:"mb-6"},W={class:"w-full"},K=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-light text-red-700",for:"name"}," Change Movie Poster ",-1)})),$={class:"flex space-y-3"},J={class:"mb-6 bg-black w-full p-6"},Q={key:0,class:"text-center place-self-center text-white font-semibold text-xl"},X=["src","type"],ee={class:""},te=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"name"}," Upload Movie ",-1)})),re={class:"max-full mx-auto mt-2 mb-6 bg-gray-200 px-6 pt-4 pb-2 text-dark"},ne=b((function(){return(0,n.createElementVNode)("h2",{class:"text-xl font-semibold text-gray-800"},"Upload Video",-1)})),oe=b((function(){return(0,n.createElementVNode)("ul",{class:"pb-4 text-gray-800"},[(0,n.createElementVNode)("li",null,[(0,n.createTextVNode)("Max Video Length: "),(0,n.createElementVNode)("span",{class:"text-orange-400"},"4 hours")]),(0,n.createElementVNode)("li",null,[(0,n.createTextVNode)("File Types accepted: "),(0,n.createElementVNode)("span",{class:"text-orange-400"},"mp4, webm, ogg")])],-1)})),ae=(0,n.createStaticVNode)('<div class="flex space-y-3" data-v-7566c6fc><div class="mb-6 bg-black w-full p-6" data-v-7566c6fc></div></div><div data-v-7566c6fc><label class="block mb-2 uppercase font-bold text-xs text-red-700" for="name" data-v-7566c6fc> Upload Movie Trailer </label><div class="max-full mx-auto mt-2 mb-6 bg-gray-200 px-6 pt-4 pb-2 text-dark" data-v-7566c6fc><h2 class="text-xl font-semibold text-gray-800" data-v-7566c6fc>Upload Video</h2><ul class="pb-4 text-gray-800" data-v-7566c6fc><li data-v-7566c6fc>Max Video Length: <span class="text-orange-400" data-v-7566c6fc>4 hours</span></li><li data-v-7566c6fc>File Types accepted: <span class="text-orange-400" data-v-7566c6fc>mp4, webm, ogg</span></li></ul></div></div>',2),le={class:"mb-6"},se=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"status"}," Status ",-1)})),ie=b((function(){return(0,n.createElementVNode)("div",{class:"text-sm mb-2"},"Set the status to Active to make the movie accessible to the public. Set the status to Creators only to only make it available to creators. All other statuses will only be viewable by you.",-1)})),ce=["value"],de=["textContent"],ue={class:"mb-6"},me=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"name"}," Movie Name ",-1)})),pe=["textContent"],ve={class:"mb-6 w-64"},fe=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"release_date"}," Release Year ",-1)})),ge=["textContent"],be={class:"mb-6 w-64"},ye=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"creative_commons"}," Creative Commons / Copyright ",-1)})),he=["value"],xe=["textContent"],we={class:""},Ce={key:0,class:"mb-6 w-64"},ke={key:0},_e={key:1},Ee=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"copyrightYear"}," Copyright Year ",-1)})),Se=["textContent"],Ve={class:"mb-6"},Be=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"category"}," Category ",-1)})),Ne=["value"],Ie=["textContent"],De={class:""},Me={class:"mb-6"},Ae=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"sub_category"}," Sub-category ",-1)})),Ue=["disabled"],Te=b((function(){return(0,n.createElementVNode)("option",{disabled:"",value:""},"Select a subcategory",-1)})),Fe=["value"],ze={class:""},je=["textContent"],Pe={class:"mb-6"},Ye=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"name"}," Logline ",-1)})),Le=["textContent"],Oe={class:"mb-6"},Re=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"description"}," Description ",-1)})),Ge=["textContent"],Ze={class:"mb-6"},qe=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"file_url"},[(0,n.createTextVNode)(" Change Video URL (if hosted externally) "),(0,n.createElementVNode)("span",{class:"text-white dark:text-black"},"*")],-1)})),He=["textContent"],We=b((function(){return(0,n.createElementVNode)("div",{class:"block mb-6 text-sm font-semibold tracking-wider"},[(0,n.createElementVNode)("div",{class:"mb-2 uppercase"},"* Note:"),(0,n.createElementVNode)("ul",{class:"list-decimal pb-2 ml-2 mb-4 border-b font-medium"},[(0,n.createElementVNode)("li",null,[(0,n.createTextVNode)(" We have "),(0,n.createElementVNode)("span",{class:"underline"},"not"),(0,n.createTextVNode)(" enabled the use of Facebook or YouTube videos for security purposes. ")])])],-1)})),Ke={class:"mb-6"},$e=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"name"}," Website URL ",-1)})),Je=["textContent"],Qe={class:"mb-6"},Xe=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"name"}," Instagram @ ",-1)})),et=["textContent"],tt={class:"mb-6"},rt=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"name"}," Telegram URL ",-1)})),nt=["textContent"],ot={class:"mb-6"},at=b((function(){return(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-red-700",for:"name"}," X (formerly Twitter) @ ",-1)})),lt=["textContent"],st={class:"flex justify-end my-6 mr-6"},it=["disabled"];const ct={__name:"Edit",props:{movie:Object,video:Object,trailer:Object,image:Object,categories:Object,statuses:Object,creative_commons:Object,can:Object},setup:function(e){var t;(0,l.U)("movieEdit");var r=(0,s.useAppSettingStore)(),b=((0,i.useVideoPlayerStore)(),(0,c.useMovieStore)()),ct=e,dt=(0,n.ref)(ct.movie.movie_category_id),ut=(0,n.ref)(ct.movie.movie_category_sub_id),mt=(0,n.ref)(ct.movie.creative_commons_id),pt=(0,n.ref)(ct.movie.copyrightYear),vt=(0,n.ref)(ct.movie.release_year),ft=(new Date).getFullYear(),gt=(0,n.computed)((function(){var e=ct.categories.find((function(e){return e.id===dt.value}));return e?e.sub_categories:[]})),bt=function(){8===mt.value?pt.value=null:null===pt.value&&(pt.value=ft)},yt=(0,n.computed)((function(){var e=ct.creative_commons.find((function(e){return e.id===mt.value}));return e?e.description:""})),ht=function(){null===vt.value&&(vt.value=ft)};(0,n.watch)(dt,(function(){b.initializeDescriptions(dt.value,ut.value)}),{immediate:!0}),(0,n.watch)(ut,(function(){b.updateSubCategoryDescription(ut.value)})),(0,n.onMounted)((function(){b.categories=ct.categories,b.initializeDescriptions(dt.value,ut.value),(0,n.watch)((function(){return ct.movie.creative_commons_id}),(function(e){mt.value=e,bt()}))}));var xt=function(){b.initializeDescriptions(dt.value,ut.value)},wt=function(){b.updateSubCategoryDescription(ut.value)},Ct=(0,a.cI)({id:ct.movie.id,name:ct.movie.name,status:ct.movie.status_id,release_year:vt,copyrightYear:pt,creative_commons_id:mt.value,category:b.category_id,sub_category:b.sub_category_id,description:ct.movie.description,logline:ct.movie.logline,user_id:ct.movie.user_id,team_id:ct.movie.team_id,video_url:null!==(t=ct.video.video_url)&&void 0!==t?t:null,www_url:ct.movie.www_url,instagram_name:ct.movie.instagram_name,telegram_url:ct.movie.telegram_url,twitter_handle:ct.movie.twitter_handle}),kt=function(){Ct.category=b.category_id,Ct.sub_category=b.sub_category_id,Ct.copyrightYear=pt,Ct.creative_commons_id=mt.value,Ct.release_year=vt.value,Ct.patch(route("movies.update",ct.movie.slug))},_t=function(){o.Inertia.reload({only:["image"]})};return(0,n.onBeforeUnmount)((function(){b.reset()})),function(t,o){var a=(0,n.resolveComponent)("Head"),l=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(a,{title:"Edit Movie: ".concat(e.movie.name)},null,8,["title"]),(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("div",h,[(0,n.unref)(r).showFlashMessage?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(m.Z),{key:0,flash:t.$page.props.flash},null,8,["flash"])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("header",null,[(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("div",null,[w,(0,n.createElementVNode)("h1",C,[(0,n.createVNode)(l,{href:"/movies/".concat(e.movie.slug),class:"text-red-700 font-bold uppercase"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.movie.name),1)]})),_:1},8,["href"])])]),(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("button",{onClick:o[0]||(o[0]=function(){return(0,n.unref)(kt)&&(0,n.unref)(kt).apply(void 0,arguments)}),class:"h-fit bg-blue-600 hover:bg-blue-500 text-white rounded py-2 px-4 mr-2",disabled:(0,n.unref)(Ct).processing}," Save ",8,_),(0,n.createVNode)(g.Z)])])]),(0,n.createElementVNode)("div",E,[(0,n.createElementVNode)("div",S,[(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("div",B,[(0,n.unref)(Ct).errors.name?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.name),class:"topBannerErrorMessage"},null,8,N)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.description?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.description),class:"topBannerErrorMessage"},null,8,I)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.logline?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.logline),class:"topBannerErrorMessage"},null,8,D)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.release_year?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:3,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.release_year),class:"topBannerErrorMessage"},null,8,M)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.release_date?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:4,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.release_date),class:"topBannerErrorMessage"},null,8,A)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.creative_commons_id?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:5,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.creative_commons_id),class:"topBannerErrorMessage"},null,8,U)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.copyrightYear?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:6,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.copyrightYear),class:"topBannerErrorMessage"},null,8,T)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.category?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:7,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.category),class:"topBannerErrorMessage"},null,8,F)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.sub_category?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:8,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.sub_category),class:"topBannerErrorMessage"},null,8,z)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.video_url?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:9,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.video_url),class:"topBannerErrorMessage"},null,8,j)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.www_url?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:10,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.www_url),class:"topBannerErrorMessage"},null,8,P)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.instagram_name?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:11,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.instagram_name),class:"topBannerErrorMessage"},null,8,Y)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.telegram_url?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:12,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.telegram_url),class:"topBannerErrorMessage"},null,8,L)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.twitter_handle?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:13,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.twitter_handle),class:"topBannerErrorMessage"},null,8,O)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.notes?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:14,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.notes),class:"topBannerErrorMessage"},null,8,R)):(0,n.createCommentVNode)("",!0),(0,n.unref)(Ct).errors.status?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:15,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.status),class:"topBannerErrorMessage"},null,8,G)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",Z,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",q,[(0,n.createElementVNode)("div",H,[((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(p.Z),{image:e.image,key:e.image},null,8,["image"]))])]),(0,n.createElementVNode)("div",W,[K,(0,n.createVNode)((0,n.unref)(v.Z),{image:e.image,modelType:"movie",modelId:e.movie.id,name:"Upload Movie Poster",maxSize:"30MB",fileTypes:"image/jpg, image/jpeg, image/png",onReloadImage:(0,n.unref)(_t)},null,8,["image","modelId","onReloadImage"])]),(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("div",J,["processing"===e.video.upload_status?((0,n.openBlock)(),(0,n.createElementBlock)("span",Q,"Video processing...")):(0,n.createCommentVNode)("",!0),"processing"!==e.video.upload_status?((0,n.openBlock)(),(0,n.createElementBlock)("video",{key:1,src:e.video.cdn_endpoint+e.video.cloud_folder+e.video.folder+"/"+e.video.file_name,type:e.video.type,controls:""},null,8,X)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",ee,[te,(0,n.createElementVNode)("div",re,[ne,oe,(0,n.createVNode)((0,n.unref)(f.default),{movieId:e.movie.id,class:"text-black"},null,8,["movieId"])])]),ae]),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("form",{onSubmit:o[16]||(o[16]=(0,n.withModifiers)((function(){return(0,n.unref)(kt)&&(0,n.unref)(kt).apply(void 0,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",le,[se,ie,(0,n.withDirectives)((0,n.createElementVNode)("select",{required:"",class:"border border-gray-400 text-gray-800 p-2 w-1/2 rounded-lg block mb-2 uppercase font-bold text-xs","onUpdate:modelValue":o[1]||(o[1]=function(e){return(0,n.unref)(Ct).status=e})},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.statuses,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,ce)})),128))],512),[[n.vModelSelect,(0,n.unref)(Ct).status]]),(0,n.unref)(Ct).errors.status?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.status),class:"errorClass"},null,8,de)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",ue,[me,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[2]||(o[2]=function(e){return(0,n.unref)(Ct).name=e}),class:"border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg",type:"text",name:"name",id:"name",required:""},null,512),[[n.vModelText,(0,n.unref)(Ct).name]]),(0,n.unref)(Ct).errors.name?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.name),class:"errorClass"},null,8,pe)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",ve,[fe,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[3]||(o[3]=function(e){return(0,n.isRef)(vt)?vt.value=e:vt=e}),onChange:ht,class:"border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg",type:"number",name:"release_year",id:"release_year",min:"1900",max:"2100"},null,544),[[n.vModelText,(0,n.unref)(vt)]]),(0,n.unref)(Ct).errors.release_year?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.release_year),class:"errorClass"},null,8,ge)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",be,[ye,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"border border-gray-400 text-gray-800 py-2 pl-2 pr-8 w-fit rounded-lg block mb-2 uppercase font-bold text-xs","onUpdate:modelValue":o[4]||(o[4]=function(e){return mt.value=e}),onChange:bt},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.creative_commons,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,he)})),128))],544),[[n.vModelSelect,mt.value]]),(0,n.unref)(Ct).errors.creative_commons_id?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.creative_commons_id),class:"errorClass"},null,8,xe)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",we,(0,n.toDisplayString)(yt.value),1)]),mt.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ce,[8===mt.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",ke,[(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"hidden border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg",type:"hidden","onUpdate:modelValue":o[5]||(o[5]=function(e){return(0,n.isRef)(pt)?pt.value=e:pt=e}),value:"null"},null,512),[[n.vModelText,(0,n.unref)(pt)]])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",_e,[Ee,(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"border border-gray-400 text-black font-semibold p-2 w-1/2 rounded-lg",type:"number",minlength:"4",maxlength:"4","onUpdate:modelValue":o[6]||(o[6]=function(e){return(0,n.isRef)(pt)?pt.value=e:pt=e})},null,512),[[n.vModelText,(0,n.unref)(pt)]])])),(0,n.unref)(Ct).errors.copyrightYear?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.copyrightYear),class:"errorClass"},null,8,Se)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",Ve,[Be,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"border border-gray-400 text-gray-800 p-2 w-1/2 rounded-lg block mb-2 uppercase font-bold text-xs","onUpdate:modelValue":o[7]||(o[7]=function(e){return(0,n.isRef)(dt)?dt.value=e:dt=e}),onChange:xt},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.categories,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,Ne)})),128))],544),[[n.vModelSelect,(0,n.unref)(dt)]]),(0,n.unref)(Ct).errors.category?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.category),class:"errorClass"},null,8,Ie)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("span",De,(0,n.toDisplayString)((0,n.unref)(b).category_description),1)]),(0,n.createElementVNode)("div",Me,[Ae,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"border border-gray-400 text-gray-800 disabled:bg-gray-600 disabled:cursor-not-allowed p-2 w-1/2 rounded-lg block mb-2 uppercase font-bold text-xs","onUpdate:modelValue":o[8]||(o[8]=function(e){return(0,n.isRef)(ut)?ut.value=e:ut=e}),disabled:!(0,n.unref)(dt),onChange:wt},[Te,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(gt.value,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,Fe)})),128))],40,Ue),[[n.vModelSelect,(0,n.unref)(ut)]]),(0,n.createElementVNode)("span",ze,(0,n.toDisplayString)((0,n.unref)(b).sub_category_description),1),(0,n.unref)(Ct).errors.sub_category?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.sub_category),class:"errorClass"},null,8,je)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Pe,[Ye,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[9]||(o[9]=function(e){return(0,n.unref)(Ct).logline=e}),class:"border border-gray-400 text-gray-800 p-2 w-1/2 rounded-lg",type:"text",name:"logline",id:"logline",required:""},null,512),[[n.vModelText,(0,n.unref)(Ct).logline]]),(0,n.unref)(Ct).errors.logline?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.logline),class:"errorClass"},null,8,Le)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Oe,[Re,(0,n.createVNode)((0,n.unref)(u.Z),{modelValue:(0,n.unref)(Ct).description,"onUpdate:modelValue":o[10]||(o[10]=function(e){return(0,n.unref)(Ct).description=e}),class:"border border-gray-400 text-gray-800 p-2 w-full rounded-lg",name:"description",id:"description",rows:"10",cols:"30",required:""},null,8,["modelValue"]),(0,n.unref)(Ct).errors.description?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.description),class:"errorClass"},null,8,Ge)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Ze,[qe,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[11]||(o[11]=function(e){return(0,n.unref)(Ct).video_url=e}),class:"border border-gray-400 text-gray-800 p-2 w-full rounded-lg",type:"text",name:"video_url",id:"video_url"},null,512),[[n.vModelText,(0,n.unref)(Ct).video_url]]),(0,n.unref)(Ct).errors.video_url?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.video_url),class:"errorClass"},null,8,He)):(0,n.createCommentVNode)("",!0)]),We,(0,n.createElementVNode)("div",Ke,[$e,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[12]||(o[12]=function(e){return(0,n.unref)(Ct).www_url=e}),class:"border border-gray-400 p-2 w-full rounded-lg text-black",type:"text",name:"www_url",id:"www_url"},null,512),[[n.vModelText,(0,n.unref)(Ct).www_url]]),(0,n.unref)(Ct).errors.www_url?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.www_url),class:"errorClass"},null,8,Je)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Qe,[Xe,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[13]||(o[13]=function(e){return(0,n.unref)(Ct).instagram_name=e}),class:"border border-gray-400 p-2 w-full rounded-lg text-black",type:"text",name:"instagram_name handle",id:"instagram_name"},null,512),[[n.vModelText,(0,n.unref)(Ct).instagram_name]]),(0,n.unref)(Ct).errors.instagram_name?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.instagram_name),class:"errorClass"},null,8,et)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",tt,[rt,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[14]||(o[14]=function(e){return(0,n.unref)(Ct).telegram_url=e}),class:"border border-gray-400 p-2 w-full rounded-lg text-black",type:"text",name:"telegram_url",id:"telegram_url"},null,512),[[n.vModelText,(0,n.unref)(Ct).telegram_url]]),(0,n.unref)(Ct).errors.telegram_url?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.telegram_url),class:"errorClass"},null,8,nt)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",ot,[at,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":o[15]||(o[15]=function(e){return(0,n.unref)(Ct).twitter_handle=e}),class:"border border-gray-400 p-2 w-full rounded-lg text-black",type:"text",name:"twitter_handle",id:"twitter_handle"},null,512),[[n.vModelText,(0,n.unref)(Ct).twitter_handle]]),(0,n.unref)(Ct).errors.twitter_handle?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(Ct).errors.twitter_handle),class:"errorClass"},null,8,lt)):(0,n.createCommentVNode)("",!0)])],32)])]),(0,n.createElementVNode)("div",st,[(0,n.createVNode)((0,n.unref)(d.Z),{class:"mr-4"}),(0,n.createElementVNode)("button",{onClick:o[17]||(o[17]=function(){return(0,n.unref)(kt)&&(0,n.unref)(kt).apply(void 0,arguments)}),class:"bg-blue-600 hover:bg-blue-500 text-white rounded py-2 px-4",disabled:(0,n.unref)(Ct).processing}," Save ",8,it)])])])])])])])],64)}}};var dt=r(93379),ut=r.n(dt),mt=r(30586),pt={insert:"head",singleton:!1};ut()(mt.Z,pt);mt.Z.locals;const vt=(0,r(83744).Z)(ct,[["__scopeId","data-v-7566c6fc"]])}}]);
//# sourceMappingURL=6225.js.map