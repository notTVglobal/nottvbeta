/*! For license information please see 3398.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3398],{18816:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(94015),r=n.n(o),i=n(23645),c=n.n(i)()(r());c.push([e.id,".overlay[data-v-60d35359]{background:#00000080;height:100%;left:0;position:fixed;top:0;width:100%;z-index:999}.color-picker-dialog[data-v-60d35359]{background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;left:50%;padding:20px;position:fixed;top:50%;transform:translate(-50%,-50%);z-index:1000}.btn-primary[data-v-60d35359]{background-color:#4a5568;border:none;border-radius:4px;color:#fff;cursor:pointer;padding:8px 12px}.btn-primary[data-v-60d35359]:hover{background-color:#2d3748}","",{version:3,sources:["webpack://./resources/js/Components/Global/Text/ColorPicker.vue"],names:[],mappings:"AAkDA,0BAME,oBAA8B,CAD9B,WAAY,CAFZ,MAAO,CAFP,cAAe,CACf,KAAM,CAEN,UAAW,CAGX,WACF,CAEA,sCAKE,eAAiB,CAEjB,iBAAkB,CAClB,+BAAyC,CALzC,QAAS,CAGT,YAAa,CALb,cAAe,CACf,OAAQ,CAER,8BAAgC,CAKhC,YACF,CAEA,8BACE,wBAAyB,CAGzB,WAAY,CACZ,iBAAkB,CAHlB,UAAY,CAIZ,cAAe,CAHf,gBAIF,CAEA,oCACE,wBACF",sourcesContent:["<template>\n  <div>\n    <div class=\"overlay\" v-if=\"visible\" @click=\"hide\"></div>\n    <div class=\"color-picker-dialog\" v-if=\"visible\">\n      <Chrome v-model=\"localColor\" />\n      <button class=\"btn btn-primary mt-2\" @click=\"applyColor\">Apply</button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { Chrome } from '@ckpack/vue-color'\n\nconst props = defineProps({\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  color: {\n    type: String,\n    default: '#000000'\n  }\n})\n\nconst emit = defineEmits(['close', 'apply', 'update:color'])\n\nconst localColor = ref(props.color)\n//\n// watch(() => props.color, (newColor) => {\n//   localColor.value = newColor\n// })\n\n// const updateColor = (newColor) => {\n//   localColor.value = newColor.hex\n//   emit('update:color', newColor.hex)\n// }\n\nconst applyColor = () => {\n  console.log(localColor.value.hex)\n  emit('apply', localColor.value.hex)\n  hide()\n}\n\nconst hide = () => {\n  emit('close')\n}\n<\/script>\n\n<style scoped>\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n}\n\n.color-picker-dialog {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n}\n\n.btn-primary {\n  background-color: #4a5568;\n  color: white;\n  padding: 8px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-primary:hover {\n  background-color: #2d3748;\n}\n</style>\n"],sourceRoot:""}]);const a=c},29440:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(94015),r=n.n(o),i=n(23645),c=n.n(i)()(r());c.push([e.id,".toolbar[data-v-51ee9b05]{display:flex;flex-wrap:wrap;gap:8px}.button-group[data-v-51ee9b05]{display:flex;gap:8px;margin-right:16px}.icon-btn[data-v-51ee9b05]{align-items:center;background-color:#4a5568;border:none;border-radius:4px;color:#fff;cursor:pointer;display:flex;height:40px;justify-content:center;padding:8px;transition:background-color .3s,transform .3s;width:40px}.icon-btn.active[data-v-51ee9b05],.icon-btn[data-v-51ee9b05]:hover{background-color:#2d3748}.icon-btn[data-v-51ee9b05]:hover{transform:scale(1.1)}.icon-btn.disabled[data-v-51ee9b05]{background-color:#a0aec0;cursor:not-allowed}.icon-btn i[data-v-51ee9b05]{font-size:16px}","",{version:3,sources:["webpack://./resources/js/Components/Global/TextEditor/TipTapNewsStoryButtons.vue"],names:[],mappings:"AAmSA,0BACE,YAAa,CAEb,cAAe,CADf,OAEF,CAEA,+BACE,YAAa,CACb,OAAQ,CACR,iBACF,CAEA,2BAQE,kBAAmB,CAPnB,wBAAyB,CAGzB,WAAY,CACZ,iBAAkB,CAHlB,UAAY,CAIZ,cAAe,CACf,YAAa,CAIb,WAAY,CAFZ,sBAAuB,CANvB,WAAY,CASZ,6CAAiD,CAFjD,UAGF,CAMA,mEAHE,wBAMF,CAHA,iCAEE,oBACF,CAEA,oCACE,wBAAyB,CACzB,kBACF,CAEA,6BACE,cACF",sourcesContent:['<template>\n  <div>\n    <div class="toolbar mb-2">\n      <div class="flex flex-wrap gap-1 mb-2">\n        \x3c!-- Text formatting buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleBold" class="icon-btn" :class="{ \'active\': isBoldActive }">\n            <font-awesome-icon :icon="[\'fas\', \'bold\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleItalic" class="icon-btn" :class="{ \'active\': isItalicActive }">\n            <font-awesome-icon :icon="[\'fas\', \'italic\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleUnderline" class="icon-btn" :class="{ \'active\': isUnderlineActive }">\n            <font-awesome-icon :icon="[\'fas\', \'underline\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleStrike" class="icon-btn" :class="{ \'active\': isStrikeActive }">\n            <font-awesome-icon :icon="[\'fas\', \'strikethrough\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleSuperscript" class="icon-btn" :class="{ \'active\': isSuperscriptActive }">\n            <font-awesome-icon :icon="[\'fas\', \'superscript\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleSubscript" class="icon-btn" :class="{ \'active\': isSubscriptActive }">\n            <font-awesome-icon :icon="[\'fas\', \'subscript\']" />\n          </button>\n        </div>\n\n        \x3c!-- Heading buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleHeading(1)" class="icon-btn" :class="{ \'active\': isHeadingActive(1) }">\n            H1\n          </button>\n          <button tabindex="-1" @click.prevent="toggleHeading(2)" class="icon-btn" :class="{ \'active\': isHeadingActive(2) }">\n            H2\n          </button>\n          <button tabindex="-1" @click.prevent="toggleHeading(3)" class="icon-btn" :class="{ \'active\': isHeadingActive(3) }">\n            H3\n          </button>\n        </div>\n\n        \x3c!-- List buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleBulletList" class="icon-btn" :class="{ \'active\': isBulletListActive }">\n            <font-awesome-icon :icon="[\'fas\', \'list-ul\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleOrderedList" class="icon-btn" :class="{ \'active\': isOrderedListActive }">\n            <font-awesome-icon :icon="[\'fas\', \'list-ol\']" />\n          </button>\n        </div>\n\n        \x3c!-- Link buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="setLink" class="icon-btn" :class="{ \'active\': isLinkActive }">\n            <font-awesome-icon :icon="[\'fas\', \'link\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="unsetLink" class="icon-btn" :class="{ \'disabled\': !isLinkActive }" :disabled="!isLinkActive">\n            <font-awesome-icon :icon="[\'fas\', \'unlink\']" />\n          </button>\n        </div>\n\n        \x3c!-- Code and blockquote buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="toggleCodeBlock" class="icon-btn" :class="{ \'active\': isCodeBlockActive }">\n            <font-awesome-icon :icon="[\'fas\', \'code\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="toggleBlockquote" class="icon-btn" :class="{ \'active\': isBlockquoteActive }">\n            <font-awesome-icon :icon="[\'fas\', \'quote-right\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setHorizontalRule" class="icon-btn">\n            <font-awesome-icon :icon="[\'fas\', \'minus\']" />\n          </button>\n        </div>\n\n        \x3c!-- Undo/redo buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="undo" class="icon-btn" :class="{ \'disabled\': !canUndo }" :disabled="!canUndo">\n            <font-awesome-icon :icon="[\'fas\', \'undo\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="redo" class="icon-btn" :class="{ \'disabled\': !canRedo }" :disabled="!canRedo">\n            <font-awesome-icon :icon="[\'fas\', \'redo\']" />\n          </button>\n        </div>\n\n        \x3c!-- Alignment buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="setTextAlign(\'left\')" class="icon-btn" :class="{ \'active\': isTextAlignLeft }">\n            <font-awesome-icon :icon="[\'fas\', \'align-left\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setTextAlign(\'center\')" class="icon-btn" :class="{ \'active\': isTextAlignCenter }">\n            <font-awesome-icon :icon="[\'fas\', \'align-center\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setTextAlign(\'right\')" class="icon-btn" :class="{ \'active\': isTextAlignRight }">\n            <font-awesome-icon :icon="[\'fas\', \'align-right\']" />\n          </button>\n          <button tabindex="-1" @click.prevent="setTextAlign(\'justify\')" class="icon-btn" :class="{ \'active\': isTextAlignJustify }">\n            <font-awesome-icon :icon="[\'fas\', \'align-justify\']" />\n          </button>\n        </div>\n\n        \x3c!-- Color and font buttons --\x3e\n        <div class="button-group">\n          <button tabindex="-1" @click.prevent="showColorPicker" class="icon-btn">\n            <font-awesome-icon :icon="[\'fas\', \'palette\']" />\n          </button>\n\n          <button tabindex="-1" @click.prevent="toggleFontFamily" class="icon-btn">\n            <font-awesome-icon :icon="[\'fas\', \'font\']" />\n          </button>\n        </div>\n      </div>\n    </div>\n    <ColorPicker\n        :visible="colorPickerVisible"\n        :color="currentColor"\n        @close="hideColorPicker"\n        @apply="applyColor"\n        @update:color="currentColor = $event"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \'vue\'\nimport ColorPicker from \'@/Components/Global/Text/ColorPicker.vue\'\n\nconst props = defineProps({\n  editor: Object,\n})\n\nconst colorPickerVisible = ref(false)\nconst currentColor = ref(\'#000000\')\n\nconst showColorPicker = () => {\n  colorPickerVisible.value = true\n}\n\nconst hideColorPicker = () => {\n  colorPickerVisible.value = false\n}\n\nconst applyColor = (color) => {\n  console.log(color)\n  currentColor.value = color\n  if (props.editor) {\n    props.editor.chain().focus().setColor(color).run()\n  }\n}\n\nconst toggleBold = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleBold().run()\n  }\n}\n\nconst toggleItalic = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleItalic().run()\n  }\n}\n\nconst toggleUnderline = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleUnderline().run()\n  }\n}\n\nconst toggleSuperscript = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleSuperscript().run()\n  }\n}\n\nconst toggleSubscript = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleSubscript().run()\n  }\n}\n\nconst toggleBulletList = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleBulletList().run()\n  }\n}\n\nconst toggleOrderedList = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleOrderedList().run()\n  }\n}\n\nconst toggleCodeBlock = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleCodeBlock().run()\n  }\n}\n\nconst toggleBlockquote = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleBlockquote().run()\n  }\n}\n\nconst setHorizontalRule = () => {\n  if (props.editor) {\n    props.editor.chain().focus().setHorizontalRule().run()\n  }\n}\n\nconst toggleStrike = () => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleStrike().run()\n  }\n}\n\nconst undo = () => {\n  if (props.editor) {\n    props.editor.chain().focus().undo().run()\n  }\n}\n\nconst redo = () => {\n  if (props.editor) {\n    props.editor.chain().focus().redo().run()\n  }\n}\n\nconst setTextAlign = (alignment) => {\n  if (props.editor) {\n    props.editor.chain().focus().setTextAlign(alignment).run()\n  }\n}\n\nconst toggleFontFamily = () => {\n  // This is where you can implement the logic for changing font family\n  // You can use a dropdown menu or a predefined set of fonts\n  const fontOptions = [\n    \'Comic Sans MS, Comic Sans\',\n    \'monospace\',\n    \'Lucida Handwriting, Pacifico, Brush Script MT, cursive\',\n    \'unset\'\n  ];\n  const currentFont = props.editor.getAttributes(\'textStyle\').fontFamily\n  const nextFont = fontOptions[(fontOptions.indexOf(currentFont) + 1) % fontOptions.length]\n\n  if (nextFont === \'unset\') {\n    props.editor.chain().focus().unsetFontFamily().run()\n  } else {\n    props.editor.chain().focus().setFontFamily(nextFont).run()\n  }\n}\n\nconst toggleHeading = (level) => {\n  if (props.editor) {\n    props.editor.chain().focus().toggleHeading({ level }).run()\n  }\n}\n\nconst isBoldActive = computed(() => props.editor && props.editor.isActive(\'bold\'))\nconst isItalicActive = computed(() => props.editor && props.editor.isActive(\'italic\'))\nconst isUnderlineActive = computed(() => props.editor && props.editor.isActive(\'underline\'))\nconst isSuperscriptActive = computed(() => props.editor && props.editor.isActive(\'superscript\'))\nconst isSubscriptActive = computed(() => props.editor && props.editor.isActive(\'subscript\'))\nconst isBulletListActive = computed(() => props.editor && props.editor.isActive(\'bulletList\'))\nconst isOrderedListActive = computed(() => props.editor && props.editor.isActive(\'orderedList\'))\nconst isLinkActive = computed(() => props.editor && props.editor.isActive(\'link\'))\nconst isCodeBlockActive = computed(() => props.editor && props.editor.isActive(\'codeBlock\'))\nconst isBlockquoteActive = computed(() => props.editor && props.editor.isActive(\'blockquote\'))\nconst isStrikeActive = computed(() => props.editor && props.editor.isActive(\'strike\'))\nconst canUndo = computed(() => props.editor && props.editor.can().undo())\nconst canRedo = computed(() => props.editor && props.editor.can().redo())\nconst isTextAlignLeft = computed(() => props.editor && props.editor.isActive({ textAlign: \'left\' }))\nconst isTextAlignCenter = computed(() => props.editor && props.editor.isActive({ textAlign: \'center\' }))\nconst isTextAlignRight = computed(() => props.editor && props.editor.isActive({ textAlign: \'right\' }))\nconst isTextAlignJustify = computed(() => props.editor && props.editor.isActive({ textAlign: \'justify\' }))\nconst isHeadingActive = (level) => computed(() => props.editor && props.editor.isActive(\'heading\', { level }))\n\nconst setLink = () => {\n  if (props.editor) {\n    const previousUrl = props.editor.getAttributes(\'link\').href\n    const url = window.prompt(\'URL\', previousUrl)\n    if (url === null) return\n\n    if (url === \'\') {\n      props.editor.chain().focus().extendMarkRange(\'link\').unsetLink().run()\n    } else {\n      props.editor.chain().focus().extendMarkRange(\'link\').setLink({ href: url }).run()\n    }\n  }\n}\n<\/script>\n\n<style scoped>\n.toolbar {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.button-group {\n  display: flex;\n  gap: 8px;\n  margin-right: 16px;\n}\n\n.icon-btn {\n  background-color: #4a5568;\n  color: white;\n  padding: 8px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  transition: background-color 0.3s, transform 0.3s;\n}\n\n.icon-btn.active {\n  background-color: #2d3748;\n}\n\n.icon-btn:hover {\n  background-color: #2d3748;\n  transform: scale(1.1);\n}\n\n.icon-btn.disabled {\n  background-color: #a0aec0;\n  cursor: not-allowed;\n}\n\n.icon-btn i {\n  font-size: 16px;\n}\n</style>\n'],sourceRoot:""}]);const a=c},22965:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(94015),r=n.n(o),i=n(23645),c=n.n(i)()(r());c.push([e.id,".tiptap[data-v-48cf0b44]{>*+*[data-v-48cf0b44]{margin-top:.75em}}.character-count[data-v-48cf0b44]{color:#868e96;margin-left:1rem;margin-top:1rem}.tiptap p.is-editor-empty[data-v-48cf0b44]:first-child:before{color:#adb5bd;content:attr(data-placeholder);float:left;height:0;pointer-events:none}.fade-enter-active[data-v-48cf0b44],.fade-leave-active[data-v-48cf0b44]{transition:opacity .5s}.fade-enter[data-v-48cf0b44],.fade-leave-to[data-v-48cf0b44]{opacity:0}.save-message[data-v-48cf0b44]{font-size:1.5rem}","",{version:3,sources:["webpack://./resources/js/Components/Global/TextEditor/TipTapNewsStoryEditor.vue"],names:[],mappings:"AAoIA,yBACE,sBACE,gBACF,CACF,CAEA,kCAGE,aAAc,CADd,gBAAiB,CADjB,eAGF,CAGA,8DAGE,aAAc,CAFd,8BAA+B,CAC/B,UAAW,CAGX,QAAS,CADT,mBAEF,CAEA,wEACE,sBACF,CAEA,6DACE,SACF,CAEA,+BACE,gBACF",sourcesContent:["<template>\n  <TipTapButtons :editor=\"editor\"/>\n  <div class=\"relative\">\n    <div\n        class=\"tiptap hide-scrollbar h-auto overflow-y-auto min-h-[13rem] max-h-[96rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500\">\n      <editor-content :editor=\"editor\" class=\"news-story\"/>\n      <div class=\"character-count\" v-if=\"editor\">\n        {{ editor.storage.characterCount.characters() }} characters\n        <br>\n        {{ editor.storage.characterCount.words() }} words\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport { onBeforeUnmount, onMounted, ref } from 'vue'\nimport { useNewsStore } from '@/Stores/NewsStore'\nimport { useNotificationStore } from '@/Stores/NotificationStore'\nimport { Editor, EditorContent } from '@tiptap/vue-3'\nimport StarterKit from '@tiptap/starter-kit'\nimport TipTapButtons from '@/Components/Global/TextEditor/TipTapNewsStoryButtons'\nimport { TextStyle } from '@tiptap/extension-text-style'\nimport { Color } from '@tiptap/extension-color'\nimport Typography from '@tiptap/extension-typography'\nimport CharacterCount from '@tiptap/extension-character-count'\nimport Placeholder from '@tiptap/extension-placeholder'\nimport { FontFamily } from '@tiptap/extension-font-family'\nimport { TextAlign } from '@tiptap/extension-text-align'\nimport { Underline } from '@tiptap/extension-underline'\nimport { Subscript } from '@tiptap/extension-subscript'\nimport { Superscript } from '@tiptap/extension-superscript'\nimport Link from '@tiptap/extension-link'\nimport { throttle } from 'lodash'\n\nconst newsStore = useNewsStore()\nconst notificationStore = useNotificationStore()\n\nconst limit = 5000\nconst editor = ref(null)\nconst hasShownSaveMessage = ref(false)\nconst isUnmounting = ref(false)\n\nconst saveContent = throttle(async () => {\n  if (isUnmounting.value) return // Skip saving if the component is unmounting\n\n  if (!newsStore.id) {\n    if (!hasShownSaveMessage.value) {\n      console.log('Please save the story and go to editing mode to enable automatic saving.')\n      notificationStore.setGeneralServiceNotification('Save Required', 'Please save the story and go to editing mode to enable automatic saving.')\n      hasShownSaveMessage.value = true\n    }\n    return\n  }\n  try {\n    await axios.post('/newsStory/cache', {\n      id: newsStore.id,\n      slug: newsStore.slug,\n      status: newsStore.status,\n      title: newsStore.title,\n      content: newsStore.content,\n      newsPerson: newsStore.newsPerson,\n      category: newsStore.category,\n      subCategory: newsStore.subCategory,\n      city: newsStore.city,\n      province: newsStore.province,\n      federalElectoralDistrict: newsStore.federalElectoralDistrict,\n      subnationalElectoralDistrict: newsStore.subnationalElectoralDistrict\n    })\n    newsStore.showSaveMessage = true\n    setTimeout(() => {\n      newsStore.showSaveMessage = false\n    }, 2000)  // Show the save message for 2 seconds\n  } catch (error) {\n    console.error('Error caching content:', error)\n  }\n}, 5000) // Throttle delay set to 5 seconds\n\nconst editorInstance = new Editor({\n  content: newsStore.content,\n  extensions: [\n    StarterKit,\n    TextStyle,\n    FontFamily,\n    Color,\n    Typography,\n    Underline,\n    Subscript,\n    Superscript,\n    TextAlign.configure({\n      types: ['heading', 'paragraph'],\n    }),\n    Link.configure({\n      openOnClick: true,\n    }),\n    Placeholder.configure({\n      placeholder: 'Write something …',\n    }),\n    CharacterCount.configure({\n      limit: null,\n    })\n  ],\n  onUpdate: ({ editor }) => {\n    newsStore.content = editor.getHTML()\n    saveContent()\n  },\n  autofocus: true,\n  editorProps: {\n    attributes: {\n      class: 'h-auto min-h-[12rem] max-h-[96rem] overflow-y-auto block w-full p-2.5 focus:outline-none',\n    },\n  },\n})\n\neditor.value = editorInstance\n\nonMounted(() => {\n  editor.value.commands.setContent(newsStore.content)\n\n})\n\n// Ensure editor is destroyed properly on component unmount\nonBeforeUnmount(() => {\n  isUnmounting.value = true\n  if (editor.value) {\n    editor.value.destroy()\n  }\n})\n<\/script>\n\n<style scoped>\n.tiptap {\n  > * + * {\n    margin-top: 0.75em;\n  }\n}\n\n.character-count {\n  margin-top: 1rem;\n  margin-left: 1rem;\n  color: #868e96;\n}\n\n/* Placeholder (at the top) */\n.tiptap p.is-editor-empty:first-child::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: #adb5bd;\n  pointer-events: none;\n  height: 0;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s;\n}\n\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n.save-message {\n  font-size: 1.5rem;\n}\n\n\n/* Placeholder (on every new line) */\n/*.tiptap p.is-empty::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: #adb5bd;\n  pointer-events: none;\n  height: 0;\n}*/\n</style>\n"],sourceRoot:""}]);const a=c},23398:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var o=n(70821),r=n(55398),i=n(83004),c=n(95404),a=n(78163),s=n(52860),l={key:1,class:"color-picker-dialog"};const u={__name:"ColorPicker",props:{visible:{type:Boolean,default:!1},color:{type:String,default:"#000000"}},emits:["close","apply","update:color"],setup:function(e,t){var n=t.emit,r=e,i=n,c=(0,o.ref)(r.color),a=function(){console.log(c.value.hex),i("apply",c.value.hex),u()},u=function(){i("close")};return function(t,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[e.visible?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"overlay",onClick:u})):(0,o.createCommentVNode)("",!0),e.visible?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)((0,o.unref)(s.Z),{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return c.value=e})},null,8,["modelValue"]),(0,o.createElementVNode)("button",{class:"btn btn-primary mt-2",onClick:a},"Apply")])):(0,o.createCommentVNode)("",!0)])}}};var d=n(93379),p=n.n(d),f=n(18816),v={insert:"head",singleton:!1};p()(f.Z,v);f.Z.locals;var b=n(83744);const g=(0,b.Z)(u,[["__scopeId","data-v-60d35359"]]);var m={class:"toolbar mb-2"},h={class:"flex flex-wrap gap-1 mb-2"},A={class:"button-group"},y={class:"button-group"},x={class:"button-group"},C={class:"button-group"},k=["disabled"],w={class:"button-group"},E={class:"button-group"},S=["disabled"],B=["disabled"],N={class:"button-group"},V={class:"button-group"};const L={__name:"TipTapNewsStoryButtons",props:{editor:Object},setup:function(e){var t=e,n=(0,o.ref)(!1),r=(0,o.ref)("#000000"),i=function(){n.value=!0},c=function(){n.value=!1},a=function(e){console.log(e),r.value=e,t.editor&&t.editor.chain().focus().setColor(e).run()},s=function(){t.editor&&t.editor.chain().focus().toggleBold().run()},l=function(){t.editor&&t.editor.chain().focus().toggleItalic().run()},u=function(){t.editor&&t.editor.chain().focus().toggleUnderline().run()},d=function(){t.editor&&t.editor.chain().focus().toggleSuperscript().run()},p=function(){t.editor&&t.editor.chain().focus().toggleSubscript().run()},f=function(){t.editor&&t.editor.chain().focus().toggleBulletList().run()},v=function(){t.editor&&t.editor.chain().focus().toggleOrderedList().run()},b=function(){t.editor&&t.editor.chain().focus().toggleCodeBlock().run()},L=function(){t.editor&&t.editor.chain().focus().toggleBlockquote().run()},T=function(){t.editor&&t.editor.chain().focus().setHorizontalRule().run()},F=function(){t.editor&&t.editor.chain().focus().toggleStrike().run()},M=function(){t.editor&&t.editor.chain().focus().undo().run()},P=function(){t.editor&&t.editor.chain().focus().redo().run()},z=function(e){t.editor&&t.editor.chain().focus().setTextAlign(e).run()},O=function(){var e=["Comic Sans MS, Comic Sans","monospace","Lucida Handwriting, Pacifico, Brush Script MT, cursive","unset"],n=t.editor.getAttributes("textStyle").fontFamily,o=e[(e.indexOf(n)+1)%e.length];"unset"===o?t.editor.chain().focus().unsetFontFamily().run():t.editor.chain().focus().setFontFamily(o).run()},U=function(e){t.editor&&t.editor.chain().focus().toggleHeading({level:e}).run()},H=(0,o.computed)((function(){return t.editor&&t.editor.isActive("bold")})),j=(0,o.computed)((function(){return t.editor&&t.editor.isActive("italic")})),_=(0,o.computed)((function(){return t.editor&&t.editor.isActive("underline")})),G=(0,o.computed)((function(){return t.editor&&t.editor.isActive("superscript")})),Z=(0,o.computed)((function(){return t.editor&&t.editor.isActive("subscript")})),D=(0,o.computed)((function(){return t.editor&&t.editor.isActive("bulletList")})),I=(0,o.computed)((function(){return t.editor&&t.editor.isActive("orderedList")})),R=(0,o.computed)((function(){return t.editor&&t.editor.isActive("link")})),Y=(0,o.computed)((function(){return t.editor&&t.editor.isActive("codeBlock")})),q=(0,o.computed)((function(){return t.editor&&t.editor.isActive("blockquote")})),W=(0,o.computed)((function(){return t.editor&&t.editor.isActive("strike")})),K=(0,o.computed)((function(){return t.editor&&t.editor.can().undo()})),Q=(0,o.computed)((function(){return t.editor&&t.editor.can().redo()})),J=(0,o.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"left"})})),X=(0,o.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"center"})})),$=(0,o.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"right"})})),ee=(0,o.computed)((function(){return t.editor&&t.editor.isActive({textAlign:"justify"})})),te=function(e){return(0,o.computed)((function(){return t.editor&&t.editor.isActive("heading",{level:e})}))},ne=function(){if(t.editor){var e=t.editor.getAttributes("link").href,n=window.prompt("URL",e);if(null===n)return;""===n?t.editor.chain().focus().extendMarkRange("link").unsetLink().run():t.editor.chain().focus().extendMarkRange("link").setLink({href:n}).run()}};return function(e,t){var oe=(0,o.resolveComponent)("font-awesome-icon");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(s,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:H.value}])},[(0,o.createVNode)(oe,{icon:["fas","bold"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(l,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:j.value}])},[(0,o.createVNode)(oe,{icon:["fas","italic"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(u,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:_.value}])},[(0,o.createVNode)(oe,{icon:["fas","underline"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(F,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:W.value}])},[(0,o.createVNode)(oe,{icon:["fas","strikethrough"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(d,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:G.value}])},[(0,o.createVNode)(oe,{icon:["fas","superscript"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(p,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:Z.value}])},[(0,o.createVNode)(oe,{icon:["fas","subscript"]})],2)]),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[0]||(t[0]=(0,o.withModifiers)((function(e){return U(1)}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{active:te(1)}])}," H1 ",2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[1]||(t[1]=(0,o.withModifiers)((function(e){return U(2)}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{active:te(2)}])}," H2 ",2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[2]||(t[2]=(0,o.withModifiers)((function(e){return U(3)}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{active:te(3)}])}," H3 ",2)]),(0,o.createElementVNode)("div",x,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(f,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:D.value}])},[(0,o.createVNode)(oe,{icon:["fas","list-ul"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(v,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:I.value}])},[(0,o.createVNode)(oe,{icon:["fas","list-ol"]})],2)]),(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(ne,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:R.value}])},[(0,o.createVNode)(oe,{icon:["fas","link"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[3]||(t[3]=(0,o.withModifiers)((function(){return e.unsetLink&&e.unsetLink.apply(e,arguments)}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{disabled:!R.value}]),disabled:!R.value},[(0,o.createVNode)(oe,{icon:["fas","unlink"]})],10,k)]),(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(b,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:Y.value}])},[(0,o.createVNode)(oe,{icon:["fas","code"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(L,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{active:q.value}])},[(0,o.createVNode)(oe,{icon:["fas","quote-right"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(T,["prevent"]),class:"icon-btn"},[(0,o.createVNode)(oe,{icon:["fas","minus"]})])]),(0,o.createElementVNode)("div",E,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(M,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{disabled:!K.value}]),disabled:!K.value},[(0,o.createVNode)(oe,{icon:["fas","undo"]})],10,S),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(P,["prevent"]),class:(0,o.normalizeClass)(["icon-btn",{disabled:!Q.value}]),disabled:!Q.value},[(0,o.createVNode)(oe,{icon:["fas","redo"]})],10,B)]),(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[4]||(t[4]=(0,o.withModifiers)((function(e){return z("left")}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{active:J.value}])},[(0,o.createVNode)(oe,{icon:["fas","align-left"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[5]||(t[5]=(0,o.withModifiers)((function(e){return z("center")}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{active:X.value}])},[(0,o.createVNode)(oe,{icon:["fas","align-center"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[6]||(t[6]=(0,o.withModifiers)((function(e){return z("right")}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{active:$.value}])},[(0,o.createVNode)(oe,{icon:["fas","align-right"]})],2),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:t[7]||(t[7]=(0,o.withModifiers)((function(e){return z("justify")}),["prevent"])),class:(0,o.normalizeClass)(["icon-btn",{active:ee.value}])},[(0,o.createVNode)(oe,{icon:["fas","align-justify"]})],2)]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(i,["prevent"]),class:"icon-btn"},[(0,o.createVNode)(oe,{icon:["fas","palette"]})]),(0,o.createElementVNode)("button",{tabindex:"-1",onClick:(0,o.withModifiers)(O,["prevent"]),class:"icon-btn"},[(0,o.createVNode)(oe,{icon:["fas","font"]})])])])]),(0,o.createVNode)(g,{visible:n.value,color:r.value,onClose:c,onApply:a,"onUpdate:color":t[8]||(t[8]=function(e){return r.value=e})},null,8,["visible","color"])])}}};var T=n(29440),F={insert:"head",singleton:!1};p()(T.Z,F);T.Z.locals;const M=(0,b.Z)(L,[["__scopeId","data-v-51ee9b05"]]);var P=n(23621),z=n(90353),O=n(90214),U=n(88776),H=n(93237),j=n(7070),_=n(96279),G=n(48510),Z=n(18151),D=n(41705),I=n(99404),R=n(96486);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function q(){q=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof m?t:m,c=Object.create(i.prototype),a=new L(o||[]);return r(c,"_invoke",{value:S(e,n,a)}),c}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",v="executing",b="completed",g={};function m(){}function h(){}function A(){}var y={};l(y,c,(function(){return this}));var x=Object.getPrototypeOf,C=x&&x(x(T([])));C&&C!==n&&o.call(C,c)&&(y=C);var k=A.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,i,c,a){var s=d(e[r],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Y(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,a)}),(function(e){n("throw",e,c,a)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,a)}))}a(s.arg)}var i;r(this,"_invoke",{value:function(e,o){function r(){return new t((function(t,r){n(e,o,t,r)}))}return i=i?i.then(r,r):r()}})}function S(t,n,o){var r=p;return function(i,c){if(r===v)throw new Error("Generator is already running");if(r===b){if("throw"===i)throw c;return{value:e,done:!0}}for(o.method=i,o.arg=c;;){var a=o.delegate;if(a){var s=B(a,o);if(s){if(s===g)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===p)throw r=b,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=v;var l=d(t,n,o);if("normal"===l.type){if(r=o.done?b:f,l.arg===g)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r=b,o.method="throw",o.arg=l.arg)}}}function B(t,n){var o=n.method,r=t.iterator[o];if(r===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,B(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var i=d(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var c=i.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Y(t)+" is not iterable")}return h.prototype=A,r(k,"constructor",{value:A,configurable:!0}),r(A,"constructor",{value:h,configurable:!0}),h.displayName=l(A,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var c=new E(u(e,n,o,r),i);return t.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},w(k),l(k,s,"Generator"),l(k,c,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(o,r){return a.type="throw",a.arg=t,n.next=o,r&&(n.method="next",n.arg=e),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],a=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var s=o.call(c,"catchLoc"),l=o.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;V(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:T(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function W(e,t,n,o,r,i,c){try{var a=e[i](c),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(o,r)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function c(e){W(i,o,r,c,a,"next",e)}function a(e){W(i,o,r,c,a,"throw",e)}c(void 0)}))}}var Q={class:"relative"},J={class:"tiptap hide-scrollbar h-auto overflow-y-auto min-h-[13rem] max-h-[96rem] mb-2 pb-2 bg-gray-50 border border-1 border-gray-300 focus:outline-none text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500"},X={key:0,class:"character-count"},$=function(e){return(0,o.pushScopeId)("data-v-48cf0b44"),e=e(),(0,o.popScopeId)(),e}((function(){return(0,o.createElementVNode)("br",null,null,-1)}));const ee={__name:"TipTapNewsStoryEditor",setup:function(e){var t=(0,r.useNewsStore)(),n=(0,i.useNotificationStore)(),s=(0,o.ref)(null),l=(0,o.ref)(!1),u=(0,o.ref)(!1),d=(0,R.throttle)(K(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.value){e.next=2;break}return e.abrupt("return");case 2:if(t.id){e.next=5;break}return l.value||(console.log("Please save the story and go to editing mode to enable automatic saving."),n.setGeneralServiceNotification("Save Required","Please save the story and go to editing mode to enable automatic saving."),l.value=!0),e.abrupt("return");case 5:return e.prev=5,e.next=8,axios.post("/newsStory/cache",{id:t.id,slug:t.slug,status:t.status,title:t.title,content:t.content,newsPerson:t.newsPerson,category:t.category,subCategory:t.subCategory,city:t.city,province:t.province,federalElectoralDistrict:t.federalElectoralDistrict,subnationalElectoralDistrict:t.subnationalElectoralDistrict});case 8:t.showSaveMessage=!0,setTimeout((function(){t.showSaveMessage=!1}),2e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error caching content:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),5e3),p=new c.ML({content:t.content,extensions:[a.Z,P.p,j.b,z.I,O.ZP,G.v,Z.a,D.$,_.P.configure({types:["heading","paragraph"]}),I.ZP.configure({openOnClick:!0}),H.Z.configure({placeholder:"Write something …"}),U.Z.configure({limit:null})],onUpdate:function(e){var n=e.editor;t.content=n.getHTML(),d()},autofocus:!0,editorProps:{attributes:{class:"h-auto min-h-[12rem] max-h-[96rem] overflow-y-auto block w-full p-2.5 focus:outline-none"}}});return s.value=p,(0,o.onMounted)((function(){s.value.commands.setContent(t.content)})),(0,o.onBeforeUnmount)((function(){u.value=!0,s.value&&s.value.destroy()})),function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)((0,o.unref)(M),{editor:s.value},null,8,["editor"]),(0,o.createElementVNode)("div",Q,[(0,o.createElementVNode)("div",J,[(0,o.createVNode)((0,o.unref)(c.kg),{editor:s.value,class:"news-story"},null,8,["editor"]),s.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",X,[(0,o.createTextVNode)((0,o.toDisplayString)(s.value.storage.characterCount.characters())+" characters ",1),$,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(s.value.storage.characterCount.words())+" words ",1)])):(0,o.createCommentVNode)("",!0)])])],64)}}};var te=n(22965),ne={insert:"head",singleton:!1};p()(te.Z,ne);te.Z.locals;const oe=(0,b.Z)(ee,[["__scopeId","data-v-48cf0b44"]]);var re={class:"mb-6"},ie=(0,o.createElementVNode)("label",{for:"Title",class:"block mb-2 text-sm font-bold text-gray-900"},"Title",-1),ce={key:0,class:"text-sm text-red-600"},ae={class:"mb-6"},se=(0,o.createElementVNode)("label",{for:"Content",class:"block mb-2 text-sm font-bold text-gray-900"},"Content",-1),le={key:0,class:"text-sm text-red-600"};const ue={__name:"NewsWriterComponent",setup:function(e){var t=(0,r.useNewsStore)();return function(e,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",re,[ie,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,o.unref)(t).title=e}),name:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:""},null,512),[[o.vModelText,(0,o.unref)(t).title]]),(0,o.unref)(t).errors.title?((0,o.openBlock)(),(0,o.createElementBlock)("div",ce,(0,o.toDisplayString)((0,o.unref)(t).errors.title),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",ae,[se,(0,o.createVNode)((0,o.unref)(oe)),(0,o.unref)(t).errors.body?((0,o.openBlock)(),(0,o.createElementBlock)("div",le,(0,o.toDisplayString)((0,o.unref)(t).errors.body),1)):(0,o.createCommentVNode)("",!0)])])}}}}}]);
//# sourceMappingURL=3398.js.map