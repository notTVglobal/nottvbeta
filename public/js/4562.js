/*! For license information please see 4562.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4562,1493,1906,7166],{71493:(e,t,r)=>{r.r(t),r.d(t,{useGoLiveStore:()=>d});var n=r(69876),o=r(83004),i=(r(40191),r(87166));r(72200);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new B(n||[]);return o(a,"_invoke",{value:_(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};d(S,c,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(I([])));E&&E!==r&&n.call(E,c)&&(S=E);var N=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,i,s,c){var l=h(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,r,n){var o=p;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=P(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(t,r,n);if("normal"===l.type){if(o=n.done?y:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(V.prototype),d(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new V(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,s,"next",e)}function s(e){c(i,n,o,a,s,"throw",e)}a(void 0)}))}}var u=function(){return{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],isLoadingDestinations:!1,loadingDestinationId:null,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null}},d=(0,n.Q_)("goLiveStore",{state:u,actions:{reset:function(){Object.assign(this,{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",wildcardId:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null,destinations:[],isLoadingDestinations:!1,loadingDestinationId:null,isProcessingDisableAllAutoPushes:!1,playerIsReloading:!1,pushDestinationFormSubmitProcessing:!1,mistServerUri:null,previousStreamStatus:null})},fetchShows:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/go-live/shows");case 3:r=t.sent,e.shows=r.data,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},generateStreamKey:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedShowId){t.next=2;break}throw new Error("No show selected");case 2:return t.prev=2,t.next=5,axios.post("/go-live/shows/".concat(e.selectedShowId,"/stream-key"));case 5:return r=t.sent,console.log("this new stream key: "+e.streamKey),e.selectedShowId&&r.data.stream_key&&(e.selectedShow.mist_stream_wildcard=r.data,e.selectedShow.mist_stream_wildcard_id=r.data.stream_key),t.abrupt("return",r.data);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},updateAndGetStreamKey:function(){var e,t=this,r=this.shows.find((function(e){return e.id===t.selectedShowId}))||null,n=(null==r||null===(e=r.mist_stream_wildcard)||void 0===e?void 0:e.name)||" < RELOAD THIS PAGE TO GET YOUR STREAM KEY > ";return this.streamKey=n,n},setSelectedShowId:function(e){this.selectedShowId=e,this.updateSelectedShow()},updateSelectedShow:function(){var e=this;this.selectedShow=this.shows.find((function(t){return t.id===e.selectedShowId}))||null},goLive:function(){this.isLive=!0},stopLive:function(){this.isLive=!1},startRecording:function(){this.isRecording=!0},stopRecording:function(){this.isRecording=!1},fetchStreamInfo:function(){var e=this;return l(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,o.useNotificationStore)(),t.prev=1,e.mistServerUri){t.next=5;break}return t.next=5,e.fetchMistServerUri();case 5:return t.next=7,axios.post("/fetch-stream-info",{streamName:e.streamKey,mistServerUri:e.mistServerUri});case 7:n=t.sent,e.streamInfo=n.data.streamInfo||[],n.data.streamInfo.error?(n.data.streamInfo.error,"error"):n.data.message&&n.data.success?(n.data.message,"info"):("Received unexpected response from server.","info"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r.setToastNotification("Failed to fetch stream info.","error");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},fetchRtmpUri:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/fetch-rtmp-uri");case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("Failed to fetch");case 6:return t.next=8,r.text();case 8:e.rtmpUri=t.sent,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},clearStreamInfo:function(){this.streamInfo=null},toggleDisplayEpisodeGoLiveComponent:function(e){var t;this.displayEpisodeGoLiveComponent=!this.displayEpisodeGoLiveComponent,this.isEpisode=!!this.displayEpisodeGoLiveComponent,this.episode=e,this.selectedShowId=null==this||null===(t=this.episode)||void 0===t?void 0:t.show_id},updateEpisode:function(e){this.episode=e},fetchMistServerUri:function(){var e=this;return l(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,i.useVideoAuxPlayerStore)(),t.next=3,axios.get("/mist-server/uri");case 3:n=t.sent,e.mistServerUri=n.data,r.setMistServerUri(e.mistServerUri);case 6:case"end":return t.stop()}}),t)})))()},reloadPlayer:function(){var e=this;return l(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,i.useVideoAuxPlayerStore)(),e.playerIsReloading=!0,t.prev=2,n={name:e.streamKey},t.next=6,r.loadMistStreamVideo(n,!0).then();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),notificationStore.setToastNotification("Failed to reload player.","error");case 11:return t.prev=11,e.playerIsReloading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))()},fetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var r,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),e.isLoadingDestinations=!0,t.prev=2,t.next=5,axios.post("/go-live/fetch-push-destinations",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!1});case 5:n=t.sent,e.destinations=n.data.destinations||[],e.isRecording=n.data.isRecording||!1,i=n.data,i.message,i.status,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),r.setToastNotification("Failed to fetch push destinations.","error");case 14:return t.prev=14,e.isLoadingDestinations=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})))()},backgroundFetchPushDestinations:function(){var e=this;return l(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoadingDestinations=!0,t.prev=1,t.next=4,axios.post("/go-live/fetch-push-destinations/",{showId:e.selectedShowId,streamName:e.streamKey,backgroundFetch:!0});case 4:r=t.sent,e.destinations=r.data.destinations||[],e.isRecording=r.data.isRecording||!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),notificationStore.setToastNotification("Failed to fetch push destinations.","error");case 12:return t.prev=12,e.isLoadingDestinations=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},deleteDestination:function(e){var t=this;return l(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm("Are you sure you want to delete the destination with ID: ".concat(e,"?"))){r.next=10;break}return r.prev=1,r.next=4,axios.delete("/mist-stream-push-destinations/"+e);case 4:t.destinations=t.destinations.filter((function(t){return t.id!==e})),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),notificationStore.setGeneralServiceNotification("Error deleting destination",r.t0);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()},startPush:function(e,t){var r=this;return l(s().mark((function n(){var i,a,c,l,u,d;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,o.useNotificationStore)(),r.loadingDestinationId=e,n.prev=2,n.next=5,axios.post("/mist-stream/start-push",{destination_id:e,full_push_uri:t,stream_name:r.streamKey});case 5:a=n.sent,c=a.data,l=c.message,u=c.status,i.setToastNotification(l,u),-1!==(d=r.destinations.findIndex((function(t){return t.id===e})))&&(r.destinations[d].push_is_started=1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.setToastNotification("Failed to start push.","error");case 15:return n.prev=15,r.loadingDestinationId=null,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))()},stopPush:function(e){var t=this;return l(s().mark((function r(){var n,i,a,c,l,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,o.useNotificationStore)(),t.loadingDestinationId=e,r.prev=2,r.next=5,axios.post("/mist-stream/stop-push",{destination_id:e});case 5:i=r.sent,a=i.data,c=a.message,l=a.status,n.setToastNotification(c,l),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),n.setToastNotification("Failed to stop push.","error");case 13:return r.prev=13,t.loadingDestinationId=null,-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].push_is_started=0),r.finish(13);case 18:case"end":return r.stop()}}),r,null,[[2,10,13,18]])})))()},enableAutoPush:function(e){var t=this;return l(s().mark((function r(){var n,i,a,c,l,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loadingDestinationId=e,n=(0,o.useNotificationStore)(),r.prev=2,r.next=5,axios.post("/mist-stream/push-auto-add/"+e);case 5:i=r.sent,a=i.data,c=a.message,l=a.status,n.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=1),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),n.setToastNotification("Failed to enable auto push.","error");case 15:return r.prev=15,t.loadingDestinationId=null,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})))()},disableAutoPush:function(e){var t=this;return l(s().mark((function r(){var n,i,a,c,l,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,o.useNotificationStore)(),t.loadingDestinationId=e,r.prev=2,r.next=5,axios.post("/mist-stream/push-auto-remove/"+e);case 5:i=r.sent,a=i.data,c=a.message,l=a.status,n.setToastNotification(c,l),-1!==(u=t.destinations.findIndex((function(t){return t.id===e})))&&(t.destinations[u].has_auto_push=0),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),n.setToastNotification("Failed to disable auto push.","error");case 15:return r.prev=15,t.loadingDestinationId=null,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})))()},disableAllAutoPushes:function(){var e=this;return l(s().mark((function t(){var r,n,i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.useNotificationStore)(),e.isProcessingDisableAllAutoPushes=!0,t.prev=2,t.next=5,axios.post("/mist-stream/remove-all-auto-pushes-for-stream",{streamName:e.streamKey});case 5:return n=t.sent,i=n.data,a=i.message,c=i.status,r.setToastNotification(a,c),t.next=10,e.fetchPushDestinations();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.setToastNotification("Failed to disable auto push.","error");case 15:return t.prev=15,e.isProcessingDisableAllAutoPushes=!1,t.next=19,e.fetchPushDestinations();case 19:return t.finish(15);case 20:case"end":return t.stop()}}),t,null,[[2,12,15,20]])})))()}},getters:{selectedShow:function(e){var t,r,n=e.shows.find((function(t){return t.id===e.selectedShowId}))||null;return e.streamKey=(null==n||null===(t=n.mist_stream_wildcard)||void 0===t?void 0:t.name)||"Fallback value if undefined",e.wildcardId=(null==n||null===(r=n.mist_stream_wildcard)||void 0===r?void 0:r.id)||"Fallback value if undefined",n},fullRtmpUri:function(e){return e.rtmpUri?e.rtmpUri+"live/":""},fullUrl:function(e){var t=e.rtmpUri?e.rtmpUri+"live/":"";return"".concat(t).concat(e.streamKey)},activeDestinations:function(e){return e.destinations.filter((function(e){return e.push_is_started}))},sourceName:function(e){var t,r;return null!==(t=e.selectedShow)&&void 0!==t&&null!==(t=t.mist_stream_wildcard)&&void 0!==t&&t.name?e.selectedShow.mist_stream_wildcard.name:null!==(r=e.episode)&&void 0!==r&&null!==(r=r.mist_stream_wildcard)&&void 0!==r&&r.name?e.episode.mist_stream_wildcard.name:null},streamOffline:function(e){var t,r;return"Stream is offline"===(null!==(t=null===(r=e.streamInfo)||void 0===r?void 0:r.error)&&void 0!==t?t:"")}}})},11906:(e,t,r)=>{r.r(t),r.d(t,{useMistStore:()=>l});var n=r(69876);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),s=new B(n||[]);return a(i,"_invoke",{value:_(e,r,s)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};d(S,c,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(I([])));E&&E!==r&&n.call(E,c)&&(S=E);var N=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(i,a,s,c){var l=h(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,r,n){var o=p;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=P(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(t,r,n);if("normal"===l.type){if(o=n.done?y:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return b.prototype=x,a(N,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(V.prototype),d(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new V(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function a(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var c=function(){return{apiRequest:[],challenge:[],status:[],apiResponse:[],apiActiveStreams:[],mistUsername:[],mistPassword:[],mistStatus:Boolean,mistDisplayPushForm:Boolean,mistDisplay:String,mistNewHashedPassword:[],mistStreamPushDestinations:[]}},l=(0,n.Q_)("mistStore",{state:c,actions:{reset:function(){Object.assign(this,c())},getMistStreamPushDestinations:function(e){return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},getMistStreamPushAutoList:function(e){var t=this;return s(i().mark((function r(){var n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=13;break}return r.prev=1,r.next=4,axios.post("/mist-stream/get-push-auto-list?wildcardId=".concat(e));case 4:n=r.sent,t.mistStreamPushDestinations=n.data,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.error("Failed to fetch push auto list:",r.t0);case 11:r.next=14;break;case 13:console.error("No wildcard ID found (getMistStreamPushAutoList)");case 14:case"end":return r.stop()}}),r,null,[[1,8]])})))()},getMistStreamPushList:function(e){var t=this;return s(i().mark((function r(){var n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=13;break}return r.prev=1,r.next=4,axios.post("/mist-stream/get-push-list?wildcardId=".concat(e));case 4:n=r.sent,t.mistStreamPushDestinations=n.data,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.error("Failed to fetch push list:",r.t0);case 11:r.next=14;break;case 13:console.error("No wildcard ID found (getMistStreamPushList)");case 14:case"end":return r.stop()}}),r,null,[[1,8]])})))()}}})},87166:(e,t,r)=>{r.r(t),r.d(t,{useVideoAuxPlayerStore:()=>g});var n=r(69876),o=r(58358),i=r(53489),a=r(90771),s=r(26331),c=r(69812),l=r(40365),u=r(72200),d=(r(39038),r(70821)),f=r(83004);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new B(n||[]);return o(a,"_invoke",{value:_(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};l(S,a,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(I([])));E&&E!==r&&n.call(E,a)&&(S=E);var N=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==h(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,r,n){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=P(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?y:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(h(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(V.prototype),l(V.prototype,s,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new V(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),l(N,c,"Generator"),l(N,a,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function v(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,s,"next",e)}function s(e){v(i,n,o,a,s,"throw",e)}a(void 0)}))}}var y=function(){return{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1}},g=(0,n.Q_)("videoAuxPlayerStore",{state:y,actions:{reset:function(){Object.assign(this,{mistServerUri:"https://mist.nottv.io/",player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1})},getMistServerUri:function(){var e=this;return m(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/mist-server/uri");case 3:r=t.sent,e.mistServerUri=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setPlayer:function(e){var t=this;this.player=e,this.initializePlayer().then((function(){t.attachEventListeners()})).catch((function(e){console.error("Error during video player initialization:",e)}))},initializePlayer:function(){var e=this;return m(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player){t.next=3;break}return console.error("Video.js player is not initialized."),t.abrupt("return");case 3:return t.next=5,(0,d.nextTick)();case 5:return t.next=7,(0,l.useAudioStore)().ensureAudioContextAndNodesReady(e.player);case 7:e.player.controls(!1),e.player.muted(e.muted),e.player.ready((function(){e.player.play().then((function(){console.log("Playback started successfully")})).catch((function(e){console.error("Error trying to play the video:",e)}))}));case 10:case"end":return t.stop()}}),t)})))()},attachEventListeners:function(){this.player&&!this.eventListenersAttached?(this.player.on("timeupdate",this.handleTimeUpdate),this.player.on("fullscreenchange",this.handleFullscreenChange),this.player.on("play",this.handlePlay),this.player.on("pause",this.handlePause),this.player.on("error",this.handleError),this.eventListenersAttached=!0,console.log("Event listeners attached.")):console.log("Event listeners are already attached or video player is not initialized.")},detachEventListeners:function(){this.player&&this.eventListenersAttached?((0,l.useAudioStore)().stopAudioLevelMonitoring(),this.player.off("timeupdate",this.handleTimeUpdate),this.player.off("fullscreenchange",this.handleFullscreenChange),this.player.off("play",this.handlePlay),this.player.off("pause",this.handlePause),this.player.off("error",this.handleError),this.eventListenersAttached=!1,console.log("Event listeners detached.")):console.log("Event listeners are already detached or video player is not initialized.")},disposePlayer:function(){this.player?(this.detachEventListeners(),this.player.dispose(),this.player=null,console.log("Video player disposed and cleaned up.")):console.error("Video player is not initialized.")},prepareForNewVideoSource:function(e){console.log("Preparing for new video source"),(0,s.useChannelStore)().clearChannel(),this.loadNewVideo(e)},resetPlayback:function(){this.player&&(this.player.pause(),this.player.muted(!0),this.player.currentTime(0),this.detachEventListeners())},handleTimeUpdate:function(){this.currentTime=this.player.currentTime(),this.duration=this.player.duration();this.currentTime,this.duration;this.formattedTime="".concat(this.formatDuration(this.currentTime)," / ").concat(this.formatDuration(this.duration))},formatDuration:function(e){return[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%60)].map((function(e){return e.toString().padStart(2,"0")})).join(":")},handleFullscreenChange:function(){var e,t=this;console.log("Handling fullscreenchange..."),null===(e=this.player)||void 0===e||e.on("fullscreenchange",(function(){t.player.isFullscreen()||!1===t.player.paused()&&t.player.play()}))},handlePlay:function(){var e,t=this;console.log("Handling play..."),null===(e=this.player)||void 0===e||e.on("play",(function(){t.paused=!1}))},handlePause:function(){var e,t=this;console.log("Handling pause..."),null===(e=this.player)||void 0===e||e.on("pause",(function(){t.paused=!0}))},handleError:function(){var e;console.log("Handling error..."),null===(e=this.player)||void 0===e||e.on("error",(function(){var e=this.player.error();console.error("Video.js Error:",e.code,e.message)}))},makeBlue:function(){this.blue=!0},toggleMute:function(){this.muted?this.unMute():this.mute()},mute:function(){this.player&&(this.player.muted(!0),this.muted=!0)},unMute:function(){this.player&&(this.player.muted(!1),this.muted=!1)},togglePlay:function(){var e=(0,u.Z)("aux-player");this.paused?e.play():e.pause()},load:function(){(0,u.Z)("aux-player").load()},loadNewLiveSource:function(e,t){var r=(0,u.Z)("aux-player"),n=this.mistServerUri+"/hls/"+e+"/index.m3u8";r.src({src:n,type:t}),r.play()},pause:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.pause(),this.paused=!0},play:function(){var e=(0,u.Z)("aux-player");e.play(),e.controls(!1),this.paused=!1},next:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.nextSource)},back:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.previousSource)},fullscreen:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.requestFullscreen()},getVideoCurrentTime:function(){var e=(0,u.Z)("aux-player");e.controls(!1),this.videoCurrentTime=e.currentTime},getSourceDetails:function(e){var t,r;(console.log("getSourceDetails called with source:",e),r=e.type||"video/mp4",console.log("Determined Video Source Type: ".concat(r)),"externalVideo"===e.mediaType)?(t=e.video_url,console.log("Using external video source:",t)):(console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),t="".concat(e.cdn_endpoint).concat(e.cloud_folder).concat(e.folder,"/")+e.file_name,console.log("Constructed internal video source:",t));return console.log("Final Constructed Video Source: ".concat(t,", Type: ").concat(r)),{videoSrc:t,videoSourceType:r}},loadNewVideo:function(e){var t=this;try{var r=(0,u.Z)("aux-player");console.log("LOAD NEW VIDEO");var n=(0,l.useAudioStore)(),o=this.getSourceDetails(e),i=o.videoSrc,a=o.videoSourceType;r&&(r.src({src:i,type:a}),r.ready((function(){n.deferAudioSetup=!1,n.ensureAudioContextAndNodesReady(r).then((function(){r.play().catch((function(e){(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Playback initiation error: "+e),console.error("Playback initiation error: ",e)})),r.muted(!1),t.muted=!1}))})))}catch(e){(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Error loading new video: "+e),console.error("Error loading new video: ",e)}},playNewVideo:function(){var e=this;console.log("PLAY NEW VIDEO"),this.player&&this.player.ready((function(){e.player.play(),e.player.muted(!1),e.muted=!1}))},loadNewSourceFromYouTube:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="video/youtube",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewLiveSourceFromRumble:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewSourceFromUrl:function(e){try{this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");if(!e.video_url||!e.type)throw(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Invalid video source."),new Error("Invalid video source.");this.videoSource=e.video_url,this.videoSourceType=e.type,t.src({src:e.video_url,type:e.type}),this.unMute(),this.paused=!1}catch(e){throw(0,f.useNotificationStore)().setGeneralServiceNotification("Error","Failed to load new source: "+e),console.error("Failed to load new source:",e),e}},loadNewSourceFromMist:function(e){this.videoIsYoutube=!1;var t=(0,u.Z)("aux-player");this.videoSource="https://mist.not.tv/hls/"+e+"/index.m3u8",this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadNewSourceFromFile:function(e){this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player"),r=e.cdn_endpoint+e.cloud_folder+e.folder+"/";this.videoSource=e.file_name,this.videoSourceType=e.type,t.src({src:r+this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadExternalSourceVideo:function(){},loadPlaylistVideos:function(){},loadMistStreamVideo:function(e,t){var r=this;return m(p().mark((function n(){var o,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=!0,t&&(o=!1),r.mistServerUri){n.next=7;break}return console.log("Mist Server URI not set, fetching..."),n.next=7,r.getMistServerUri();case 7:r.mistServerUri?(i=r.mistServerUri,r.videoSource=i+"hls/"+e.name+"/index.m3u8",r.videoSourceType="application/vnd.apple.mpegURL",(0,u.Z)("aux-player").src({src:r.videoSource,type:r.videoSourceType}),o&&r.unMute(),r.paused=!1):console.error("Mist Server URI is still not set after fetching.");case 8:case"end":return n.stop()}}),n)})))()},loadVideoFromFile:function(e){var t=this;return m(p().mark((function r(){var n;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("Video Source Type:",e.type),console.log("Video URL:",e.video_url),console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),n=e.cdn_endpoint+e.cloud_folder+e.folder+"/"+e.file_name,(0,u.Z)("aux-player").src({src:n,type:e.type}),t.unMute(),t.paused=!1;case 11:case"end":return r.stop()}}),r)})))()},setNowPlayingInfoVideoFile:function(e){this.nowPlayingType="Video File",this.nowPlayingName=e.file_name,(0,i.useStreamStore)().currentChannel="On Demand"},setNowPlayingInfoShow:function(e,t){this.clearNowPlayingInfo();var r=(0,c.useShowStore)();e.firstPlayVideo?(r.setName(e.firstPlayVideo.name),r.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(source.firstPlayVideo.slug))):t?(r.setName(e.name),r.setUrl("/shows/".concat(e.slug)),r.setEpisodeName(t.name),r.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(t.slug))):(r.setName(e.name),r.setUrl("/shows/".concat(e.slug)))},makeVideoPiP:function(){},makeVideoFullPage:function(){var e=(0,o.useAppSettingStore)(),t=(0,a.useUserStore)();e.fullPage=!0,e.hidePage=!0,e.ott=0,this.videoContainerClass="fullPageVideoContainer",this.class="fullPageVideoClass",this.controls=!t.isMobile},makeVideoTopRight:function(){var e=(0,o.useAppSettingStore)();e.fullPage=!1,e.hidePage=!1,e.currentPageIsStream=!1,this.videoContainerClass="topRightVideoContainer",this.class="topRightVideoClass",this.controls=!1},makeVideoWelcomePage:function(){var e=(0,o.useAppSettingStore)();this.videoContainerClass="welcomeVideoContainer",this.class="welcomeVideoClass",e.loggedIn=!1,e.fullPage=!0,e.hidePage=!1},setMistServerUri:function(e){this.mistServerUri=e}},getters:{}})},24831:(e,t,r)=>{r.d(t,{U:()=>s});r(70821);var n=r(90771),o=r(58358),i=r(40191),a=r(9680);function s(e){var t=(0,n.useUserStore)(),r=(0,o.useAppSettingStore)(),s=(0,i.useVideoPlayerStore)();r.currentPage=e,r.showFlashMessage=!0,r.pageIsHidden=!1,t.isMobile?r.ott=0:r.ott=1,s.makeVideoTopRight(),r.pageReload&&(r.pageReload=!1,window.location.reload(!0)),a.Inertia.on("navigate",(function(e){""!==window.location.search&&!r.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),r.shouldScrollToTop=!1})),r.setPrevUrl(),r.showOttButtons=!0,r.noLayout=!1}},42915:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(94015),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"@keyframes fadeOut-526ae918{0%{opacity:1}to{opacity:0}}","",{version:3,sources:["webpack://./resources/js/Components/Pages/GoLive/GoLiveHeader.vue"],names:[],mappings:"AA4LA,4BACE,GACE,SACF,CACA,GACE,SACF,CACF",sourcesContent:['<template>\n  <div class="flex flex-row flex-wrap-reverse w-full justify-between gap-2">\n    <div>\n      <div class="mb-2">\n        <button @click="appSettingStore.btnRedirect(\'/training/go-live-using-zoom\')"\n                class="btn bg-blue-500 hover:bg-blue-700 text-white">How To Stream From Zoom\n        </button>\n        <button @click="openObsInstructions = !openObsInstructions"\n                class="btn bg-blue-500 hover:bg-blue-700 text-white ml-2"\n                :class="{\'bg-yellow-800 hover:bg-yellow-900 \':openObsInstructions}">\n          <span v-if="!openObsInstructions">View Your Stream Key</span>\n          <span v-else>Hide Your Stream Key</span>\n        </button>\n\n      </div>\n      <div v-if="openObsInstructions" class="my-4 ml-10">\n        <h3>Stream from OBS or other software using these details:</h3>\n        <div>RTMP full url: <span v-if="fullUrl" class="font-bold">{{ fullUrl }}</span>\n          &nbsp;<button v-if="rtmpUri && streamKey" @click="copyFullUrl">\n            <font-awesome-icon v-if="rtmpUri && streamKey" icon="fa-clipboard"\n                               class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n          </button>\n          <span v-if="showCopiedFullUrl" class="ml-1 copied-message" style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n        </div>\n        <div>RTMP url: <span class="font-bold">{{ rtmpUri }}</span>\n          &nbsp;<button v-if="rtmpUri" @click="copyRtmpUri">\n            <font-awesome-icon v-if="rtmpUri" icon="fa-clipboard"\n                               class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n          </button>\n          <span v-if="showCopiedRtmpUri" class="ml-1 copied-message" style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n        </div>\n        <div>RTMP stream key: <span class="font-bold">{{ streamKey }}</span>\n          &nbsp;<button v-if="streamKey" @click="copyStreamKey">\n            <font-awesome-icon v-if="streamKey" icon="fa-clipboard"\n                               class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n          </button>\n          <span v-if="showCopiedStreamKey" class="ml-1 copied-message"\n                style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n        </div>\n      </div>\n    </div>\n\n    <div class="flex flex-row flex-wrap justify-between grow ml-4 gap-2">\n      <div v-if="!openObsInstructions"\n           class="flex flex-col justify-center border-2 border-green-500 rounded-lg px-2 py-2 gap-2">\n        <div class="flex flex-row gap-2">\n          <div class="mb-2">\n            <button v-if="!goLiveStore.isRecording" @click="goLiveStore.startRecording"\n                    disabled\n                    class="btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"\n            >Start Recording\n            </button>\n            <button v-else disabled @click="goLiveStore.stopRecording"\n                    class="btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"\n            >Stop Recording\n            </button>\n          </div>\n          <div class="ml-2">\n            <button v-if="!goLiveStore.isLive" disabled @click="goLiveStore.goLive"\n                    class="btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"\n            >Go Live Now\n            </button>\n            <button v-else disabled @click="goLiveStore.stopLive"\n                    class="btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"\n            >End Live\n            </button>\n\n          </div>\n        </div>\n        <div v-if="!goLiveStore.isRecording || !goLiveStore.isLive"\n             class="text-xs text-green-500 font-semibold tracking-wider text-center">\n          Coming Soon!\n        </div>\n      </div>\n\n      <div class="ml-2">\n        <button class="btn btn-secondary" @click="openStats">Live Analytics</button>\n      </div>\n\n      <div class="">\n        <div>Live will begin in... &nbsp;</div>\n        \x3c!--          <div class="font-semibold">{{ formattedCountdown }} (for demo purposes only)</div>--\x3e\n        <div class="countdown font-mono text-2xl">\n          \x3c!-- Hours (if your countdown includes hours) --\x3e\n          <span :style="{ \'--value\': hours }">{{ hours.toString().padStart(2, \'0\') }}</span>h\n          \x3c!-- Minutes --\x3e\n          <span :style="{ \'--value\': minutes }">{{ minutes.toString().padStart(2, \'0\') }}</span>m\n          \x3c!-- Seconds --\x3e\n          <span :style="{ \'--value\': seconds }">{{ seconds.toString().padStart(2, \'0\') }}</span>s\n        </div>\n        <div class="text-xs">for demo purposes only</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useGoLiveStore } from \'@/Stores/GoLiveStore\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\nimport { computed, onMounted, onUnmounted, ref, watchEffect } from \'vue\'\nimport { useClipboard } from \'@vueuse/core\'\n\nconst appSettingStore = useAppSettingStore()\nconst goLiveStore = useGoLiveStore()\n\nconst showCopiedFullUrl = ref(false)\nconst showCopiedRtmpUri = ref(false)\nconst showCopiedStreamKey = ref(false)\n\nconst {copy} = useClipboard()\nconst openObsInstructions = ref(false)\n\nconst rtmpUri = computed(() => goLiveStore.fullRtmpUri)\nconst streamKey = computed(() => goLiveStore.streamKey)\nconst fullUrl = computed(() => goLiveStore.fullUrl)\n\nconst copyFullUrl = () => {\n  copy(fullUrl.value)\n  showCopiedFullUrl.value = true\n  setTimeout(() => showCopiedFullUrl.value = false, 1000)\n}\n\nconst copyRtmpUri = () => {\n  copy(rtmpUri.value)\n  showCopiedRtmpUri.value = true\n  setTimeout(() => showCopiedRtmpUri.value = false, 1000)\n}\n\nconst copyStreamKey = () => {\n  copy(streamKey.value)\n  showCopiedStreamKey.value = true\n  setTimeout(() => showCopiedStreamKey.value = false, 1000)\n}\n\n// Keep a reference to the interval ID so it can be cleared\nlet intervalId = null\n\n// Initial countdown time in seconds (5 minutes * 60 seconds)\nconst countdownTime = 5 * 60\n// Reactive state for the countdown\nconst countdown = ref(countdownTime)\n\n// Computed properties for hours, minutes, and seconds\nconst hours = computed(() => Math.floor(countdown.value / 3600))\nconst minutes = computed(() => Math.floor((countdown.value % 3600) / 60))\nconst seconds = computed(() => countdown.value % 60)\n\nconst openStats = () => {\n  window.open(\'/stats\', \'_blank\')\n}\n\n\n// Function to start the countdown\nconst startCountdown = () => {\n  // // Clear any existing interval to prevent multiple intervals\n  // if (intervalId !== null) {\n  //   clearInterval(intervalId)\n  // }\n  //\n  // // Reset countdown to initial value\n  // countdown.value = countdownTime\n  //\n  // // Start a new interval\n  // intervalId = setInterval(() => {\n  //   countdown.value--\n  //\n  //   if (countdown.value < 0) {\n  //     clearInterval(intervalId) // Stop the interval\n  //     intervalId = null // Reset the interval ID\n  //     // Optionally, you can reset countdown.value to countdownTime or another value here\n  //   }\n  // }, 1000)\n}\n\nonMounted(async () => {\n  // Automatically start the countdown or trigger based on an event\n  startCountdown()\n})\n\n// Cleanup when the component unmounts\nonUnmounted(() => {\n  // Cleanup interval on component unmount (countdown timer)\n  if (intervalId !== null) {\n    clearInterval(intervalId)\n  }\n})\n<\/script>\n<style scoped>\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n</style>'],sourceRoot:""}]);const s=a},19204:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(70821),o=r(9680),i=r(58358),a=r(90771);const s={__name:"CancelButton",props:{url:String},setup:function(e){var t=(0,i.useAppSettingStore)(),r=(0,a.useUserStore)(),s=e;function c(){if(t.prevUrl)s.url?o.Inertia.visit(s.url):o.Inertia.visit(t.prevUrl);else if(s.url)o.Inertia.visit(s.url);else{var e=r.isCreator?"/dashboard":"/";o.Inertia.visit(e)}}return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)(c,["prevent"]),class:"ml-2 px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg"},"Cancel ")])}}}},25506:(e,t,r)=>{r.d(t,{Z:()=>Ot});var n=r(70821),o=r(58358),i=r(40191),a=r(87166),s=r(71493),c=r(11906),l=r(57810),u=r(52829);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(){f=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new B(n||[]);return o(a,"_invoke",{value:_(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};l(S,a,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(I([])));E&&E!==r&&n.call(E,a)&&(S=E);var N=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,i,a,s){var c=h(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==d(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,r,n){var o=p;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=P(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(t,r,n);if("normal"===l.type){if(o=n.done?y:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(d(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(V.prototype),l(V.prototype,s,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new V(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),l(N,c,"Generator"),l(N,a,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function h(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,s,"next",e)}function s(e){h(i,n,o,a,s,"throw",e)}a(void 0)}))}}var v=function(e){return(0,n.pushScopeId)("data-v-526ae918"),e=e(),(0,n.popScopeId)(),e},m={class:"flex flex-row flex-wrap-reverse w-full justify-between gap-2"},y={class:"mb-2"},g={key:0},w={key:1},b={key:0,class:"my-4 ml-10"},x=v((function(){return(0,n.createElementVNode)("h3",null,"Stream from OBS or other software using these details:",-1)})),S={key:0,class:"font-bold"},k={key:2,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},E={class:"font-bold"},N={key:1,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},L={class:"font-bold"},V={key:1,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},_={class:"flex flex-row flex-wrap justify-between grow ml-4 gap-2"},P={key:0,class:"flex flex-col justify-center border-2 border-green-500 rounded-lg px-2 py-2 gap-2"},C={class:"flex flex-row gap-2"},T={class:"mb-2"},B={class:"ml-2"},I={key:0,class:"text-xs text-green-500 font-semibold tracking-wider text-center"},O={class:""},j=v((function(){return(0,n.createElementVNode)("div",null,"Live will begin in... ",-1)})),D={class:"countdown font-mono text-2xl"},A=v((function(){return(0,n.createElementVNode)("div",{class:"text-xs"},"for demo purposes only",-1)}));const F={__name:"GoLiveHeader",setup:function(e){var t=(0,o.useAppSettingStore)(),r=(0,s.useGoLiveStore)(),i=(0,n.ref)(!1),a=(0,n.ref)(!1),c=(0,n.ref)(!1),d=(0,u.VPI)().copy,h=(0,n.ref)(!1),v=(0,n.computed)((function(){return r.fullRtmpUri})),F=(0,n.computed)((function(){return r.streamKey})),G=(0,n.computed)((function(){return r.fullUrl})),M=function(){d(G.value),i.value=!0,setTimeout((function(){return i.value=!1}),1e3)},U=function(){d(v.value),a.value=!0,setTimeout((function(){return a.value=!1}),1e3)},R=function(){d(F.value),c.value=!0,setTimeout((function(){return c.value=!1}),1e3)},Z=(0,n.ref)(300),K=(0,n.computed)((function(){return Math.floor(Z.value/3600)})),Y=(0,n.computed)((function(){return Math.floor(Z.value%3600/60)})),z=(0,n.computed)((function(){return Z.value%60})),H=function(){window.open("/stats","_blank")};return(0,n.onMounted)(p(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))),(0,n.onUnmounted)((function(){0})),function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,n.unref)(t).btnRedirect("/training/go-live-using-zoom")}),class:"btn bg-blue-500 hover:bg-blue-700 text-white"},"How To Stream From Zoom "),(0,n.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return h.value=!h.value}),class:(0,n.normalizeClass)(["btn bg-blue-500 hover:bg-blue-700 text-white ml-2",{"bg-yellow-800 hover:bg-yellow-900 ":h.value}])},[h.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",w,"Hide Your Stream Key")):((0,n.openBlock)(),(0,n.createElementBlock)("span",g,"View Your Stream Key"))],2)]),h.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",b,[x,(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("RTMP full url: "),G.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",S,(0,n.toDisplayString)(G.value),1)):(0,n.createCommentVNode)("",!0),(0,n.createTextVNode)(" "),v.value&&F.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:M},[v.value&&F.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.GN),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),i.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",k,"Copied!")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("RTMP url: "),(0,n.createElementVNode)("span",E,(0,n.toDisplayString)(v.value),1),(0,n.createTextVNode)(" "),v.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:U},[v.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.GN),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),a.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",N,"Copied!")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("RTMP stream key: "),(0,n.createElementVNode)("span",L,(0,n.toDisplayString)(F.value),1),(0,n.createTextVNode)(" "),F.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:R},[F.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.GN),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),c.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",V,"Copied!")):(0,n.createCommentVNode)("",!0)])])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",_,[h.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",P,[(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("div",T,[(0,n.unref)(r).isRecording?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,disabled:"",onClick:o[3]||(o[3]=function(){var e;return(0,n.unref)(r).stopRecording&&(e=(0,n.unref)(r)).stopRecording.apply(e,arguments)}),class:"btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"},"Stop Recording ")):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:o[2]||(o[2]=function(){var e;return(0,n.unref)(r).startRecording&&(e=(0,n.unref)(r)).startRecording.apply(e,arguments)}),disabled:"",class:"btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"},"Start Recording "))]),(0,n.createElementVNode)("div",B,[(0,n.unref)(r).isLive?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,disabled:"",onClick:o[5]||(o[5]=function(){var e;return(0,n.unref)(r).stopLive&&(e=(0,n.unref)(r)).stopLive.apply(e,arguments)}),class:"btn btn-sm text-white bg-red-700 hover:bg-red-900 uppercase"},"End Live ")):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,disabled:"",onClick:o[4]||(o[4]=function(){var e;return(0,n.unref)(r).goLive&&(e=(0,n.unref)(r)).goLive.apply(e,arguments)}),class:"btn btn-sm text-white bg-green-500 hover:bg-green-700 uppercase"},"Go Live Now "))])]),(0,n.unref)(r).isRecording&&(0,n.unref)(r).isLive?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",I," Coming Soon! "))])),(0,n.createElementVNode)("div",{class:"ml-2"},[(0,n.createElementVNode)("button",{class:"btn btn-secondary",onClick:H},"Live Analytics")]),(0,n.createElementVNode)("div",O,[j,(0,n.createElementVNode)("div",D,[(0,n.createElementVNode)("span",{style:(0,n.normalizeStyle)({"--value":K.value})},(0,n.toDisplayString)(K.value.toString().padStart(2,"0")),5),(0,n.createTextVNode)("h "),(0,n.createElementVNode)("span",{style:(0,n.normalizeStyle)({"--value":Y.value})},(0,n.toDisplayString)(Y.value.toString().padStart(2,"0")),5),(0,n.createTextVNode)("m "),(0,n.createElementVNode)("span",{style:(0,n.normalizeStyle)({"--value":z.value})},(0,n.toDisplayString)(z.value.toString().padStart(2,"0")),5),(0,n.createTextVNode)("s ")]),A])])])}}};var G=r(93379),M=r.n(G),U=r(42915),R={insert:"head",singleton:!1};M()(U.Z,R);U.Z.locals;var Z=r(83744);const K=(0,Z.Z)(F,[["__scopeId","data-v-526ae918"]]);var Y=r(72200),z=(r(90111),r(53489)),H=(r(94268),{class:"w-full h-fit bg-yellow-400"}),W=["id"],q=["src","type"];const Q={__name:"VideoJsAux",props:{options:Object,id:String,source:String,sourceType:String},setup:function(e){(0,o.useAppSettingStore)();var t=(0,a.useVideoAuxPlayerStore)(),r=((0,z.useStreamStore)(),e);return(0,n.onMounted)((function(){var e=r.id,n={controlBar:{audioTrackButton:!1,autoHide:!0,captionsButton:!1,chaptersButton:!1,currentTimeDisplay:!1,customControlSpacer:!1,descriptionsButton:!1,durationDisplay:!1,fullscreenToggle:!1,liveDisplay:!1,pictureInPictureToggle:!1,playToggle:!1,playbackRateMenuButton:!1,progressControl:{seekBar:!1},remainingTimeDisplay:!1,seekToLive:!1,subsCapsButton:!1,subtitlesButton:!1,timeDivider:!1,volumePanel:{inline:!0,volumeBar:{vertical:!1,liveDisplay:!1}}},userActions:{hotkeys:!0},controls:!0,muted:!1,inactivityTimeout:0,autoplay:!0,preload:"auto",html5:{hls:{overrideNative:!Y.Z.browser.IS_SAFARI}}},o=(0,Y.Z)(e,n);t.setPlayer(o),o.el().addEventListener("contextmenu",(function(e){e.preventDefault()}))})),(0,n.onBeforeUnmount)((function(){(0,Y.Z)(r.id).dispose()})),function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",H,[(0,n.createElementVNode)("video-js",{id:e.id,class:"video-js vjs-layout-tiny w-96 h-64 bg-blue-400",autoplay:"",muted:"",playsinline:"",crossorigin:"anonymous"},[(0,n.createElementVNode)("source",{src:e.source,type:e.sourceType},null,8,q)],8,W)])}}};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(){J=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:L(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function w(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==r&&n.call(S,a)&&(b=S);var k=w.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==$(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=V(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function V(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,V(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError($(t)+" is not iterable")}return g.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new N(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function X(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){X(i,n,o,a,s,"next",e)}function s(e){X(i,n,o,a,s,"throw",e)}a(void 0)}))}}var te={class:"flex flex-col justify-center mt-3 h-fit"},re=(0,n.createElementVNode)("div",{class:"text-xs tracking-wider font-semibold mb-1 pl-11"},"LIVE VIDEO STREAM",-1),ne={class:"flex flex-row flex-wrap"},oe={class:"flex flex-col"},ie={class:"px-10 h-fit w-fit"},ae={key:0,class:"loading loading-spinner loading-xs"},se={key:0,class:"w-full bg-red-700 text-white text-center uppercase font-bold"},ce={key:0},le={key:1},ue={key:2},de={class:"flex flex-row px-10 w-full justify-center"},fe={class:"mt-2"},he={class:"mt-2 ml-2"},pe=(0,n.createElementVNode)("h3",null,"Stream Info",-1),ve=(0,n.createElementVNode)("strong",null,"Width:",-1),me=(0,n.createElementVNode)("strong",null,"Height:",-1),ye={key:0},ge=(0,n.createElementVNode)("h4",{class:"font-semibold"},"Tracks",-1),we={key:1},be=[(0,n.createElementVNode)("div",{class:"flex flex-col"},[(0,n.createElementVNode)("span",{class:"mb-2"},"Loading stream data..."),(0,n.createElementVNode)("span",{class:"loading loading-spinner text-neutral"})],-1)],xe={key:2},Se={class:"flex flex-col"},ke={class:"mb-2"};const Ee={__name:"GoLiveAuxVideoPlayer",setup:function(e){var t,r=(0,s.useGoLiveStore)(),o=(0,a.useVideoAuxPlayerStore)(),c=(0,i.useVideoPlayerStore)(),u=(0,n.computed)((function(){return r.isLive||r.isRecording?"bg-gray-200 hover:bg-gray-400":""})),d=(0,n.computed)((function(){return r.isLive||r.isRecording?"border-4 border-red-700":""})),f=(0,n.ref)(c.mistServerUri+"hls/"+(null==r||null===(t=r.selectedShow)||void 0===t?void 0:t.mist_stream_wildcard.name)+"/index.m3u8"),h=(0,n.ref)("application/vnd.apple.mpegURL");return(0,n.onMounted)(ee(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onPlayerReady AUX");case 1:case"end":return e.stop()}}),e)})))),(0,n.onUnmounted)((function(){o.disposePlayer()})),function(e,t){var i,a,s,p,v,m,y,g;return(0,n.openBlock)(),(0,n.createElementBlock)("div",te,[re,(0,n.createElementVNode)("div",ne,[(0,n.createElementVNode)("div",oe,[(0,n.createElementVNode)("div",ie,[(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){(0,n.unref)(r).reloadPlayer()}),class:(0,n.normalizeClass)(["btn btn-xs w-full py-1",u.value])},[(0,n.unref)(r).playerIsReloading?((0,n.openBlock)(),(0,n.createElementBlock)("span",ae)):(0,n.createCommentVNode)("",!0),(0,n.createTextVNode)(" Reload Player ")],2),(0,n.unref)(r).isLive||(0,n.unref)(r).isRecording?((0,n.openBlock)(),(0,n.createElementBlock)("div",se,[(0,n.unref)(r).isLive?((0,n.openBlock)(),(0,n.createElementBlock)("span",ce,"LIVE")):(0,n.createCommentVNode)("",!0),(0,n.createTextVNode)(),(0,n.unref)(r).isLive&&(0,n.unref)(r).isRecording?((0,n.openBlock)(),(0,n.createElementBlock)("span",le," + ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(r).isRecording?((0,n.openBlock)(),(0,n.createElementBlock)("span",ue,"RECORDING")):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)((0,n.unref)(Q),{id:"aux-player",source:f.value,sourceType:h.value,class:(0,n.normalizeClass)(["",d.value])},null,8,["source","sourceType","class"])]),(0,n.createElementVNode)("div",de,[(0,n.createElementVNode)("div",fe,[(0,n.unref)(c).muted?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"btn btn-neutral text-white btn-xs",onClick:t[2]||(t[2]=function(){var e;return(0,n.unref)(c).unMute&&(e=(0,n.unref)(c)).unMute.apply(e,arguments)})},[(0,n.createVNode)((0,n.unref)(l.GN),{icon:"fa-volume-up",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,n.createTextVNode)(" Turn On Main Video Audio ")])):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"btn btn-warning btn-xs",onClick:t[1]||(t[1]=function(){var e;return(0,n.unref)(c).mute&&(e=(0,n.unref)(c)).mute.apply(e,arguments)})},[(0,n.createVNode)((0,n.unref)(l.GN),{icon:"fa-volume-mute",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,n.createTextVNode)(" Mute Main Video Audio ")]))]),(0,n.createElementVNode)("div",he,[(0,n.unref)(o).muted?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"btn btn-neutral text-white btn-xs",onClick:t[4]||(t[4]=function(){var e;return(0,n.unref)(o).unMute&&(e=(0,n.unref)(o)).unMute.apply(e,arguments)})},[(0,n.createVNode)((0,n.unref)(l.GN),{icon:"fa-volume-up",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,n.createTextVNode)(" Turn On Live Stream Audio ")])):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"btn btn-warning btn-xs",onClick:t[3]||(t[3]=function(){var e;return(0,n.unref)(o).mute&&(e=(0,n.unref)(o)).mute.apply(e,arguments)})},[(0,n.createVNode)((0,n.unref)(l.GN),{icon:"fa-volume-mute",class:"mr-1 cursor-pointer hover:text-blue-500"}),(0,n.createTextVNode)(" Mute Live Stream Audio ")]))])])]),(0,n.unref)(r).streamInfo&&!(0,n.unref)(r).streamInfo.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"w-80",key:(0,n.unref)(r).selectedShowId},[(0,n.createElementVNode)("div",null,[pe,(0,n.createElementVNode)("p",null,[ve,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(null===(i=(0,n.unref)(r).streamInfo)||void 0===i?void 0:i.width),1)]),(0,n.createElementVNode)("p",null,[me,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(null===(a=(0,n.unref)(r).streamInfo)||void 0===a?void 0:a.height),1)]),null!==(s=(0,n.unref)(r).streamInfo)&&void 0!==s&&null!==(s=s.meta)&&void 0!==s&&s.tracks?((0,n.openBlock)(),(0,n.createElementBlock)("div",ye,[ge,(0,n.createElementVNode)("ul",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(null===(p=(0,n.unref)(r))||void 0===p||null===(p=p.streamInfo)||void 0===p?void 0:p.meta.tracks,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t},"  "+(0,n.toDisplayString)(t)+" - Codec: "+(0,n.toDisplayString)(e.codec)+", Rate: "+(0,n.toDisplayString)(e.rate),1)})),128))])])):(0,n.createCommentVNode)("",!0)])])):(0,n.createCommentVNode)("",!0),null!==(v=(0,n.unref)(r))&&void 0!==v&&v.streamInfo||null!==(m=(0,n.unref)(r))&&void 0!==m&&null!==(m=m.streamInfo)&&void 0!==m&&m.error?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",we,be)),null!==(y=(0,n.unref)(r))&&void 0!==y&&null!==(y=y.streamInfo)&&void 0!==y&&y.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",xe,[(0,n.createElementVNode)("div",Se,[(0,n.createElementVNode)("span",ke,(0,n.toDisplayString)(null===(g=(0,n.unref)(r))||void 0===g||null===(g=g.streamInfo)||void 0===g?void 0:g.error),1)])])):(0,n.createCommentVNode)("",!0)])])}}};var Ne=r(83004);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ve(){Ve=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:L(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function w(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==r&&n.call(S,a)&&(b=S);var k=w.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Le(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=V(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function V(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,V(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Le(t)+" is not iterable")}return g.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new N(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function _e(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var Pe={id:"mistStreamPushDestinationForm",class:"modal"},Ce={class:"modal-box"},Te=(0,n.createElementVNode)("form",{method:"dialog"},[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"")],-1),Be={class:"font-bold text-lg"},Ie={class:"my-3 flex flex-col space-y-2"},Oe={key:0,role:"alert",class:"alert alert-error"},je=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),De={class:"w-full flex flex-row justify-between"},Ae=["disabled"],Fe={key:0},Ge={key:1},Me=(0,n.createElementVNode)("span",{class:"my-2 loading loading-dots loading-sm"},null,-1);const Ue={__name:"MistStreamPushDestinationForm",props:{destinationDetails:Object,mode:String},emits:["update-success"],setup:function(e,t){var r=t.emit,o=(0,Ne.useNotificationStore)(),i=(0,s.useGoLiveStore)(),a=((0,c.useMistStore)(),e),l=r,u=(0,n.ref)({show_id:i.selectedShowId,stream_name:i.streamKey,mist_stream_wildcard_id:a.destinationDetails.mist_stream_wildcard_id,id:a.destinationDetails.id,rtmp_url:a.destinationDetails.rtmp_url,rtmp_key:a.destinationDetails.rtmp_key,comment:a.destinationDetails.comment,errors:""});(0,n.watchEffect)((function(){u.value.mist_stream_wildcard_id=a.destinationDetails.mist_stream_wildcard_id||"",u.value.id=a.destinationDetails.id||"",u.value.rtmp_url=a.destinationDetails.rtmp_url||"",u.value.rtmp_key=a.destinationDetails.rtmp_key||"",u.value.comment=a.destinationDetails.comment||""}));var d=function(){var e,t=(e=Ve().mark((function e(){var t,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.pushDestinationFormSubmitProcessing=!0,t="/mist-stream-push-destinations",r="post","edit"===a.mode&&a.destinationDetails.id&&(t+="/".concat(a.destinationDetails.id),r="put"),e.prev=4,e.next=7,axios({method:r,url:t,data:u.value});case 7:return e.sent,l("update-success"),u.value.errors="",e.next=12,i.fetchPushDestinations();case 12:i.pushDestinationFormSubmitProcessing=!1,document.getElementById("mistStreamPushDestinationForm").close(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?(o.errorMessage=e.t0.response.data.errors,i.pushDestinationFormSubmitProcessing=!1):(o.setGeneralServiceNotification("Submission error",e.t0),i.pushDestinationFormSubmitProcessing=!1);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_e(i,n,o,a,s,"next",e)}function s(e){_e(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("dialog",Pe,[(0,n.createElementVNode)("div",Ce,[Te,(0,n.createElementVNode)("h3",Be,(0,n.toDisplayString)("add"===e.mode?"Add Push Destination":"Edit Push Destination"),1),(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(d,["prevent"])},[(0,n.createElementVNode)("div",Ie,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return u.value.rtmp_url=e}),type:"text",placeholder:"RTMP URL",class:"input input-bordered",required:""},null,512),[[n.vModelText,u.value.rtmp_url]]),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return u.value.rtmp_key=e}),type:"text",placeholder:"RTMP Key",class:"input input-bordered"},null,512),[[n.vModelText,u.value.rtmp_key]]),(0,n.withDirectives)((0,n.createElementVNode)("textarea",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return u.value.comment=e}),class:"textarea textarea-bordered",placeholder:"Optional Comment..."},null,512),[[n.vModelText,u.value.comment]]),(0,n.unref)(o).errorMessage?((0,n.openBlock)(),(0,n.createElementBlock)("div",Oe,[je,(0,n.createElementVNode)("div",De,[(0,n.createElementVNode)("div",null,(0,n.toDisplayString)((0,n.unref)(o).formattedErrorMessage),1),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("button",{onClick:r[3]||(r[3]=(0,n.withModifiers)((function(){var e;return(0,n.unref)(o).clearErrorMessage&&(e=(0,n.unref)(o)).clearErrorMessage.apply(e,arguments)}),["prevent"])),class:"btn btn-xs"},"OK")])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("button",{type:"submit",disabled:(0,n.unref)(i).pushDestinationFormSubmitProcessing,class:"mt-2 btn btn-primary text-white disabled:cursor-not-allowed disabled:bg-gray-400"},[(0,n.unref)(i).pushDestinationFormSubmitProcessing?((0,n.openBlock)(),(0,n.createElementBlock)("span",Ge,[(0,n.createTextVNode)("Saving"),Me,(0,n.createTextVNode)(" Please Wait")])):((0,n.openBlock)(),(0,n.createElementBlock)("span",Fe,(0,n.toDisplayString)("add"===e.mode?"Add":"Save Changes"),1))],8,Ae)])],32)])])}}};var Re=r(92016);function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Ke(){Ke=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:L(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function w(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==r&&n.call(S,a)&&(b=S);var k=w.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ze(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=V(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function V(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,V(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Ze(t)+" is not iterable")}return g.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(N.prototype),l(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new N(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Ye(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ze(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ye(i,n,o,a,s,"next",e)}function s(e){Ye(i,n,o,a,s,"throw",e)}a(void 0)}))}}var He={class:"mx-4 mt-4 mb-2 px-6 py-1"},We=(0,n.createElementVNode)("div",{class:"text-sm font-semibold bg-blue-600 text-white text-center w-full border-2 border-blue-600 rounded uppercase px-6 py-1"}," Push Destinations ",-1),qe=(0,n.createElementVNode)("div",{role:"alert",class:"alert"},[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current text-blue-500 w-6 h-6"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,n.createElementVNode)("span",null," Our push statuses get a little refresh every minute. Hang tight and keep the creativity flowing  more awesome updates are on their way!")],-1),Qe={class:"shadow bg-blue-100 overflow-hidden border-2 border-blue-600 rounded p-6 space-y-3"},$e={class:"flex flex-row flex-wrap-reverse w-full justify-between"},Je={class:"mb-2"},Xe={class:"flex flex-col gap-2"},et={class:"flex flex-row justify-end gap-2"},tt={key:0,class:"loading loading-spinner text-info"},rt=["disabled"],nt={class:"flex flex-row justify-between mb-2 py-2 h-12"},ot=(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("h2",{class:"text-xl font-bold"},"Push Destinations")],-1),it={key:0},at=[(0,n.createElementVNode)("span",{class:"loading loading-bars loading-lg text-info mr-2"},null,-1),(0,n.createElementVNode)("span",{class:"text-xs uppercase"},"Refreshing...",-1)],st={key:0},ct=[(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("Set up "),(0,n.createElementVNode)("span",{class:"font-bold"},"push destinations:")],-1),(0,n.createElementVNode)("div",null,"Here you can set additional streaming destinations such as Facebook, YouTube, Rumble, Twitch, etc. and notTV will automatically start pushing to those destinations when you go live. ",-1)],lt={key:1},ut={class:"flex flex-col gap-4"},dt=["src"],ft={class:"flex-grow"},ht={class:"text-lg font-semibold"},pt={class:""},vt={key:0,class:"text-red-500 font-semibold"},mt={class:"flex gap-2 mt-2"},yt=["onClick","disabled"],gt=["onClick","disabled"],wt=["onClick","disabled"],bt=["onClick","disabled"],xt={key:4,class:"text-yellow-500 font-semibold"},St={key:5,class:"loading loading-spinner text-info"},kt={class:"flex flex-row justify-end"},Et=["onClick"],Nt=["onClick"];const Lt={__name:"GoLivePushDestinations",setup:function(e){var t=(0,o.useAppSettingStore)(),r=(0,c.useMistStore)(),i=(0,s.useGoLiveStore)(),a=(0,n.ref)(15),u=(0,n.ref)(null),d=(0,n.ref)({}),f=(0,n.ref)("add"),h=(0,n.computed)((function(){return i.destinations.some((function(e){return 1===e.has_auto_push}))})),p=function(){var e=ze(Ke().mark((function e(){var t,r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.value="add",r=null===(t=i.selectedShow)||void 0===t||null===(t=t.mist_stream_wildcard)||void 0===t?void 0:t.id,d.value={mist_stream_wildcard_id:r},document.getElementById("mistStreamPushDestinationForm").showModal();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=ze(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.value="edit",d.value=t,document.getElementById("mistStreamPushDestinationForm").showModal();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=ze(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.wildcardId){e.next=3;break}return e.next=3,i.fetchPushDestinations();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=ze(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchStreamInfo();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=ze(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.reloadPlayer();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=ze(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([m(),y()]);case 3:if(a.value=15,!0!==i.previousStreamStatus||i.streamOffline){e.next=10;break}return console.log("Stream just transitioned from offline to online, reloading player"),e.next=8,g();case 8:e.next=11;break;case 10:i.streamOffline?console.log("Stream is offline, no action taken"):console.log("Stream is online, no action taken");case 11:i.previousStreamStatus=i.streamOffline,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error during background fetch:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return(0,n.watch)((function(){return i.selectedShow}),function(){var e=ze(Ke().mark((function e(t,r){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=5;break}return e.next=3,w();case 3:return e.next=5,m();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),(0,n.onMounted)(ze(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===u.value&&(u.value=setInterval((function(){a.value>0?a.value-=1:w()}),1e3)),e.next=3,w();case 3:case"end":return e.stop()}}),e)})))),(0,n.onUnmounted)((function(){clearInterval(u.value)})),function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",He,[We,qe,(0,n.createElementVNode)("div",Qe,[(0,n.createElementVNode)("div",$e,[(0,n.createElementVNode)("div",Je,[(0,n.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,n.unref)(t).btnRedirect("/training/how-to-push-to-facebook")}),class:"btn btn-sm bg-blue-500 hover:bg-blue-700 rounded-lg text-white"},"How To Push To Facebook "),(0,n.createElementVNode)("button",{onClick:o[1]||(o[1]=function(e){return(0,n.unref)(t).btnRedirect("/training/how-to-push-to-rumble")}),class:"btn btn-sm bg-blue-500 hover:bg-blue-700 rounded-lg text-white ml-2"},"How To Push To Rumble ")]),(0,n.createElementVNode)("div",Xe,[(0,n.createElementVNode)("button",{class:"btn bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg",onClick:(0,n.withModifiers)(p,["prevent"])},"Add Push Destinations "),(0,n.createElementVNode)("div",et,[(0,n.unref)(i).isProcessingDisableAllAutoPushes?((0,n.openBlock)(),(0,n.createElementBlock)("span",tt)):(0,n.createCommentVNode)("",!0),(0,n.withDirectives)((0,n.createElementVNode)("span",{class:"text-xs"},"Next refresh in... "+(0,n.toDisplayString)(a.value),513),[[n.vShow,!(0,n.unref)(i).isProcessingDisableAllAutoPushes]]),h.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:o[2]||(o[2]=function(e){return(0,n.unref)(i).disableAllAutoPushes()}),disabled:(0,n.unref)(i).isProcessingDisableAllAutoPushes,class:"py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Disable All Auto Pushes ",8,rt)):(0,n.createCommentVNode)("",!0)])])]),(0,n.createElementVNode)("div",nt,[ot,(0,n.unref)(i).isLoadingDestinations?((0,n.openBlock)(),(0,n.createElementBlock)("div",it,at)):(0,n.createCommentVNode)("",!0)]),0===(0,n.unref)(i).destinations.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",st,ct)):(0,n.createCommentVNode)("",!0),(0,n.unref)(i).destinations.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",lt,[(0,n.createElementVNode)("div",ut,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(i).destinations,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.id,class:"border p-4 rounded-lg shadow flex flex-row items-center gap-4"},[(0,n.createElementVNode)("img",{src:e.destination_image,alt:"Destination Image",class:"w-24 h-24 object-cover rounded-full"},null,8,dt),(0,n.createElementVNode)("div",ft,[(0,n.createElementVNode)("h3",ht,(0,n.toDisplayString)(e.destination_name),1),(0,n.createElementVNode)("h4",pt,(0,n.toDisplayString)(e.comment),1),e.push_is_started?((0,n.openBlock)(),(0,n.createElementBlock)("p",vt,"Push Is Active")):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",mt,[e.push_is_started?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:function(t){return(0,n.unref)(i).stopPush(e.id,e.mist_push_id)},disabled:(0,n.unref)(i).loadingDestinationId===e.id,class:"py-2 px-4 bg-red-500 text-white rounded hover:bg-red-700 transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Stop Push ",8,yt)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:function(t){return(0,n.unref)(i).startPush(e.id,e.full_push_uri,e.mist_push_id)},disabled:(0,n.unref)(i).loadingDestinationId===e.id,class:"py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Start Push ",8,gt)),e.has_auto_push?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:2,onClick:function(t){return(0,n.unref)(i).enableAutoPush(e.id)},disabled:(0,n.unref)(i).loadingDestinationId===e.id,class:"py-2 px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Enable Auto Push ",8,wt)),e.has_auto_push?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:3,onClick:function(t){return(0,n.unref)(i).disableAutoPush(e.id)},disabled:(0,n.unref)(i).loadingDestinationId===e.id,class:"hidden py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 transition duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Disable Auto Push ",8,bt)):(0,n.createCommentVNode)("",!0),e.has_auto_push?((0,n.openBlock)(),(0,n.createElementBlock)("p",xt,"Auto push is enabled")):(0,n.createCommentVNode)("",!0),(0,n.unref)(i).loadingDestinationId===e.id?((0,n.openBlock)(),(0,n.createElementBlock)("span",St)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",kt,[(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(t){return v(e)}),["prevent"]),class:"btn btn-sm text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"},[(0,n.createVNode)((0,n.unref)(l.GN),{icon:"fa-pencil",class:"my-1 mx-1"})],8,Et)]),(0,n.createElementVNode)("button",{onClick:(0,n.withModifiers)((function(t){return(0,n.unref)(i).deleteDestination(e.id)}),["prevent"]),class:"btn btn-sm text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"},[(0,n.createVNode)((0,n.unref)(l.GN),{icon:"fa-trash-can",class:"my-1 mx-1"})],8,Nt)])})),128))])])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)((0,n.unref)(Ue),{onUpdateSuccess:(0,n.unref)(r).getMistStreamPushDestinations,destinationDetails:d.value,mode:f.value},null,8,["onUpdateSuccess","destinationDetails","mode"]),(0,n.createVNode)(Re.Z)])}}};var Vt={class:"mt-4 mb-8 px-6 py-1 w-full"},_t=[(0,n.createElementVNode)("div",{class:"text-sm font-semibold bg-orange-600 text-white text-center w-full border-2 border-orange-600 rounded uppercase px-6 py-1"}," Commercial Breaks ",-1),(0,n.createElementVNode)("div",{class:"shadow bg-orange-100 overflow-hidden border-2 border-orange-600 rounded py-6 px-10 space-y-3 w-full"},[(0,n.createElementVNode)("div"),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("Click the "),(0,n.createElementVNode)("span",{class:"font-bold"},"Trigger Commercial Break"),(0,n.createTextVNode)(" button below to go to commercial.")]),(0,n.createElementVNode)("div",null,"You will see a countdown timer until the show resumes. This will be 1-2 minutes."),(0,n.createElementVNode)("div",null,[(0,n.createTextVNode)("As a notTV creator, your voice matters. How can this feature be improved to better serve you and your sponsors? Please email and let us know: "),(0,n.createElementVNode)("a",{href:"mailto:hello@not.tv",target:"_blank",class:"text-blue-500 hover:text-blue-600"},"hello@not.tv")]),(0,n.createElementVNode)("div",{class:"w-full flex justify-center pt-4"},[(0,n.createElementVNode)("button",{onclick:"setCommercialBreakNotice.showModal()",class:"bg-orange-600 hover:bg-orange-500 text-white font-semibold rounded-lg px-4 py-2"},"Trigger Commercial Break ")])],-1)];const Pt={},Ct=(0,Z.Z)(Pt,[["render",function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Vt,_t)}]]);var Tt={class:"mx-0 md:mx-4 mt-4 mb-2 px-2 md:px-6 py-1"},Bt={key:0},It={key:1};const Ot={__name:"GoLive",setup:function(e){(0,o.useAppSettingStore)(),(0,i.useVideoPlayerStore)(),(0,a.useVideoAuxPlayerStore)();var t=(0,s.useGoLiveStore)();(0,c.useMistStore)();return t.updateAndGetStreamKey(),t.fetchStreamInfo(),t.fetchRtmpUri(),function(e,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Tt,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["text-sm font-semibold text-white text-center w-full border-2 rounded uppercase px-0 md:px-6 py-1",[(0,n.unref)(t).isLive?"bg-gray-600 border-gray-600 ":"bg-red-600 border-red-600"]])},[(0,n.unref)(t).isLive?((0,n.openBlock)(),(0,n.createElementBlock)("span",Bt,"Now Live")):((0,n.openBlock)(),(0,n.createElementBlock)("span",It,"Live Setup"))],2),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["shadow overflow-hidden border-2 border-red-600 rounded p-2 md:p-6",[(0,n.unref)(t).isLive?"bg-gray-100":"bg-red-100"]])},[(0,n.createVNode)(K),(0,n.createVNode)(Ee),((0,n.openBlock)(),(0,n.createBlock)(Lt,{key:(0,n.unref)(t).selectedShowId}))],2),(0,n.createVNode)(Ct)])}}}},59369:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(70821),o=r(9680),i=r(58358);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new B(n||[]);return o(a,"_invoke",{value:_(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};d(S,c,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(I([])));E&&E!==r&&n.call(E,c)&&(S=E);var N=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,i,s,c){var l=h(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,r,n){var o=p;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=P(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(t,r,n);if("normal"===l.type){if(o=n.done?y:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(V.prototype),d(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new V(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f={key:1,class:"alert alert-success mt-4 mx-3"},h=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:2,class:"alert alert-warning mt-4 mx-3"},v=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),m={key:3,class:"alert alert-error mt-4 mx-3"},y=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const g={__name:"Messages",props:{flash:Object},setup:function(e){(0,i.useAppSettingStore)().showFlashMessage=!0;var t=e,r=((0,n.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Inertia.post(route("flash.clear"));case 2:o.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,s,"next",e)}function s(e){c(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.unref)(t).flash.message?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,[d,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.message),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.success?((0,n.openBlock)(),(0,n.createElementBlock)("div",f,[h,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.success),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.warning?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[v,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.warning),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(t).flash.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[y,(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(t).flash.error),1),(0,n.createElementVNode)("button",{class:"text-xs ml-12",onClick:r}," Close")])):(0,n.createCommentVNode)("",!0)])}}}},38575:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(70821),o=r(83004),i=["id"],a={class:"modal-box text-center my-auto border-2 border-secondary","data-theme":"dark"},s={class:"font-bold text-3xl text-secondary"},c={class:"py-4 text-xl"},l={class:"modal-action justify-center w-full"},u={method:"dialog"};const d={__name:"PopUpModal",props:{id:String},setup:function(e){var t=(0,o.useNotificationStore)();return function(r,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("dialog",{id:e.id,class:"modal"},[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("h2",s,[(0,n.renderSlot)(r.$slots,"header")]),(0,n.createElementVNode)("p",c,[(0,n.renderSlot)(r.$slots,"main")]),(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("form",u,[(0,n.createElementVNode)("button",{onClick:o[0]||(o[0]=function(e){return(0,n.unref)(t).showPopUpModal=!1}),class:"btn btn-secondary"},"Okay")])])])],8,i)])}}}},95399:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(70821),o=r(38575),i=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),a=(0,n.createElementVNode)("p",null,"Set how many minutes until you go live. If you have already scheduled the show you will automatically go live at the set time. You can change the set time here if needed. The audience will receive notifications that the live is about to begin 2 minutes in advance.",-1),s=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),c=(0,n.createElementVNode)("p",null,"Notifications will immediately go out to subscribers and your show will appear in the shows list with a live badge.",-1),l=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),u=(0,n.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),d=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),f=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),h=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),p=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can schedule the release from the Show Edit page.",-1),v=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),m=(0,n.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can edit the description on the episode Edit page.",-1);const y={__name:"ManageShowEpisodeNoticeModals",setup:function(e){return function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)((0,n.unref)(o.Z),{id:"startCountdownNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Set Countdown Timer")]})),main:(0,n.withCtx)((function(){return[i,a]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"startLiveStreamNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Start Live Stream")]})),main:(0,n.withCtx)((function(){return[s,c]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"setPushDestinationsNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Set Push Destinations")]})),main:(0,n.withCtx)((function(){return[l]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"setCommercialBreakNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Commercial Breaks")]})),main:(0,n.withCtx)((function(){return[u]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"teleprompterNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("TELEPROMPTER")]})),main:(0,n.withCtx)((function(){return[d]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"vtrNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("VTR")]})),main:(0,n.withCtx)((function(){return[f]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"graphicsNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Graphics (like Chryon)")]})),main:(0,n.withCtx)((function(){return[h]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"scheduleReleaseNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Schedule Release")]})),main:(0,n.withCtx)((function(){return[p]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"addBonusContentNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Add Bonus Content")]})),main:(0,n.withCtx)((function(){return[v]})),_:1}),(0,n.createVNode)((0,n.unref)(o.Z),{id:"editDescriptionNotice"},{header:(0,n.withCtx)((function(){return[(0,n.createTextVNode)("Edit Episode Description")]})),main:(0,n.withCtx)((function(){return[m]})),_:1})])}}}},14562:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var n=r(70821),o=r(24831),i=r(58358),a=r(40191),s=r(87166),c=r(71493),l=r(59369),u=r(19204),d=r(25506),f=(r(72200),r(95399));r(28277);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new B(n||[]);return o(a,"_invoke",{value:_(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};l(S,a,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(I([])));E&&E!==r&&n.call(E,a)&&(S=E);var N=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==h(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,r,n){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=P(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?y:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(h(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},L(V.prototype),l(V.prototype,s,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new V(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(N),l(N,c,"Generator"),l(N,a,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function v(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,s,"next",e)}function s(e){v(i,n,o,a,s,"throw",e)}a(void 0)}))}}var y={class:"place-self-center flex flex-col gap-y-3"},g={id:"topDiv",class:"bg-white text-black p-5 mb-10"},w={class:"flex justify-between mx-4 px-6 w-full"},b=(0,n.createElementVNode)("div",{class:"grid grid-cols-1 grid-rows-2"},[(0,n.createElementVNode)("h1",{class:"text-3xl font-semibold"},"Go Live")],-1),x={key:1,class:"mb-6 px-6 w-full"},S=(0,n.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-light text-neutral",for:"show"}," Select Show To Go Live On ",-1),k=(0,n.createElementVNode)("option",{disabled:"",selected:""},"Select show",-1),E=["value"],N={key:2,class:"bg-black w-3/4 text-center px-10 py-6 text-white mx-auto border-red-700 border-2"},L={key:3,class:"text-3xl font-semibold text-center w-full"},V={key:5,class:"flex flex-col justify-items-center text-center px-16"},_={key:0,class:"text-red-700"},P={key:1,class:""},C=[(0,n.createElementVNode)("div",null,"Stream key is being generated...",-1),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("span",{class:"loading loading-infinity loading-lg text-primary"})],-1)],T={key:2},B=(0,n.createElementVNode)("div",{class:"mb-3"},"Please generate a stream key:",-1);const I={__name:"GoLive",props:{shows:Object},setup:function(e){(0,o.U)("goLive");var t=(0,i.useAppSettingStore)(),r=((0,a.useVideoPlayerStore)(),(0,s.useVideoAuxPlayerStore)(),(0,c.useGoLiveStore)());(0,n.onMounted)(m(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.isEpisode=null,r.episode=null,r.fetchShows().then((function(){r.preSelectedShowId&&(r.selectedShowId=r.preSelectedShowId)}));case 3:case"end":return e.stop()}}),e)}))));var h=(0,n.ref)(!1),v=(0,n.ref)(""),I=function(){var e=m(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.value=!0,e.prev=1,e.next=4,r.generateStreamKey();case 4:return e.next=6,r.fetchStreamInfo(null==r||null===(t=r.selectedShow)||void 0===t||null===(t=t.mist_stream_wildcard)||void 0===t?void 0:t.name);case 6:return e.next=8,r.reloadPlayer();case 8:e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),n="Failed to generate stream key: ",e.t0.response&&e.t0.response.data&&e.t0.response.data.error?n+=e.t0.response.data.error:e.t0.message?n+=e.t0.message:n+="An unexpected error occurred.",console.log(n),v.value=n;case 16:return e.prev=16,h.value=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,10,16,19]])})));return function(){return e.apply(this,arguments)}}();return function(e,o){var i=(0,n.resolveComponent)("Head"),a=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(i,{title:"Go Live"}),(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("div",g,[(0,n.unref)(t).showFlashMessage?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.Z),{key:0,flash:e.$page.props.flash},null,8,["flash"])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",w,[b,(0,n.createElementVNode)("div",null,[(0,n.createVNode)((0,n.unref)(u.Z))])]),(0,n.unref)(r).shows&&(0,n.unref)(r).shows.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",x,[S,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"select select-info select-lg w-full p-2 block my-2 uppercase font-bold text-lg","onUpdate:modelValue":o[0]||(o[0]=function(e){return(0,n.unref)(r).selectedShowId=e}),onChange:o[1]||(o[1]=function(){return e.reloadPlayer&&e.reloadPlayer.apply(e,arguments)})},[k,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(r).shows,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,E)})),128))],544),[[n.vModelSelect,(0,n.unref)(r).selectedShowId]])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",N," You don't have any shows to go live with... please check your show(s). ")),(0,n.unref)(r).selectedShow?((0,n.openBlock)(),(0,n.createElementBlock)("div",L,[(0,n.createVNode)(a,{href:"/shows/".concat((0,n.unref)(r).selectedShow.slug,"/manage")},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(r).selectedShow.name),1)]})),_:1},8,["href"])])):(0,n.createCommentVNode)("",!0),(0,n.unref)(r).selectedShow&&(0,n.unref)(r).selectedShow.mist_stream_wildcard_id?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(d.Z),{key:4})):(0,n.createCommentVNode)("",!0),(0,n.unref)(r).selectedShow&&!(0,n.unref)(r).selectedShow.mist_stream_wildcard_id?((0,n.openBlock)(),(0,n.createElementBlock)("div",V,[v.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",_,(0,n.toDisplayString)(v.value),1)):(0,n.createCommentVNode)("",!0),h.value&&!v.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",P,C)):(0,n.createCommentVNode)("",!0),h.value||v.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",T,[B,(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("button",{onClick:I,class:"btn btn-sm w-fit bg-green-500 hover:bg-green-700 text-white"},"generate key")])]))])):(0,n.createCommentVNode)("",!0)])]),(0,n.createVNode)(f.Z)],64)}}}}}]);
//# sourceMappingURL=4562.js.map