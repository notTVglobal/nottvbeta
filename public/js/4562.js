/*! For license information please see 4562.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4562,1493,7166],{71493:(e,t,n)=>{n.r(t),n.d(t,{useGoLiveStore:()=>c});var r=n(69876);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),s=new T(r||[]);return a(i,"_invoke",{value:V(e,n,s)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};d(S,l,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(B([])));k&&k!==n&&r.call(k,l)&&(S=k);var _=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(i,a,s,l){var c=h(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function V(t,n,r){var o=f;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?y:m,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return b.prototype=x,a(_,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},L(N.prototype),d(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(_),d(_,u,"Generator"),d(_,l,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))}}var l=function(){return{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null}},c=(0,r.Q_)("goLiveStore",{state:l,actions:{reset:function(){Object.assign(this,{displayEpisodeGoLiveComponent:!1,isEpisode:null,episode:null,preSelectedShowId:null,selectedShowId:null,shows:[],streamKey:"",isLive:!1,isRecording:!1,streamInfo:null,rtmpUri:null})},fetchShows:function(){var e=this;return s(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/go-live/shows");case 3:n=t.sent,e.shows=n.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to fetch shows:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},generateStreamKey:function(){var e=this;return s(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedShowId){t.next=3;break}return console.error("No show selected"),t.abrupt("return");case 3:return t.prev=3,t.next=6,axios.post("/go-live/shows/".concat(e.selectedShowId,"/stream-key"));case 6:n=t.sent,console.log("Stream key generated:",n.data),e.streamKey=n.data.streamKey,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error("Error generating stream key:",t.t0.response?t.t0.response.data:t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},setSelectedShowId:function(e){this.selectedShowId=e,this.updateSelectedShow()},updateSelectedShow:function(){var e=this;this.selectedShow=this.shows.find((function(t){return t.id===e.selectedShowId}))||null},goLive:function(){this.isLive=!0},stopLive:function(){this.isLive=!1},startRecording:function(){this.isRecording=!0},stopRecording:function(){this.isRecording=!1},fetchStreamInfo:function(e){var t=this;return s(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return encodeURIComponent(e),n.prev=1,n.next=4,fetch("/fetch-stream-info/".concat(e));case 4:if((r=n.sent).ok){n.next=7;break}throw new Error("Failed to fetch");case 7:return n.next=9,r.json();case 9:t.streamInfo=n.sent,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.error("Error fetching server info:",n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})))()},fetchRtmpUri:function(){var e=this;return s(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/fetch-rtmp-uri");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("Failed to fetch");case 6:return t.next=8,n.text();case 8:e.rtmpUri=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error fetching RTMP URI:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},clearStreamInfo:function(){this.streamInfo=null},toggleDisplayEpisodeGoLiveComponent:function(e){var t;this.displayEpisodeGoLiveComponent=!this.displayEpisodeGoLiveComponent,this.isEpisode=!!this.displayEpisodeGoLiveComponent,this.episode=e,this.selectedShowId=null==this||null===(t=this.episode)||void 0===t?void 0:t.show_id},updateEpisode:function(e){this.episode=e}},getters:{selectedShow:function(e){return e.shows.find((function(t){return t.id===e.selectedShowId}))||null}}})},87166:(e,t,n)=>{n.r(t),n.d(t,{useVideoAuxPlayerStore:()=>g});var r=n(69876),o=n(58358),i=n(53489),a=n(90771),s=n(26331),l=n(69812),c=n(40365),u=n(72200),d=(n(39038),n(70821)),p=n(83004);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(){f=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:V(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};c(S,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(B([])));k&&k!==n&&r.call(k,a)&&(S=k);var _=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==h(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function V(t,n,r){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?y:m,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(h(t)+" is not iterable")}return b.prototype=x,o(_,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},L(N.prototype),c(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(_),c(_,l,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function m(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,s,"next",e)}function s(e){m(i,r,o,a,s,"throw",e)}a(void 0)}))}}var y=function(){return{player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1}},g=(0,r.Q_)("videoAuxPlayerStore",{state:y,actions:{reset:function(){Object.assign(this,{player:null,eventListenersAttached:!1,videoPlayerLoaded:!1,class:"",videoContainerClass:"",videoSourceIdSrc1:"",videoSourceIdSrc2:"",videoSourceIdSrc3:"",videoSourceTypeSrc1:"",videoSourceTypeSrc2:"",videoSourceTypeSrc3:"",firstPlayVideoSourceType:"",firstPlayVideoSource:"",key:"",videoName:"",videoSource:"",videoSourceType:"",videoPoster:"",nextSource:"",previousSource:"",currentView:"",currentChannelId:0,currentChannelName:"",currentShow:{},currentShowEpisode:{},currentVideo:{},hasVideo:!1,controls:!0,muted:!0,paused:!0,currentTime:0,duration:0,formattedTime:"00:00 / 00:00",blue:!1,videoIsYoutube:!1,videoUploadComplete:!1})},getMistServerUri:function(){var e=this;return v(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/mist-server/uri");case 3:n=t.sent,e.mistServerUri=n.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setPlayer:function(e){var t=this;this.player=e,this.initializePlayer().then((function(){t.attachEventListeners()})).catch((function(e){console.error("Error during video player initialization:",e)}))},initializePlayer:function(){var e=this;return v(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player){t.next=3;break}return console.error("Video.js player is not initialized."),t.abrupt("return");case 3:return t.next=5,(0,d.nextTick)();case 5:return t.next=7,(0,c.useAudioStore)().ensureAudioContextAndNodesReady(e.player);case 7:e.player.controls(!1),e.player.muted(e.muted),e.player.ready((function(){e.player.play().then((function(){console.log("Playback started successfully")})).catch((function(e){console.error("Error trying to play the video:",e)}))}));case 10:case"end":return t.stop()}}),t)})))()},attachEventListeners:function(){this.player&&!this.eventListenersAttached?(this.player.on("timeupdate",this.handleTimeUpdate),this.player.on("fullscreenchange",this.handleFullscreenChange),this.player.on("play",this.handlePlay),this.player.on("pause",this.handlePause),this.player.on("error",this.handleError),this.eventListenersAttached=!0,console.log("Event listeners attached.")):console.log("Event listeners are already attached or video player is not initialized.")},detachEventListeners:function(){this.player&&this.eventListenersAttached?((0,c.useAudioStore)().stopAudioLevelMonitoring(),this.player.off("timeupdate",this.handleTimeUpdate),this.player.off("fullscreenchange",this.handleFullscreenChange),this.player.off("play",this.handlePlay),this.player.off("pause",this.handlePause),this.player.off("error",this.handleError),this.eventListenersAttached=!1,console.log("Event listeners detached.")):console.log("Event listeners are already detached or video player is not initialized.")},disposePlayer:function(){this.player?(this.detachEventListeners(),this.player.dispose(),this.player=null,console.log("Video player disposed and cleaned up.")):console.error("Video player is not initialized.")},prepareForNewVideoSource:function(e){console.log("Preparing for new video source"),(0,s.useChannelStore)().clearChannel(),this.loadNewVideo(e)},resetPlayback:function(){this.player&&(this.player.pause(),this.player.muted(!0),this.player.currentTime(0),this.detachEventListeners())},handleTimeUpdate:function(){this.currentTime=this.player.currentTime(),this.duration=this.player.duration();this.currentTime,this.duration;this.formattedTime="".concat(this.formatDuration(this.currentTime)," / ").concat(this.formatDuration(this.duration))},formatDuration:function(e){return[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%60)].map((function(e){return e.toString().padStart(2,"0")})).join(":")},handleFullscreenChange:function(){var e,t=this;console.log("Handling fullscreenchange..."),null===(e=this.player)||void 0===e||e.on("fullscreenchange",(function(){t.player.isFullscreen()||!1===t.player.paused()&&t.player.play()}))},handlePlay:function(){var e,t=this;console.log("Handling play..."),null===(e=this.player)||void 0===e||e.on("play",(function(){t.paused=!1}))},handlePause:function(){var e,t=this;console.log("Handling pause..."),null===(e=this.player)||void 0===e||e.on("pause",(function(){t.paused=!0}))},handleError:function(){var e;console.log("Handling error..."),null===(e=this.player)||void 0===e||e.on("error",(function(){var e=this.player.error();console.error("Video.js Error:",e.code,e.message)}))},makeBlue:function(){this.blue=!0},toggleMute:function(){this.muted?this.unMute():this.mute()},mute:function(){this.player&&(this.player.muted(!0),this.muted=!0,console.log("Video muted"))},unMute:function(){this.player&&(this.player.muted(!1),this.muted=!1,console.log("Video muted"))},togglePlay:function(){var e=(0,u.Z)("aux-player");this.paused?e.play():e.pause()},load:function(){(0,u.Z)("aux-player").load()},loadNewLiveSource:function(e,t){var n=(0,u.Z)("aux-player"),r=this.mistServerUri+"/hls/"+e+"/index.m3u8";n.src({src:r,type:t}),n.play()},pause:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.pause(),this.paused=!0},play:function(){var e=(0,u.Z)("aux-player");e.play(),e.controls(!1),this.paused=!1},next:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.nextSource)},back:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.src(this.previousSource)},fullscreen:function(){var e=(0,u.Z)("aux-player");e.controls(!1),e.requestFullscreen()},getVideoCurrentTime:function(){var e=(0,u.Z)("aux-player");e.controls(!1),this.videoCurrentTime=e.currentTime},getSourceDetails:function(e){var t,n;(console.log("getSourceDetails called with source:",e),n=e.type||"video/mp4",console.log("Determined Video Source Type: ".concat(n)),"externalVideo"===e.mediaType)?(t=e.video_url,console.log("Using external video source:",t)):(console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),t="".concat(e.cdn_endpoint).concat(e.cloud_folder).concat(e.folder,"/")+e.file_name,console.log("Constructed internal video source:",t));return console.log("Final Constructed Video Source: ".concat(t,", Type: ").concat(n)),{videoSrc:t,videoSourceType:n}},loadNewVideo:function(e){var t=this;try{var n=(0,u.Z)("aux-player");console.log("LOAD NEW VIDEO");var r=(0,c.useAudioStore)(),o=this.getSourceDetails(e),i=o.videoSrc,a=o.videoSourceType;n&&(n.src({src:i,type:a}),n.ready((function(){r.deferAudioSetup=!1,r.ensureAudioContextAndNodesReady(n).then((function(){n.play().catch((function(e){(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Playback initiation error: "+e),console.error("Playback initiation error: ",e)})),n.muted(!1),t.muted=!1}))})))}catch(e){(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Error loading new video: "+e),console.error("Error loading new video: ",e)}},playNewVideo:function(){var e=this;console.log("PLAY NEW VIDEO"),this.player&&this.player.ready((function(){e.player.play(),e.player.muted(!1),e.muted=!1}))},loadNewSourceFromYouTube:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="video/youtube",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewLiveSourceFromRumble:function(e){this.videoIsYoutube=!0,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");this.videoSource=e,this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),t.controls(!1),this.unMute(),this.paused=!1},loadNewSourceFromUrl:function(e){try{this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player");if(!e.video_url||!e.type)throw(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Invalid video source."),new Error("Invalid video source.");this.videoSource=e.video_url,this.videoSourceType=e.type,t.src({src:e.video_url,type:e.type}),this.unMute(),this.paused=!1}catch(e){throw(0,p.useNotificationStore)().setGeneralServiceNotification("Error","Failed to load new source: "+e),console.error("Failed to load new source:",e),e}},loadNewSourceFromMist:function(e){this.videoIsYoutube=!1;var t=(0,u.Z)("aux-player");this.videoSource="https://mist.not.tv/hls/"+e+"/index.m3u8",this.videoSourceType="application/x-mpegURL",t.src({src:this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadNewSourceFromFile:function(e){this.videoIsYoutube=!1,(0,s.useChannelStore)().clearChannel();var t=(0,u.Z)("aux-player"),n=e.cdn_endpoint+e.cloud_folder+e.folder+"/";this.videoSource=e.file_name,this.videoSourceType=e.type,t.src({src:n+this.videoSource,type:this.videoSourceType}),this.unMute(),this.paused=!1},loadExternalSourceVideo:function(){},loadPlaylistVideos:function(){},loadMistStreamVideo:function(e){var t=this;return v(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.mistServerUri){n.next=4;break}return console.log("Mist Server URI not set, fetching..."),n.next=4,t.getMistServerUri();case 4:t.mistServerUri?(r=t.mistServerUri,t.videoSource=r+"hls/"+e.name+"/index.m3u8",t.videoSourceType="application/vnd.apple.mpegURL",(0,u.Z)("aux-player").src({src:t.videoSource,type:t.videoSourceType}),t.unMute(),t.paused=!1):console.error("Mist Server URI is still not set after fetching.");case 5:case"end":return n.stop()}}),n)})))()},loadVideoFromFile:function(e){var t=this;return v(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("Video Source Type:",e.type),console.log("Video URL:",e.video_url),console.log("CDN Endpoint:",e.cdn_endpoint),console.log("Cloud Folder:",e.cloud_folder),console.log("Folder:",e.folder),console.log("File Name:",e.file_name),r=e.cdn_endpoint+e.cloud_folder+e.folder+"/"+e.file_name,(0,u.Z)("aux-player").src({src:r,type:e.type}),t.unMute(),t.paused=!1;case 11:case"end":return n.stop()}}),n)})))()},setNowPlayingInfoVideoFile:function(e){this.nowPlayingType="Video File",this.nowPlayingName=e.file_name,(0,i.useStreamStore)().currentChannel="On Demand"},setNowPlayingInfoShow:function(e,t){this.clearNowPlayingInfo();var n=(0,l.useShowStore)();e.firstPlayVideo?(n.setName(e.firstPlayVideo.name),n.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(source.firstPlayVideo.slug))):t?(n.setName(e.name),n.setUrl("/shows/".concat(e.slug)),n.setEpisodeName(t.name),n.setEpisodeUrl("/shows/".concat(e.slug,"/episode/").concat(t.slug))):(n.setName(e.name),n.setUrl("/shows/".concat(e.slug)))},makeVideoPiP:function(){},makeVideoFullPage:function(){var e=(0,o.useAppSettingStore)(),t=(0,a.useUserStore)();e.fullPage=!0,e.hidePage=!0,e.ott=0,this.videoContainerClass="fullPageVideoContainer",this.class="fullPageVideoClass",this.controls=!t.isMobile},makeVideoTopRight:function(){var e=(0,o.useAppSettingStore)();e.fullPage=!1,e.hidePage=!1,e.currentPageIsStream=!1,this.videoContainerClass="topRightVideoContainer",this.class="topRightVideoClass",this.controls=!1},makeVideoWelcomePage:function(){var e=(0,o.useAppSettingStore)();this.videoContainerClass="welcomeVideoContainer",this.class="welcomeVideoClass",e.loggedIn=!1,e.fullPage=!0,e.hidePage=!1}},getters:{}})},24831:(e,t,n)=>{n.d(t,{U:()=>s});var r=n(70821),o=n(90771),i=n(58358),a=n(40191);n(9680);function s(e){var t=(0,o.useUserStore)(),n=(0,i.useAppSettingStore)(),s=(0,a.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile&&(n.ott=0),s.makeVideoTopRight(),(0,r.onBeforeMount)((function(){n.pageReload&&(n.pageReload=!1,window.location.reload(!0))})),(0,r.onMounted)((function(){if(!(""!==window.location.search)){var e=document.getElementById("topDiv");e&&e.scrollIntoView()}n.setPrevUrl(),n.noLayout=!1,n.showOttButtons=!0}))}},45207:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([e.id,"@keyframes fadeOut-65248199{0%{opacity:1}to{opacity:0}}","",{version:3,sources:["webpack://./resources/js/Components/Global/GoLive/GoLive.vue"],names:[],mappings:"AA65BA,4BACE,GACE,SACF,CACA,GACE,SACF,CACF",sourcesContent:['<template>\n  <div class="mx-0 md:mx-4 mt-4 mb-2 px-2 md:px-6 py-1">\n    <div\n        class="text-sm font-semibold  text-white text-center w-full border-2 rounded uppercase px-0 md:px-6 py-1 "\n        :class="[ goLiveStore.isLive ? \'bg-gray-600 border-gray-600 \' : \'bg-red-600 border-red-600\' ]">\n      Go Live Instructions\n    </div>\n    <div class="shadow overflow-hidden border-2 border-red-600 rounded p-2 md:p-6"\n         :class="[ goLiveStore.isLive ? \'bg-gray-100\' : \'bg-red-100\' ]">\n\n\n      <div class="flex flex-row flex-wrap-reverse w-full justify-between">\n        <div>\n          <div class="mb-2">\n            <button @click="appSettingStore.btnRedirect(\'/training/go-live-using-zoom\')"\n                    class="btn bg-blue-500 hover:bg-blue-700 rounded-lg text-white">How To Stream From Zoom\n            </button>\n            <button @click="openObsInstructions = !openObsInstructions"\n                    class="btn bg-blue-500 hover:bg-blue-700 rounded-lg text-white ml-2 ">How To Stream From OBS\n            </button>\n\n          </div>\n          <div v-if="openObsInstructions">\n            <h2>Stream from OBS or other software using these details:</h2>\n            <div>RTMP full url: <span v-if="rtmpUri && streamKey" class="font-bold">{{ rtmpUri }}{{ streamKey }}</span>\n              &nbsp;<button v-if="rtmpUri && streamKey" @click="copyFullUrl">\n                <font-awesome-icon v-if="rtmpUri && streamKey" icon="fa-clipboard"\n                                   class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n              </button>\n              <span v-if="showCopiedFullUrl" class="ml-1 copied-message" style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n            </div>\n            <div>RTMP url: <span class="font-bold">{{ rtmpUri }}</span>\n              &nbsp;<button v-if="rtmpUri" @click="copyRtmpUri">\n                <font-awesome-icon v-if="rtmpUri" icon="fa-clipboard"\n                                   class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n              </button>\n              <span v-if="showCopiedRtmpUri" class="ml-1 copied-message" style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n            </div>\n            <div>RTMP stream key: <span class="font-bold">{{ streamKey }}</span>\n              &nbsp;<button v-if="streamKey" @click="copyStreamKey">\n                <font-awesome-icon v-if="streamKey" icon="fa-clipboard"\n                                   class="text-blue-500 hover:text-blue-700 hover:cursor-pointer"/>\n              </button>\n              <span v-if="showCopiedStreamKey" class="ml-1 copied-message"\n                    style="transition: opacity 0.5s; opacity: 1;">Copied!</span>\n            </div>\n          </div>\n        </div>\n\n        <div class="flex flex-row flex-wrap justify-between">\n          <div class="flex flex-col justify-center border-2 border-green-500 rounded-lg px-2 py-2">\n            <div class="flex flex-row">\n              <div class="mb-2">\n                <button v-if="!goLiveStore.isRecording" @click="goLiveStore.startRecording"\n                        class="btn text-white bg-green-500 hover:bg-green-700 uppercase"\n                >Start Recording\n                </button>\n                <button v-else @click="goLiveStore.stopRecording"\n                        class="btn text-white bg-red-700 hover:bg-red-900 uppercase"\n                >Stop Recording\n                </button>\n              </div>\n              <div class="ml-2">\n                <button v-if="!goLiveStore.isLive" @click="goLiveStore.goLive"\n                        class="btn text-white bg-green-500 hover:bg-green-700 uppercase"\n                >Go Live Now\n                </button>\n                <button v-else @click="goLiveStore.stopLive"\n                        class="btn text-white bg-red-700 hover:bg-red-900 uppercase"\n                >End Live\n                </button>\n\n              </div>\n            </div>\n            <div v-if="!goLiveStore.isRecording || !goLiveStore.isLive"\n                 class="text-xs text-green-500 font-semibold tracking-wider text-center">\n              Premium\n              Creator\n              Service\n            </div>\n          </div>\n\n          <div class="ml-2">\n            <div>Live will begin in... &nbsp;</div>\n            \x3c!--          <div class="font-semibold">{{ formattedCountdown }} (for demo purposes only)</div>--\x3e\n            <div class="countdown font-mono text-2xl">\n              \x3c!-- Hours (if your countdown includes hours) --\x3e\n              <span :style="{ \'--value\': hours }">{{ hours.toString().padStart(2, \'0\') }}</span>h\n              \x3c!-- Minutes --\x3e\n              <span :style="{ \'--value\': minutes }">{{ minutes.toString().padStart(2, \'0\') }}</span>m\n              \x3c!-- Seconds --\x3e\n              <span :style="{ \'--value\': seconds }">{{ seconds.toString().padStart(2, \'0\') }}</span>s\n            </div>\n            <div class="text-xs">for demo purposes only</div>\n          </div>\n        </div>\n      </div>\n\n\n      <div class="flex flex-col justify-center mt-3 h-fit">\n        <div class="text-xs tracking-wider font-semibold mb-1 pl-1">VIDEO STREAM</div>\n\n        <div class="flex flex-row flex-wrap">\n          <div class="flex flex-col">\n            <div class="px-10 h-fit w-fit">\n              <button @click="reloadPlayer"\n                      class="btn btn-xs w-full"\n                      :class="liveOrRecordingGrayButtonClass"\n              >Reload Player\n              </button>\n              <div v-if="goLiveStore.isLive || goLiveStore.isRecording"\n                   class="w-full bg-red-700 text-white text-center uppercase font-bold">\n                <span v-if="goLiveStore.isLive">LIVE</span> <span v-if="goLiveStore.isLive && goLiveStore.isRecording"> + </span>\n                <span v-if="goLiveStore.isRecording">RECORDING</span>\n              </div>\n              <video-js-aux :id="`aux-player`"\n                            :source="videoSource"\n                            :sourceType="videoSourceType"\n                            class=""\n                            :class="liveOrRecordingVideoBorderClass"/>\n\n\n            </div>\n            <div class="flex flex-row px-10">\n              <div class="mt-2">\n                <button v-if="!videoPlayerStore.muted"\n                        class="btn"\n                        :class="liveOrRecordingGrayButtonClass"\n                        @click="videoPlayerStore.mute">Mute Main Player Audio\n                </button>\n                <button v-else\n                        class="btn"\n                        @click="videoPlayerStore.unMute"\n                        :class="liveOrRecordingGrayButtonClass">Turn On Main Player Audio\n                </button>\n              </div>\n              <div class="mt-2 ml-2">\n                <button v-if="!videoAuxPlayerStore.muted"\n                        class="btn"\n                        :class="liveOrRecordingGrayButtonClass"\n                        @click="videoAuxPlayerStore.mute">Mute Live Stream\n                  Video\n                </button>\n                <button v-else\n                        class="btn"\n                        :class="liveOrRecordingGrayButtonClass"\n                        @click="videoAuxPlayerStore.unMute">Turn On Live Stream Audio\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div v-if="goLiveStore.streamInfo && !goLiveStore.streamInfo.error" class="w-fit"\n               :key="goLiveStore.selectedShowId">\n            <div>\n              <h3>Stream Info</h3>\n              \x3c!--                <RecursivePropertyList :object="serverInfo" />--\x3e\n\n              <p><strong>Width:</strong> {{ goLiveStore.streamInfo?.width }}</p>\n              <p><strong>Height:</strong> {{ goLiveStore.streamInfo?.height }}</p>\n\n              \x3c!-- Assuming you want to display tracks info specifically --\x3e\n              <div v-if="goLiveStore.streamInfo?.meta?.tracks">\n                <h4 class="font-semibold">Tracks</h4>\n                <ul>\n                  <li v-for="(track, name) in goLiveStore?.streamInfo?.meta.tracks" :key="name">\n                    &middot; {{ name }} - Codec: {{ track.codec }}, Rate: {{ track.rate }}\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div v-if="!goLiveStore?.streamInfo && !goLiveStore?.streamInfo?.error">\n            <div class="flex flex-col">\n              <span class="mb-2">Loading stream data...</span>\n              <span class="loading loading-spinner text-neutral"></span>\n            </div>\n\n          </div>\n          <div v-if="goLiveStore?.streamInfo?.error">\n            <div class="flex flex-col">\n              <span class="mb-2">{{ goLiveStore?.streamInfo?.error }}</span>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n\n      <div class="mx-4 mt-4 mb-2 px-6 py-1 ">\n        <div\n            class="text-sm font-semibold bg-blue-600 text-white text-center w-full border-2 border-blue-600 rounded uppercase px-6 py-1 ">\n          Push Destinations\n        </div>\n        <div class="shadow bg-blue-100 overflow-hidden border-2 border-blue-600 rounded p-6 space-y-3">\n          <div class="flex flex-row justify-between">\n            <div><h2 class="text-xl font-bold mb-4">Push Destinations</h2></div>\n            <div>\n              <button class="btn bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg"\n                      @click.prevent="addDestination">Add Push\n                Destinations\n              </button>\n            </div>\n          </div>\n          <div v-if="mistStreamPushDestinations.length === 0">\n            <div>Set up <span class="font-bold">push destinations:</span></div>\n            <div>Here you can set additional streaming destinations such as Facebook, YouTube, Rumble, Twitch, etc. and\n              notTV will automatically start pushing to those destinations when you go live.\n            </div>\n          </div>\n          <div v-if="mistStreamPushDestinations">\n            <div class="flex flex-col gap-4">\n              <div v-for="destination in mistStreamPushDestinations" :key="destination.id"\n                   class="border p-4 rounded-lg shadow flex flex-row items-center gap-4">\n                <img :src="destination.destination_image" alt="Destination Image"\n                     class="w-24 h-24 object-cover rounded-full"/>\n                <div class="flex-grow">\n                  <h3 class="text-lg font-semibold">{{ destination.destination_name }}</h3>\n                  <h4 class="">{{ destination.comment }}</h4>\n                  <p v-if="destination.push_is_started" class="text-green-500">Is Active</p>\n                  <p v-if="destination.has_auto_push && !destination.push_is_started" class="text-green-500">Auto push\n                    is enabled</p>\n                  <div class="flex gap-2 mt-2">\n                    <button v-if="destination.push_is_started" @click="stopPush(destination.id)"\n                            class="py-2 px-4 bg-red-500 text-white rounded hover:bg-red-700 transition duration-150">\n                      Stop Push\n                    </button>\n                    <button v-else @click="startPush(destination.id)"\n                            class="py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-150">\n                      Start Push\n                    </button>\n                    <button v-if="!destination.has_auto_push && !destination.push_is_started"\n                            @click="enableAutoPush(destination.id)"\n                            class="py-2 px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition duration-150">\n                      Auto Push\n                    </button>\n                    <button v-if="destination.has_auto_push && !destination.push_is_started"\n                            @click="disableAutoPush(destination.id)"\n                            class="py-2 px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition duration-150">\n                      Remove Auto Push\n                    </button>\n                  </div>\n                </div>\n                <div class="flex flex-row justify-end">\n                  \x3c!--                  <button @click="editDestination(destination.id)" class="py-2 px-4 bg-green-500 text-white rounded hover:bg-green-600 transition duration-150">Edit</button>--\x3e\n                  \x3c!--                  <button @click="deleteDestination(destination.id)" class="py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 transition duration-150">Delete</button>--\x3e\n\n                  <button\n                      @click.prevent="editDestination(destination)"\n                      class="btn btn-sm text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg">\n                    <font-awesome-icon icon="fa-pencil" class="my-1 mx-1"/>\n                  </button>\n                </div>\n                <button\n                    @click.prevent="deleteDestination(destination.id)"\n                    class="btn btn-sm text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"\n                >\n                  <font-awesome-icon icon="fa-trash-can" class="my-1 mx-1"/>\n                </button>\n\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <MistStreamPushDestinationForm @update-success="getMistStreamPushDestinations"\n                                     :destinationDetails="destinationDetails"\n                                     :mode="mistStreamPushDestinationFormModalMode"/>\n\n    </div>\n\n  </div>\n\n  <div class="mx-4 mt-4 mb-8 px-6 py-1 ">\n    <div\n        class="text-sm font-semibold bg-orange-600 text-white text-center w-full border-2 border-orange-600 rounded uppercase px-6 py-1 ">\n      Commercial Breaks\n    </div>\n    <div class="shadow bg-orange-100 overflow-hidden border-2 border-orange-600 rounded p-6 space-y-3">\n      <div></div>\n      <div>Click the <span class="font-bold">Trigger Commercial Break</span> button below to go to commercial.</div>\n      <div>You will see a countdown timer until the show resumes. This will be 1-2 minutes.</div>\n      <div>As a notTV creator, your voice matters. How can this feature be improved to better serve you and your\n        sponsors?\n        Please email and let us know: <a href="mailto:hello@not.tv" target="_blank"\n                                         class="text-blue-500 hover:text-blue-600">hello@not.tv</a>\n      </div>\n      <div class="w-full flex justify-center pt-4">\n        <button onclick="setCommercialBreakNotice.showModal()"\n                class="bg-orange-600 hover:bg-orange-500 text-white font-semibold rounded-lg px-4 py-2">Trigger\n          Commercial Break\n        </button>\n      </div>\n    </div>\n\n  </div>\n\n\n</template>\n\n<script setup>\n// import { useTimeAgo } from \'@vueuse/core\'\nimport { computed, onBeforeUnmount, onMounted, onUnmounted, ref, watchEffect } from \'vue\'\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useVideoPlayerStore } from \'@/Stores/VideoPlayerStore\'\nimport { useVideoAuxPlayerStore } from \'@/Stores/VideoAuxPlayerStore\'\nimport { useGoLiveStore } from \'@/Stores/GoLiveStore\'\nimport VideoJsAux from \'@/Components/Global/VideoPlayer/VideoJs/VideoJsAux\'\nimport videojs from \'video.js\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\nimport { useClipboard } from \'@vueuse/core\'\nimport MistStreamPushDestinationForm from \'@/Components/Global/MistStreams/MistStreamPushDestinationForm\'\n\nconst appSettingStore = useAppSettingStore()\nconst videoPlayerStore = useVideoPlayerStore()\nconst videoAuxPlayerStore = useVideoAuxPlayerStore()\nconst goLiveStore = useGoLiveStore()\n\nlet props = defineProps({\n  // show: Object,\n})\n\nconst showCopiedFullUrl = ref(false)\nconst showCopiedRtmpUri = ref(false)\nconst showCopiedStreamKey = ref(false)\nconst {copy} = useClipboard()\n\nconst openObsInstructions = ref(false)\n\n\nconst mistStreamPushDestinations = ref([])\nconst mistStreamPushDestinationFormModalMode = ref(\'add\')\nconst destinationDetails = ref({})\n\nasync function getMistStreamPushDestinations() {\n  // Assuming `goLiveStore.selectedShow.mist_stream_wildcard.id` holds the wildcard ID\n  const wildcardId = goLiveStore?.selectedShow?.mist_stream_wildcard?.id\n  if (wildcardId) {\n    try {\n      // Append the wildcard ID as a query parameter\n      const response = await axios.get(`/mist-stream-push-destinations?wildcardId=${wildcardId}`)\n      mistStreamPushDestinations.value = response.data // Update the reactive variable\n    } catch (error) {\n      console.error(\'Failed to fetch push destinations:\', error)\n    }\n  } else {\n    console.error(\'No wildcard ID found\')\n  }\n}\n\n\nasync function startPush(destinationId) {\n  console.log(`Starting push for destination ${destinationId}`)\n  const data = {destinationId}\n\n  try {\n    const response = await axios.post(\'/mist-stream/start-push\', data, {\n      headers: {\n        \'Content-Type\': \'application/json\',\n      },\n    })\n\n    console.log(\'Push started successfully:\', response.data)\n    // Update the component\'s state to reflect the change\n    const index = mistStreamPushDestinations.value.findIndex(destination => destination.id === destinationId)\n    if (index !== -1) {\n      mistStreamPushDestinations.value[index].push_is_started = 1\n    }\n  } catch (error) {\n    console.error(\'Error starting push:\', error)\n    // Handle the error appropriately in your UI\n  }\n}\n\nasync function stopPush(destinationId) {\n  console.log(`Stopping push for destination ${destinationId}`)\n  const data = {destinationId}\n\n  try {\n    const response = await axios.post(\'/mist-stream/stop-push\', data, {\n      headers: {\n        \'Content-Type\': \'application/json\',\n      },\n    })\n\n    console.log(\'Push stopped successfully:\', response.data)\n    // Update the component\'s state to reflect the change\n    const index = mistStreamPushDestinations.value.findIndex(destination => destination.id === destinationId)\n    if (index !== -1) {\n      mistStreamPushDestinations.value[index].push_is_started = 0\n    }\n  } catch (error) {\n    console.error(\'Error stopping push:\', error)\n    // Handle the error appropriately in your UI\n  }\n}\n\nconst enableAutoPush = async (destinationId) => {\n  const data = {\n    destinationId,\n  }\n\n  try {\n    const response = await axios.post(\'/mist-stream/push-auto-add\', data, {\n      headers: {\n        \'Content-Type\': \'application/json\',\n      },\n    })\n\n    console.log(\'Auto push enabled successfully:\', response.data)\n    const index = mistStreamPushDestinations.value.findIndex(destination => destination.id === destinationId)\n    if (index !== -1) {\n      mistStreamPushDestinations.value[index].has_auto_push = 1\n    }\n  } catch (error) {\n    console.error(\'Error enabling auto push:\', error)\n  }\n}\n\nasync function disableAutoPush(destinationId) {\n  console.log(`Disabling auto push for destination ${destinationId}`)\n  const data = {\n    destinationId,\n  }\n\n  try {\n    const response = await axios.post(\'/mist-stream/push-auto-remove\', data, {\n      headers: {\n        \'Content-Type\': \'application/json\',\n      },\n    })\n\n    console.log(\'Auto push disabled successfully:\', response.data)\n    const index = mistStreamPushDestinations.value.findIndex(destination => destination.id === destinationId)\n    if (index !== -1) {\n      mistStreamPushDestinations.value[index].has_auto_push = 0\n    }\n  } catch (error) {\n    console.error(\'Error disabling auto push:\', error)\n  }\n}\n\nconst addDestination = async () => {\n  mistStreamPushDestinationFormModalMode.value = \'add\'\n  const wildcardId = goLiveStore.selectedShow?.mist_stream_wildcard?.id\n  destinationDetails.value = {mist_stream_wildcard_id: wildcardId} // Initialize destinationDetails with the wildcard ID\n\n  document.getElementById(\'mistStreamPushDestinationForm\').showModal()\n}\n\nconst editDestination = async (destination) => {\n  mistStreamPushDestinationFormModalMode.value = \'edit\'\n  destinationDetails.value = destination\n  document.getElementById(\'mistStreamPushDestinationForm\').showModal()\n  console.log(`Editing destination with ID: ${destination}`)\n  const index = mistStreamPushDestinations.value.findIndex(destination => destination.id === destinationDetails.value.id)\n  if (index !== -1) {\n    mistStreamPushDestinations.value[index].has_auto_push = 0\n  }\n}\n\nconst deleteDestination = async (destinationId) => {\n  // Confirm deletion with the user before proceeding\n  if (confirm(`Are you sure you want to delete the destination with ID: ${destinationId}?`)) {\n    try {\n      // Perform the delete operation\n      await axios.delete(`/mist-stream-push-destinations/${destinationId}`)\n      console.log(`Deleted destination with ID: ${destinationId}`)\n      // Optionally, remove the item from your local state to update the UI\n      mistStreamPushDestinations.value = mistStreamPushDestinations.value.filter(destination => destination.id !== destinationId)\n    } catch (error) {\n      console.error(`Error deleting destination with ID: ${destinationId}`, error)\n    }\n  }\n}\n\n// const copyText = () => {\n//   copy(\'Text to be copied\');\n//   showCopied.value = true;\n//   setTimeout(() => {\n//     showCopied.value = false;\n//   }, 2000); // Hide the message after 2 seconds\n// };\n\nlet videoSource = videoPlayerStore.mistServerUri + \'hls/\' + goLiveStore?.selectedShow?.mist_stream_wildcard.name\n    + \'/index.m3u8\'\nlet videoSourceType = \'application/vnd.apple.mpegURL\'\n\n// Fetch server info on component mount\n// goLiveStore.fetchStreamInfo(goLiveStore?.selectedShow?.mist_stream_wildcard.name)\n// goLiveStore.fetchRtmpUri()\n\nconst fullUrl = ref(\'\')\nconst rtmpUri = ref(\'\')\nconst streamKey = ref(\'\')\n\n// Initialize fetching of server information\ngoLiveStore.fetchStreamInfo(goLiveStore?.selectedShow?.mist_stream_wildcard.name)\ngoLiveStore.fetchRtmpUri()\n\n// Reactively update URLs when the store updates\nwatchEffect(() => {\n  if (goLiveStore.rtmpUri) {\n    rtmpUri.value = goLiveStore.rtmpUri + \'live/\'\n    // Check if it\'s an episode or a selected show and update accordingly\n    if (goLiveStore.isEpisode && goLiveStore.episode?.mist_stream_wildcard?.name) {\n      streamKey.value = goLiveStore.episode.mist_stream_wildcard.name\n    } else if (!goLiveStore.isEpisode && goLiveStore.selectedShow?.mist_stream_wildcard?.name) {\n      streamKey.value = goLiveStore.selectedShow.mist_stream_wildcard.name\n    }\n    fullUrl.value = `${rtmpUri.value}${streamKey.value}`\n  }\n})\n\n// Function to handle the copy action and display the "copied" message for each type\nconst copyFullUrl = () => {\n  copy(fullUrl.value)\n  showCopiedFullUrl.value = true\n  setTimeout(() => showCopiedFullUrl.value = false, 1000)\n}\n\nconst copyRtmpUri = () => {\n  copy(rtmpUri.value)\n  showCopiedRtmpUri.value = true\n  setTimeout(() => showCopiedRtmpUri.value = false, 1000)\n}\n\nconst copyStreamKey = () => {\n  copy(streamKey.value)\n  showCopiedStreamKey.value = true\n  setTimeout(() => showCopiedStreamKey.value = false, 1000)\n}\n\n// if (goLiveStore.isEpisode) {\n//   fullUrl = rtmpUri.value + goLiveStore?.episode?.mist_stream_wildcard?.name\n//   streamKey = goLiveStore?.episode?.mist_stream_wildcard?.name\n// } else if (!goLiveStore.isEpisode) {\n//   fullUrl = rtmpUri.value + goLiveStore?.selectedShow?.mist_stream_wildcard?.name\n//   streamKey = goLiveStore?.selectedShow?.mist_stream_wildcard?.name\n// }\n\n// const copyFullUrl = () => copy(fullUrl);\n// const copyRtmpUri = () => copy(rtmpUri.value);\n// const copyStreamKey = () => copy(streamKey);\n//\n// watchEffect(() => {\n//   if (goLiveStore.rtmpUri) {\n//     rtmpUri.value = goLiveStore.rtmpUri + \'live/\';\n//   }\n// });\n\n// Asynchronously fetch the JSON data\n// async function fetchServerInfo() {\n//   try {\n//     const response = await fetch(\'http://mist.nottv.io:8080/json_dvr_playback_2.js\'); // Replace with your URL\n//     if (!response.ok) throw new Error(\'Failed to fetch\');\n//     const data = await response.json();\n//     serverInfo.value = data; // Store the data in serverInfo\n//     console.log (serverInfo)\n//   } catch (error) {\n//     console.error(\'Error fetching server info:\', error);\n//   }\n// }\n\n// let videoSrc = ref(\'\')\n// let videoJsAux = (\'aux-player\')\n\n// const videoOptions = ref({\n//   autoplay: true,\n//   muted: true,\n//   controls: true,\n//   fill: true,\n//   sources: [\n//     {\n//       src: videoSource,\n//       type: videoSourceType,\n//     },\n//   ],\n// });\n\nconst reloadPlayer = () => {\n  let source = null\n  if (goLiveStore?.selectedShow?.mist_stream_wildcard?.name) {\n    source = goLiveStore?.selectedShow?.mist_stream_wildcard?.name\n    goLiveStore.fetchStreamInfo(goLiveStore?.selectedShow?.mist_stream_wildcard?.name)\n  } else if (goLiveStore?.episode?.mist_stream_wildcard?.name) {\n    source = goLiveStore?.episode?.mist_stream_wildcard?.name\n    goLiveStore.fetchStreamInfo(goLiveStore?.episode?.mist_stream_wildcard?.name)\n  }\n  let sourceUrl = videoPlayerStore.mistServerUri + \'hls/\' + source + \'/index.m3u8\'\n  console.log(\'source url: \' + sourceUrl)\n  let sourceType = \'application/vnd.apple.mpegurl\'\n  let videoJs = videojs(\'aux-player\')\n  videoJs.src({\'src\': sourceUrl, \'type\': sourceType})\n  // videoAuxPlayerStore.loadNewLiveSource(source, sourceType)\n  console.log(\'reload player\')\n}\n\n// check push_auto_list and update\n\nonMounted(() => {\n  // videoSrc = goLiveStore.selectedShow.mist_stream_wildcard.name\n  // videoJsAux.src({\'src\': videoSrc, \'type\': \'application/vnd.apple.mpegurl\'});\n  // videoJsAux.ready(() => {\n  //\n  // })\n  startCountdown()\n\n  console.log(\'onPlayerReady AUX\')\n  // fetchServerInfo()\n\n  getMistStreamPushDestinations()\n\n\n})\n\n// // Initial countdown time in seconds (5 minutes * 60 seconds)\n// const countdownTime = 5 * 60\n// // Reactive state for the countdown\n// const countdown = ref(countdownTime)\n//\n// // Computed property to format the countdown as mm:ss\n// const formattedCountdown = computed(() => {\n//   const minutes = Math.floor(countdown.value / 60)\n//   const seconds = countdown.value % 60\n//   return `${minutes.toString().padStart(2, \'0\')}:${seconds.toString().padStart(2, \'0\')}`\n// })\n//\n// // Function to start the countdown - temporary for demo purposes.\n// const startCountdown = () => {\n//   const interval = setInterval(() => {\n//     countdown.value--\n//\n//     if (countdown.value < 0) {\n//       clearInterval(interval) // Stop the interval\n//       countdown.value = countdownTime // Reset countdown\n//       startCountdown() // Restart the countdown\n//     }\n//   }, 1000)\n// }\n//\n// Keep a reference to the interval ID so it can be cleared\nlet intervalId = null\n\n// Initial countdown time in seconds (5 minutes * 60 seconds)\nconst countdownTime = 5 * 60\n// Reactive state for the countdown\nconst countdown = ref(countdownTime)\n\n// Computed properties for hours, minutes, and seconds\nconst hours = computed(() => Math.floor(countdown.value / 3600))\nconst minutes = computed(() => Math.floor((countdown.value % 3600) / 60))\nconst seconds = computed(() => countdown.value % 60)\n\n// Function to start the countdown\nconst startCountdown = () => {\n  // Clear any existing interval to prevent multiple intervals\n  if (intervalId !== null) {\n    clearInterval(intervalId)\n  }\n\n  // Reset countdown to initial value\n  countdown.value = countdownTime\n\n  // Start a new interval\n  intervalId = setInterval(() => {\n    countdown.value--\n\n    if (countdown.value < 0) {\n      clearInterval(intervalId) // Stop the interval\n      intervalId = null // Reset the interval ID\n      // Optionally, you can reset countdown.value to countdownTime or another value here\n    }\n  }, 1000)\n}\n\n// Cleanup interval on component unmount\nonUnmounted(() => {\n  if (intervalId !== null) {\n    clearInterval(intervalId)\n  }\n})\n\n// Automatically start the countdown or trigger based on an event\nstartCountdown()\n\n\nconst liveOrRecordingGrayButtonClass = computed(() => {\n  if (goLiveStore.isLive || goLiveStore.isRecording) {\n    return \'bg-gray-200 hover:bg-gray-400\'\n  } else {\n    return \'\'\n  }\n})\n\nconst liveOrRecordingVideoBorderClass = computed(() => {\n  if (goLiveStore.isLive || goLiveStore.isRecording) {\n    return \'border-4 border-red-700\'\n  } else {\n    return \'\'\n  }\n})\n// const mistStreamWildcardId = ref()\n// mistStreamWildcardId.value = goLiveStore?.selectedShow?.mist_stream_wildcard?.id\nconst channel = Echo.channel(`mistStreamWildcard.${goLiveStore?.selectedShow?.mist_stream_wildcard?.id}`)\nchannel\n    .subscribed(() => {\n      // Handle successful subscription\n      // This log will confirm the subscription success\n      console.log(\'Successfully subscribed to the channel!\')\n    })\n    // .listen(\'.push-out-start\', (event) => {\n    //   console.log(\'Event received:\', event);\n    // })\n    // channel.listen(\'.push-out-start\', (event) => {\n    //       console.log(\'push out start EVENT BROADCASTED!\', event);\n    //     })\n    .listen(\'.push-out-start\', (event) => {\n      console.log(\'push out start EVENT BROADCASTED!\')\n      const index = mistStreamPushDestinations.value.findIndex(destination =>\n          `${destination.rtmp_url}${destination.rtmp_key}` === event.requestUrl)\n      if (index !== -1) {\n        mistStreamPushDestinations.value[index].push_is_started = 1\n      }\n    })\n    .listen(\'.push-end\', (event) => {\n      console.log(\'push end EVENT BROADCASTED!\')\n      const index = mistStreamPushDestinations.value.findIndex(destination =>\n          `${destination.rtmp_url}${destination.rtmp_key}` === event.requestUrl)\n      if (index !== -1) {\n        mistStreamPushDestinations.value[index].push_is_started = 0\n      }\n    })\n\n// Cleanup when the component unmounts\nonUnmounted(() => {\n  channel.stopListening(\'.push-out-start\')\n  channel.stopListening(\'.push-end\')\n  Echo.leave(`mistStreamWildcard.${goLiveStore?.selectedShow?.mist_stream_wildcard?.id}`)\n})\n\n//\n// // Assuming props.show.mist_stream_wildcard.name exists and is reactive\n// const playerTargetId = ref(\'\');\n//\n// const initializePlayer = () => {\n//   const targetElement = document.getElementById(playerTargetId.value);\n//   if (targetElement) {\n//     mistPlay(goLiveStore.selectedShow.mist_stream_wildcard.name, {\n//       target: targetElement,\n//       fillSpace: true\n//     });\n//   } else {\n//     console.error(\'Target element for video player not found.\');\n//   }\n// };\n//\n// const removePlayer = () => {\n//   const existingContainer = document.getElementById(playerTargetId.value);\n//   if (existingContainer) {\n//     existingContainer.remove();\n//   }\n// };\n//\n//\n// const reloadPlayer = () => {\n//   removePlayer();\n//\n//   nextTick(() => {\n//     const newPlayerContainer = document.createElement(\'div\');\n//     const uniqueId = `${goLiveStore.selectedShow.mist_stream_wildcard.name}-${Date.now()}`;\n//     newPlayerContainer.id = uniqueId;\n//     playerTargetId.value = uniqueId;\n//\n//     document.body.appendChild(newPlayerContainer); // Append to body or choose a specific container\n//\n//     loadAndInitializePlayer();\n//   });\n// };\n//\n// const loadAndInitializePlayer = () => {\n//   if (!window.mistplayers) {\n//     const playerScript = document.createElement("script");\n//     playerScript.src = "https://mist.nottv.io:443/player.js"; // Assuming HTTPS site\n//     document.head.appendChild(playerScript);\n//     playerScript.onload = initializePlayer;\n//   } else {\n//     initializePlayer();\n//   }\n// };\n//\n// onMounted(() => {\n//   playerTargetId.value = `${goLiveStore.selectedShow.mist_stream_wildcard.name}-${Date.now()}`;\n//   loadAndInitializePlayer();\n// });\n//\n// watch(() => playerTargetId.value, (newVal) => {\n//   if (newVal) {\n//     loadAndInitializePlayer();\n//   }\n// });\n//\n// onBeforeUnmount(() => {\n//   removePlayer(); // Ensure the player\'s container is removed when the component unmounts\n// });\n\n\n//\n//\n// const loadAndInitializePlayer = () => {\n//   if (!window.mistplayers) {\n//     const playerScript = document.createElement("script");\n//     playerScript.src = location.protocol === "https:" ? "https://mist.nottv.io:443/player.js" : "http://mist.nottv.io:8080/player.js";\n//     document.head.appendChild(playerScript);\n//     playerScript.onload = initializePlayer;\n//   } else {\n//     initializePlayer();\n//   }\n// };\n//\n// const removePlayer = () => {\n//   const targetElement = document.getElementById(playerTargetId.value);\n//   if (targetElement) {\n//     // Option 1: Remove the child element completely\n//     targetElement.parentNode.removeChild(targetElement);\n//\n//     // OR Option 2: Reset the content of the element\n//     // targetElement.innerHTML = \'\';\n//\n//     console.log(\'Video player removed.\');\n//   } else {\n//     console.error(\'Target element for video player not found for removal.\');\n//   }\n// };\n//\n// onMounted(() => {\n//   playerTargetId.value = `${props.show.mist_stream_wildcard.name}-${Date.now()}` // Set the target ID based on props\n//   console.log(playerTargetId.value)\n//   loadAndInitializePlayer();\n//   // nextTick(() => {\n//   //   loadAndInitializePlayer();\n//   // });\n// });\n//\n// // onMounted(() => {\n// //\n// //   // loadAndInitializePlayer()\n// //   if (!window.mistplayers) {\n// //     const playerScript = document.createElement("script");\n// //     playerScript.src = location.protocol === "https:" ? "https://mist.nottv.io:443/player.js" : "http://mist.nottv.io:8080/player.js";\n// //     document.head.appendChild(playerScript);\n// //     playerScript.onload = initializePlayer;\n// //   } else {\n// //     initializePlayer();\n// //   }\n// // });\n//\n// // Define `reloadPlayer` method to reload the player. This could be the same as `initializePlayer`\n// // if reloading simply means reinitializing.\n// const reloadPlayer = () => {\n//   // Remove the existing player and its container\n//   removePlayer();\n//\n//   // Recreate the container element for the player\n//   const newPlayerContainer = document.createElement(\'div\');\n//   newPlayerContainer.id = `${props.show.mist_stream_wildcard.name}-${Date.now()}`; // Set the new target ID\n//   playerTargetId.value = newPlayerContainer.id; // Update the reactive reference\n//\n//   // Append the new container to the appropriate parent element in your DOM\n//   // Replace `parentElementSelector` with the actual selector of the parent where the player should be attached\n//   const parentElement = document.querySelector(\'parentElementSelector\');\n//   if (parentElement) {\n//     parentElement.appendChild(newPlayerContainer);\n//   } else {\n//     console.error(\'Parent element for video player not found.\');\n//     return;\n//   }\n//\n//   // Initialize the player in the new container\n//   loadAndInitializePlayer();\n// };\n//\n// // If there\'s a need to watch for `playerTargetId` changes to reinitialize the player\n// watch(() => playerTargetId.value, (newVal) => {\n//   // Load and initialize player only if newVal is truthy\n//   if (newVal) {\n//     loadAndInitializePlayer();\n//   }\n// });\n//\n// // const loadAndInitializePlayer = () => {\n// //   if (!window.mistplayers) {\n// //     const playerScript = document.createElement("script");\n// //     playerScript.src = location.protocol === "https:" ? "https://mist.nottv.io:443/player.js" : "http://mist.nottv.io:8080/player.js";\n// //     document.head.appendChild(playerScript);\n// //     playerScript.onload = initializePlayer;\n// //   } else {\n// //     initializePlayer();\n// //   }\n// // };\n//\nonBeforeUnmount(() => {\n  // goLiveStore.reset()\n  // Example cleanup logic; adjust based on your player\'s API\n  // if (window.mistplayers && window.mistplayers[playerTargetId.value]) {\n  //   window.mistplayers[playerTargetId.value].destroy(); // Hypothetical destroy method\n  // }\n})\n//\n// onBeforeUnmount(() => {\n//   if (videoPlayer && typeof videoPlayer.dispose === \'function\') {\n//     videoPlayer.dispose();\n//   }\n// });\n// let videoEmbedCode = props.episode.video_file_embed_code;\n\n// const timeAgo = useTimeAgo(new Date(2023, 10, 5))\n// const timeAgo = useTimeAgo(props.episode.scheduledDateTime)\n<\/script>\n\n<style scoped>\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n</style>'],sourceRoot:""}]);const s=a},19204:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(70821),o=n(9680),i=n(58358),a=n(90771);const s={__name:"CancelButton",props:{url:String},setup:function(e){var t=(0,i.useAppSettingStore)(),n=(0,a.useUserStore)(),s=e;function l(){if(t.prevUrl)s.url?o.Inertia.visit(s.url):o.Inertia.visit(t.prevUrl);else if(s.url)o.Inertia.visit(s.url);else{var e=n.isCreator?"/dashboard":"/";o.Inertia.visit(e)}}return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(l,["prevent"]),class:"ml-2 px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg"},"Cancel ")])}}}},2541:(e,t,n)=>{n.d(t,{Z:()=>Xe});var r=n(70821),o=n(58358),i=n(40191),a=n(87166),s=n(71493),l=n(72200),c=(n(90111),n(53489)),u=(n(94268),{class:"w-full h-fit bg-yellow-400"}),d=["id"],p=["src","type"];const h={__name:"VideoJsAux",props:{options:Object,id:String,source:String,sourceType:String},setup:function(e){(0,o.useAppSettingStore)();var t=(0,a.useVideoAuxPlayerStore)(),n=((0,c.useStreamStore)(),e);return(0,r.onMounted)((function(){var e=n.id,r={controlBar:{audioTrackButton:!1,autoHide:!0,captionsButton:!1,chaptersButton:!1,currentTimeDisplay:!1,customControlSpacer:!1,descriptionsButton:!1,durationDisplay:!1,fullscreenToggle:!1,liveDisplay:!1,pictureInPictureToggle:!1,playToggle:!1,playbackRateMenuButton:!1,progressControl:{seekBar:!1},remainingTimeDisplay:!1,seekToLive:!1,subsCapsButton:!1,subtitlesButton:!1,timeDivider:!1,volumePanel:{inline:!0,volumeBar:{vertical:!1,liveDisplay:!1}}},userActions:{hotkeys:!0},controls:!0,muted:!1,inactivityTimeout:0,autoplay:!0,preload:"auto",html5:{hls:{overrideNative:!l.Z.browser.IS_SAFARI}}},o=(0,l.Z)(e,r);t.setPlayer(o),o.el().addEventListener("contextmenu",(function(e){e.preventDefault()}))})),(0,r.onBeforeUnmount)((function(){(0,l.Z)(n.id).dispose()})),function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",u,[(0,r.createElementVNode)("video-js",{id:e.id,class:"video-js vjs-layout-tiny w-96 h-64 bg-blue-400",autoplay:"",muted:"",playsinline:"",crossorigin:"anonymous"},[(0,r.createElementVNode)("source",{src:e.source,type:e.sourceType},null,8,p)],8,d)])}}};var f=n(57810),m=n(52829),v=n(83004);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(){g=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:V(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function w(){}function b(){}function x(){}var S={};c(S,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(B([])));k&&k!==n&&r.call(k,a)&&(S=k);var _=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==y(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function V(t,n,r){var o=p;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(y(t)+" is not iterable")}return b.prototype=x,o(_,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},L(N.prototype),c(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(_),c(_,l,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function w(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var b={id:"mistStreamPushDestinationForm",class:"modal"},x={class:"modal-box"},S=(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")],-1),E={class:"font-bold text-lg"},k={class:"my-3 flex flex-col space-y-2"},_={key:0,role:"alert",class:"alert alert-error"},L=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),N={class:"w-full flex flex-row justify-between"},V={type:"submit",class:"mt-2 btn btn-primary text-white"};const C={__name:"MistStreamPushDestinationForm",props:{destinationDetails:Object,mode:String},emits:["update-success"],setup:function(e,t){var n=t.emit,o=(0,v.useNotificationStore)(),i=e,a=n,s=(0,r.ref)({mist_stream_wildcard_id:i.destinationDetails.mist_stream_wildcard_id,id:i.destinationDetails.id,rtmp_url:i.destinationDetails.rtmp_url,rtmp_key:i.destinationDetails.rtmp_key,comment:i.destinationDetails.comment,errors:""});(0,r.watchEffect)((function(){s.value.mist_stream_wildcard_id=i.destinationDetails.mist_stream_wildcard_id||"",s.value.id=i.destinationDetails.id||"",s.value.rtmp_url=i.destinationDetails.rtmp_url||"",s.value.rtmp_key=i.destinationDetails.rtmp_key||"",s.value.comment=i.destinationDetails.comment||""}));var l=function(){var e,t=(e=g().mark((function e(){var t,n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/mist-stream-push-destinations",n="post","edit"===i.mode&&i.destinationDetails.id&&(t+="/".concat(i.destinationDetails.id),n="put"),e.prev=3,e.next=6,axios({method:n,url:t,data:s.value});case 6:r=e.sent,console.log("Success:",r.data),a("update-success"),s.value.errors="",document.getElementById("mistStreamPushDestinationForm").close(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?o.errorMessage=e.t0.response.data.errors:console.error("Submission error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,s,"next",e)}function s(e){w(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("dialog",b,[(0,r.createElementVNode)("div",x,[S,(0,r.createElementVNode)("h3",E,(0,r.toDisplayString)("add"===e.mode?"Add Push Destination":"Edit Push Destination"),1),(0,r.createElementVNode)("form",{onSubmit:(0,r.withModifiers)(l,["prevent"])},[(0,r.createElementVNode)("div",k,[(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return s.value.rtmp_url=e}),type:"text",placeholder:"RTMP URL",class:"input input-bordered",required:""},null,512),[[r.vModelText,s.value.rtmp_url]]),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return s.value.rtmp_key=e}),type:"text",placeholder:"RTMP Key",class:"input input-bordered"},null,512),[[r.vModelText,s.value.rtmp_key]]),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return s.value.comment=e}),class:"textarea textarea-bordered",placeholder:"Optional Comment..."},null,512),[[r.vModelText,s.value.comment]]),(0,r.unref)(o).errorMessage?((0,r.openBlock)(),(0,r.createElementBlock)("div",_,[L,(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("div",null,(0,r.toDisplayString)((0,r.unref)(o).formattedErrorMessage),1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{onClick:n[3]||(n[3]=(0,r.withModifiers)((function(){var e;return(0,r.unref)(o).clearErrorMessage&&(e=(0,r.unref)(o)).clearErrorMessage.apply(e,arguments)}),["prevent"])),class:"btn btn-xs"},"OK")])])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("button",V,(0,r.toDisplayString)("add"===e.mode?"Add":"Save Changes"),1)])],32)])])}}};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(){I=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};c(b,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(B([])));S&&S!==n&&r.call(S,a)&&(b=S);var E=w.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==P(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=N(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(P(t)+" is not iterable")}return g.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(_.prototype),c(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),c(E,l,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function T(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)}))}}var D=function(e){return(0,r.pushScopeId)("data-v-65248199"),e=e(),(0,r.popScopeId)(),e},A={class:"mx-0 md:mx-4 mt-4 mb-2 px-2 md:px-6 py-1"},j={class:"flex flex-row flex-wrap-reverse w-full justify-between"},O={class:"mb-2"},R={key:0},U=D((function(){return(0,r.createElementVNode)("h2",null,"Stream from OBS or other software using these details:",-1)})),M={key:0,class:"font-bold"},F={key:2,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},G={class:"font-bold"},z={key:1,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},Z={class:"font-bold"},K={key:1,class:"ml-1 copied-message",style:{transition:"opacity 0.5s",opacity:"1"}},$={class:"flex flex-row flex-wrap justify-between"},Y={class:"flex flex-col justify-center border-2 border-green-500 rounded-lg px-2 py-2"},H={class:"flex flex-row"},q={class:"mb-2"},W={class:"ml-2"},J={key:0,class:"text-xs text-green-500 font-semibold tracking-wider text-center"},Q={class:"ml-2"},X=D((function(){return(0,r.createElementVNode)("div",null,"Live will begin in...  ",-1)})),ee={class:"countdown font-mono text-2xl"},te=D((function(){return(0,r.createElementVNode)("div",{class:"text-xs"},"for demo purposes only",-1)})),ne={class:"flex flex-col justify-center mt-3 h-fit"},re=D((function(){return(0,r.createElementVNode)("div",{class:"text-xs tracking-wider font-semibold mb-1 pl-1"},"VIDEO STREAM",-1)})),oe={class:"flex flex-row flex-wrap"},ie={class:"flex flex-col"},ae={class:"px-10 h-fit w-fit"},se={key:0,class:"w-full bg-red-700 text-white text-center uppercase font-bold"},le={key:0},ce={key:1},ue={key:2},de={class:"flex flex-row px-10"},pe={class:"mt-2"},he={class:"mt-2 ml-2"},fe=D((function(){return(0,r.createElementVNode)("h3",null,"Stream Info",-1)})),me=D((function(){return(0,r.createElementVNode)("strong",null,"Width:",-1)})),ve=D((function(){return(0,r.createElementVNode)("strong",null,"Height:",-1)})),ye={key:0},ge=D((function(){return(0,r.createElementVNode)("h4",{class:"font-semibold"},"Tracks",-1)})),we={key:1},be=[D((function(){return(0,r.createElementVNode)("div",{class:"flex flex-col"},[(0,r.createElementVNode)("span",{class:"mb-2"},"Loading stream data..."),(0,r.createElementVNode)("span",{class:"loading loading-spinner text-neutral"})],-1)}))],xe={key:2},Se={class:"flex flex-col"},Ee={class:"mb-2"},ke={class:"mx-4 mt-4 mb-2 px-6 py-1"},_e=D((function(){return(0,r.createElementVNode)("div",{class:"text-sm font-semibold bg-blue-600 text-white text-center w-full border-2 border-blue-600 rounded uppercase px-6 py-1"}," Push Destinations ",-1)})),Le={class:"shadow bg-blue-100 overflow-hidden border-2 border-blue-600 rounded p-6 space-y-3"},Ne={class:"flex flex-row justify-between"},Ve=D((function(){return(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("h2",{class:"text-xl font-bold mb-4"},"Push Destinations")],-1)})),Ce={key:0},Pe=[D((function(){return(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("Set up "),(0,r.createElementVNode)("span",{class:"font-bold"},"push destinations:")],-1)})),D((function(){return(0,r.createElementVNode)("div",null,"Here you can set additional streaming destinations such as Facebook, YouTube, Rumble, Twitch, etc. and notTV will automatically start pushing to those destinations when you go live. ",-1)}))],Ie={key:1},Te={class:"flex flex-col gap-4"},Be=["src"],De={class:"flex-grow"},Ae={class:"text-lg font-semibold"},je={class:""},Oe={key:0,class:"text-green-500"},Re={key:1,class:"text-green-500"},Ue={class:"flex gap-2 mt-2"},Me=["onClick"],Fe=["onClick"],Ge=["onClick"],ze=["onClick"],Ze={class:"flex flex-row justify-end"},Ke=["onClick"],$e=["onClick"],Ye=D((function(){return(0,r.createElementVNode)("div",{class:"mx-4 mt-4 mb-8 px-6 py-1"},[(0,r.createElementVNode)("div",{class:"text-sm font-semibold bg-orange-600 text-white text-center w-full border-2 border-orange-600 rounded uppercase px-6 py-1"}," Commercial Breaks "),(0,r.createElementVNode)("div",{class:"shadow bg-orange-100 overflow-hidden border-2 border-orange-600 rounded p-6 space-y-3"},[(0,r.createElementVNode)("div"),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("Click the "),(0,r.createElementVNode)("span",{class:"font-bold"},"Trigger Commercial Break"),(0,r.createTextVNode)(" button below to go to commercial.")]),(0,r.createElementVNode)("div",null,"You will see a countdown timer until the show resumes. This will be 1-2 minutes."),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("As a notTV creator, your voice matters. How can this feature be improved to better serve you and your sponsors? Please email and let us know: "),(0,r.createElementVNode)("a",{href:"mailto:hello@not.tv",target:"_blank",class:"text-blue-500 hover:text-blue-600"},"hello@not.tv")]),(0,r.createElementVNode)("div",{class:"w-full flex justify-center pt-4"},[(0,r.createElementVNode)("button",{onclick:"setCommercialBreakNotice.showModal()",class:"bg-orange-600 hover:bg-orange-500 text-white font-semibold rounded-lg px-4 py-2"},"Trigger Commercial Break ")])])],-1)}));const He={__name:"GoLive",props:{},setup:function(e){var t,n,c,u=(0,o.useAppSettingStore)(),d=(0,i.useVideoPlayerStore)(),p=(0,a.useVideoAuxPlayerStore)(),v=(0,s.useGoLiveStore)(),y=(0,r.ref)(!1),g=(0,r.ref)(!1),w=(0,r.ref)(!1),b=(0,m.VPI)().copy,x=(0,r.ref)(!1),S=(0,r.ref)([]),E=(0,r.ref)("add"),k=(0,r.ref)({});function _(){return L.apply(this,arguments)}function L(){return(L=B(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null==v||null===(t=v.selectedShow)||void 0===t||null===(t=t.mist_stream_wildcard)||void 0===t?void 0:t.id)){e.next=14;break}return e.prev=2,e.next=5,axios.get("/mist-stream-push-destinations?wildcardId=".concat(n));case 5:r=e.sent,S.value=r.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Failed to fetch push destinations:",e.t0);case 12:e.next=15;break;case 14:console.error("No wildcard ID found");case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function N(){return(N=B(I().mark((function e(t){var n,r,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Starting push for destination ".concat(t)),n={destinationId:t},e.prev=2,e.next=5,axios.post("/mist-stream/start-push",n,{headers:{"Content-Type":"application/json"}});case 5:r=e.sent,console.log("Push started successfully:",r.data),-1!==(o=S.value.findIndex((function(e){return e.id===t})))&&(S.value[o].push_is_started=1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error starting push:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function V(){return(V=B(I().mark((function e(t){var n,r,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Stopping push for destination ".concat(t)),n={destinationId:t},e.prev=2,e.next=5,axios.post("/mist-stream/stop-push",n,{headers:{"Content-Type":"application/json"}});case 5:r=e.sent,console.log("Push stopped successfully:",r.data),-1!==(o=S.value.findIndex((function(e){return e.id===t})))&&(S.value[o].push_is_started=0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error stopping push:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var P=function(){var e=B(I().mark((function e(t){var n,r,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={destinationId:t},e.prev=1,e.next=4,axios.post("/mist-stream/push-auto-add",n,{headers:{"Content-Type":"application/json"}});case 4:r=e.sent,console.log("Auto push enabled successfully:",r.data),-1!==(o=S.value.findIndex((function(e){return e.id===t})))&&(S.value[o].has_auto_push=1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error enabling auto push:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();function T(){return(T=B(I().mark((function e(t){var n,r,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Disabling auto push for destination ".concat(t)),n={destinationId:t},e.prev=2,e.next=5,axios.post("/mist-stream/push-auto-remove",n,{headers:{"Content-Type":"application/json"}});case 5:r=e.sent,console.log("Auto push disabled successfully:",r.data),-1!==(o=S.value.findIndex((function(e){return e.id===t})))&&(S.value[o].has_auto_push=0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error disabling auto push:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var D=function(){var e=B(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.value="add",n=null===(t=v.selectedShow)||void 0===t||null===(t=t.mist_stream_wildcard)||void 0===t?void 0:t.id,k.value={mist_stream_wildcard_id:n},document.getElementById("mistStreamPushDestinationForm").showModal();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=B(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.value="edit",k.value=t,document.getElementById("mistStreamPushDestinationForm").showModal(),console.log("Editing destination with ID: ".concat(t)),n=S.value.findIndex((function(e){return e.id===k.value.id})),-1!==n&&(S.value[n].has_auto_push=0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=B(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete the destination with ID: ".concat(t,"?"))){e.next=11;break}return e.prev=1,e.next=4,axios.delete("/mist-stream-push-destinations/".concat(t));case 4:console.log("Deleted destination with ID: ".concat(t)),S.value=S.value.filter((function(e){return e.id!==t})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error deleting destination with ID: ".concat(t),e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),We=d.mistServerUri+"hls/"+(null==v||null===(t=v.selectedShow)||void 0===t?void 0:t.mist_stream_wildcard.name)+"/index.m3u8",Je=(0,r.ref)(""),Qe=(0,r.ref)(""),Xe=(0,r.ref)("");v.fetchStreamInfo(null==v||null===(n=v.selectedShow)||void 0===n?void 0:n.mist_stream_wildcard.name),v.fetchRtmpUri(),(0,r.watchEffect)((function(){var e,t;v.rtmpUri&&(Qe.value=v.rtmpUri+"live/",v.isEpisode&&null!==(e=v.episode)&&void 0!==e&&null!==(e=e.mist_stream_wildcard)&&void 0!==e&&e.name?Xe.value=v.episode.mist_stream_wildcard.name:!v.isEpisode&&null!==(t=v.selectedShow)&&void 0!==t&&null!==(t=t.mist_stream_wildcard)&&void 0!==t&&t.name&&(Xe.value=v.selectedShow.mist_stream_wildcard.name),Je.value="".concat(Qe.value).concat(Xe.value))}));var et=function(){b(Je.value),y.value=!0,setTimeout((function(){return y.value=!1}),1e3)},tt=function(){b(Qe.value),g.value=!0,setTimeout((function(){return g.value=!1}),1e3)},nt=function(){b(Xe.value),w.value=!0,setTimeout((function(){return w.value=!1}),1e3)},rt=function(){var e,t,n,r,o=null;if(null!=v&&null!==(e=v.selectedShow)&&void 0!==e&&null!==(e=e.mist_stream_wildcard)&&void 0!==e&&e.name)o=null==v||null===(n=v.selectedShow)||void 0===n||null===(n=n.mist_stream_wildcard)||void 0===n?void 0:n.name,v.fetchStreamInfo(null==v||null===(r=v.selectedShow)||void 0===r||null===(r=r.mist_stream_wildcard)||void 0===r?void 0:r.name);else if(null!=v&&null!==(t=v.episode)&&void 0!==t&&null!==(t=t.mist_stream_wildcard)&&void 0!==t&&t.name){var i,a;o=null==v||null===(i=v.episode)||void 0===i||null===(i=i.mist_stream_wildcard)||void 0===i?void 0:i.name,v.fetchStreamInfo(null==v||null===(a=v.episode)||void 0===a||null===(a=a.mist_stream_wildcard)||void 0===a?void 0:a.name)}var s=d.mistServerUri+"hls/"+o+"/index.m3u8";console.log("source url: "+s);(0,l.Z)("aux-player").src({src:s,type:"application/vnd.apple.mpegurl"}),console.log("reload player")};(0,r.onMounted)((function(){ct(),console.log("onPlayerReady AUX"),_()}));var ot=null,it=(0,r.ref)(300),at=(0,r.computed)((function(){return Math.floor(it.value/3600)})),st=(0,r.computed)((function(){return Math.floor(it.value%3600/60)})),lt=(0,r.computed)((function(){return it.value%60})),ct=function(){null!==ot&&clearInterval(ot),it.value=300,ot=setInterval((function(){it.value--,it.value<0&&(clearInterval(ot),ot=null)}),1e3)};(0,r.onUnmounted)((function(){null!==ot&&clearInterval(ot)})),ct();var ut=(0,r.computed)((function(){return v.isLive||v.isRecording?"bg-gray-200 hover:bg-gray-400":""})),dt=(0,r.computed)((function(){return v.isLive||v.isRecording?"border-4 border-red-700":""})),pt=Echo.channel("mistStreamWildcard.".concat(null==v||null===(c=v.selectedShow)||void 0===c||null===(c=c.mist_stream_wildcard)||void 0===c?void 0:c.id));return pt.subscribed((function(){console.log("Successfully subscribed to the channel!")})).listen(".push-out-start",(function(e){console.log("push out start EVENT BROADCASTED!");var t=S.value.findIndex((function(t){return"".concat(t.rtmp_url).concat(t.rtmp_key)===e.requestUrl}));-1!==t&&(S.value[t].push_is_started=1)})).listen(".push-end",(function(e){console.log("push end EVENT BROADCASTED!");var t=S.value.findIndex((function(t){return"".concat(t.rtmp_url).concat(t.rtmp_key)===e.requestUrl}));-1!==t&&(S.value[t].push_is_started=0)})),(0,r.onUnmounted)((function(){var e;pt.stopListening(".push-out-start"),pt.stopListening(".push-end"),Echo.leave("mistStreamWildcard.".concat(null==v||null===(e=v.selectedShow)||void 0===e||null===(e=e.mist_stream_wildcard)||void 0===e?void 0:e.id))})),(0,r.onBeforeUnmount)((function(){})),function(e,t){var n,o,i,a,s,l,c,m;return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",A,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["text-sm font-semibold text-white text-center w-full border-2 rounded uppercase px-0 md:px-6 py-1",[(0,r.unref)(v).isLive?"bg-gray-600 border-gray-600 ":"bg-red-600 border-red-600"]])}," Go Live Instructions ",2),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["shadow overflow-hidden border-2 border-red-600 rounded p-2 md:p-6",[(0,r.unref)(v).isLive?"bg-gray-100":"bg-red-100"]])},[(0,r.createElementVNode)("div",j,[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("div",O,[(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){return(0,r.unref)(u).btnRedirect("/training/go-live-using-zoom")}),class:"btn bg-blue-500 hover:bg-blue-700 rounded-lg text-white"},"How To Stream From Zoom "),(0,r.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return x.value=!x.value}),class:"btn bg-blue-500 hover:bg-blue-700 rounded-lg text-white ml-2"},"How To Stream From OBS ")]),x.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",R,[U,(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("RTMP full url: "),Qe.value&&Xe.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",M,(0,r.toDisplayString)(Qe.value)+(0,r.toDisplayString)(Xe.value),1)):(0,r.createCommentVNode)("",!0),(0,r.createTextVNode)("  "),Qe.value&&Xe.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:et},[Qe.value&&Xe.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(f.GN),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),y.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",F,"Copied!")):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("RTMP url: "),(0,r.createElementVNode)("span",G,(0,r.toDisplayString)(Qe.value),1),(0,r.createTextVNode)("  "),Qe.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:tt},[Qe.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(f.GN),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),g.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",z,"Copied!")):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)("RTMP stream key: "),(0,r.createElementVNode)("span",Z,(0,r.toDisplayString)(Xe.value),1),(0,r.createTextVNode)("  "),Xe.value?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:nt},[Xe.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(f.GN),{key:0,icon:"fa-clipboard",class:"text-blue-500 hover:text-blue-700 hover:cursor-pointer"})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),w.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",K,"Copied!")):(0,r.createCommentVNode)("",!0)])])):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",$,[(0,r.createElementVNode)("div",Y,[(0,r.createElementVNode)("div",H,[(0,r.createElementVNode)("div",q,[(0,r.unref)(v).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:t[3]||(t[3]=function(){var e;return(0,r.unref)(v).stopRecording&&(e=(0,r.unref)(v)).stopRecording.apply(e,arguments)}),class:"btn text-white bg-red-700 hover:bg-red-900 uppercase"},"Stop Recording ")):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[2]||(t[2]=function(){var e;return(0,r.unref)(v).startRecording&&(e=(0,r.unref)(v)).startRecording.apply(e,arguments)}),class:"btn text-white bg-green-500 hover:bg-green-700 uppercase"},"Start Recording "))]),(0,r.createElementVNode)("div",W,[(0,r.unref)(v).isLive?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:t[5]||(t[5]=function(){var e;return(0,r.unref)(v).stopLive&&(e=(0,r.unref)(v)).stopLive.apply(e,arguments)}),class:"btn text-white bg-red-700 hover:bg-red-900 uppercase"},"End Live ")):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[4]||(t[4]=function(){var e;return(0,r.unref)(v).goLive&&(e=(0,r.unref)(v)).goLive.apply(e,arguments)}),class:"btn text-white bg-green-500 hover:bg-green-700 uppercase"},"Go Live Now "))])]),(0,r.unref)(v).isRecording&&(0,r.unref)(v).isLive?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",J," Premium Creator Service "))]),(0,r.createElementVNode)("div",Q,[X,(0,r.createElementVNode)("div",ee,[(0,r.createElementVNode)("span",{style:(0,r.normalizeStyle)({"--value":at.value})},(0,r.toDisplayString)(at.value.toString().padStart(2,"0")),5),(0,r.createTextVNode)("h "),(0,r.createElementVNode)("span",{style:(0,r.normalizeStyle)({"--value":st.value})},(0,r.toDisplayString)(st.value.toString().padStart(2,"0")),5),(0,r.createTextVNode)("m "),(0,r.createElementVNode)("span",{style:(0,r.normalizeStyle)({"--value":lt.value})},(0,r.toDisplayString)(lt.value.toString().padStart(2,"0")),5),(0,r.createTextVNode)("s ")]),te])])]),(0,r.createElementVNode)("div",ne,[re,(0,r.createElementVNode)("div",oe,[(0,r.createElementVNode)("div",ie,[(0,r.createElementVNode)("div",ae,[(0,r.createElementVNode)("button",{onClick:rt,class:(0,r.normalizeClass)(["btn btn-xs w-full",ut.value])},"Reload Player ",2),(0,r.unref)(v).isLive||(0,r.unref)(v).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("div",se,[(0,r.unref)(v).isLive?((0,r.openBlock)(),(0,r.createElementBlock)("span",le,"LIVE")):(0,r.createCommentVNode)("",!0),(0,r.createTextVNode)(),(0,r.unref)(v).isLive&&(0,r.unref)(v).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("span",ce," + ")):(0,r.createCommentVNode)("",!0),(0,r.unref)(v).isRecording?((0,r.openBlock)(),(0,r.createElementBlock)("span",ue,"RECORDING")):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)((0,r.unref)(h),{id:"aux-player",source:(0,r.unref)(We),sourceType:(0,r.unref)("application/vnd.apple.mpegURL"),class:(0,r.normalizeClass)(["",dt.value])},null,8,["source","sourceType","class"])]),(0,r.createElementVNode)("div",de,[(0,r.createElementVNode)("div",pe,[(0,r.unref)(d).muted?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:(0,r.normalizeClass)(["btn",ut.value]),onClick:t[7]||(t[7]=function(){var e;return(0,r.unref)(d).unMute&&(e=(0,r.unref)(d)).unMute.apply(e,arguments)})},"Turn On Main Player Audio ",2)):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:(0,r.normalizeClass)(["btn",ut.value]),onClick:t[6]||(t[6]=function(){var e;return(0,r.unref)(d).mute&&(e=(0,r.unref)(d)).mute.apply(e,arguments)})},"Mute Main Player Audio ",2))]),(0,r.createElementVNode)("div",he,[(0,r.unref)(p).muted?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,class:(0,r.normalizeClass)(["btn",ut.value]),onClick:t[9]||(t[9]=function(){var e;return(0,r.unref)(p).unMute&&(e=(0,r.unref)(p)).unMute.apply(e,arguments)})},"Turn On Live Stream Audio ",2)):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,class:(0,r.normalizeClass)(["btn",ut.value]),onClick:t[8]||(t[8]=function(){var e;return(0,r.unref)(p).mute&&(e=(0,r.unref)(p)).mute.apply(e,arguments)})},"Mute Live Stream Video ",2))])])]),(0,r.unref)(v).streamInfo&&!(0,r.unref)(v).streamInfo.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"w-fit",key:(0,r.unref)(v).selectedShowId},[(0,r.createElementVNode)("div",null,[fe,(0,r.createElementVNode)("p",null,[me,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(null===(n=(0,r.unref)(v).streamInfo)||void 0===n?void 0:n.width),1)]),(0,r.createElementVNode)("p",null,[ve,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(null===(o=(0,r.unref)(v).streamInfo)||void 0===o?void 0:o.height),1)]),null!==(i=(0,r.unref)(v).streamInfo)&&void 0!==i&&null!==(i=i.meta)&&void 0!==i&&i.tracks?((0,r.openBlock)(),(0,r.createElementBlock)("div",ye,[ge,(0,r.createElementVNode)("ul",null,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(null===(a=(0,r.unref)(v))||void 0===a||null===(a=a.streamInfo)||void 0===a?void 0:a.meta.tracks,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("li",{key:t}," · "+(0,r.toDisplayString)(t)+" - Codec: "+(0,r.toDisplayString)(e.codec)+", Rate: "+(0,r.toDisplayString)(e.rate),1)})),128))])])):(0,r.createCommentVNode)("",!0)])])):(0,r.createCommentVNode)("",!0),null!==(s=(0,r.unref)(v))&&void 0!==s&&s.streamInfo||null!==(l=(0,r.unref)(v))&&void 0!==l&&null!==(l=l.streamInfo)&&void 0!==l&&l.error?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",we,be)),null!==(c=(0,r.unref)(v))&&void 0!==c&&null!==(c=c.streamInfo)&&void 0!==c&&c.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",xe,[(0,r.createElementVNode)("div",Se,[(0,r.createElementVNode)("span",Ee,(0,r.toDisplayString)(null===(m=(0,r.unref)(v))||void 0===m||null===(m=m.streamInfo)||void 0===m?void 0:m.error),1)])])):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",ke,[_e,(0,r.createElementVNode)("div",Le,[(0,r.createElementVNode)("div",Ne,[Ve,(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{class:"btn bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-lg",onClick:(0,r.withModifiers)(D,["prevent"])},"Add Push Destinations ")])]),0===S.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ce,Pe)):(0,r.createCommentVNode)("",!0),S.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ie,[(0,r.createElementVNode)("div",Te,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(S.value,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"border p-4 rounded-lg shadow flex flex-row items-center gap-4"},[(0,r.createElementVNode)("img",{src:e.destination_image,alt:"Destination Image",class:"w-24 h-24 object-cover rounded-full"},null,8,Be),(0,r.createElementVNode)("div",De,[(0,r.createElementVNode)("h3",Ae,(0,r.toDisplayString)(e.destination_name),1),(0,r.createElementVNode)("h4",je,(0,r.toDisplayString)(e.comment),1),e.push_is_started?((0,r.openBlock)(),(0,r.createElementBlock)("p",Oe,"Is Active")):(0,r.createCommentVNode)("",!0),e.has_auto_push&&!e.push_is_started?((0,r.openBlock)(),(0,r.createElementBlock)("p",Re,"Auto push is enabled")):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",Ue,[e.push_is_started?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:function(t){return function(e){return V.apply(this,arguments)}(e.id)},class:"py-2 px-4 bg-red-500 text-white rounded hover:bg-red-700 transition duration-150"}," Stop Push ",8,Me)):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,onClick:function(t){return function(e){return N.apply(this,arguments)}(e.id)},class:"py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-150"}," Start Push ",8,Fe)),e.has_auto_push||e.push_is_started?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:2,onClick:function(t){return P(e.id)},class:"py-2 px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition duration-150"}," Auto Push ",8,Ge)),e.has_auto_push&&!e.push_is_started?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:3,onClick:function(t){return function(e){return T.apply(this,arguments)}(e.id)},class:"py-2 px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition duration-150"}," Remove Auto Push ",8,ze)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",Ze,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(t){return He(e)}),["prevent"]),class:"btn btn-sm text-white font-semibold bg-blue-500 hover:bg-blue-600 rounded-lg"},[(0,r.createVNode)((0,r.unref)(f.GN),{icon:"fa-pencil",class:"my-1 mx-1"})],8,Ke)]),(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)((function(t){return qe(e.id)}),["prevent"]),class:"btn btn-sm text-white font-semibold bg-red-500 hover:bg-red-600 rounded-lg"},[(0,r.createVNode)((0,r.unref)(f.GN),{icon:"fa-trash-can",class:"my-1 mx-1"})],8,$e)])})),128))])])):(0,r.createCommentVNode)("",!0)])]),(0,r.createVNode)((0,r.unref)(C),{onUpdateSuccess:_,destinationDetails:k.value,mode:E.value},null,8,["destinationDetails","mode"])],2)]),Ye],64)}}};var qe=n(93379),We=n.n(qe),Je=n(45207),Qe={insert:"head",singleton:!1};We()(Je.Z,Qe);Je.Z.locals;const Xe=(0,n(83744).Z)(He,[["__scopeId","data-v-65248199"]])},59369:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(70821),o=n(9680),i=n(58358);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:V(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};d(S,l,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(B([])));k&&k!==n&&r.call(k,l)&&(S=k);var _=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,s,l){var c=h(e[o],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function V(t,n,r){var o=f;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?y:m,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=x,o(_,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},L(N.prototype),d(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(_),d(_,u,"Generator"),d(_,l,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var c={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:1,class:"alert alert-success mt-4 mx-3"},h=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f={key:2,class:"alert alert-warning mt-4 mx-3"},m=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),v={key:3,class:"alert alert-error mt-4 mx-3"},y=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const g={__name:"Messages",props:{flash:Object},setup:function(e){(0,i.useAppSettingStore)().showFlashMessage=!0;var t=e,n=((0,r.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Inertia.post(route("flash.clear"));case 2:o.Inertia.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.unref)(t).flash.message?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.message),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.success?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,[h,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.success),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.warning?((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[m,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.warning),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",v,[y,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.error),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0)])}}}},38575:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(70821),o=["id"],i={class:"modal-box text-center my-auto border-2 border-secondary","data-theme":"dark"},a={class:"font-bold text-3xl text-secondary"},s={class:"py-4 text-xl"},l=(0,r.createElementVNode)("div",{class:"modal-action justify-center w-full"},[(0,r.createElementVNode)("form",{method:"dialog"},[(0,r.createElementVNode)("button",{class:"btn btn-secondary"},"Okay")])],-1);const c={__name:"PopUpModal",props:{id:String},setup:function(e){return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("dialog",{id:e.id,class:"modal"},[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("h2",a,[(0,r.renderSlot)(t.$slots,"header")]),(0,r.createElementVNode)("p",s,[(0,r.renderSlot)(t.$slots,"main")]),l])],8,o)])}}}},95399:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(70821),o=n(38575),i=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),a=(0,r.createElementVNode)("p",null,"Set how many minutes until you go live. If you have already scheduled the show you will automatically go live at the set time. You can change the set time here if needed. The audience will receive notifications that the live is about to begin 2 minutes in advance.",-1),s=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon. ",-1),l=(0,r.createElementVNode)("p",null,"Notifications will immediately go out to subscribers and your show will appear in the shows list with a live badge.",-1),c=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),u=(0,r.createElementVNode)("p",{class:"text-orange-500"},"This feature is coming soon.",-1),d=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),p=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),h=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),f=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can schedule the release from the Show Edit page.",-1),m=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This feature is coming soon.",-1),v=(0,r.createElementVNode)("span",{class:"text-orange-500"},"This button is in development. You can edit the description on the episode Edit page.",-1);const y={__name:"ManageShowEpisodeNoticeModals",setup:function(e){return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)((0,r.unref)(o.Z),{id:"startCountdownNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Set Countdown Timer")]})),main:(0,r.withCtx)((function(){return[i,a]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"startLiveStreamNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Start Live Stream")]})),main:(0,r.withCtx)((function(){return[s,l]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"setPushDestinationsNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Set Push Destinations")]})),main:(0,r.withCtx)((function(){return[c]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"setCommercialBreakNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Commercial Breaks")]})),main:(0,r.withCtx)((function(){return[u]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"teleprompterNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("TELEPROMPTER")]})),main:(0,r.withCtx)((function(){return[d]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"vtrNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("VTR")]})),main:(0,r.withCtx)((function(){return[p]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"graphicsNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Graphics (like Chryon)")]})),main:(0,r.withCtx)((function(){return[h]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"scheduleReleaseNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Schedule Release")]})),main:(0,r.withCtx)((function(){return[f]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"addBonusContentNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Add Bonus Content")]})),main:(0,r.withCtx)((function(){return[m]})),_:1}),(0,r.createVNode)((0,r.unref)(o.Z),{id:"editDescriptionNotice"},{header:(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Edit Episode Description")]})),main:(0,r.withCtx)((function(){return[v]})),_:1})])}}}},14562:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(70821),o=n(24831),i=n(58358),a=n(40191),s=n(87166),l=n(71493),c=n(59369),u=n(19204),d=n(2541),p=n(72200),h=n(95399);n(28277);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(){m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:V(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",v="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};c(S,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(B([])));k&&k!==n&&r.call(k,a)&&(S=k);var _=x.prototype=w.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==f(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function V(t,n,r){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?y:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(f(t)+" is not iterable")}return b.prototype=x,o(_,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},L(N.prototype),c(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(_),c(_,l,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function v(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,s,"next",e)}function s(e){v(i,r,o,a,s,"throw",e)}a(void 0)}))}}var g={class:"place-self-center flex flex-col gap-y-3"},w={id:"topDiv",class:"bg-white text-black p-5 mb-10"},b={class:"flex justify-between mx-4 px-6 w-full"},x=(0,r.createElementVNode)("div",{class:"grid grid-cols-1 grid-rows-2"},[(0,r.createElementVNode)("h1",{class:"text-3xl font-semibold"},"Go Live")],-1),S={key:1,class:"mb-6 mx-4 px-6 w-full"},E=(0,r.createElementVNode)("label",{class:"block mb-2 uppercase font-bold text-xs text-light text-primary",for:"show"}," Select Show To Go Live On ",-1),k=(0,r.createElementVNode)("option",{disabled:"",selected:""},"Select show",-1),_=["value"],L={key:2,class:"bg-black w-3/4 text-center px-10 py-6 text-white mx-auto border-red-700 border-2"},N={key:3,class:"text-2xl font-semibold text-center w-full"},V={key:5,class:"flex flex-col justify-items-center text-center px-16"},C=(0,r.createElementVNode)("div",{class:"mb-3"},"Please generate a stream key:",-1);const P={__name:"GoLive",props:{shows:Object},setup:function(e){(0,o.U)("goLive");var t=(0,i.useAppSettingStore)(),n=((0,a.useVideoPlayerStore)(),(0,s.useVideoAuxPlayerStore)()),f=(0,l.useGoLiveStore)();(0,r.onMounted)(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.isEpisode=null,f.episode=null,f.fetchShows().then((function(){f.preSelectedShowId&&(f.selectedShowId=f.preSelectedShowId)}));case 3:case"end":return e.stop()}}),e)}))));var v=function(){var e,t,r=null==f||null===(e=f.selectedShow)||void 0===e||null===(e=e.mist_stream_wildcard)||void 0===e?void 0:e.name,o=n.mistServerUri+"hls/"+r+"/index.m3u8";console.log("source url: "+o);(0,p.Z)("aux-player").src({src:o,type:"application/vnd.apple.mpegurl"}),f.fetchStreamInfo(null==f||null===(t=f.selectedShow)||void 0===t||null===(t=t.mist_stream_wildcard)||void 0===t?void 0:t.name),console.log("reload player")},P=function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.generateStreamKey();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,n){var o=(0,r.resolveComponent)("Head"),i=(0,r.resolveComponent)("Link");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(o,{title:"Go Live"}),(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("div",w,[(0,r.unref)(t).showFlashMessage?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(c.Z),{key:0,flash:e.$page.props.flash},null,8,["flash"])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",b,[x,(0,r.createElementVNode)("div",null,[(0,r.createVNode)((0,r.unref)(u.Z))])]),(0,r.unref)(f).shows&&(0,r.unref)(f).shows.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",S,[E,(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"select select-primary select-lg w-full p-2 block my-2 uppercase font-bold text-lg","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,r.unref)(f).selectedShowId=e}),onChange:v},[k,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(f).shows,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,_)})),128))],544),[[r.vModelSelect,(0,r.unref)(f).selectedShowId]])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",L," You don't have any shows to go live with... please check your show(s). ")),(0,r.unref)(f).selectedShow?((0,r.openBlock)(),(0,r.createElementBlock)("div",N,[(0,r.createVNode)(i,{href:"/shows/".concat((0,r.unref)(f).selectedShow.slug,"/manage")},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(f).selectedShow.name),1)]})),_:1},8,["href"])])):(0,r.createCommentVNode)("",!0),(0,r.unref)(f).selectedShow&&(0,r.unref)(f).selectedShow.mist_stream_wildcard_id?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(d.Z),{key:4})):(0,r.createCommentVNode)("",!0),(0,r.unref)(f).selectedShow&&!(0,r.unref)(f).selectedShow.mist_stream_wildcard_id?((0,r.openBlock)(),(0,r.createElementBlock)("div",V,[C,(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("button",{onClick:P,class:"btn btn-sm w-fit bg-green-500 hover:bg-green-700 text-white"},"generate key")])])):(0,r.createCommentVNode)("",!0)])]),(0,r.createVNode)(h.Z)],64)}}}}}]);
//# sourceMappingURL=4562.js.map