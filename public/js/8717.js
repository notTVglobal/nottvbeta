"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8717],{24831:(e,t,n)=>{n.d(t,{U:()=>d});var o=n(70821),s=n(90771),a=n(58358),r=n(40191),l=n(87879);function d(e){var t=(0,s.useUserStore)(),n=(0,a.useAppSettingStore)(),d=(0,r.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(0===n.ott&&(n.ott=4),n.showOttButtons=!0),d.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,n.pageWasReloaded=!0,window.location.reload()),l.Nd.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:0===n.ott&&(n.ott=4),""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1,(0,o.watch)((function(){return n.isSmallScreen}),(function(e){n.ott=e?0:4}),{immediate:!0})}},33409:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(70821),s=n(58358),a=n(87879),r=n(36808),l=n(83004),d={class:"flex items-center"};const c={__name:"OpenInboxButtonWithCount",setup:function(e){var t=(0,r.useNewsPersonMessageStore)();(0,l.useNotificationStore)(),(0,a.qt)();(0,o.onMounted)((function(){t.fetchMessageCount()}));(0,o.computed)((function(){return t.computedMessageCount}));var n=(0,o.computed)((function(){return t.computedNewMessageCount})),s=(0,o.computed)((function(){return n.value>0?"bg-pink-600 hover:bg-pink-700 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded":"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded"}));function c(){a.Nd.get("/news-person-messages")}return function(e,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("button",{onClick:c,class:(0,o.normalizeClass)(s.value)}," Inbox ("+(0,o.toDisplayString)((0,o.unref)(t).computedNewMessageCount)+") ",3)])}}};var i={class:"w-full mx-auto -mt-6 b-3 pb-3 border-b border-gray-500 pt-12 px-12 bg-yellow-950 text-white"},m={class:"w-full mx-auto flex flex-wrap justify-between mb-3 pb-3 gap-x-2 gap-y-2"},u={class:"text-4xl font-semibold text-center lg:text-left"},g={class:"flex align-items-end mt-4 gap-2"},p={class:"w-full overflow-hidden shadow-sm sm:rounded-lg"},b={class:"w-full p-6 dark:bg-gray-900 border-b border-gray-200"},w={class:"w-full relative bg-gray-200 overflow-x-auto shadow-md sm:rounded-lg py-6 px-6"},f={class:"flex flex-wrap justify-start ml-0 lg:ml-16 mt-6 mr-6 lg:mt-0 gap-x-2 gap-y-3 md:gap-x-8"},x=["onClick","disabled"];const h={__name:"NewsHeader",props:{search:String},setup:function(e){var t=(0,s.useAppSettingStore)();var n=(0,o.reactive)([{name:"News Stories",path:"/newsroom",enabled:!0},{name:"News RSS Feeds",path:"/newsRssFeedItemsTemp",enabled:!0},{name:"News RSS Archive",path:"/newsRssArchive",enabled:!0},{name:"Categories",path:"/categories",enabled:!1},{name:"Cities",path:"/cities",enabled:!1},{name:"Districts",path:"/news-districts",enabled:!0},{name:"Press Releases",path:"/pressReleases",enabled:!1},{name:"Calendar",path:"/calendar",enabled:!1},{name:"Public News Page",path:"/news",enabled:!0}]);return function(e,s){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",u,[(0,o.renderSlot)(e.$slots,"default")]),(0,o.createVNode)(c),(0,o.createElementVNode)("button",{onClick:s[0]||(s[0]=function(e){return(0,o.unref)(t).btnRedirect("/dashboard")}),class:"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max"},"Dashboard ")])]),(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("ul",f,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{key:e.name,class:""},[(0,o.createElementVNode)("button",{onClick:function(n){return e.enabled?(0,o.unref)(t).btnRedirect(e.path):null},class:(0,o.normalizeClass)((n=e.enabled,n?"py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 transition ease-in-out duration-150":"py-2 px-4 bg-gray-400 text-white font-semibold rounded-lg shadow-md cursor-not-allowed")),disabled:!e.enabled},(0,o.toDisplayString)(e.name),11,x)]);var n})),128))])])])])])],64)}}}},58717:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(70821),s=n(24831),a=n(36808),r=n(58358),l=n(90771),d=n(33409),c={class:"place-self-center flex flex-col"},i={id:"topDiv",class:"bg-white h-screen text-black dark:bg-gray-900 dark:text-gray-50"},m={class:"w-full max-w-7xl mx-auto px-8 rounded-lg bg-gray-50 text-black dark:bg-gray-800 dark:text-gray-50"},u={class:"py-8 px-4 lg:px-16"},g=(0,o.createElementVNode)("h1",{class:"text-3xl font-bold mb-6"},"Message Details",-1),p={class:"mb-6"},b={class:"text-2xl font-semibold mb-4"},w={key:0,class:"text-lg mb-2"},f={class:"flex items-center"},x=["src"],h=(0,o.createElementVNode)("span",{class:"font-semibold"},"Sender:",-1),N={key:0},k=(0,o.createElementVNode)("span",{class:"font-semibold"},"Roles:",-1),v={key:1},V=(0,o.createElementVNode)("span",{class:"font-semibold"},"Creator Slug:",-1),y={key:2},E=(0,o.createElementVNode)("span",{class:"font-semibold"},"Email:",-1),M={key:3},P=(0,o.createElementVNode)("span",{class:"font-semibold"},"Phone:",-1),S=(0,o.createElementVNode)("p",{class:"text-lg mt-4"},[(0,o.createElementVNode)("span",{class:"font-semibold"},"Message:")],-1),C={class:"bg-white dark:bg-gray-700 p-4 rounded-lg shadow mt-2"},B=["innerHTML"],R={class:"flex space-x-4"};const T={__name:"{$id}",props:{newsPersonMessage:Object},setup:function(e){var t=(0,a.useNewsPersonMessageStore)(),n=(0,r.useAppSettingStore)(),T=((0,l.useUserStore)(),e);return(0,s.U)("newsPersonMessages."+T.newsPersonMessage.id),(0,o.onMounted)((function(){t.updateMessage(T.newsPersonMessage)})),function(s,a){var r=(0,o.resolveComponent)("Head"),l=(0,o.resolveComponent)("font-awesome-icon");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(r,{title:"News Message Inbox"}),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.createVNode)(d.Z,null,{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Newsroom")]})),_:1}),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",u,[g,(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h2",b,(0,o.toDisplayString)(e.newsPersonMessage.subject||"No Subject"),1),e.newsPersonMessage.sender_id?((0,o.openBlock)(),(0,o.createElementBlock)("div",w,[(0,o.createElementVNode)("div",f,[e.newsPersonMessage.sender.profile_photo_url?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:e.newsPersonMessage.sender.profile_photo_url,alt:"Profile Photo",class:"w-12 h-12 rounded-full mr-4"},null,8,x)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("p",null,[h,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.newsPersonMessage.sender.name),1)]),e.newsPersonMessage.sender.roles.length?((0,o.openBlock)(),(0,o.createElementBlock)("p",N,[k,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.newsPersonMessage.sender.roles.join(", ")),1)])):(0,o.createCommentVNode)("",!0),e.newsPersonMessage.sender.creator_slug?((0,o.openBlock)(),(0,o.createElementBlock)("p",v,[V,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.newsPersonMessage.sender.creator_slug),1)])):(0,o.createCommentVNode)("",!0),e.newsPersonMessage.sender.email?((0,o.openBlock)(),(0,o.createElementBlock)("p",y,[E,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.newsPersonMessage.sender.email),1)])):(0,o.createCommentVNode)("",!0),e.newsPersonMessage.sender.phone?((0,o.openBlock)(),(0,o.createElementBlock)("p",M,[P,(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.newsPersonMessage.sender.phone),1)])):(0,o.createCommentVNode)("",!0)])])])):(0,o.createCommentVNode)("",!0),S,(0,o.createElementVNode)("p",C,[(0,o.createElementVNode)("span",{innerHTML:e.newsPersonMessage.message},null,8,B)])]),(0,o.createElementVNode)("div",R,[(0,o.createElementVNode)("button",{onClick:a[0]||(a[0]=function(e){return(0,o.unref)(n).btnRedirect("/news-person-messages")}),class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition"}," Back to Inbox "),e.newsPersonMessage.sender&&"newsPerson"===e.newsPersonMessage.sender.type?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,onClick:a[1]||(a[1]=function(o){return s=e.newsPersonMessage.sender,a=e.newsPersonMessage.subject,t.setRecipient({id:s.id,name:s.name}),t.setSubject("Reply: ".concat(a||"No Subject")),void n.btnRedirect("/news-person-messages/create");var s,a}),class:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition"}," Reply ")):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{onClick:a[2]||(a[2]=function(n){return o=e.newsPersonMessage.id,void t.deleteMessage(o);var o}),class:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition flex items-center"},[(0,o.createVNode)(l,{icon:"fa-trash-can",class:"mr-2"}),(0,o.createTextVNode)(" Delete ")])])])])])])])}}}}}]);
//# sourceMappingURL=8717.js.map