/*! For license information please see 1954.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1954,2984,6961],{96961:(e,t,r)=>{r.r(t),r.d(t,{useInviteStore:()=>c});var n=r(69876);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",s=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function m(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),l=new O(n||[]);return i(a,"_invoke",{value:B(e,r,l)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var p="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var k={};d(k,c,(function(){return this}));var E=Object.getPrototypeOf,V=E&&E(E(j([])));V&&V!==r&&n.call(V,c)&&(k=V);var C=w.prototype=b.prototype=Object.create(k);function N(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(a,i,l,c){var s=f(e[a],e,i);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==o(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,l,c)}),(function(e){r("throw",e,l,c)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,c)}))}c(s.arg)}var a;i(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function B(t,r,n){var o=p;return function(a,i){if(o===g)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var c=S(l,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?v:h,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},N(A.prototype),d(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(m(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(C),d(C,u,"Generator"),d(C,c,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}var l=function(){return{inviteCode:"",inviteUlid:"",isLoading:!1,registrationAllowed:!1}},c=(0,n.Q_)("inviteStore",{state:l,actions:{reset:function(){Object.assign(this,{inviteCode:"",inviteUlid:"",isLoading:!1,registrationAllowed:!1})},registrationAccessCheck:function(){var e,t=this;return(e=a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.isLoading){e.next=2;break}return e.abrupt("return");case 2:return t.isLoading=!0,e.prev=3,console.log("check access: "+t.inviteUlid),e.next=7,axios.post("/invite/".concat(t.inviteUlid,"/check-registration-access/"),{inviteCode:t.inviteCode});case 7:if(!(r=e.sent).data.success){e.next=14;break}return t.isLoading=!1,t.registrationAllowed=!0,e.abrupt("return",!0);case 14:return t.isLoading=!1,t.registrationAllowed=!1,t.errorMessage=r.data.message||"Invite code not valid",e.abrupt("return",!1);case 18:e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(3),console.error("Error in registrationAccessCheck:",e.t0.message),t.isLoading=!1,t.registrationAllowed=!1,t.errorMessage=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:"An unexpected error occurred",e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,null,[[3,20]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function l(e){i(a,n,o,l,c,"next",e)}function c(e){i(a,n,o,l,c,"throw",e)}l(void 0)}))})()}}})},94612:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(94015),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,".modal-mask[data-v-4cfc0c4f]{background:#0009;display:grid;inset:0;place-items:center;position:fixed;z-index:100}.modal-mask-default[data-v-4cfc0c4f]{background:linear-gradient(135deg,#2ebbec,#1c93d199 70%,#1c93d100)}.modal-mask-local[data-v-4cfc0c4f]{background:linear-gradient(135deg,red,#8b000099 70%,#8b000000)}.modal-mask-black-to-gray[data-v-4cfc0c4f]{background:linear-gradient(135deg,#000,#80808099 70%,#80808000)}.modal-content[data-v-4cfc0c4f]{border-radius:8px;box-shadow:0 4px 6px #0000001a;color:#000;max-width:600px;padding:20px;width:90%}@media (min-width:768px){.modal-content[data-v-4cfc0c4f]{width:50%}}@media (min-width:1024px){.modal-content[data-v-4cfc0c4f]{width:40%}}.modal-footer[data-v-4cfc0c4f]{border-top:1px solid #ddd;font-size:.8rem;margin-top:1rem;padding-top:.5rem}.div1[data-v-4cfc0c4f],.div2[data-v-4cfc0c4f]{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.div1[data-v-4cfc0c4f]{z-index:2}.div2[data-v-4cfc0c4f]{z-index:1}","",{version:3,sources:["webpack://./resources/js/Components/Pages/Welcome/Login.vue"],names:[],mappings:"AAmMA,6BAGE,gBAA8B,CAC9B,YAAa,CAFb,OAAQ,CAGR,kBAAmB,CAJnB,cAAe,CAKf,WACF,CAEA,qCACE,kEACF,CAEA,mCACE,8DACF,CAEA,2CACE,+DACF,CAEA,gCAGE,iBAAkB,CAGlB,8BAAwC,CALxC,UAAY,CAGZ,eAAgB,CAFhB,YAAa,CAGb,SAGF,CAEA,yBACE,gCACE,SACF,CACF,CAEA,0BACE,gCACE,SACF,CACF,CAEA,+BACE,yBAA0B,CAG1B,eAAgB,CAFhB,eAAgB,CAChB,iBAEF,CAEA,8CAGE,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,8BAEF,CAEA,uBACE,SACF,CAEA,uBACE,SACF",sourcesContent:['<template>\n  <Transition\n      enter-from-class="opacity-0 scale-125"\n      enter-to-class="opacity-100 scale-100"\n      enter-active-class="transition duration-300"\n      leave-active-class="transition duration-200"\n      leave-from-class="opacity-100 scale-100"\n      leave-to-class="opacity-0 scale-125"\n  >\n    \x3c!--    <div class="modal-mask overflow-auto py-32 hide-scrollbar">--\x3e\n    \x3c!--      <div class="bg-white py-4 px-4 rounded-lg">--\x3e\n\n    <div v-if="welcomeStore.showLogin" :class="[\'modal-mask\', \'overflow-auto\', \'py-32\', \'hide-scrollbar\', \'bg-base-100\', modalClass]">\n      <div class="relative w-full h-full">\n        <div v-if="videoPlayerStore.mistServerUri.includes(\'localhost\') && !creatorRegistration" class="w-full text-center text-white text-2xl font-semibold tracking-wide">LOCAL VERSION</div>\n        <div class="div1 modal-content bg-base-200 py-4 px-4 rounded-lg text-black bg-white dark:bg-gray-800 dark:text-white">\n          <header v-if="!creatorRegistration" class="flex justify-center uppercase text-sm font-semibold pt-6 mb-2 text-center">\n            <JetAuthenticationCardLogo class="max-w-[30%]"/>\n\n            <div v-if="status" class="mb-4 font-medium text-sm text-green-600">\n              {{ status }}\n            </div>\n          </header>\n          <JetValidationErrors class="px-6 my-4"/>\n          <div class="text-center mt-4 py-3 text-gray-600">\n            <span v-if="!creatorRegistration">Please log in to watch notTV and chat.</span>\n            <span v-else>Please log in.</span>\n          </div>\n          <div class="py-3 px-6">\n            <form @submit.prevent="submit">\n              <div class="w-full">\n                <label for="email" class="input input-bordered input-info flex items-center gap-2 text-black bg-white dark:bg-gray-800 dark:text-white">\n                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"\n                       class="w-4 h-4 opacity-70">\n                    <path\n                        d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"/>\n                    <path\n                        d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"/>\n                  </svg>\n                  <input id="email"\n                         v-model="form.email" type="email" class="grow border-none w-full text-black bg-white dark:bg-gray-800 dark:text-white" placeholder="Email" required\n                         />\n                </label>\n              </div>\n\n              <div class="w-full mt-4">\n                <label for="password" class="input input-bordered input-info flex items-center gap-2 text-black bg-white dark:bg-gray-800 dark:text-white">\n                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"\n                       class="w-4 h-4 opacity-70">\n                    <path fill-rule="evenodd"\n                          d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"\n                          clip-rule="evenodd"/>\n                  </svg>\n                  <input id="password"\n                         v-model="form.password" type="password" class="grow border-none w-full text-black bg-white dark:bg-gray-800 dark:text-white" value="" required/>\n                </label>\n              </div>\n\n              <div class="block mt-4">\n                <label class="flex items-center">\n\x3c!--                  <JetCheckbox v-model:checked="form.remember" name="remember"/>--\x3e\n                  <input type="checkbox" v-model="form.remember" class="checkbox checkbox-info" />\n                  <span class="ml-2 text-sm text-gray-600">Remember me</span>\n                </label>\n              </div>\n\n              <div class="flex flex-wrap-reverse items-center justify-end mt-4">\n                <Link :href="route(\'password.request\')" class="underline text-sm text-gray-600 hover:text-gray-900">\n                  Forgot your password?\n                </Link>\n\n                <JetButton class="ml-4 bg-info hover:bg-info/80" :class="{ \'opacity-25\': form.processing }" :disabled="form.processing">\n                  Log in\n                </JetButton>\n              </div>\n            </form>\n          </div>\n\n          <footer>\n            <div class="flex justify-between modal-footer">\n              <button\n                  @click="clearForm"\n                  class="bg-gray-300 p-2 rounded-md hover:bg-gray-400 hover:text-gray-800"\n              >Cancel\n              </button>\n              <div v-if="!creatorRegistration" class="mt-2">\n                Need to\n                <button @click="showRegister" class="text-blue-800 hover:text-blue-600">register</button>\n                for an account?\n              </div>\n            </div>\n          </footer>\n        </div>\n\n        <div v-if="!creatorRegistration" class="div2">\n          <img src="/storage/images/Ping.png">\n        </div>\n      </div>\n\n\n    </div>\n  </Transition>\n</template>\n\n<script setup>\nimport { useWelcomeStore } from \'@/Stores/WelcomeStore\'\nimport { useVideoPlayerStore } from \'@/Stores/VideoPlayerStore\'\nimport { useUserStore } from \'@/Stores/UserStore\'\nimport { useForm } from \'@inertiajs/inertia-vue3\'\nimport JetAuthenticationCard from \'@/Jetstream/AuthenticationCard\'\nimport JetAuthenticationCardLogo from \'@/Jetstream/AuthenticationCardLogo\'\nimport JetButton from \'@/Jetstream/Button\'\nimport JetInput from \'@/Jetstream/Input\'\nimport JetCheckbox from \'@/Jetstream/Checkbox\'\nimport JetLabel from \'@/Jetstream/Label\'\nimport JetValidationErrors from \'@/Jetstream/ValidationErrors\'\nimport { computed, ref } from \'vue\'\n\nconst welcomeStore = useWelcomeStore()\nconst videoPlayerStore = useVideoPlayerStore()\nconst userStore = useUserStore()\n\nconst props = defineProps({\n  canResetPassword: Boolean,\n  status: String,\n  show: Boolean,\n  creatorRegistration: Boolean,\n})\n\nconst emit = defineEmits([\'login-success\']);\n\nconst showLogin = ref(props.show)\n\nconst form = useForm({\n  email: \'\',\n  password: \'\',\n  remember: false,\n})\n\nconst submit = () => {\n  form.transform(data => ({\n    ...data,\n    remember: form.remember ? \'on\' : \'\',\n    creatorRegistration: true, // Add this line to submit creatorRegistration as true\n  })).post(route(\'login\'), {\n    onFinish: () => {\n      form.reset(\'password\'); // Reset the password field after submission\n      console.log(\'get user data on Login\');\n      if (!props.creatorRegistration) {\n        userStore.fetchUserData() // Fetch user data after successful login\n            .then(() => {\n              // Emit event to parent component to handle post-login actions\n              // Handle any post-fetch logic here, e.g., redirecting the user or updating the UI\n              // Optionally, update timezone or perform other actions after login\n              // const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n              // userStore.updateUserTimezone(timezone);\n            })\n            .catch(error => {\n              console.error(\'Failed to fetch user data:\', error);\n              // Handle any errors in fetching user data here\n            });\n      } else {\n        // Emit event to parent component to handle post-login actions if creatorRegistration is true\n        emit(\'login-success\');\n        welcomeStore.showLogin = false\n      }\n    },\n  });\n};\n\nfunction clearForm() {\n  form.reset()\n  if (props.creatorRegistration) {\n    showLogin.value = false\n  } else\n  welcomeStore.showLogin = false\n}\n\nfunction showRegister() {\n  form.reset()\n  welcomeStore.showLogin = false\n  welcomeStore.showRegister = true\n}\n\nconst modalClass = computed(() => {\n  if (props.creatorRegistration) {\n    return \'modal-mask-black-to-gray\';\n  }\n  return videoPlayerStore.mistServerUri.includes(\'localhost\') ? \'modal-mask-local\' : \'modal-mask-default\';\n});\n\n\n<\/script>\n\n<style scoped>\n.modal-mask {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: grid;\n  place-items: center;\n  z-index: 100;\n}\n\n.modal-mask-default {\n  background: linear-gradient(135deg, rgba(46, 187, 236, 1) 0%, rgba(28, 147, 209, 0.6) 70%, rgba(28, 147, 209, 0) 100%);\n}\n\n.modal-mask-local {\n  background: linear-gradient(135deg, rgba(255, 0, 0, 1) 0%, rgba(139, 0, 0, 0.6) 70%, rgba(139, 0, 0, 0) 100%);\n}\n\n.modal-mask-black-to-gray {\n  background: linear-gradient(135deg, rgba(0, 0, 0, 1) 0%, rgba(128, 128, 128, 0.6) 70%, rgba(128, 128, 128, 0) 100%);\n}\n\n.modal-content {\n  color: black;\n  padding: 20px; /* Your padding */\n  border-radius: 8px; /* Your border-radius */\n  max-width: 600px; /* Maximum width */\n  width: 90%; /* Default width */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Optional: Adds a shadow for depth */\n\n}\n\n@media (min-width: 768px) {\n  .modal-content {\n    width: 50%; /* Adjust based on preference */\n  }\n}\n\n@media (min-width: 1024px) {\n  .modal-content {\n    width: 40%; /* Or fixed size like 600px */\n  }\n}\n\n.modal-footer {\n  border-top: 1px solid #ddd;\n  margin-top: 1rem;\n  padding-top: 0.5rem;\n  font-size: .8rem;\n}\n\n.div1, .div2 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%); /* Centers the divs */\n  /* Additional styles here (width, height, etc.) */\n}\n\n.div1 {\n  z-index: 2; /* Higher z-index, div1 will be in front */\n}\n\n.div2 {\n  z-index: 1; /* Lower z-index, div2 will be behind */\n}\n\n</style>\n'],sourceRoot:""}]);const l=i},42984:(e,t,r)=>{r.r(t),r.d(t,{default:()=>J});var n=r(70821),o=r(27569),a=r(40191),i=r(90771),l=r(39038),c=(r(32242),r(5556)),s=r(28277),u=(r(6710),r(43497),r(15957),r(30131));function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){var n;return n=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){return(0,n.pushScopeId)("data-v-4cfc0c4f"),e=e(),(0,n.popScopeId)(),e},g={class:"relative w-full h-full"},v={key:0,class:"w-full text-center text-white text-2xl font-semibold tracking-wide"},y={class:"div1 modal-content bg-base-200 py-4 px-4 rounded-lg text-black bg-white dark:bg-gray-800 dark:text-white"},b={key:0,class:"flex justify-center uppercase text-sm font-semibold pt-6 mb-2 text-center"},x={key:0,class:"mb-4 font-medium text-sm text-green-600"},w={class:"text-center mt-4 py-3 text-gray-600"},k={key:0},E={key:1},V={class:"py-3 px-6"},C={class:"w-full"},N={for:"email",class:"input input-bordered input-info flex items-center gap-2 text-black bg-white dark:bg-gray-800 dark:text-white"},A=h((function(){return(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"w-4 h-4 opacity-70"},[(0,n.createElementVNode)("path",{d:"M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"}),(0,n.createElementVNode)("path",{d:"M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"})],-1)})),B={class:"w-full mt-4"},S={for:"password",class:"input input-bordered input-info flex items-center gap-2 text-black bg-white dark:bg-gray-800 dark:text-white"},L=h((function(){return(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"w-4 h-4 opacity-70"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule":"evenodd"})],-1)})),_={class:"block mt-4"},O={class:"flex items-center"},j=h((function(){return(0,n.createElementVNode)("span",{class:"ml-2 text-sm text-gray-600"},"Remember me",-1)})),P={class:"flex flex-wrap-reverse items-center justify-end mt-4"},Z={class:"flex justify-between modal-footer"},F={key:0,class:"mt-2"},R={key:1,class:"div2"},U=[h((function(){return(0,n.createElementVNode)("img",{src:"/storage/images/Ping.png"},null,-1)}))];const T={__name:"Login",props:{canResetPassword:Boolean,status:String,show:Boolean,creatorRegistration:Boolean},emits:["login-success"],setup:function(e,t){var r=t.emit,d=(0,o.useWelcomeStore)(),m=(0,a.useVideoPlayerStore)(),p=(0,i.useUserStore)(),h=e,T=r,I=(0,n.ref)(h.show),D=(0,l.cI)({email:"",password:"",remember:!1}),G=function(){D.transform((function(e){return f(f({},e),{},{remember:D.remember?"on":"",creatorRegistration:!0})})).post(route("login"),{onFinish:function(){D.reset("password"),console.log("get user data on Login"),h.creatorRegistration?(T("login-success"),d.showLogin=!1):p.fetchUserData().then((function(){})).catch((function(e){console.error("Failed to fetch user data:",e)}))}})};function M(){D.reset(),h.creatorRegistration?I.value=!1:d.showLogin=!1}function J(){D.reset(),d.showLogin=!1,d.showRegister=!0}var z=(0,n.computed)((function(){return h.creatorRegistration?"modal-mask-black-to-gray":m.mistServerUri.includes("localhost")?"modal-mask-local":"modal-mask-default"}));return function(t,r){var o=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{"enter-from-class":"opacity-0 scale-125","enter-to-class":"opacity-100 scale-100","enter-active-class":"transition duration-300","leave-active-class":"transition duration-200","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-125"},{default:(0,n.withCtx)((function(){return[(0,n.unref)(d).showLogin?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(["modal-mask","overflow-auto","py-32","hide-scrollbar","bg-base-100",z.value])},[(0,n.createElementVNode)("div",g,[(0,n.unref)(m).mistServerUri.includes("localhost")&&!e.creatorRegistration?((0,n.openBlock)(),(0,n.createElementBlock)("div",v,"LOCAL VERSION")):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",y,[e.creatorRegistration?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("header",b,[(0,n.createVNode)((0,n.unref)(c.Z),{class:"max-w-[30%]"}),e.status?((0,n.openBlock)(),(0,n.createElementBlock)("div",x,(0,n.toDisplayString)(e.status),1)):(0,n.createCommentVNode)("",!0)])),(0,n.createVNode)((0,n.unref)(u.Z),{class:"px-6 my-4"}),(0,n.createElementVNode)("div",w,[e.creatorRegistration?((0,n.openBlock)(),(0,n.createElementBlock)("span",E,"Please log in.")):((0,n.openBlock)(),(0,n.createElementBlock)("span",k,"Please log in to watch notTV and chat."))]),(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(G,["prevent"])},[(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("label",N,[A,(0,n.withDirectives)((0,n.createElementVNode)("input",{id:"email","onUpdate:modelValue":r[0]||(r[0]=function(e){return(0,n.unref)(D).email=e}),type:"email",class:"grow border-none w-full text-black bg-white dark:bg-gray-800 dark:text-white",placeholder:"Email",required:""},null,512),[[n.vModelText,(0,n.unref)(D).email]])])]),(0,n.createElementVNode)("div",B,[(0,n.createElementVNode)("label",S,[L,(0,n.withDirectives)((0,n.createElementVNode)("input",{id:"password","onUpdate:modelValue":r[1]||(r[1]=function(e){return(0,n.unref)(D).password=e}),type:"password",class:"grow border-none w-full text-black bg-white dark:bg-gray-800 dark:text-white",value:"",required:""},null,512),[[n.vModelText,(0,n.unref)(D).password]])])]),(0,n.createElementVNode)("div",_,[(0,n.createElementVNode)("label",O,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=function(e){return(0,n.unref)(D).remember=e}),class:"checkbox checkbox-info"},null,512),[[n.vModelCheckbox,(0,n.unref)(D).remember]]),j])]),(0,n.createElementVNode)("div",P,[(0,n.createVNode)(o,{href:t.route("password.request"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Forgot your password? ")]})),_:1},8,["href"]),(0,n.createVNode)((0,n.unref)(s.Z),{class:(0,n.normalizeClass)(["ml-4 bg-info hover:bg-info/80",{"opacity-25":(0,n.unref)(D).processing}]),disabled:(0,n.unref)(D).processing},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Log in ")]})),_:1},8,["class","disabled"])])],32)]),(0,n.createElementVNode)("footer",null,[(0,n.createElementVNode)("div",Z,[(0,n.createElementVNode)("button",{onClick:M,class:"bg-gray-300 p-2 rounded-md hover:bg-gray-400 hover:text-gray-800"},"Cancel "),e.creatorRegistration?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",F,[(0,n.createTextVNode)(" Need to "),(0,n.createElementVNode)("button",{onClick:J,class:"text-blue-800 hover:text-blue-600"},"register"),(0,n.createTextVNode)(" for an account? ")]))])])]),e.creatorRegistration?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",R,U))])],2)):(0,n.createCommentVNode)("",!0)]})),_:1})}}};var I=r(93379),D=r.n(I),G=r(94612),M={insert:"head",singleton:!1};D()(G.Z,M);G.Z.locals;const J=(0,r(83744).Z)(T,[["__scopeId","data-v-4cfc0c4f"]])},14575:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(70821),o=["src"];const a={},i=(0,r(83744).Z)(a,[["render",function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("img",{src:"/storage/images/logo_white.svg",alt:"notTV Logo White"},null,8,o)}]])},32242:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(70821),o={class:"min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-gray-100"},a={class:"w-full sm:max-w-md mt-6 px-6 py-4 bg-white shadow-md overflow-hidden sm:rounded-lg"};const i={},l=(0,r(83744).Z)(i,[["render",function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createElementVNode)("div",null,[(0,n.renderSlot)(e.$slots,"logo")]),(0,n.createElementVNode)("div",a,[(0,n.renderSlot)(e.$slots,"default")])])}]])},5556:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(70821),o=r(58358),a=r(39038),i=r(9680),l=["src"];const c={__name:"AuthenticationCardLogo",setup:function(e){var t=(0,o.useAppSettingStore)();t.pageReload=!1;var r=function(){t.noLayout?(t.pageReload=!0,i.Inertia.visit("/")):i.Inertia.visit("/")};return function(e,t){return(0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(a.rU),{onClick:r},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("img",{src:"/storage/images/logo_black_311.png",alt:"image",class:"justify-center"},null,8,l)]})),_:1})}}}},43497:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(70821),o=["value"];const a={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup:function(e,t){var r=t.emit,a=e,i=(0,n.computed)({get:function(){return a.checked},set:function(e){r("update:checked",e)}});return function(t,r){return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return i.value=e}),type:"checkbox",value:e.value,class:"rounded border-2 border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,8,o)),[[n.vModelCheckbox,i.value]])}}}},6710:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(70821),o=["value"];const a={__name:"Input",props:{modelValue:String},emits:["update:modelValue"],setup:function(e,t){var r=t.expose,a=(0,n.ref)(null);return(0,n.onMounted)((function(){a.value.hasAttribute("autofocus")&&a.value.focus()})),r({focus:function(){return a.value.focus()}}),function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("input",{ref_key:"input",ref:a,class:"border-2 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm text-black bg-white dark:bg-gray-800 dark:text-white",value:e.modelValue,onInput:r[0]||(r[0]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,o)}}}},15957:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(70821),o={class:"block font-medium text-sm text-gray-700"},a={key:0},i={key:1};const l={__name:"Label",props:{value:String},setup:function(e){return function(t,r){return(0,n.openBlock)(),(0,n.createElementBlock)("label",o,[e.value?((0,n.openBlock)(),(0,n.createElementBlock)("span",a,(0,n.toDisplayString)(e.value),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",i,[(0,n.renderSlot)(t.$slots,"default")]))])}}}},30131:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(70821),o=r(39038),a={key:0},i=(0,n.createElementVNode)("div",{class:"font-medium text-red-600"}," Whoops! Something went wrong. ",-1),l={class:"mt-3 list-disc list-inside text-sm text-red-600"};const c={__name:"ValidationErrors",setup:function(e){var t=(0,n.computed)((function(){return(0,o.qt)().props.value.errors})),r=(0,n.computed)((function(){return Object.keys(t.value).length>0}));return function(e,o){return r.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[i,(0,n.createElementVNode)("ul",l,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t.value,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t},(0,n.toDisplayString)(e),1)})),128))])])):(0,n.createCommentVNode)("",!0)}}}},81954:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ce});var n=r(70821),o=r(58358),a=r(90771),i=r(96961),l=r(83004),c=r(27569),s=r(39038),u=r(28277),d=r(6710),m=r(15957),f=r(30131),p=r(14575),h=r(9680),g=r(57604),v=r(42984);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(){b=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),l=new O(n||[]);return o(i,"_invoke",{value:B(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function v(){}function x(){}function w(){}var k={};s(k,i,(function(){return this}));var E=Object.getPrototypeOf,V=E&&E(E(j([])));V&&V!==r&&n.call(V,i)&&(k=V);var C=w.prototype=v.prototype=Object.create(k);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==y(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function B(t,r,n){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var c=S(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=h,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return x.prototype=w,o(C,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=s(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},N(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(C),s(C,c,"Generator"),s(C,i,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function x(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){x(a,n,o,i,l,"next",e)}function l(e){x(a,n,o,i,l,"throw",e)}i(void 0)}))}}var k={class:"h-[calc(100vh)]"},E={id:"topDiv",class:"bg-gray-900 text-white px-5 flex flex-col w-full hide-scrollbar min-h-screen"},V={class:"flex flex-col mt-24 mb-8 text-gray-50 justify-center w-full text-center text-3xl font-semibold tracking-widest"},C=(0,n.createElementVNode)("div",{class:"uppercase"}," Creator Registration ",-1),N={class:"pb-8 hide-scrollbar"},A={class:"mx-auto w-full md:w-3/4 max-w-96 px-4 border-b border-gray-800 hide-scrollbar"},B={class:"text-center mb-8 px-4"},S={key:0,class:"flex flex-col items-center"},L=[(0,n.createElementVNode)("span",{class:"loading loading-bars loading-lg text-info"},null,-1),(0,n.createElementVNode)("span",null," Checking Invite Code",-1)],_={key:1},O={key:0},j=[(0,n.createElementVNode)("p",{class:"text-md text-gray-300 mb-6"},"Oops! It looks like you've stumbled upon our creator registration without an invite. Don't worry, though! Please check your email for the exclusive invite link or get in touch with the creator who's bringing you into our community. ",-1)],P={key:1},Z=(0,n.createElementVNode)("h2",{class:"text-lg md:text-xl text-gray-50 mb-4"},"Ready to Unleash Your Creativity?",-1),F=(0,n.createElementVNode)("p",{class:"text-md text-gray-300 mb-6"},"Before you join us as a creator, we highly recommend watching our brief video. It shares the essence of becoming a part of notTV, highlighting how you can make an impact with your unique voice and stories.",-1),R={key:0,class:"hide-scrollbar bg-gray-200 mt-6 mb-36 mx-auto p-5 w-full max-w-96 text-gray-900 rounded"},U={key:0,class:"flex flex-col justify-center items-center text-center gap-4"},T={key:0,class:"flex text-center text-xs tracking-wider"},I=[(0,n.createElementVNode)("p",null,"You are logged in!",-1)],D={class:"mt-4"},G={key:1,class:"mt-2 text-sm text-gray-600"},M=["textContent"],J={key:3,class:"flex flex-col justify-center items-center text-center my-4"},z=(0,n.createElementVNode)("div",{class:"text-lg text-blue-600 font-semibold mb-1"},[(0,n.createElementVNode)("p",null,"This email is already taken. Is it yours?"),(0,n.createElementVNode)("p",null,"Log in then click the invite link again!")],-1),q={class:"mt-4"},W=["textContent"],Y={key:5,class:"mt-4"},H=["textContent"],$={key:7,class:"mt-4"},Q=["textContent"],K={hidden:"",class:"mt-4"},X=["textContent"],ee={hidden:"",class:"mt-4"},te=["textContent"],re={hidden:"",class:"mt-4"},ne=["textContent"],oe={hidden:"",class:"mt-4"},ae=["textContent"],ie={class:"mt-4"},le=["value"],ce=["textContent"],se={class:"mt-4"},ue=["textContent"],de={hidden:"",class:"mt-4"},me=["textContent"],fe={key:16,class:"mt-4"},pe={class:"flex items-center"},he={class:"ml-2"},ge=["href"],ve=["href"],ye=["textContent"],be={class:"flex items-center justify-end mt-4"},xe={id:"creatorWelcomeVideoModal",class:"modal"},we={class:"modal-box bg-black"},ke={method:"dialog"},Ee={key:0,src:"https://cdn.nottv.io/public/2024/03/videos/IMG_6139_5020eb9e3c2bdc89476324e0711cc038.mov",controls:""},Ve={method:"dialog",class:"modal-backdrop"};const Ce={__name:"Index",props:{inviteCodeUlid:String,isCreator:String,isUser:String,user:Object},setup:function(e){var t,r,y,x,Ce,Ne,Ae,Be,Se=(0,s.qt)().props,Le=(0,g.v)(),_e=(0,o.useAppSettingStore)(),Oe=((0,a.useUserStore)(),(0,l.useNotificationStore)()),je=(0,c.useWelcomeStore)(),Pe=(0,i.useInviteStore)();_e.noLayout=!0,_e.currentPage="creator.registration.show";var Ze=e;je.showLogin=!1;var Fe=function(){var e=w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleLoginSuccess"),e.next=3,axios.get("/api/user").then((function(e){var t=e.data;De.name=t.name,De.email=t.email,null!==t.country&&(De.country=t.country),null!==t.postalCode&&(De.postalCode=t.postalCode),Me.value=!1,_e.pageReload=!0})).catch((function(e){console.error("Failed to fetch user data:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=(0,n.computed)((function(){return Ze.isCreator})),Ue=(0,n.computed)((function(){return Ze.isUser}));(0,n.ref)(!1);(0,n.watch)(Re,(function(e){e&&Oe.setGeneralServiceNotification("message",e)}));var Te=(0,n.computed)((function(){return!!Re.value})),Ie=(0,n.computed)((function(){return!!Ue.value})),De=(0,s.cI)({name:null!==(t=null==Ze||null===(r=Ze.user)||void 0===r?void 0:r.name)&&void 0!==t?t:"",email:null!==(y=null==Ze||null===(x=Ze.user)||void 0===x?void 0:x.email)&&void 0!==y?y:"",password:"",password_confirmation:"",country:null!==(Ce=null==Ze||null===(Ne=Ze.user)||void 0===Ne?void 0:Ne.country)&&void 0!==Ce?Ce:"",postalCode:null!==(Ae=null==Ze||null===(Be=Ze.user)||void 0===Be?void 0:Be.postalCode)&&void 0!==Ae?Ae:"",terms:!1}),Ge=(0,n.ref)(null),Me=(0,n.ref)(!1),Je=(0,n.ref)(!0),ze=(0,n.ref)(""),qe=(0,n.ref)([]),We=((0,n.computed)((function(){var e;return De.country===(null===(e=qe.value.find((function(e){return"Canada"===e.name})))||void 0===e?void 0:e.id)})),(0,n.ref)(!1)),Ye=function(){We.value=!0,console.log("toggle Video Modal"),document.getElementById("creatorWelcomeVideoModal").showModal()},He=function(){var e=w(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se.value.user||Se.value.user.email!==De.email){e.next=3;break}return Me.value=!1,e.abrupt("return");case 3:return e.prev=3,e.next=6,axios.post("/api/creators/register-check-email",{email:De.email});case 6:t=e.sent,Me.value=t.data.exists,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error checking email:",e.t0),Me.value=!1;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();(0,n.onMounted)(w(b().mark((function e(){var t,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pe.inviteUlid=Ze.inviteCodeUlid,e.next=4,Pe.registrationAccessCheck();case 4:e.sent?(console.log("Access granted"),Je.value=!1):(console.log("Access denied"),Je.value=!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("An error occurred during registration access check:",e.t0),ze.value=e.t0;case 12:return e.prev=12,e.next=15,axios.get("/api/news-countries-simple-list");case 15:t=e.sent,qe.value=t.data,(r=qe.value.find((function(e){return"Canada"===e.name})))&&(De.country=r.name),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),console.error("Failed to fetch countries:",e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,8],[12,21]])}))));var $e=function(){var e=w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Me.value){e.next=2;break}return e.abrupt("return");case 2:Ie&&(_e.pageReload=!0);try{De.post("/register/creator/".concat(Ze.inviteCodeUlid),{onFinish:function(){De.reset("password","password_confirmation"),De.errors.email&&De.errors.email.includes("The email has already been taken.")&&(Me.value=!0)}})}catch(e){console.error("Error registering:",e)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,n.watch)((function(){return De.email}),(function(){Me.value=!1}));var Qe=function(){h.Inertia.post(route("logout"),{},{onSuccess:function(){Le.resetAllStores(),window.location.href="/invite/"+Ze.inviteCodeUlid}})},Ke=function(){je.showLogin=!0};return h.Inertia.on("navigate",(function(e){requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"smooth"}):window.scrollTo(0,0)}))})),function(e,t){var r=(0,n.resolveComponent)("Head");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(r,{title:"Creator Registration"}),(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("div",E,[(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("div",null,[(0,n.createVNode)(p.Z,{class:"mx-auto w-1/2 lg:w-1/4 xl:w-1/6 mb-6"})]),C]),(0,n.createElementVNode)("main",N,[(0,n.createElementVNode)("div",A,[(0,n.createElementVNode)("div",B,[Je.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",S,L)):(0,n.createCommentVNode)("",!0),Je.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",_,[(0,n.unref)(Pe).registrationAllowed?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",O,j)),(0,n.unref)(Pe).registrationAllowed&&!Te.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",P,[Z,F,(0,n.createElementVNode)("button",{onClick:Ye,class:"text-white bg-blue-500 hover:bg-blue-700 font-semibold py-2 px-4 border border-blue-700 rounded"}," Watch the Video ")])):(0,n.createCommentVNode)("",!0)]))]),!Je.value&&(0,n.unref)(Pe).registrationAllowed?((0,n.openBlock)(),(0,n.createElementBlock)("div",R,[(0,n.createVNode)(f.Z,{class:"mb-4"}),Te.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",U,[(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(Re.value),1),(0,n.createElementVNode)("button",{onClick:Qe,class:"btn"},"Log Out")])):(0,n.createCommentVNode)("",!0),Te.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("form",{key:1,onSubmit:(0,n.withModifiers)($e,["prevent"]),class:"pb-10"},[Ie.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",T,I)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",D,[(0,n.createVNode)(m.Z,{for:"email",value:"Email"}),(0,n.createVNode)(d.Z,{id:"email",modelValue:(0,n.unref)(De).email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,n.unref)(De).email=e}),type:"email",onBlur:He,class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",autofocus:"",required:"",autocomplete:"email"},null,8,["modelValue"])]),Me.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",G,[(0,n.createTextVNode)(" This email is already registered. If this is you, please "),(0,n.createElementVNode)("button",{onClick:Ke,class:"text-indigo-600 underline"},"log in"),(0,n.createTextVNode)(" to upgrade your account. "),(0,n.createElementVNode)("button",{onClick:Ke,class:"my-2 text-white bg-blue-500 hover:bg-blue-700 font-semibold py-2 px-4 border border-blue-700 rounded"}," Log in ")])):(0,n.createCommentVNode)("",!0),(0,n.unref)(De).errors.email?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.email),class:"text-xs text-red-600 mt-1"},null,8,M)):(0,n.createCommentVNode)("",!0),Ge.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",J,[z,(0,n.createElementVNode)("button",{onClick:Ke,class:"text-white bg-blue-500 hover:bg-blue-700 font-semibold py-2 px-4 border border-blue-700 rounded"}," Log in ")])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",q,[(0,n.createVNode)(m.Z,{for:"name",value:"Name"}),(0,n.createVNode)(d.Z,{id:"name",modelValue:(0,n.unref)(De).name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,n.unref)(De).name=e}),type:"text",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",required:"",autocomplete:"name"},null,8,["modelValue"])]),(0,n.unref)(De).errors.name?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:4,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.name),class:"text-xs text-red-600 mt-1"},null,8,W)):(0,n.createCommentVNode)("",!0),Ie.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Y,[(0,n.createVNode)(m.Z,{for:"password",value:"Password"}),(0,n.createVNode)(d.Z,{id:"password",modelValue:(0,n.unref)(De).password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,n.unref)(De).password=e}),type:"password",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",required:"",autocomplete:"new-password"},null,8,["modelValue"])])),(0,n.unref)(De).errors.password?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:6,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.password),class:"text-xs text-red-600 mt-1"},null,8,H)):(0,n.createCommentVNode)("",!0),Ie.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",$,[(0,n.createVNode)(m.Z,{for:"password_confirmation",value:"Confirm Password"}),(0,n.createVNode)(d.Z,{id:"password_confirmation",modelValue:(0,n.unref)(De).password_confirmation,"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,n.unref)(De).password_confirmation=e}),type:"password",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",required:"",autocomplete:"new-password"},null,8,["modelValue"])])),(0,n.unref)(De).errors.password_confirmation?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:8,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.password_confirmation),class:"text-xs text-red-600 mt-1"},null,8,Q)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",K,[(0,n.createVNode)(m.Z,{for:"address1",value:"Address1"}),(0,n.createVNode)(d.Z,{id:"address1",modelValue:(0,n.unref)(De).address1,"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,n.unref)(De).address1=e}),type:"text",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",autofocus:"",autocomplete:"address1"},null,8,["modelValue"])]),(0,n.unref)(De).errors.address1?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:9,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.address1),class:"text-xs text-red-600 mt-1"},null,8,X)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",ee,[(0,n.createVNode)(m.Z,{for:"address2",value:"Address2"}),(0,n.createVNode)(d.Z,{id:"address2",modelValue:(0,n.unref)(De).address2,"onUpdate:modelValue":t[5]||(t[5]=function(e){return(0,n.unref)(De).address2=e}),type:"text",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",autofocus:"",autocomplete:"address2"},null,8,["modelValue"])]),(0,n.unref)(De).errors.address2?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:10,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.address2),class:"text-xs text-red-600 mt-1"},null,8,te)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",re,[(0,n.createVNode)(m.Z,{for:"city",value:"City"}),(0,n.createVNode)(d.Z,{id:"city",modelValue:(0,n.unref)(De).city,"onUpdate:modelValue":t[6]||(t[6]=function(e){return(0,n.unref)(De).city=e}),type:"text",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",autofocus:"",autocomplete:"city"},null,8,["modelValue"])]),(0,n.unref)(De).errors.city?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:11,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.city),class:"text-xs text-red-600 mt-1"},null,8,ne)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",oe,[(0,n.createVNode)(m.Z,{for:"province",value:"Province"}),(0,n.createVNode)(d.Z,{id:"name",modelValue:(0,n.unref)(De).province,"onUpdate:modelValue":t[7]||(t[7]=function(e){return(0,n.unref)(De).province=e}),type:"text",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",autofocus:"",autocomplete:"province"},null,8,["modelValue"])]),(0,n.unref)(De).errors.province?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:12,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.province),class:"text-xs text-red-600 mt-1"},null,8,ae)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",ie,[(0,n.createVNode)(m.Z,{for:"country",value:"Country"}),(0,n.withDirectives)((0,n.createElementVNode)("select",{id:"country","onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,n.unref)(De).country=e}),class:"select select-bordered w-full max-w-xs mt-1 block text-black bg-white dark:bg-gray-800 dark:text-white"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(qe.value,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.name},(0,n.toDisplayString)(e.name),9,le)})),128))],512),[[n.vModelSelect,(0,n.unref)(De).country]])]),(0,n.unref)(De).errors.country?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:13,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.country),class:"text-xs text-red-600 mt-1"},null,8,ce)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",se,[(0,n.createVNode)(m.Z,{for:"postalCode",value:"Postal Code"}),(0,n.createVNode)(d.Z,{id:"postalCode",modelValue:(0,n.unref)(De).postalCode,"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,n.unref)(De).postalCode=e}),type:"text",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",autocomplete:"postalCode"},null,8,["modelValue"])]),(0,n.unref)(De).errors.postalCode?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:14,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.postalCode),class:"text-xs text-red-600 mt-1"},null,8,ue)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",de,[(0,n.createVNode)(m.Z,{for:"phone",value:"Phone"}),(0,n.createVNode)(d.Z,{id:"phone",modelValue:(0,n.unref)(De).phone,"onUpdate:modelValue":t[10]||(t[10]=function(e){return(0,n.unref)(De).phone=e}),type:"tel",class:"mt-1 block w-full text-black bg-white dark:bg-gray-800 dark:text-white",autofocus:"",autocomplete:"phone"},null,8,["modelValue"])]),(0,n.unref)(De).errors.phone?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:15,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.phone),class:"text-xs text-red-600 mt-1"},null,8,me)):(0,n.createCommentVNode)("",!0),e.$page.props.jetstream.hasTermsAndPrivacyPolicyFeature?((0,n.openBlock)(),(0,n.createElementBlock)("div",fe,[(0,n.createVNode)(m.Z,{for:"terms"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",pe,[(0,n.withDirectives)((0,n.createElementVNode)("input",{id:"terms",name:"terms",type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=function(e){return(0,n.unref)(De).terms=e}),required:"",class:"checkbox checkbox-info bg-white dark:bg-gray-800"},null,512),[[n.vModelCheckbox,(0,n.unref)(De).terms]]),(0,n.createElementVNode)("div",he,[(0,n.createTextVNode)(" I agree to the "),(0,n.createElementVNode)("a",{href:e.route("terms.show"),target:"_blank",class:"underline text-sm text-gray-600 hover:text-gray-900"},"Terms of Service",8,ge),(0,n.createTextVNode)(" and "),(0,n.createElementVNode)("a",{href:e.route("policy.show"),target:"_blank",class:"underline text-sm text-gray-600 hover:text-gray-900"},"Privacy Policy",8,ve)])])]})),_:1}),(0,n.unref)(De).errors.terms?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,textContent:(0,n.toDisplayString)((0,n.unref)(De).errors.terms),class:"text-xs text-red-600 mt-1"},null,8,ye)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",be,[(0,n.createVNode)(u.Z,{class:(0,n.normalizeClass)(["ml-4",{"opacity-25":(0,n.unref)(De).processing}]),disabled:(0,n.unref)(De).processing},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)(" Register ")]})),_:1},8,["class","disabled"])])],32))])):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("dialog",xe,[(0,n.createElementVNode)("div",we,[(0,n.createElementVNode)("form",ke,[(0,n.createElementVNode)("button",{onClick:t[12]||(t[12]=function(e){return We.value=!1}),class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕")]),We.value?((0,n.openBlock)(),(0,n.createElementBlock)("video",Ee)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("form",Ve,[(0,n.createElementVNode)("button",{onClick:t[13]||(t[13]=function(e){return We.value=!1})},"close")])])]),(0,n.createVNode)(v.default,{show:!0,creatorRegistration:!0,onLoginSuccess:Fe})])],64)}}}}}]);
//# sourceMappingURL=1954.js.map