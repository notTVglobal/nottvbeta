"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5429],{37818:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(94015),r=t.n(a),o=t(23645),l=t.n(o)()(r());l.push([e.id,"#tooltip[data-v-1a3373e0]{background:#333;border-radius:4px;color:#fff;font-size:13px;font-weight:700;padding:4px 8px}[data-v-1a3373e0] .popper{background:#333;border-radius:20px;color:#fff;font-weight:700;padding:2px;text-transform:uppercase}[data-v-1a3373e0] .popper #arrow:before{background:#333}[data-v-1a3373e0] .popper:hover,[data-v-1a3373e0] .popper:hover>#arrow:before{background:#333}","",{version:3,sources:["webpack://./resources/js/Pages/Admin/Channels/Index.vue"],names:[],mappings:"AAoNA,0BACI,eAAgB,CAKhB,iBAAkB,CAJlB,UAAY,CAGZ,cAAe,CAFf,eAAiB,CACjB,eAGJ,CAEA,0BACI,eAAmB,CAEnB,kBAAmB,CACnB,UAAW,CACX,eAAiB,CAHjB,WAAY,CAIZ,wBACJ,CAEA,wCACI,eACJ,CAEA,8EAEI,eACJ",sourcesContent:['<template>\n    <Head title="Channels Admin" />\n\n    <div class="place-self-center flex flex-col">\n        <div id="topDiv" class="bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10">\n\n            <Message v-if="userStore.showFlashMessage" :flash="$page.props.flash"/>\n\n            <AdminHeader>Channels</AdminHeader>\n\n            <div class="flex flex-row justify-between gap-x-4 mb-3">\n                <div>\n                    <Link :href="`#`"><button\n                        class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400"\n                        disabled\n                    >Add Channel</button>\n                    </Link>\n                    <Link :href="`#`"><button\n                        class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400"\n                        disabled\n                    >Add External Source</button>\n                    </Link>\n                    <Link :href="`#`"><button\n                        class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400"\n                        disabled\n                    >Add Mist Stream</button>\n                    </Link>\n                </div>\n                <input v-model="search" type="search" placeholder="Search..." class="border px-2 rounded-lg" />\n            </div>\n\n            <div class="bg-orange-300 px-2 text-black mb-3">\n                <p>Add a channel: create playlist and add shows.</p>\n                <p><span class="font-semibold">TRAVIS NOTE: </span>Use FFMPEG to push an .mp4 to a mist stream. This will allow us to schedule video objects from anywhere\n                into our channels, and we can have a channel that loads the current video at the right time spot in the video based on our schedule saved in the database.</p>\n            </div>\n\n            <div class="flex flex-col">\n                <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">\n                    <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">\n                        <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">\n\n                            <div class="relative overflow-x-auto shadow-md sm:rounded-lg">\n                                <div\n                                    class="table w-full text-sm text-left text-gray-500 dark:text-gray-400"\n                                >\n                                    <div\n                                        class="table-header-group text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"\n                                    >\n                                        <div class="table-row">\n                                            <div scope="col" class="table-cell px-6 py-3">\n                                                <font-awesome-icon icon="fa-repeat" class="mr-2 cursor-pointer hover:text-blue-500" @click.prevent="reload()"/>\n                                                Channel Name\n                                            </div>\n                                            <div scope="col" class="hidden md:table-cell px-6 py-3">\n                                                Current Video\n                                            </div>\n                                            <div scope="col" class="table-cell px-6 py-3">\n                                                External Source <br />\n                                                <span class="italic text-xs text-gray-400">Playlist or Live Stream</span>\n                                            </div>\n                                            <div scope="col" class="px-6 py-3">\n                                                Mist Stream\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="table-row-group">\n                                        <div\n                                            v-for="channel in channels.data"\n                                            :key="channel.id"\n                                            class="table-row bg-white border-b dark:bg-gray-800 dark:border-gray-700"\n                                        >\n                                            <div\n                                                scope="row"\n                                                class="table-cell min-w-[8rem] px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"\n                                            >\n                                                <span>{{ channel.name }}</span>\n                                                <div v-if="channel.isLive" class="ml-2 text-xs badge badge-secondary badge-outline">live</div>\n\n                                            </div>\n                                            <div\n                                                scope="row"\n                                                class="md:table-cell px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"\n                                            >\n                                                <div v-if="channel.currentVideo">\n                                                    <Popper\n                                                        hover openDelay="50" closeDelay="50" offset-skid="0" offset-distance="0" placement="bottom"\n\n                                                    ><template #content>\n                                                        <div class="text-xs" id="tooltip">\n                                                            <div>ID: {{ channel.currentVideo.id }}</div>\n                                                            <div>File Name: {{ channel.currentVideo.file_name }}</div>\n                                                            <div>Type: {{ channel.currentVideo.type }}</div>\n                                                            <div>Folder: {{ channel.currentVideo.folder }}</div>\n                                                            <div>Storage Location: {{ channel.currentVideo.storage_location }}</div>\n                                                            <div>Processing: <span v-if="channel.currentVideo.is_processing">true</span><span v-else>false</span></div>\n                                                            <div>Length: {{ channel.currentVideo.length }}</div>\n                                                        </div>\n                                                    </template>\n\n                                                        <span v-if="channel.currentVideo.name" class="cursor-help text-green-500 font-semibold">{{ channel.currentVideo.name }}</span>\n                                                        <span v-else class="cursor-help text-blue-500 font-semibold">Video has no name</span>\n\n                                                    </Popper>\n\n                                                </div>\n                                                <div v-else class="italic text-gray-300 text-xs">No video object playing</div>\n                                            </div>\n                                            <div class="table-cell px-6 py-4">\n                                                <div v-if="channel.source">\n                                                    <Popper\n                                                        hover openDelay="50" closeDelay="50" offset-skid="0" offset-distance="0" placement="bottom"\n\n                                                    ><template #content>\n                                                        <div class="text-xs" id="tooltip">\n                                                            <div>ID: {{ channel.source.id }}</div>\n                                                            <div>Name: {{ channel.source.name }}</div>\n                                                            <div>Path: {{ channel.source.path }}</div>\n                                                            <div>Type: {{ channel.source.type }}</div>\n                                                            <div>Provider: {{ channel.source.provider }}</div>\n                                                        </div>\n                                                    </template>\n\n                                                        <span class="cursor-help text-orange-500 font-semibold">{{ hasChannelSource(channel) }}</span>\n\n                                                    </Popper>\n\n                                                </div>\n                                                <div v-else>\n                                                    <span class="italic text-gray-300 text-sm">no source</span>\n                                                </div>\n\n                                            </div>\n                                            <div class="table-cell px-6 py-4">\n                                                <span v-if="channel.stream" class="text-green-500 font-semibold">{{ channel.stream }}</span>\n                                                <span v-else class="italic text-gray-300 text-sm">no stream</span>\n                                            </div>\n\n                                        </div>\n                                    </div>\n                                </div>\n                                \x3c!-- Paginator --\x3e\n                                <Pagination :data="channels" class="pb-6"/>\n                            </div>\n\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n\n<script setup>\nimport {onBeforeMount, onMounted, ref, watch} from "vue"\nimport { useVideoPlayerStore } from "@/Stores/VideoPlayerStore.js"\nimport { useUserStore } from "@/Stores/UserStore";\nimport Message from "@/Components/Modals/Messages";\nimport Pagination from "@/Components/Pagination.vue";\nimport {FontAwesomeIcon} from "@fortawesome/vue-fontawesome";\nimport AdminHeader from "@/Components/Admin/AdminHeader.vue";\nimport throttle from "lodash/throttle";\nimport {Inertia} from "@inertiajs/inertia";\n\nlet videoPlayerStore = useVideoPlayerStore()\nlet userStore = useUserStore()\n\nlet props = defineProps({\n    channels: Object,\n    filters: Object,\n})\n\nuserStore.currentPage = \'adminChannels\'\nuserStore.showFlashMessage = true;\n\nonMounted(() => {\n    videoPlayerStore.makeVideoTopRight();\n    if (userStore.isMobile) {\n        videoPlayerStore.ottClass = \'ottClose\'\n        videoPlayerStore.ott = 0\n    }\n    document.getElementById("topDiv").scrollIntoView()\n});\n\n// function hasChannelSource (channel) {\n//     if (channel.source !== null) {\n//         return channel.source.name\n//     }\n// }\n\nfunction hasChannelSource(channel) {\n    if (channel && channel.source && channel.source.name) {\n        return channel.source.name;\n    }\n    return null; // Or return any other default value if needed\n}\n\nlet search = ref(props.filters.search);\n\nwatch(search, throttle(function (value) {\n    Inertia.get(\'/admin/channels\', { search: value }, {\n        preserveState: true,\n        replace: true\n    });\n}, 300));\n\n<\/script>\n\n<style scoped>\n#tooltip {\n    background: #333;\n    color: white;\n    font-weight: bold;\n    padding: 4px 8px;\n    font-size: 13px;\n    border-radius: 4px;\n}\n\n:deep(.popper) {\n    background: #333333;\n    padding: 2px;\n    border-radius: 20px;\n    color: #fff;\n    font-weight: bold;\n    text-transform: uppercase;\n}\n\n:deep(.popper #arrow::before) {\n    background: #333333;\n}\n\n:deep(.popper:hover),\n:deep(.popper:hover > #arrow::before) {\n    background: #333333;\n}\n</style>\n'],sourceRoot:""}]);const s=l},97849:(e,n,t)=>{t.d(n,{Z:()=>c});var a=t(70821),r={class:"flex justify-between my-3"},o={class:"mb-4"},l={class:"text-3xl font-semibold"},s={class:"flex flex-wrap-reverse justify-end gap-2"},d=(0,a.createElementVNode)("button",{class:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-500 rounded-lg"},"Admin Settings ",-1);const i={},c=(0,t(83744).Z)(i,[["render",function(e,n){var t=(0,a.resolveComponent)("Link");return(0,a.openBlock)(),(0,a.createElementBlock)("header",null,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("h1",l,[(0,a.renderSlot)(e.$slots,"default")])]),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("div",s,[(0,a.createVNode)(t,{href:"/admin/settings"},{default:(0,a.withCtx)((function(){return[d]})),_:1})])])])])}]])},92505:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(70821),r={key:0,class:"flex flex-wrap justify-center my-4 space-x-4 space-y-2"},o=(0,a.createElementVNode)("div",null,null,-1);const l={__name:"Pagination",props:{data:Object},setup:function(e){return function(n,t){return e.data.last_page>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[o,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.data.links,(function(e,n){return(0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.url?"Link":"span"),{key:n,href:e.url,innerHTML:e.label,class:(0,a.normalizeClass)(["px-4 py-3 text-sm leading-4 h-fit",{"text-white bg-orange-400 hover:bg-orange-400 dark:bg-orange-400 dark:hover:bg-orange-400":e.active,"rounded mt-2 mr-0.5 bg-gray-100 hover:bg-gray-100 text-gray-300 dark:bg-gray-900 dark:hover:bg-gray-900 dark:text-gray-700":!e.url,"rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-50 focus:text-indigo-500 hover:shadow":e.url}]),onScroll:t[0]||(t[0]=(0,a.withModifiers)((function(){}),["prevent"]))},null,40,["href","innerHTML","class"])})),128))])):(0,a.createCommentVNode)("",!0)}}}},25429:(e,n,t)=>{t.r(n),t.d(n,{default:()=>re});var a=t(70821),r=t(40191),o=t(90771),l=t(664),s=t(92505),d=t(57810),i=t(97849),c=t(23493),p=t.n(c),u=t(9680),m=function(e){return(0,a.pushScopeId)("data-v-1a3373e0"),e=e(),(0,a.popScopeId)(),e},v={class:"place-self-center flex flex-col"},h={id:"topDiv",class:"bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10"},g={class:"flex flex-row justify-between gap-x-4 mb-3"},f=m((function(){return(0,a.createElementVNode)("button",{class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400",disabled:""},"Add Channel",-1)})),b=m((function(){return(0,a.createElementVNode)("button",{class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400",disabled:""},"Add External Source",-1)})),x=m((function(){return(0,a.createElementVNode)("button",{class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 mr-2 rounded disabled:bg-gray-400",disabled:""},"Add Mist Stream",-1)})),y=m((function(){return(0,a.createElementVNode)("div",{class:"bg-orange-300 px-2 text-black mb-3"},[(0,a.createElementVNode)("p",null,"Add a channel: create playlist and add shows."),(0,a.createElementVNode)("p",null,[(0,a.createElementVNode)("span",{class:"font-semibold"},"TRAVIS NOTE: "),(0,a.createTextVNode)("Use FFMPEG to push an .mp4 to a mist stream. This will allow us to schedule video objects from anywhere into our channels, and we can have a channel that loads the current video at the right time spot in the video based on our schedule saved in the database.")])],-1)})),k={class:"flex flex-col"},w={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},V={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},E={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},N={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},C={class:"table w-full text-sm text-left text-gray-500 dark:text-gray-400"},A={class:"table-header-group text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},B={class:"table-row"},S={scope:"col",class:"table-cell px-6 py-3"},D=m((function(){return(0,a.createElementVNode)("div",{scope:"col",class:"hidden md:table-cell px-6 py-3"}," Current Video ",-1)})),P=m((function(){return(0,a.createElementVNode)("div",{scope:"col",class:"table-cell px-6 py-3"},[(0,a.createTextVNode)(" External Source "),(0,a.createElementVNode)("br"),(0,a.createElementVNode)("span",{class:"italic text-xs text-gray-400"},"Playlist or Live Stream")],-1)})),M=m((function(){return(0,a.createElementVNode)("div",{scope:"col",class:"px-6 py-3"}," Mist Stream ",-1)})),I={class:"table-row-group"},L={scope:"row",class:"table-cell min-w-[8rem] px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},T={key:0,class:"ml-2 text-xs badge badge-secondary badge-outline"},_={scope:"row",class:"md:table-cell px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},j={key:0},F={class:"text-xs",id:"tooltip"},Z={key:0},H={key:1},O={key:0,class:"cursor-help text-green-500 font-semibold"},U={key:1,class:"cursor-help text-blue-500 font-semibold"},R={key:1,class:"italic text-gray-300 text-xs"},G={class:"table-cell px-6 py-4"},J={key:0},z={class:"text-xs",id:"tooltip"},$={class:"cursor-help text-orange-500 font-semibold"},W={key:1},Y=[m((function(){return(0,a.createElementVNode)("span",{class:"italic text-gray-300 text-sm"},"no source",-1)}))],q={class:"table-cell px-6 py-4"},K={key:0,class:"text-green-500 font-semibold"},X={key:1,class:"italic text-gray-300 text-sm"};const Q={__name:"Index",props:{channels:Object,filters:Object},setup:function(e){var n=e,t=(0,r.q)(),c=(0,o.L)();function m(e){return e&&e.source&&e.source.name?e.source.name:null}c.currentPage="adminChannels",c.showFlashMessage=!0,(0,a.onMounted)((function(){t.makeVideoTopRight(),c.isMobile&&(t.ottClass="ottClose",t.ott=0),document.getElementById("topDiv").scrollIntoView()}));var Q=(0,a.ref)(n.filters.search);return(0,a.watch)(Q,p()((function(e){u.Inertia.get("/admin/channels",{search:e},{preserveState:!0,replace:!0})}),300)),function(n,t){var r=(0,a.resolveComponent)("Head"),o=(0,a.resolveComponent)("Link"),p=(0,a.resolveComponent)("Popper");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(r,{title:"Channels Admin"}),(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",h,[(0,a.unref)(c).showFlashMessage?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(l.Z),{key:0,flash:n.$page.props.flash},null,8,["flash"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(i.Z,null,{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)("Channels")]})),_:1}),(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(o,{href:"#"},{default:(0,a.withCtx)((function(){return[f]})),_:1}),(0,a.createVNode)(o,{href:"#"},{default:(0,a.withCtx)((function(){return[b]})),_:1}),(0,a.createVNode)(o,{href:"#"},{default:(0,a.withCtx)((function(){return[x]})),_:1})]),(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.isRef)(Q)?Q.value=e:Q=e}),type:"search",placeholder:"Search...",class:"border px-2 rounded-lg"},null,512),[[a.vModelText,(0,a.unref)(Q)]])]),y,(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",w,[(0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("div",N,[(0,a.createElementVNode)("div",C,[(0,a.createElementVNode)("div",A,[(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("div",S,[(0,a.createVNode)((0,a.unref)(d.GN),{icon:"fa-repeat",class:"mr-2 cursor-pointer hover:text-blue-500",onClick:t[1]||(t[1]=(0,a.withModifiers)((function(e){return n.reload()}),["prevent"]))}),(0,a.createTextVNode)(" Channel Name ")]),D,P,M])]),(0,a.createElementVNode)("div",I,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.channels.data,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.id,class:"table-row bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[(0,a.createElementVNode)("div",L,[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.name),1),e.isLive?((0,a.openBlock)(),(0,a.createElementBlock)("div",T,"live")):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",_,[e.currentVideo?((0,a.openBlock)(),(0,a.createElementBlock)("div",j,[(0,a.createVNode)(p,{hover:"",openDelay:"50",closeDelay:"50","offset-skid":"0","offset-distance":"0",placement:"bottom"},{content:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",F,[(0,a.createElementVNode)("div",null,"ID: "+(0,a.toDisplayString)(e.currentVideo.id),1),(0,a.createElementVNode)("div",null,"File Name: "+(0,a.toDisplayString)(e.currentVideo.file_name),1),(0,a.createElementVNode)("div",null,"Type: "+(0,a.toDisplayString)(e.currentVideo.type),1),(0,a.createElementVNode)("div",null,"Folder: "+(0,a.toDisplayString)(e.currentVideo.folder),1),(0,a.createElementVNode)("div",null,"Storage Location: "+(0,a.toDisplayString)(e.currentVideo.storage_location),1),(0,a.createElementVNode)("div",null,[(0,a.createTextVNode)("Processing: "),e.currentVideo.is_processing?((0,a.openBlock)(),(0,a.createElementBlock)("span",Z,"true")):((0,a.openBlock)(),(0,a.createElementBlock)("span",H,"false"))]),(0,a.createElementVNode)("div",null,"Length: "+(0,a.toDisplayString)(e.currentVideo.length),1)])]})),default:(0,a.withCtx)((function(){return[e.currentVideo.name?((0,a.openBlock)(),(0,a.createElementBlock)("span",O,(0,a.toDisplayString)(e.currentVideo.name),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",U,"Video has no name"))]})),_:2},1024)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",R,"No video object playing"))]),(0,a.createElementVNode)("div",G,[e.source?((0,a.openBlock)(),(0,a.createElementBlock)("div",J,[(0,a.createVNode)(p,{hover:"",openDelay:"50",closeDelay:"50","offset-skid":"0","offset-distance":"0",placement:"bottom"},{content:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",z,[(0,a.createElementVNode)("div",null,"ID: "+(0,a.toDisplayString)(e.source.id),1),(0,a.createElementVNode)("div",null,"Name: "+(0,a.toDisplayString)(e.source.name),1),(0,a.createElementVNode)("div",null,"Path: "+(0,a.toDisplayString)(e.source.path),1),(0,a.createElementVNode)("div",null,"Type: "+(0,a.toDisplayString)(e.source.type),1),(0,a.createElementVNode)("div",null,"Provider: "+(0,a.toDisplayString)(e.source.provider),1)])]})),default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("span",$,(0,a.toDisplayString)(m(e)),1)]})),_:2},1024)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",W,Y))]),(0,a.createElementVNode)("div",q,[e.stream?((0,a.openBlock)(),(0,a.createElementBlock)("span",K,(0,a.toDisplayString)(e.stream),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",X,"no stream"))])])})),128))])]),(0,a.createVNode)(s.Z,{data:e.channels,class:"pb-6"},null,8,["data"])])])])])])])])],64)}}};var ee=t(72446),ne=t.n(ee),te=t(37818),ae={insert:"head",singleton:!1};ne()(te.Z,ae);te.Z.locals;const re=(0,t(83744).Z)(Q,[["__scopeId","data-v-1a3373e0"]])}}]);
//# sourceMappingURL=5429.js.map