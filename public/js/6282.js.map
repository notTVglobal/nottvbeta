{"version":3,"file":"js/6282.js","mappings":"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","sources":["webpack:///./resources/js/Utilities/PageSetup.js","webpack:///./resources/js/Components/Pages/NewsPersonMessages/ConfirmationModal.vue?e7a8","webpack:///./resources/js/Pages/NewsPersonMessages/Index.vue?4f60","webpack:///./resources/js/Components/Pages/NewsPersonMessages/OpenInboxButtonWithCount.vue?5332","webpack:///./resources/js/Components/Pages/NewsPersonMessages/OpenInboxButtonWithCount.vue","webpack:///./resources/js/Components/Pages/News/NewsHeader.vue?7802","webpack:///./resources/js/Components/Pages/News/NewsHeader.vue","webpack:///./resources/js/Components/Pages/NewsPersonMessages/ConfirmationModal.vue","webpack:///./resources/js/Components/Pages/NewsPersonMessages/ConfirmationModal.vue?0040","webpack:///./resources/js/Components/Pages/NewsPersonMessages/ConfirmationModal.vue?a566","webpack:///./resources/js/Pages/NewsPersonMessages/Index.vue","webpack:///./resources/js/Pages/NewsPersonMessages/Index.vue?3039","webpack:///./resources/js/Pages/NewsPersonMessages/Index.vue?f5ed"],"sourcesContent":["import { onBeforeMount, onMounted, watch } from 'vue'\nimport { useUserStore } from \"@/Stores/UserStore\"\nimport { useAppSettingStore } from \"@/Stores/AppSettingStore\"\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore\"\nimport { router } from '@inertiajs/vue3'\n\nexport function usePageSetup(pageName) {\n    const userStore = useUserStore()\n    const appSettingStore = useAppSettingStore()\n    const videoPlayerStore = useVideoPlayerStore()\n\n    appSettingStore.currentPage = pageName\n    appSettingStore.showFlashMessage = true\n    appSettingStore.pageIsHidden = false\n\n// PageSetup utility\n    if (userStore.isMobile || window.innerWidth < 1024) {\n        appSettingStore.ott = 0; // Close all panels on mobile devices\n    } else if (appSettingStore.fullPage) {\n        appSettingStore.ott = 0; // Default to closed in fullPage mode\n    } else {\n        if (appSettingStore.ott === 0) {\n            appSettingStore.ott = 4\n        }\n        // appSettingStore.ott = 4; // Open OttChat by default on larger screens\n        appSettingStore.showOttButtons = true;\n    }\n\n    videoPlayerStore.makeVideoTopRight()\n\n    if (appSettingStore.pageReload) {\n        appSettingStore.pageReload = false\n        appSettingStore.pageWasReloaded = true\n        window.location.reload();\n    }\n    // Check if the URL contains query strings\n\n\n    // Only scroll into view if there are no query strings\n\n        // const topDiv = document.getElementById(\"topDiv\")\n        // if (topDiv) {\n        //     topDiv.scrollIntoView()\n        // }\n        router.on('navigate', (event) => {\n            // Ensure OTT panels do not open automatically on mobile devices\n            if (userStore.isMobile || window.innerWidth < 1024 || appSettingStore.fullPage) {\n                appSettingStore.ott = 0; // Close all panels on mobile devices\n            } else {\n                if (appSettingStore.ott === 0) {\n                    appSettingStore.ott = 4\n                }\n                // appSettingStore.ott = 0; // Default to closed on larger screens\n            }\n            const hasQueryStrings = window.location.search !== '';\n            if (!hasQueryStrings || appSettingStore.shouldScrollToTop) {\n                requestAnimationFrame(() => {\n                    const topDiv = document.getElementById(\"topDiv\");\n                    if (topDiv) {\n                        topDiv.scrollIntoView({behavior: 'auto'});\n                    } else {\n                        window.scrollTo(0, 0);\n                    }\n                });\n            }\n            appSettingStore.shouldScrollToTop = false;\n        })\n    // Only update if we're not already on this page to avoid overwriting with the current URL\n    appSettingStore.setPrevUrl()\n    appSettingStore.showOttButtons = true\n    appSettingStore.noLayout = false\n\n    // router.reload()\n\n    watch(\n        () => appSettingStore.isSmallScreen,\n        (newValue) => {\n            if (newValue) {\n                appSettingStore.ott = 0;\n            } else {\n                appSettingStore.ott = 4;\n            }\n        },\n        { immediate: true } // This option ensures the watch executes immediately with the current value\n    );\n\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".message-content[data-v-6d68e042]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;max-height:3rem;overflow:hidden;text-overflow:ellipsis}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/Pages/NewsPersonMessages/Index.vue\"],\"names\":[],\"mappings\":\"AAqJA,kCAEE,oBAAqB,CACrB,2BAA4B,CAF5B,mBAAoB,CAKpB,eAAgB,CAFhB,eAAgB,CAChB,sBAEF\",\"sourcesContent\":[\"<template>\\n  <div>\\n    <Head title=\\\"News Message Inbox\\\"/>\\n\\n    <div class=\\\"place-self-center flex flex-col\\\">\\n      <div id=\\\"topDiv\\\" class=\\\"bg-white min-h-screen text-black dark:bg-gray-900 dark:text-gray-50\\\">\\n        <NewsHeader>Newsroom</NewsHeader>\\n        <div class=\\\"w-full max-w-7xl px-8 bg-gray-50 text-black dark:bg-gray-800 dark:text-gray-50 pb-24\\\">\\n          <div class=\\\"py-8 px-4 lg:px-16\\\">\\n            <h1 class=\\\"text-3xl font-bold mb-6\\\">Your Personal News Inbox</h1>\\n            <div class=\\\"mb-6 flex space-x-4\\\">\\n              <button\\n                  @click=\\\"appSettingStore.btnRedirect('/news-person-messages/create')\\\"\\n                  class=\\\"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition\\\"\\n              >\\n                Create New Message\\n              </button>\\n              <button\\n                  @click=\\\"showModal = true\\\"\\n                  :disabled=\\\"isDeleteAllDisabled\\\"\\n                  :class=\\\"[\\n                    'text-white font-semibold py-2 px-4 rounded-lg transition',\\n                    isDeleteAllDisabled ? 'bg-gray-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700 cursor-pointer'\\n                  ]\\\"\\n              >\\n                Delete All\\n              </button>\\n              <ConfirmationModal\\n                  :show=\\\"showModal\\\"\\n                  title=\\\"Confirm Deletion\\\"\\n                  message=\\\"Are you sure you want to delete all messages? This action cannot be undone.\\\"\\n                  @confirm=\\\"deleteAllMessages\\\"\\n                  @cancelDelete=\\\"showModal = false\\\"\\n              />\\n            </div>\\n            <div v-if=\\\"filteredMessages.length > 0\\\">\\n              <ul class=\\\"space-y-4\\\">\\n                <li\\n                    v-for=\\\"message in filteredMessages\\\"\\n                    :key=\\\"message.id\\\"\\n                    :class=\\\"[\\n                    'relative border-b border-gray-300 pb-4 flex items-center p-4 rounded-lg shadow hover:shadow-md transition',\\n                    message.read_at ? 'bg-white dark:bg-gray-700' : 'bg-blue-100 dark:bg-blue-900'\\n                  ]\\\"\\n                >\\n                  <Link\\n                      :href=\\\"`/news-person-messages/${message.id}`\\\"\\n                      class=\\\"flex-grow mr-4\\\"\\n                  >\\n                    <div class=\\\"flex justify-between items-center\\\">\\n                      <div class=\\\"text-lg font-semibold\\\">{{ message.subject || 'No Subject' }}</div>\\n                      <div class=\\\"text-sm text-gray-500 dark:text-gray-400\\\">\\n                        <ConvertDateTimeToTimeAgo :datetime=\\\"message.created_at\\\" :timezone=\\\"userStore.timezone\\\"/>\\n                      </div>\\n                    </div>\\n                    <div class=\\\"text-gray-600 dark:text-gray-300 mt-2 message-content\\\">\\n                      <span v-html=\\\"message.message\\\"/>\\n                    </div>\\n                    <div v-if=\\\"message.sender\\\" class=\\\"text-sm text-gray-500 dark:text-gray-400 mt-2\\\">\\n                      <div v-if=\\\"message.sender.name\\\">\\n                        <img v-if=\\\"message.sender.profile_photo_url\\\" :src=\\\"message.sender.profile_photo_url\\\" alt=\\\"Profile Photo\\\"\\n                             class=\\\"w-10 h-10 rounded-full mr-2\\\">\\n                        <span>{{ message.sender.name }}</span>\\n                      </div>\\n                      <div v-if=\\\"message.sender.roles.length\\\">\\n                        <span>Roles: {{ message.sender.roles.join(', ') }}</span>\\n                      </div>\\n                      <div v-if=\\\"message.sender.creator_slug\\\">\\n                        <span>Creator Slug: {{ message.sender.creator_slug }}</span>\\n                      </div>\\n                      <div v-if=\\\"message.sender.email\\\">\\n                        <span>Email: {{ message.sender.email }}</span>\\n                      </div>\\n                      <div v-if=\\\"message.sender.phone\\\">\\n                        <span>Phone: {{ message.sender.phone }}</span>\\n                      </div>\\n                    </div>\\n                  </Link>\\n                  <div class=\\\"absolute bottom-4 right-4\\\">\\n                    <font-awesome-icon\\n                        icon=\\\"fa-trash-can\\\"\\n                        class=\\\"text-xl text-red-600 hover:text-red-800 hover:cursor-pointer transition\\\"\\n                        @click.prevent=\\\"deleteMessage(message.id)\\\"\\n                    />\\n                  </div>\\n                </li>\\n              </ul>\\n            </div>\\n            <div v-else class=\\\"text-center py-20\\\">\\n              <h2 class=\\\"text-2xl font-semibold mb-4\\\">No Messages Yet ðŸ“­</h2>\\n              <p class=\\\"text-gray-600 dark:text-gray-300\\\">Your inbox is currently empty. Start a new conversation by sending a message.</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script setup>\\nimport { usePageSetup } from '@/Utilities/PageSetup'\\nimport { useNewsPersonMessageStore } from '@/Stores/NewsPersonMessageStore'\\nimport { useAppSettingStore } from '@/Stores/AppSettingStore'\\nimport { useNotificationStore } from '@/Stores/NotificationStore'\\nimport { useUserStore } from '@/Stores/UserStore'\\nimport { computed, onMounted, ref } from 'vue'\\nimport NewsHeader from '@/Components/Pages/News/NewsHeader.vue'\\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\\nimport ConvertDateTimeToTimeAgo from '@/Components/Global/DateTime/ConvertDateTimeToTimeAgo.vue'\\nimport ConfirmationModal from '@/Components/Pages/NewsPersonMessages/ConfirmationModal.vue'\\n\\nconst newsPersonMessageStore = useNewsPersonMessageStore()\\nconst userStore = useUserStore()\\nconst appSettingStore = useAppSettingStore()\\nconst notificationStore = useNotificationStore()\\n\\nusePageSetup('newsPersonMessages.index')\\n\\nlet props = defineProps({\\n  messages: Object,\\n})\\n\\nconst showModal = ref(false)\\n\\nconst filteredMessages = computed(() => newsPersonMessageStore.messages)\\n\\nfunction deleteMessage(messageId) {\\n  newsPersonMessageStore.deleteMessage(messageId)\\n}\\n\\nconst isDeleteAllDisabled = computed(() => {\\n  return newsPersonMessageStore.messages.length === 0;\\n});\\n\\nconst deleteAllMessages = async () => {\\n  await newsPersonMessageStore.deleteAllMessages()\\n  showModal.value = false\\n  newsPersonMessageStore.reset()\\n  notificationStore.setToastNotification('All messages successfully deleted.', 'warning')\\n\\n}\\n\\nonMounted(() => {\\n  // newsPersonMessageStore.fetchMessages()\\n  newsPersonMessageStore.initializeNewsPersonMessageStore(props.messages)\\n})\\n\\n</script>\\n<style scoped>\\n.message-content {\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-height: 3rem; /* Approximately 2 lines */\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import script from \"./OpenInboxButtonWithCount.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OpenInboxButtonWithCount.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"flex items-center\">\n    <button\n        @click=\"goToInbox\"\n        :class=\"buttonClass\"\n    >\n      Inbox ({{ newsPersonMessageStore.newMessageCount }})\n    </button>\n  </div>\n</template>\n<script setup>\nimport { router, usePage } from '@inertiajs/vue3'\nimport { onMounted, computed } from 'vue';\nimport { useNewsPersonMessageStore } from '@/Stores/NewsPersonMessageStore';\nimport { useNotificationStore } from '@/Stores/NotificationStore';\n\nconst newsPersonMessageStore = useNewsPersonMessageStore();\nconst notificationStore = useNotificationStore();\n\nconst page = usePage()\n\nonMounted(() => {\n  newsPersonMessageStore.fetchMessageCount();\n});\n\nconst messageCount = computed(() => newsPersonMessageStore.computedMessageCount);\nconst newMessageCount = computed(() => newsPersonMessageStore.newMessageCount);\n\nconst buttonClass = computed(() => {\n  return newMessageCount.value > 0\n      ? 'bg-pink-600 hover:bg-pink-700 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded'\n      : 'bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded';\n});\n\nfunction goToInbox() {\n  router.get('/news-person-messages');\n}\n</script>","import script from \"./NewsHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewsHeader.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n  <div class=\"w-full mx-auto -mt-6 b-3 pb-3 border-b border-gray-500 pt-12 px-12 bg-yellow-950 text-white\">\n\n    <div class=\"w-full mx-auto flex flex-wrap justify-between mb-3 pb-3 gap-x-2 gap-y-2\">\n      <div class=\"text-4xl font-semibold text-center lg:text-left\">\n        <slot/>\n      </div>\n\n      <OpenInboxButtonWithCount />\n\n      <button\n          @click=\"appSettingStore.btnRedirect('/dashboard')\"\n          class=\"bg-black hover:bg-gray-800 text-white font-semibold ml-2 mt-2 px-4 py-2 rounded disabled:bg-gray-400 h-max w-max\"\n      >Dashboard\n      </button>\n    </div>\n\n  </div>\n\n  <div class=\"flex align-items-end mt-4 gap-2\">\n    <div class=\"w-full overflow-hidden shadow-sm sm:rounded-lg\">\n      <div class=\"w-full p-6 dark:bg-gray-900 border-b border-gray-200\">\n        <div class=\"w-full relative bg-gray-200 overflow-x-auto shadow-md sm:rounded-lg py-6 px-6\">\n          <ul class=\"flex flex-wrap justify-start ml-0 lg:ml-16 mt-6 mr-6 lg:mt-0 gap-x-2 gap-y-3 md:gap-x-8\">\n            <li v-for=\"button in buttons\" :key=\"button.name\" class=\"\">\n              <button\n                  @click=\"button.enabled ? appSettingStore.btnRedirect(button.path) : null\"\n                  :class=\"getButtonClass(button.enabled)\"\n                  :disabled=\"!button.enabled\">\n                {{ button.name }}\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</template>\n\n<script setup>\nimport { useAppSettingStore } from '@/Stores/AppSettingStore'\nimport { reactive } from 'vue'\nimport OpenInboxButtonWithCount from '@/Components/Pages/NewsPersonMessages/OpenInboxButtonWithCount.vue'\n\nconst appSettingStore = useAppSettingStore()\n\ndefineProps({\n  search: String,\n})\n\n// const getButtonClass = (pageIdentifier) => {\n//   const baseClass = 'inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 transition';\n//   const activeClass = 'border-indigo-400 text-gray-800 focus:outline-none focus:border-indigo-700';\n//   const inactiveClass = 'border-transparent text-black hover:text-blue-500 hover:border-indigo-400 focus:outline-none focus:text-gray-700 focus:border-gray-300 disabled:text-gray-300 disabled:cursor-not-allowed disabled:border-none';\n//\n//   return appSettingStore.currentPage === pageIdentifier\n//       ? `${baseClass} ${activeClass}`\n//       : `${baseClass} ${inactiveClass}`;\n// };\n\nfunction getButtonClass(enabled) {\n  return enabled\n      ? 'py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 transition ease-in-out duration-150'\n      : 'py-2 px-4 bg-gray-400 text-white font-semibold rounded-lg shadow-md cursor-not-allowed'\n}\n\nconst buttons = reactive([\n  {name: 'News Stories', path: '/newsroom', enabled: true},\n  {name: 'News RSS Feeds', path: '/newsRssFeedItemsTemp', enabled: true},\n  {name: 'News RSS Archive', path: '/newsRssArchive', enabled: true},\n  {name: 'Categories', path: '/categories', enabled: false},\n  {name: 'Cities', path: '/cities', enabled: false},\n  {name: 'Districts', path: '/news-districts', enabled: true},\n  {name: 'Press Releases', path: '/pressReleases', enabled: false},\n  {name: 'Calendar', path: '/calendar', enabled: false},\n  {name: 'Public News Page', path: '/news', enabled: true},\n])\n</script>\n","<template>\n  <div v-if=\"show\" class=\"fixed inset-0 flex items-center justify-center z-50\">\n    <!-- Backdrop -->\n    <div class=\"fixed inset-0 bg-black opacity-50 z-40\"></div>\n    <!-- Modal -->\n    <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden max-w-lg mx-auto z-50\">\n      <div class=\"p-6\">\n        <h2 class=\"text-2xl font-semibold mb-4\">{{ title }}</h2>\n        <p class=\"text-gray-700 dark:text-gray-300 mb-6\">{{ message }}</p>\n        <div class=\"flex justify-end space-x-4\">\n          <button\n              @click=\"cancel\"\n              class=\"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition\"\n          >\n            Cancel\n          </button>\n          <button\n              @click=\"confirm\"\n              class=\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition\"\n          >\n            Confirm\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\nconst props = defineProps({\n  show: Boolean,\n  title: String,\n  message: String,\n});\n\nconst emit = defineEmits(['confirm', 'cancelDelete']);\n\nconst confirm = () => emit('confirm');\nconst cancel = () => emit('cancelDelete');\n</script>\n\n<style scoped>\n/* Add your styles here */\n</style>\n","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-10.use[1]!../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-10.use[2]!../../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./ConfirmationModal.vue?vue&type=style&index=0&id=04b7fec0&scoped=true&lang=css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import script from \"./ConfirmationModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ConfirmationModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ConfirmationModal.vue?vue&type=style&index=0&id=04b7fec0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-04b7fec0\"]])\n\nexport default __exports__","<template>\n  <div>\n    <Head title=\"News Message Inbox\"/>\n\n    <div class=\"place-self-center flex flex-col\">\n      <div id=\"topDiv\" class=\"bg-white min-h-screen text-black dark:bg-gray-900 dark:text-gray-50\">\n        <NewsHeader>Newsroom</NewsHeader>\n        <div class=\"w-full max-w-7xl px-8 bg-gray-50 text-black dark:bg-gray-800 dark:text-gray-50 pb-24\">\n          <div class=\"py-8 px-4 lg:px-16\">\n            <h1 class=\"text-3xl font-bold mb-6\">Your Personal News Inbox</h1>\n            <div class=\"mb-6 flex space-x-4\">\n              <button\n                  @click=\"appSettingStore.btnRedirect('/news-person-messages/create')\"\n                  class=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition\"\n              >\n                Create New Message\n              </button>\n              <button\n                  @click=\"showModal = true\"\n                  :disabled=\"isDeleteAllDisabled\"\n                  :class=\"[\n                    'text-white font-semibold py-2 px-4 rounded-lg transition',\n                    isDeleteAllDisabled ? 'bg-gray-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700 cursor-pointer'\n                  ]\"\n              >\n                Delete All\n              </button>\n              <ConfirmationModal\n                  :show=\"showModal\"\n                  title=\"Confirm Deletion\"\n                  message=\"Are you sure you want to delete all messages? This action cannot be undone.\"\n                  @confirm=\"deleteAllMessages\"\n                  @cancelDelete=\"showModal = false\"\n              />\n            </div>\n            <div v-if=\"filteredMessages.length > 0\">\n              <ul class=\"space-y-4\">\n                <li\n                    v-for=\"message in filteredMessages\"\n                    :key=\"message.id\"\n                    :class=\"[\n                    'relative border-b border-gray-300 pb-4 flex items-center p-4 rounded-lg shadow hover:shadow-md transition',\n                    message.read_at ? 'bg-white dark:bg-gray-700' : 'bg-blue-100 dark:bg-blue-900'\n                  ]\"\n                >\n                  <Link\n                      :href=\"`/news-person-messages/${message.id}`\"\n                      class=\"flex-grow mr-4\"\n                  >\n                    <div class=\"flex justify-between items-center\">\n                      <div class=\"text-lg font-semibold\">{{ message.subject || 'No Subject' }}</div>\n                      <div class=\"text-sm text-gray-500 dark:text-gray-400\">\n                        <ConvertDateTimeToTimeAgo :datetime=\"message.created_at\" :timezone=\"userStore.timezone\"/>\n                      </div>\n                    </div>\n                    <div class=\"text-gray-600 dark:text-gray-300 mt-2 message-content\">\n                      <span v-html=\"message.message\"/>\n                    </div>\n                    <div v-if=\"message.sender\" class=\"text-sm text-gray-500 dark:text-gray-400 mt-2\">\n                      <div v-if=\"message.sender.name\">\n                        <img v-if=\"message.sender.profile_photo_url\" :src=\"message.sender.profile_photo_url\" alt=\"Profile Photo\"\n                             class=\"w-10 h-10 rounded-full mr-2\">\n                        <span>{{ message.sender.name }}</span>\n                      </div>\n                      <div v-if=\"message.sender.roles.length\">\n                        <span>Roles: {{ message.sender.roles.join(', ') }}</span>\n                      </div>\n                      <div v-if=\"message.sender.creator_slug\">\n                        <span>Creator Slug: {{ message.sender.creator_slug }}</span>\n                      </div>\n                      <div v-if=\"message.sender.email\">\n                        <span>Email: {{ message.sender.email }}</span>\n                      </div>\n                      <div v-if=\"message.sender.phone\">\n                        <span>Phone: {{ message.sender.phone }}</span>\n                      </div>\n                    </div>\n                  </Link>\n                  <div class=\"absolute bottom-4 right-4\">\n                    <font-awesome-icon\n                        icon=\"fa-trash-can\"\n                        class=\"text-xl text-red-600 hover:text-red-800 hover:cursor-pointer transition\"\n                        @click.prevent=\"deleteMessage(message.id)\"\n                    />\n                  </div>\n                </li>\n              </ul>\n            </div>\n            <div v-else class=\"text-center py-20\">\n              <h2 class=\"text-2xl font-semibold mb-4\">No Messages Yet ðŸ“­</h2>\n              <p class=\"text-gray-600 dark:text-gray-300\">Your inbox is currently empty. Start a new conversation by sending a message.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { usePageSetup } from '@/Utilities/PageSetup'\nimport { useNewsPersonMessageStore } from '@/Stores/NewsPersonMessageStore'\nimport { useAppSettingStore } from '@/Stores/AppSettingStore'\nimport { useNotificationStore } from '@/Stores/NotificationStore'\nimport { useUserStore } from '@/Stores/UserStore'\nimport { computed, onMounted, ref } from 'vue'\nimport NewsHeader from '@/Components/Pages/News/NewsHeader.vue'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport ConvertDateTimeToTimeAgo from '@/Components/Global/DateTime/ConvertDateTimeToTimeAgo.vue'\nimport ConfirmationModal from '@/Components/Pages/NewsPersonMessages/ConfirmationModal.vue'\n\nconst newsPersonMessageStore = useNewsPersonMessageStore()\nconst userStore = useUserStore()\nconst appSettingStore = useAppSettingStore()\nconst notificationStore = useNotificationStore()\n\nusePageSetup('newsPersonMessages.index')\n\nlet props = defineProps({\n  messages: Object,\n})\n\nconst showModal = ref(false)\n\nconst filteredMessages = computed(() => newsPersonMessageStore.messages)\n\nfunction deleteMessage(messageId) {\n  newsPersonMessageStore.deleteMessage(messageId)\n}\n\nconst isDeleteAllDisabled = computed(() => {\n  return newsPersonMessageStore.messages.length === 0;\n});\n\nconst deleteAllMessages = async () => {\n  await newsPersonMessageStore.deleteAllMessages()\n  showModal.value = false\n  newsPersonMessageStore.reset()\n  notificationStore.setToastNotification('All messages successfully deleted.', 'warning')\n\n}\n\nonMounted(() => {\n  // newsPersonMessageStore.fetchMessages()\n  newsPersonMessageStore.initializeNewsPersonMessageStore(props.messages)\n})\n\n</script>\n<style scoped>\n.message-content {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-height: 3rem; /* Approximately 2 lines */\n}\n</style>","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-10.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-10.use[2]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Index.vue?vue&type=style&index=0&id=6d68e042&scoped=true&lang=css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import script from \"./Index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=6d68e042&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6d68e042\"]])\n\nexport default __exports__"],"names":["usePageSetup","pageName","userStore","useUserStore","appSettingStore","useAppSettingStore","videoPlayerStore","useVideoPlayerStore","currentPage","showFlashMessage","pageIsHidden","isMobile","window","innerWidth","fullPage","ott","showOttButtons","makeVideoTopRight","pageReload","pageWasReloaded","location","reload","router","on","event","search","shouldScrollToTop","requestAnimationFrame","topDiv","document","getElementById","scrollIntoView","behavior","scrollTo","setPrevUrl","noLayout","watch","isSmallScreen","newValue","immediate","___CSS_LOADER_EXPORT___","push","module","id","newsPersonMessageStore","useNewsPersonMessageStore","useNotificationStore","usePage","onMounted","fetchMessageCount","computed","computedMessageCount","newMessageCount","buttonClass","value","goToInbox","get","buttons","reactive","name","path","enabled","emit","__emit","confirm","cancel","options","locals","notificationStore","props","__props","showModal","ref","filteredMessages","messages","isDeleteAllDisabled","length","deleteAllMessages","_ref","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","reset","setToastNotification","stop","apply","arguments","initializeNewsPersonMessageStore","messageId","deleteMessage"],"sourceRoot":""}