{"version":3,"file":"js/5686.js","mappings":"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","sources":["webpack:///./resources/js/Components/Pagination.vue","webpack:///./resources/js/Pages/Dashboard.vue?88a0","webpack:///./resources/js/Pages/Dashboard.vue"],"sourcesContent":["import script from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./Dashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <Head title=\"Dashboard\" />\n\n    <div class=\"place-self-center flex flex-col gap-y-3 w-full\">\n        <div id=\"topDiv\" class=\"rounded bg-white text-black dark:text-white dark:bg-gray-900 p-5 mb-10\">\n\n            <Message v-if=\"userStore.showFlashMessage\" :flash=\"$page.props.flash\"/>\n\n            <div class=\"w-full px-4 mx-auto text-center pt-4\">\n                <p class=\"px-2 font-bold\">{{ now }}</p>\n            </div>\n\n            <div class=\"flex justify-between mb-6 pt-4\">\n\n                <h1 class=\"text-3xl font-semibold\">Dashboard for Creators</h1>\n                <p>Your timezone: {{userStore.timezone}}</p>\n<!--                <div class=\"flex flex-end w-full\">-->\n\n<!--                    -->\n<!--                </div>-->\n            </div>\n\n                <div class=\"w-full flex flex-wrap-reverse mx-auto gap-2 mb-6\">\n                    <button\n                        v-if=\"props.can.viewAdmin\"\n                        @click=\"userStore.btnRedirect(`/admin/settings`)\"\n                        class=\"bg-blue-600 hover:bg-blue-500 text-white mt-1 mx-2 px-4 py-2 rounded disabled:bg-gray-400\"\n                    >Admin Settings</button>\n                    <button\n                        v-if=\"props.can.viewNewsroom\"\n                        @click=\"userStore.btnRedirect(`/newsroom`)\"\n                        class=\"bg-yellow-600 hover:bg-yellow-500 text-white mt-1 mx-2 px-4 py-2 rounded disabled:bg-gray-400\"\n                    >Newsroom</button>\n                    <button\n                        @click=\"userStore.btnRedirect(`/news/upload`)\"\n                        class=\"bg-green-600 hover:bg-green-500 text-white mt-1 mx-2 px-4 py-2 rounded disabled:bg-gray-400 cursor-not-allowed\"\n                        disabled\n                    >Share News</button>\n                    <button\n                        @click=\"userStore.btnRedirect(`/invite`)\"\n                        class=\"bg-orange-600 hover:bg-orange-500 text-white mt-1 mx-2 px-4 py-2 rounded disabled:bg-gray-400\"\n                    >Invite Creator</button>\n                    <button\n                        @click=\"userStore.btnRedirect(`/videoupload`)\"\n                        class=\"bg-green-600 hover:bg-green-500 text-white mt-1 mx-2 px-4 py-2 rounded disabled:bg-gray-400\"\n                    >Upload Video</button>\n                    <button\n                        @click=\"userStore.btnRedirect(`/golive`)\"\n                        class=\"bg-red-600 hover:bg-red-500 text-white mt-1 mx-2 px-4 py-2 rounded disabled:bg-gray-400\"\n                    >Go Live</button>\n\n                </div>\n\n            <section class=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-8 mx-2 m-auto text-black\">\n                <div class=\"p-5 bg-gray-200 dark:bg-gray-800 rounded\">\n                    <div class=\"mb-3 grid grid-cols-1\">\n                        <div class=\"mb-1 font-semibold text-xl justify-self-start dark:text-gray-50\">Open Assignments</div>\n                    </div>\n                    <div class=\"mb-3 bg-orange-300 py-1 px-2 text-xs font-semibold text-red-800\">\n                        In development. Not currently working.\n                    </div>\n                    <div class=\"ml-3 text-center\">\n                        <button disabled class=\"text-blue-800 hover:text-blue-400 dark:text-blue-100 dark:hover:text-blue-400 disabled:text-gray-500\">\n                            Assignments list goes here\n                        </button>\n\n                    </div>\n                    <div class=\"text-center text-gray-500\">(coming soon)</div>\n                </div>\n\n                <div class=\"p-5 bg-gray-200 dark:bg-gray-800 rounded relative\">\n\n                    <div class=\"mb-3 flex justify-between\">\n                        <div class=\"mb-1 font-semibold text-xl dark:text-gray-50\">My Teams\n                        </div>\n\n                        <div v-if=\"can.createTeam\" class=\"\">\n                            <button @click=\"userStore.btnRedirect('/teams/create')\"\n                                class=\"bg-green-600 hover:bg-green-500 text-white px-4 py-2 text-xs rounded disabled:bg-gray-400\"\n                            >New Team</button>\n                        </div>\n                    </div>\n                    <div v-if=\"props.teams.data === 0\" class=\"italic dark:text-gray-50 light:text-black\"> You have no teams.\n                    </div>\n                    <div\n                        v-for=\"team in teams.data\"\n                        :key=\"team.id\"\n                        class=\"border-b light:bg-white hover:bg-blue-300 dark:bg-gray-600 dark:border-gray-700 dark:hover:bg-blue-800 inset-x-0 bottom-0\"\n                    >\n                        <button\n                            @click=\"visitTeamManagePage(team.slug)\"\n                            class=\"text-blue-800 hover:text-blue-900 dark:text-blue-100 dark:hover:text-white\"><p class=\"px-2 py-1\">\n                            {{ team.name }}\n                        </p></button>\n                    </div>\n                    <div class=\"w-full text-center mb-12\">\n                        <Popper\n                            hover openDelay=\"50\" closeDelay=\"50\" offset-skid=\"0\" offset-distance=\"0\" placement=\"top\"\n                            arrow\n                        ><template #content>\n                            <p class=\"text-xl font-semibold mb-2\">🎉 Start a new team</p>\n                            <p class=\"\">Teams manage shows, </p>\n                            <p class=\"\">even if you're a solo creator</p>\n                        </template>\n                            <button><font-awesome-icon\n                                icon=\"fa-solid fa-question\"\n                                class=\"text-3xl text-pink-600 dark:text-pink-300 dark:hover:text-blue-400 hover:text-blue-400 mt-6 py-2\"\n                            /></button>\n                        </Popper>\n                    </div>\n                    <div class=\"mt-24\">\n                        <!-- Paginator -->\n                        <div><Pagination :data=\"props.teams\" class=\"mt-6 absolute inset-x-0 bottom-0 py-2 px-2\"/></div>\n\n                    </div>\n\n                </div>\n\n                <div class=\"p-5 bg-gray-200 dark:bg-gray-800 rounded relative\">\n                    <div class=\"mb-3 flex justify-between\">\n                        <div class=\"mb-1 font-semibold text-xl dark:text-gray-50\">My Shows</div>\n                        <div v-if=\"can.createShow\" class=\"\">\n\n                            <div v-if=\"props.teams.data.length > 0\">\n                                <Link :href=\"`/shows/create`\"><button\n                                    class=\"bg-green-600 hover:bg-green-500 text-white px-4 py-2 text-xs rounded disabled:bg-gray-400\"\n                                >Create Show</button>\n                                </Link>\n                            </div>\n\n                            <div v-else>\n                                <button class=\"bg-green-600 hover:bg-green-500 text-white px-4 py-2 text-xs rounded disabled:bg-gray-400\" @click=\"createShowWithNoTeamButton\">Create Show</button>\n                                <dialog id=\"dashboardNoTeams\" class=\"modal\">\n                                    <div class=\"modal-box\">\n                                        <h3 class=\"font-bold text-lg mb-3\">You don't have any teams!</h3>\n                                        <button class=\"btn btn-primary\" @click=\"navigateToCreateTeam\">Create a Team</button>\n                                        <p class=\"py-4\">Press ESC key or click outside to close</p>\n                                    </div>\n                                    <form method=\"dialog\" class=\"modal-backdrop\">\n                                        <button>close</button>\n                                    </form>\n                                </dialog>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div v-if=\"props.shows.data === 0\" class=\"italic dark:text-gray-50 light:text-black\"> You have no shows.\n                    </div>\n                    <div\n                        v-for=\"show in shows.data\"\n                        :key=\"show.id\"\n                        class=\"border-b light:bg-white hover:bg-blue-300 dark:bg-gray-600 dark:border-gray-700 dark:hover:bg-blue-800 inset-x-0 bottom-0\"\n                    >\n                        <Link\n                            @click=\"videoPlayer.makeVideoTopRight()\"\n                            :href=\"`/shows/${show.slug}/manage`\"\n                            class=\"text-blue-800 hover:text-blue-900 dark:text-blue-100 dark:hover:text-white\"><p class=\"px-2 py-1\">\n                            {{ show.name }}\n                        </p></Link>\n                    </div>\n                    <div class=\"w-full text-center mb-12\">\n                        <Popper\n                            hover openDelay=\"50\" closeDelay=\"50\" offset-skid=\"0\" offset-distance=\"0\" placement=\"top\"\n                            arrow\n                        ><template #content>\n                            <p class=\"text-xl font-semibold mb-2\">🍿 These are your shows </p>\n                            <p class=\"\">Join or create a team to start a show.</p>\n                        </template>\n                            <button><font-awesome-icon\n                                icon=\"fa-solid fa-question\"\n                                class=\"text-3xl text-pink-600 dark:text-pink-300 dark:hover:text-blue-400 hover:text-blue-400 mt-6 py-2\"\n                            /></button>\n                        </Popper>\n                    </div>\n                    <div class=\"mt-24\">\n                        <Pagination :data=\"shows\" class=\"mt-6 absolute inset-x-0 bottom-0 py-2 px-2\"/>\n                    </div>\n\n                </div>\n\n\n            </section>\n\n            <div class=\"w-full bg-gray-300 dark:bg-gray-900 rounded p-3 my-8 mx-2 border-b border-2\">\n                <div class=\"stat place-items-center mb-4\">\n                    <div class=\"stat-title light:text-black dark:text-white mb-2\">Yesterday's Top Show</div>\n                    <div class=\"stat-value text-accent md:text-lg text-sm\">Down The Rabbit Hole</div>\n                    <div class=\"stat-desc\">︎Episode 2</div>\n                </div>\n            </div>\n\n            <div class=\"w-full bg-gray-300 dark:bg-gray-900 rounded pb-8 p-3 mb-16 mx-2 border-b border-2\">\n\n                <div class=\"font-semibold text-xl pb-2 text-black dark:text-white\">Stats</div>\n\n                <div class=\"w-full mx-auto stats shadow stats-vertical lg:stats-horizontal\">\n\n\n\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Avg. Daily View Time</div>\n                        <div class=\"stat-value\">~ minutes</div>\n                        <div class=\"stat-desc\">From January 1st to February 1st</div>\n                    </div>\n\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Premium subscribers</div>\n                        <div class=\"stat-value text-secondary\">{{ subscriptionCount }}</div>\n                        <div class=\"stat-desc\">↗︎ ~ (~%)</div>\n                    </div>\n\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">New Creators</div>\n                        <div class=\"stat-value\">~</div>\n                        <div class=\"stat-desc\">↘︎ ~ (~%)</div>\n                    </div>\n\n                </div>\n\n                <div class=\"w-full mt-4 mx-auto stats shadow stats-vertical lg:stats-horizontal\">\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Total Shows</div>\n                        <div class=\"stat-value\">{{ showCount }}</div>\n                        <div class=\"stat-desc\">↗︎ ~ (~%)</div>\n                    </div>\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Total Users</div>\n                        <div class=\"stat-value\">{{ userCount }}</div>\n                        <div class=\"stat-desc\">↗︎ ~ (~%)</div>\n                    </div>\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Total Creators</div>\n                        <div class=\"stat-value\">{{ creatorCount }}</div>\n                        <div class=\"stat-desc\">︎↗︎ ~ (~%)</div>\n                    </div>\n                </div>\n\n                <div class=\"w-full mt-4 mx-auto stats shadow stats-vertical lg:stats-horizontal\">\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Total Video Storage Used</div>\n                        <div class=\"stat-value text-secondary\">{{ notTvTotalStorageUsed }}</div>\n                        <div class=\"stat-desc\">My total: {{ myTotalStorageUsed }} ({{ myTotalStoragePercentage }}%)</div>\n                    </div>\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Daily Peak Bandwidth</div>\n                        <div class=\"stat-value text-secondary\">~ Gbps</div>\n                        <div class=\"stat-desc\">︎↘︎ ~ (~%)</div>\n                    </div>\n                    <div class=\"stat place-items-center\">\n                        <div class=\"stat-title\">Average Bandwidth per User</div>\n                        <div class=\"stat-value text-secondary\">~ Mbps</div>\n                        <div class=\"stat-desc\">︎↘︎ ~ (~%)</div>\n                    </div>\n\n                </div>\n            </div>\n\n\n            <div class=\"mt-6 h-0.5 bg-gray-800\"></div>\n\n            <section class=\"grid grid-cols-1 mt-6 gap-2 bg-gray-300 dark:dark:bg-gray-900 rounded\">\n                <div class=\"font-semibold text-2xl text-gray-800 dark:text-white px-4 pt-6 pb-2\">\n                    Account Summary\n                </div>\n\n                <div class=\"mb-3 bg-orange-300 py-1 px-2 mx-4 text-xs font-semibold text-red-800\">\n                    In development. Not currently working.\n                </div>\n\n                <div class=\"w-fit mx-auto stats stats-vertical sm:stats-horizontal bg-primary text-primary-content\">\n\n                    <div class=\"stat my-2\">\n                        <div class=\"stat-title text-white\">Total balance</div>\n                        <div class=\"stat-value\">$89,410</div>\n                        <div class=\"stat-actions\">\n                            <button class=\"btn btn-sm btn-success\">Add funds</button>\n                        </div>\n                    </div>\n\n                    <div class=\"stat my-2\">\n                        <div class=\"stat-title text-white\">Available balance</div>\n                        <div class=\"stat-value\">$89,400</div>\n                        <div class=\"stat-actions\">\n                            <button class=\"btn btn-sm mr-2\">Withdrawal</button>\n                            <button class=\"btn btn-sm\">deposit</button>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class=\"border-2\">\n                    <div class=\"grid justify-items-stretch grid-cols-3 \">\n                        <div class=\"bg-gray-800 text-white text-sm p-2 col-span-3\">Membership: 000000</div>\n                    </div>\n                    <table class=\"w-full\">\n                        <thead class=\"\">\n                        <td class=\"bg-blue-400 font-semibold text-sm text-black px-2 mb-3\">My Account Name</td>\n                        <td class=\"bg-blue-400 px-2 mb-3 text-right font-semibold text-sm text-black\">Balance</td>\n                        </thead>\n                        <tr class=\"border-b border-1 border-gray-100 text-black dark:text-white\">\n                            <td class=\"px-2 col-span-2 py-2\">Chequing</td>\n                            <td class=\"px-2 text-right\">89,400.00</td>\n                        </tr>\n                        <tr class=\"border-b border-1 border-gray-100 text-black dark:text-white\">\n                            <td class=\"px-2 col-span-2 py-2\">Equity Shares</td>\n                            <td class=\"px-2 text-right\">10.00</td>\n                        </tr>\n                    </table>\n                    <table class=\"w-full mt-6\">\n                        <thead class=\"\">\n                            <td class=\"bg-blue-400 font-semibold text-sm text-black px-2\">Team Shares</td>\n                            <td class=\"bg-blue-400 px-2 text-right font-semibold text-sm text-black\">Balance</td>\n                        </thead>\n                        <tr v-for=\"team in teams.data\"\n                            :key=\"team.id\"\n                            class=\"border-b border-1 border-gray-100 text-black dark:text-white\">\n                            <td class=\"px-2 py-2\">{{ team.name }}</td>\n                            <td class=\"px-2 text-right\">0.00</td>\n                        </tr>\n                    </table>\n                    <table class=\"w-full mt-6\">\n                        <thead class=\"\">\n                        <td class=\"bg-blue-400 font-semibold text-sm text-black px-2 mb-3\">Community Account Name</td>\n                        <td class=\"bg-blue-400 px-2 mb-3 text-right font-semibold text-sm text-black\">Balance</td>\n                        </thead>\n                        <tr class=\"border-b border-1 border-gray-100 text-black dark:text-white\">\n                            <td class=\"px-2 col-span-2 py-2\">Public Good Fund</td>\n                            <td class=\"px-2 text-right\">0.00</td>\n                        </tr>\n                        <tr class=\"border-b border-1 border-gray-100 text-black dark:text-white\">\n                            <td class=\"px-2 col-span-2 py-2\">Production Fund for Members</td>\n                            <td class=\"px-2 text-right\">0.00</td>\n                        </tr>\n                        <tr class=\"border-b border-1 border-gray-100 text-black dark:text-white\">\n                            <td class=\"px-2 col-span-2 py-2\">News Fund</td>\n                            <td class=\"px-2 text-right\">0.00</td>\n                        </tr>\n                    </table>\n\n                    </div>\n\n\n            </section>\n            <section class=\"mt-16 space-y-4 w-fit px-10 py-6 bg-gray-200 text-black dark:text-white rounded\">\n                <div class=\"text-sm uppercase mb-4 border-b border-blue-500\">\n                    External Links\n                </div>\n                <a href=\"https://www.cbsc.ca/\" target=\"_blank\">\n                    <div class=\"hover:bg-blue-500 p-2\">\n                    Canadian Broadcast Standards Council</div></a>\n\n                <a href=\"https://rtdnacanada.com/\" target=\"_blank\">\n                    <div class=\"hover:bg-blue-500 p-2\">\n                        RTNDA</div></a>\n\n                <a href=\"https://adstandards.ca/\" target=\"_blank\">\n                    <div class=\"hover:bg-blue-500 p-2\">\n                    Ad Standards</div></a>\n\n                <a href=\"https://www.cybertip.ca/en/\" target=\"_blank\">\n                    <div class=\"hover:bg-blue-500 p-2\">\n                    Cybertip</div></a>\n\n            </section>\n\n        </div>\n    </div>\n\n</template>\n\n<script setup>\nimport {computed, inject, onBeforeMount, onMounted, ref} from \"vue\";\nimport { useVideoPlayerStore } from \"@/Stores/VideoPlayerStore.js\"\nimport { useUserStore } from \"@/Stores/UserStore\";\nimport Pagination from \"@/Components/Pagination\"\nimport Message from \"@/Components/Modals/Messages\";\nimport {Inertia} from \"@inertiajs/inertia\";\nimport { useNow } from '@vueuse/core'\n\nlet videoPlayerStore = useVideoPlayerStore()\nlet userStore = useUserStore()\n\nconst getUserData = inject('getUserData', null)\nconst now = useNow()\n\nvideoPlayerStore.loggedIn = true\nuserStore.currentPage = 'dashboard'\nuserStore.showFlashMessage = true;\n\nonBeforeMount( () => {\n\n})\n\nonMounted(() => {\n    if (!getUserData) {\n        getUserTimezone()\n        updateUserStore()\n    }\n    videoPlayerStore.makeVideoTopRight();\n    if (userStore.isMobile) {\n        videoPlayerStore.ottClass = 'ottClose'\n        videoPlayerStore.ott = 0\n    }\n    document.getElementById(\"topDiv\").scrollIntoView()\n    Inertia.reload()\n});\n\n\n// isCreator, isNewsPerson, isVip, isSubscriber\n// need to go in the UserStore. Inertia won't\n// update the initialPage.props, so the solution\n// is to send this data in 3 places the user\n// will land after logging in.\n// 1) The Dashboard\n// 2) Stream\n// 3) any other page from the /login page\n// (AppLayout will be our catch all.)\n// Only the Dashboard has a controller,\n// the others will use Axios to get the data\n// and save it in the UserStore.\nlet props = defineProps({\n    id: null,\n    isAdmin: null,\n    isCreator: null,\n    isNewsPerson: null,\n    isSubscriber: null,\n    hasAccount: null,\n    isVip: null,\n    shows: Object,\n    teams: Object,\n    myTotalStorageUsed: ref(String),\n    notTvTotalStorageUsed: ref(String),\n    showCount: Number,\n    userCount: Number,\n    creatorCount: Number,\n    subscriptionCount: Number,\n    can: Object,\n});\n\nconst navigateToCreateTeam = () => {\n    Inertia.visit('teams/create');\n};\n\n// Function to extract the numeric value from a string with \"MB\" suffix\nconst extractNumericValue = (str) => {\n    const numericValue = parseFloat(str);\n    return isNaN(numericValue) ? 0 : numericValue;\n};\n\n// Convert x and n to numeric values\nconst myTotalStorageUsedNumeric = extractNumericValue(props.myTotalStorageUsed);\nconst notTvTotalStorageUsedNumeric = extractNumericValue(props.notTvTotalStorageUsed);\n\n// Create a computed property to calculate the percentage\nconst myTotalStoragePercentage = computed(() => {\n    // return Math.round((myTotalStorageUsedNumeric / notTvTotalStorageUsedNumeric) * 100);\n    return ((myTotalStorageUsedNumeric / notTvTotalStorageUsedNumeric) * 100).toFixed(2);\n});\n\n// Round the percentage to have no decimal places\nconst myTotalStorageRoundedPercentage = computed(() => {\n    return Math.round(myTotalStoragePercentage);\n});\n\nfunction createShowWithNoTeamButton() {\n    document.getElementById('dashboardNoTeams').showModal()\n}\n\nfunction visitTeamManagePage(team) {\n    videoPlayerStore.makeVideoTopRight()\n    Inertia.visit(`/teams/${team}/manage`)\n}\n\nasync function updateUserStore() {\n    userStore.id = props.id\n    userStore.isAdmin = props.isAdmin\n    userStore.isCreator = props.isCreator\n    userStore.isNewsPerson = props.isNewsPerson\n    userStore.isVip = props.isVip\n    userStore.isSubscriber = props.isSubscriber\n    userStore.hasAccount = props.hasAccount\n    userStore.getUserDataCompleted = true\n    userStore.timezone = userTimezone\n    console.log('get user data on Dashboard')\n    if (userStore.isCreator) {\n        userStore.prevUrl = '/dashboard'\n    } else {\n        userStore.prevUrl = '/stream'\n    }\n    if (!userStore.userSubscribedToNotifications) {\n        await userStore.subscribeToUserNotifications(props.id)\n    }\n    // save user Timezone\n    await updateUserTimezone()\n\n}\n\nconst userTimezone = ref('');\n\nconst getUserTimezone = () => {\n    // Use the Intl object to get the user's timezone\n    userTimezone.value = Intl.DateTimeFormat().resolvedOptions().timeZone;\n};\n\nconst updateUserTimezone = async () => {\n    try {\n        const response = await axios.post('/users/update-timezone', { timezone: userTimezone.value });\n\n        // Handle success response as needed\n        console.log(response.data.message);\n    } catch (error) {\n        // Handle error response or network error\n        console.error(error);\n\n        if (error.response) {\n            // Handle specific error responses if needed\n            console.error(error.response.data);\n        }\n    }\n};\n\n</script>\n\n\n"],"names":["videoPlayerStore","useVideoPlayerStore","userStore","useUserStore","getUserData","inject","now","useNow","loggedIn","currentPage","showFlashMessage","onBeforeMount","onMounted","getUserTimezone","_updateUserStore","apply","arguments","updateUserStore","makeVideoTopRight","isMobile","ottClass","ott","document","getElementById","scrollIntoView","Inertia","reload","navigateToCreateTeam","visit","extractNumericValue","str","numericValue","parseFloat","isNaN","myTotalStorageUsedNumeric","props","myTotalStorageUsed","notTvTotalStorageUsedNumeric","notTvTotalStorageUsed","myTotalStoragePercentage","computed","toFixed","Math","round","createShowWithNoTeamButton","showModal","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","id","isAdmin","isCreator","isNewsPerson","isVip","isSubscriber","hasAccount","getUserDataCompleted","timezone","userTimezone","console","log","prevUrl","userSubscribedToNotifications","subscribeToUserNotifications","updateUserTimezone","stop","ref","value","Intl","DateTimeFormat","resolvedOptions","timeZone","_ref","_callee","response","_context","axios","post","sent","data","message","t0","error","team","concat"],"sourceRoot":""}