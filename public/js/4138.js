/*! For license information please see 4138.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4138,5398],{55398:(e,t,n)=>{n.r(t),n.d(t,{useNewsStore:()=>f});var r=n(69876),o=n(87879),i=n(83004);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",y="suspendedYield",m="executing",g="completed",v={};function w(){}function b(){}function x(){}var E={};d(E,s,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var N=x.prototype=w.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,s,c){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=P(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:y,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(_.prototype),d(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(N),d(N,u,"Generator"),d(N,s,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function u(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}var p=function(){return{id:null,slug:"",title:"",content:"",newsPerson:[],category:{},subCategory:{},city:{},province:{},federalElectoralDistrict:{},subnationalElectoralDistrict:{},country:[],image:{},status:[],video:{},created_at:"",published_at:"",cachedContent:{},categories:[],subCategories:[],type:"",displayText:"",newsPersons:[],citySearchItems:[],showEditor:!1,showNewsPersonSelector:!1,showCategoryCitySelector:!1,citySelectDropdownVisible:!1,showSaveMessage:!1,focusedIndex:0,searchQuery:"",filters:[],search:"",errors:[],newsStoryStatuses:{},newsStoryId:"",isLoadingCategoryCityData:!1,isLoading:!0,processing:!1,latestStories:[],newsStories:[],currentPage:1,totalPages:1,selectedSubCategoryId:"",selectedSubCategoryName:"",selectedSubCategoryDescription:"",selectedCategoryId:null,selectedCityId:null,selectedFederalDistrictId:null,selectedSubnationalDistrictId:null}},f=(0,r.Q_)("newsStore",{state:p,actions:{reset:function(){Object.assign(this,{id:null,slug:"",title:"",content:"",newsPerson:[],category:{},subCategory:{},city:{},province:{},federalElectoralDistrict:{},subnationalElectoralDistrict:{},country:[],image:{},status:[],video:{},created_at:"",published_at:"",cachedContent:{},categories:[],subCategories:[],type:"",displayText:"",newsPersons:[],citySearchItems:[],showEditor:!1,showNewsPersonSelector:!1,showCategoryCitySelector:!1,citySelectDropdownVisible:!1,showSaveMessage:!1,focusedIndex:0,searchQuery:"",filters:[],search:"",errors:[],newsStoryStatuses:{},newsStoryId:"",isLoadingCategoryCityData:!1,isLoading:!0,processing:!1,latestStories:[],newsStories:[],currentPage:1,totalPages:1,selectedSubCategoryId:"",selectedSubCategoryName:"",selectedSubCategoryDescription:"",selectedCategoryId:null,selectedCityId:null,selectedFederalDistrictId:null,selectedSubnationalDistrictId:null})},initializeNewsStore:function(e){this.id=e.id,this.slug=e.slug,this.title=e.title,this.status=e.status,this.content=e.content,this.newsPerson=e.newsPerson,this.category=e.category,this.subCategory=e.subCategory,this.city=e.city,this.province=e.province,this.federalElectoralDistrict=e.federalElectoralDistrict,this.subnationalElectoralDistrict=e.subnationalElectoralDistrict,this.image=e.image,this.video=e.video,this.created_at=e.created_at,this.published_at=e.published_at,this.cachedContent=e.cachedContent},toggleCategoryCitySelector:function(){this.showCategoryCitySelector=!this.showCategoryCitySelector},toggleNewsPersonSelector:function(){this.showNewsPersonSelector=!this.showNewsPersonSelector},setSelectedCategory:function(){var e=this,t=this.categories.find((function(t){return t.id===e.news_category_id}));this.selectedCategory=t||null,this.news_category_sub_id,3===this.news_category_id?this.setSelectedLocation():this.resetLocationIds()},fetchCategories:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoadingCityData=!0,t.prev=1,t.next=4,fetch("/api/news/categories");case 4:if(!(n=t.sent).ok){t.next=11;break}return t.next=8,n.json();case 8:e.categories=t.sent,t.next=12;break;case 11:console.error("Failed to fetch categories:",n.statusText);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.error("Error fetching categories:",t.t0);case 17:return t.prev=17,e.isLoadingCityData=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})))()},fetchCitiesForSearch:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/news/cities");case 3:if(!(n=t.sent).ok){t.next=10;break}return t.next=7,n.json();case 7:e.citySearchItems=t.sent,t.next=11;break;case 10:console.error("Failed to fetch locations:",n.statusText);case 11:e.isLoadingCityData=!1,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("Error fetching locations:",t.t0),e.isLoadingCityData=!1;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},setSelectedLocation:function(){var e=this;this.city={},this.province={},this.federalElectoralDistrict={},this.subnationalElectoralDistrict={};var t=null;if(this.city.id?t=this.citySearchItems.find((function(t){return t.id===e.city.id&&("city"===t.type||"town"===t.type)})):this.province.id?t=this.citySearchItems.find((function(t){return t.id===e.province.id&&"province"===t.type})):this.federalElectoralDistrict.id?t=this.citySearchItems.find((function(t){return t.id===e.federalElectoralDistrict.id&&"federalElectoralDistrict"===t.type})):this.subnationalElectoralDistrict.id&&(t=this.citySearchItems.find((function(t){return t.id===e.subnationalElectoralDistrict.id&&"subnationalElectoralDistrict"===t.type}))),t)switch(t.type){case"city":case"town":this.city={id:t.id,name:t.name,type:t.type},this.province={id:t.province.id,name:t.province.name},this.displayText="".concat(t.name,", ").concat(t.province.name);break;case"province":this.province={id:t.id,name:t.name,type:t.type},this.displayText=t.name;break;case"federalElectoralDistrict":this.federalElectoralDistrict={id:t.id,name:t.name,type:t.type},this.displayText=t.name;break;case"subnationalElectoralDistrict":this.subnationalElectoralDistrict={id:t.id,name:t.name,type:t.type},this.displayText=t.name;break;default:this.displayText=""}else this.displayText=""},fetchCitiesAndCategories:function(){var e=this;return d(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCitiesForSearch();case 2:e.setSelectedLocation();case 3:case"end":return t.stop()}}),t)})))()},updateSelectedLocation:function(e){if(!e)return this.city={},this.province={},this.federalElectoralDistrict={},this.subnationalElectoralDistrict={},void(this.displayText="");switch(this.selectedLocation=e,this.displayText=this.getDisplayTextForType(e.type),this.city={},this.province={},this.federalElectoralDistrict={},this.subnationalElectoralDistrict={},this.displayText=this.getDisplayTextForType(e.type),e.type){case"city":case"town":this.city={id:e.id,name:e.name,province:e.province},this.province={id:e.province.id,name:e.province.name},this.displayText="".concat(e.name,", ").concat(e.province.name);break;case"province":case"territory":this.province={id:e.id,name:e.name,type:e.type},this.displayText=e.name;break;case"federalElectoralDistrict":this.federalElectoralDistrict={id:e.id,name:e.name,type:e.type},this.displayText=e.name;break;case"subnationalElectoralDistrict":this.subnationalElectoralDistrict={id:e.id,name:e.name,type:e.type},this.displayText=e.name;break;default:this.displayText=""}},getDisplayTextForType:function(e){switch(e){case"city":return this.type="city","City";case"town":return this.type="town","Town";case"province":return this.type="province","Province";case"territory":return this.type="territory","Territory";case"federalElectoralDistrict":return this.type="federalElectoralDistrict","Federal Electoral District";case"subnationalElectoralDistrict":return this.type="subnationalElectoralDistrict","Subnational Electoral District";default:return""}},setSearchInput:function(e){this.search=e},resetLocationIds:function(e){if(this.city_id=null,this.province_id=null,this.federal_electoral_district_id=null,this.subnational_electoral_district_id=null,e)switch(e.type){case"city":this.city_id=e.city_id,this.province_id=e.province_id;break;case"province":case"territory":this.province_id=e.province_id;break;case"federalElectoralDistrict":this.federal_electoral_district_id=e.federal_electoral_district_id;break;case"subnationalElectoralDistrict":this.subnational_electoral_district_id=e.subnational_electoral_district_id}},updateSearch:function(e){this.search=e},fetchNewsPersons:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("get news persons"),t.prev=1,t.next=4,fetch("/api/news/persons");case 4:return n=t.sent,t.next=7,n.json();case 7:e.newsPersons=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("Failed to fetch news persons:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},setNewsPerson:function(e){this.newsPerson=e},submit:function(){var e=this;return d(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.processing=!0,n={id:e.id,title:e.title,status:e.status.id,content:e.content,news_category_id:e.category.id,news_category_sub_id:e.subCategory.id,city_id:e.city.id,province_id:e.province.id,federal_electoral_district_id:e.federalElectoralDistrict.id,subnational_electoral_district_id:e.subnationalElectoralDistrict.id,type:e.type,news_person_id:e.newsPerson.id},t.prev=2,!e.id){t.next=8;break}return t.next=6,o.Nd.patch(route("newsStory.update",e.slug),n,{onError:function(t){e.errors=t,e.processing=!1},onSuccess:function(){e.processing=!1}});case 6:t.next=10;break;case 8:return t.next=10,o.Nd.post(route("newsStory.store"),n,{onError:function(t){e.errors=t,e.processing=!1},onSuccess:function(){e.processing=!1}});case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error("An unexpected error occurred:",t.t0),e.processing=!1;case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))()},publish:function(e){var t=this;return d(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Nd.patch(route("newsroom.publish",e),{onError:function(e){t.errors=e,t.processing=!1,notificationStore.setToastNotification(e,"error")},onSuccess:function(){t.processing=!1,(0,i.useNotificationStore)().setToastNotification("News story published successfully.","success")}});case 2:case"end":return n.stop()}}),n)})))()},changeNewsStoryStatus:function(e){document.getElementById("newsStoryStatusChangeModal").close(),o.Nd.patch(route("news.story.changeStatus"),{newsStory_id:this.newsStoryId,new_status_id:e},{onError:function(e){console.error("Error changing status:",e)}})},fetchNewsStories:function(){var e=arguments,t=this;return d(l().mark((function n(){var r,o,i,a,c,u,d,p;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:null,o=e.length>1&&void 0!==e[1]?e[1]:null,i=e.length>2&&void 0!==e[2]?e[2]:null,a=e.length>3&&void 0!==e[3]?e[3]:null,c=e.length>4&&void 0!==e[4]?e[4]:null,u=e.length>5&&void 0!==e[5]?e[5]:1,n.prev=6,n.next=9,axios.get("/news-stories",{params:{news_category_id:r,news_category_sub_id:o,city_id:i,federal_district_id:a,subnational_district_id:c,page:u}});case 9:d=n.sent,p=d.data,t.newsStories=1===u?p.data:[].concat(s(t.newsStories),s(p.data)),t.currentPage=p.current_page,t.totalPages=p.last_page,n.next=19;break;case 16:n.prev=16,n.t0=n.catch(6),console.error("Failed to fetch news stories:",n.t0);case 19:case"end":return n.stop()}}),n,null,[[6,16]])})))()},filterStoriesBySubCategory:function(e,t,n){this.selectedSubCategoryId=e,this.selectedSubCategoryName=t,this.selectedSubCategoryDescription=n,this.fetchNewsStories(this.selectedCategoryId,e,this.selectedCityId,this.selectedFederalDistrictId,this.selectedSubnationalDistrictId,1)},resetFilter:function(){this.selectedSubCategoryId=null,this.selectedSubCategoryName="",this.selectedSubCategoryDescription=""},updateSelectedSubCategory:function(e){this.selectedSubCategoryId=e},initializeLatestStories:function(e,t,n){this.latestStories=e,this.selectedCategoryId=t,this.selectedCityId=n}},getters:{filteredNewsStories:function(e){return e.selectedSubCategoryId?e.newsStories:e.latestStories},filteredCitySearchItems:function(e){return e.search?e.citySearchItems.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())})):e.citySearchItems},searchInput:function(e){return e.city.id?"".concat(e.city.name,", ").concat(e.province.name):e.province.id?e.province.name:e.federalElectoralDistrict.id?e.federalElectoralDistrict.name:e.subnationalElectoralDistrict.id?e.subnationalElectoralDistrict.name:e.search},locationType:function(e){if(!e.selectedLocation)return e.type="",e.displayText="","location type is not set";switch(e.selectedLocation.type){case"city":e.type="city",e.displayText="City";break;case"town":e.type="town",e.displayText="Town";break;case"province":e.displayText="Province",e.type="province";break;case"territory":e.displayText="Territory",e.type="territory";break;case"federalElectoralDistrict":e.displayText="Federal Electoral District",e.type="federalElectoralDistrict";break;case"subnationalElectoralDistrict":e.displayText="Subnational Electoral District",e.type="subnationalElectoralDistrict";break;default:e.displayText=""}return"location type is set"}}})},24831:(e,t,n)=>{n.d(t,{U:()=>c});var r=n(70821),o=n(90771),i=n(58358),a=n(40191),s=n(87879);function c(e){var t=(0,o.useUserStore)(),n=(0,i.useAppSettingStore)(),c=(0,a.useVideoPlayerStore)();n.currentPage=e,n.showFlashMessage=!0,n.pageIsHidden=!1,t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:(0===n.ott&&(n.ott=4),n.showOttButtons=!0),c.makeVideoTopRight(),n.pageReload&&(n.pageReload=!1,n.pageWasReloaded=!0,window.location.reload()),s.Nd.on("navigate",(function(e){t.isMobile||window.innerWidth<1024||n.fullPage?n.ott=0:0===n.ott&&(n.ott=4),""!==window.location.search&&!n.shouldScrollToTop||requestAnimationFrame((function(){var e=document.getElementById("topDiv");e?e.scrollIntoView({behavior:"auto"}):window.scrollTo(0,0)})),n.shouldScrollToTop=!1})),n.setPrevUrl(),n.showOttButtons=!0,n.noLayout=!1,(0,r.watch)((function(){return n.isSmallScreen}),(function(e){n.ott=e?0:4}),{immediate:!0})}},98526:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([e.id,".checkbox-container[data-v-da98797a]{align-items:center;display:flex}.checkbox[data-v-da98797a]{margin-right:8px}","",{version:3,sources:["webpack://./resources/js/Components/Global/Uploaders/ImageUpload.vue"],names:[],mappings:"AA0GA,qCAEE,kBAAmB,CADnB,YAEF,CAEA,2BACE,gBACF",sourcesContent:['<template>\n  <div class="">\n    <div class="max-full mx-auto mt-2 mb-6 bg-gray-200 p-6 text-black">\n      <h2 class="text-xl font-semibold">{{ name }}</h2>\n      <ul class="pb-4">\n        <li>Max File Size: <span class="text-orange-400">{{ maxSize }}</span></li>\n        <li>File Types accepted: <span class="text-orange-400">{{ fileTypes }}</span></li>\n      </ul>\n\n      <div class="checkbox-container mb-4">\n        <input type="checkbox" id="removeExif" v-model="removeExif" class="checkbox checkbox-md">\n        <label for="removeExif" class="checkbox-label">Remove EXIF data</label>\n      </div>\n\n\n      <file-pond\n          name="image"\n          ref="pond"\n          class-name="my-pond"\n          allow-multiple="false"\n          label-idle="Click to choose file, or drag here..."\n          :server="`/upload?modelType=${props.modelType}&modelId=${props.modelId}&removeExif=${removeExif}`"\n          accepted-file-types="image/jpeg, image/png"\n          @init="handleFilePondInit"\n          @processfile="handleProcessedFile"\n          :max-file-size="maxSize"\n          allowRemove="false"\n          allowRevert="false"\n      />\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport vueFilePond from \'vue-filepond\'\nimport FilePondPluginFileValidateType from \'filepond-plugin-file-validate-type\'\nimport FilePondPluginFileValidateSize from \'filepond-plugin-file-validate-size\'\nimport FilePondPluginImagePreview from \'filepond-plugin-image-preview\'\nimport \'filepond/dist/filepond.min.css\'\nimport \'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\'\nimport { ref } from \'vue\'\n\nlet props = defineProps({\n  image: Object,\n  name: String,\n  metadataKey: String,\n  metadataValue: String,\n  modelType: String,\n  modelId: Number,\n  maxSize: String,\n  fileTypes: String,\n})\n\nconst myFiles = ref([\'\']);\n\nconst emit = defineEmits([\'reloadImage\', \'imageUploaded\'])\n\nconst FilePond = vueFilePond(\n    FilePondPluginFileValidateType,\n    FilePondPluginFileValidateSize,\n    FilePondPluginImagePreview,\n)\n\n// Define reactive variables\nconst removeExif = ref(false);\nconst maxSize = ref(\'30MB\');\nconst fileTypes = ref([\'image/png\', \'image/jpeg\']);\n// const modelType = \'yourModelType\'; // Replace with your actual model type\n// const modelId = \'yourModelId\'; // Replace with your actual model ID\n\nconst serverOptions = ref({\n  process: {\n    url: `/upload?modelType=${props.modelType}&modelId=${props.modelId}`,\n    method: \'POST\',\n    withCredentials: false,\n    // headers: {},\n    // onload: (response) => response.key,\n    // onerror: (response) => response.data,\n  },\n});\n\n\n// function filepondInitialized() {\n//   console.log(\'Filepond is ready!\')\n// }\n\nfunction handleFilePondInit() {\n  console.log(\'FilePond has initialized\');\n}\n\nfunction handleProcessedFile(error, file) {\n  if (error) {\n    console.log(\'Filepond processed file\')\n    console.log(error)\n    console.log(file)\n    return\n  }\n\n  emit(\'reloadImage\')\n}\n\n\n<\/script>\n\n<style scoped>\n.checkbox-container {\n  display: flex;\n  align-items: center; /* Align items vertically */\n}\n\n.checkbox {\n  margin-right: 8px; /* Space between the checkbox and the label */\n}\n</style>'],sourceRoot:""}]);const s=a},14607:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([e.id,".fade-enter-active[data-v-6493ea3a],.fade-leave-active[data-v-6493ea3a]{transition:opacity .5s}.fade-enter[data-v-6493ea3a],.fade-leave-to[data-v-6493ea3a]{opacity:0}","",{version:3,sources:["webpack://./resources/js/Pages/News/Stories/{$id}/Edit.vue"],names:[],mappings:"AAsGA,wEACE,sBACF,CAEA,6DACE,SACF",sourcesContent:['<template>\n\n  <Head title="Edit News Post"/>\n\n  <div class="place-self-center flex flex-col gap-y-3">\n    <div v-if="newsStore.isLoading" class="bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10">\n      <span class="loading loading-spinner text-info"></span>\n      <span class="ml-4">Loading... please wait.</span>\n      </div>\n    <div v-else id="topDiv" class="bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10">\n\n      <Message v-if="appSettingStore.showFlashMessage" :flash="$page.props.flash"/>\n      <JetValidationErrors class="ml-4"/>\n\n      <NewsEditHeader :can="can" />\n\n      <div class="p-6 border-b border-gray-200">\n\n        <div class="flex flex-wrap justify-between gap-3">\n          <NewsSelectPersonContainer :can="can" class="flex-grow"/>\n          <ChangeNewsImage />\n        </div>\n\n        <NewsCategoryCityContainer />\n\n        <div class="py-4 px-6 mb-6 bg-white shadow rounded-lg">\n\n          \x3c!-- Prompt the user to restore cached content --\x3e\n          \x3c!-- TipTapNewsEditor is inside here, in NewsEditComponent --\x3e\n          <NewsRestoreCachedContent />\n\n          <div class="flex justify-end items-center">\n            <transition name="fade">\n              <div v-if="newsStore.showSaveMessage" class="save-message text-xs mr-2 text-green-500">\n                Content cached\n              </div>\n            </transition>\n            <button\n                @click="newsStore.submit"\n                class="text-white bg-blue-700 hover:bg-blue-500 focus:outline-none font-medium rounded-lg text-sm px-5 py-2"\n                :disabled="newsStore.processing"\n                :class="{ \'opacity-25\': newsStore.processing }"\n            >\n              Save\n            </button>\n            <JetValidationErrors class="ml-4"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineAsyncComponent, onMounted, onUnmounted } from \'vue\'\nimport { usePageSetup } from \'@/Utilities/PageSetup\'\nimport { useAppSettingStore } from \'@/Stores/AppSettingStore\'\nimport { useNewsStore } from \'@/Stores/NewsStore\'\nimport JetValidationErrors from \'@/Jetstream/ValidationErrors\'\nimport Message from \'@/Components/Global/Modals/Messages\'\nimport \'vue-select/dist/vue-select.css\';\nimport NewsEditHeader from \'@/Components/Pages/News/NewsEditHeader.vue\'\nimport NewsRestoreCachedContent from \'@/Components/Pages/News/NewsRestoreCachedContent.vue\'\nimport ChangeNewsImage from \'@/Components/Pages/News/ChangeNewsImage.vue\'\nconst NewsCategoryCityContainer = defineAsyncComponent({\n  loader: () => import(\'@/Components/Pages/News/NewsCategoryCityContainer.vue\'),\n  loadingComponent: { template: \'<p>Loading...</p>\' },\n  errorComponent: { template: \'<p>Error loading component</p>\' },\n})\nconst NewsSelectPersonContainer = defineAsyncComponent({\n  loader: () => import(\'@/Components/Pages/News/NewsSelectPersonContainer.vue\'),\n  loadingComponent: { template: \'<p>Loading...</p>\' },\n  errorComponent: { template: \'<p>Error loading component</p>\' },\n})\n\nusePageSetup(\'newsEdit\')\n\nconst appSettingStore = useAppSettingStore()\nconst newsStore = useNewsStore()\n\nconst props = defineProps({\n  newsStory: Object,\n  cachedContent: Object,\n  can: Object,\n  errors: Object,\n})\n\nnewsStore.errors = props.errors; // This will contain the error messages\n\nonMounted(() => {\n  newsStore.initializeNewsStore(props.newsStory)\n  if (props.cachedContent) {\n    newsStore.cachedContent = props.cachedContent\n  }\n  newsStore.isLoading = false\n})\n\nonUnmounted(() => {\n  newsStore.reset();\n})\n<\/script>\n<style scoped>\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s;\n}\n\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n</style>'],sourceRoot:""}]);const s=a},19204:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(70821),o=n(87879),i=n(58358),a=n(90771);const s={__name:"CancelButton",props:{url:String},setup:function(e){var t=(0,i.useAppSettingStore)(),n=(0,a.useUserStore)(),s=e;function c(){if(t.prevUrl)s.url?o.Nd.visit(s.url):o.Nd.visit(t.prevUrl);else if(s.url)o.Nd.visit(s.url);else{var e=n.isCreator?"/dashboard":"/";o.Nd.visit(e)}}return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("button",{onClick:(0,r.withModifiers)(c,["prevent"]),class:"ml-2 px-4 py-2 text-white bg-orange-600 hover:bg-orange-500 rounded-lg"},"Cancel ")])}}}},59369:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(70821),o=n(87879),i=n(58358);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",y="suspendedYield",m="executing",g="completed",v={};function w(){}function b(){}function x(){}var E={};d(E,c,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var N=x.prototype=w.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,s,c){var l=f(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=P(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:y,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(_.prototype),d(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(N),d(N,u,"Generator"),d(N,c,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var l={class:"mx-4 my-4"},u={key:0,class:"alert alert-info mt-4"},d=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p={key:1,class:"alert alert-success mt-4 mx-3"},f=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),h={key:2,class:"alert alert-warning mt-4 mx-3"},y=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),m={key:3,class:"alert alert-error mt-4 mx-3"},g=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1);const v={__name:"Messages",props:{flash:Object},setup:function(e){(0,i.useAppSettingStore)().showFlashMessage=!0;var t=e,n=((0,r.computed)((function(){return{"text-green-700 bg-green-100 dark:bg-green-200 dark:text-green-800":t.flash.success,"text-blue-700 bg-blue-100 dark:bg-blue-200 dark:text-blue-800":t.flash.message,"text-orange-700 bg-orange-100 dark:bg-orange-200 dark:text-orange-800":t.flash.warning,"text-red-700 bg-red-100 dark:bg-red-200 dark:text-red-800":t.flash.error}})),function(){var e,t=(e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Nd.post(route("flash.clear"));case 2:o.Nd.reload();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return function(e,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.unref)(t).flash.message?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.message),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.success?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,[f,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.success),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.warning?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,[y,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.warning),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0),(0,r.unref)(t).flash.error?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[g,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)((0,r.unref)(t).flash.error),1),(0,r.createElementVNode)("button",{class:"text-xs ml-12",onClick:n}," Close")])):(0,r.createCommentVNode)("",!0)])}}}},80293:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(70821),o=n(61658),i=n.n(o),a=n(90521),s=n.n(a),c=n(18236),l=n.n(c),u=n(72965),d=n.n(u),p=(n(62869),n(61712),{class:""}),f={class:"max-full mx-auto mt-2 mb-6 bg-gray-200 p-6 text-black"},h={class:"text-xl font-semibold"},y={class:"pb-4"},m={class:"text-orange-400"},g={class:"text-orange-400"},v={class:"checkbox-container mb-4"},w=function(e){return(0,r.pushScopeId)("data-v-da98797a"),e=e(),(0,r.popScopeId)(),e}((function(){return(0,r.createElementVNode)("label",{for:"removeExif",class:"checkbox-label"},"Remove EXIF data",-1)}));const b={__name:"ImageUpload",props:{image:Object,name:String,metadataKey:String,metadataValue:String,modelType:String,modelId:Number,maxSize:String,fileTypes:String},emits:["reloadImage","imageUploaded"],setup:function(e,t){var n=t.emit,o=e,a=((0,r.ref)([""]),n),c=i()(s(),l(),d()),u=(0,r.ref)(!1),b=(0,r.ref)("30MB"),x=(0,r.ref)(["image/png","image/jpeg"]);(0,r.ref)({process:{url:"/upload?modelType=".concat(o.modelType,"&modelId=").concat(o.modelId),method:"POST",withCredentials:!1}});function E(){console.log("FilePond has initialized")}function S(e,t){if(e)return console.log("Filepond processed file"),console.log(e),void console.log(t);a("reloadImage")}return function(t,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",p,[(0,r.createElementVNode)("div",f,[(0,r.createElementVNode)("h2",h,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("ul",y,[(0,r.createElementVNode)("li",null,[(0,r.createTextVNode)("Max File Size: "),(0,r.createElementVNode)("span",m,(0,r.toDisplayString)(b.value),1)]),(0,r.createElementVNode)("li",null,[(0,r.createTextVNode)("File Types accepted: "),(0,r.createElementVNode)("span",g,(0,r.toDisplayString)(x.value),1)])]),(0,r.createElementVNode)("div",v,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"checkbox",id:"removeExif","onUpdate:modelValue":n[0]||(n[0]=function(e){return u.value=e}),class:"checkbox checkbox-md"},null,512),[[r.vModelCheckbox,u.value]]),w]),(0,r.createVNode)((0,r.unref)(c),{name:"image",ref:"pond","class-name":"my-pond","allow-multiple":"false","label-idle":"Click to choose file, or drag here...",server:"/upload?modelType=".concat((0,r.unref)(o).modelType,"&modelId=").concat((0,r.unref)(o).modelId,"&removeExif=").concat(u.value),"accepted-file-types":"image/jpeg, image/png",onInit:E,onProcessfile:S,"max-file-size":b.value,allowRemove:"false",allowRevert:"false"},null,8,["server","max-file-size"])])])}}};var x=n(93379),E=n.n(x),S=n(98526),k={insert:"head",singleton:!1};E()(S.Z,k);S.Z.locals;const N=(0,n(83744).Z)(b,[["__scopeId","data-v-da98797a"]])},30131:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(70821),o=n(87879),i={key:0},a=(0,r.createElementVNode)("div",{class:"font-medium text-red-600"}," Whoops! Something went wrong. ",-1),s={class:"mt-3 list-disc list-inside text-sm text-red-600"};const c={__name:"ValidationErrors",setup:function(e){var t=(0,r.computed)((function(){return(0,o.qt)().props.errors})),n=(0,r.computed)((function(){return Object.keys(t.value).length>0}));return function(e,o){return n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,[a,(0,r.createElementVNode)("ul",s,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.value,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("li",{key:t},(0,r.toDisplayString)(e),1)})),128))])])):(0,r.createCommentVNode)("",!0)}}}},34138:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var r=n(70821),o=n(24831),i=n(58358),a=n(55398),s=n(30131),c=n(59369),l=(n(24932),n(19204)),u={class:"flex flex-row justify-between mt-6"},d=(0,r.createElementVNode)("h2",{class:"text-xl font-semibold leading-tight"}," Edit News Post ",-1),p={class:"flex justify-end space-x-2"},f={class:""},h=["disabled"];const y={__name:"NewsEditHeader",props:{can:Object},setup:function(e){var t=(0,i.useAppSettingStore)(),n=(0,a.useNewsStore)();return function(o,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",u,[d,(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",null,[e.can.viewNewsroom?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:i[0]||(i[0]=function(e){return(0,r.unref)(t).btnRedirect("/newsroom")}),class:"px-4 py-2 text-white bg-yellow-600 hover:bg-yellow-500 rounded-lg disabled:bg-gray-400"},"Newsroom ")):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",f,[(0,r.createElementVNode)("button",{onClick:i[1]||(i[1]=(0,r.withModifiers)((function(){var e;return(0,r.unref)(n).submit&&(e=(0,r.unref)(n)).submit.apply(e,arguments)}),["prevent"])),class:(0,r.normalizeClass)(["text-white bg-blue-700 hover:bg-blue-500 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5",{"opacity-25":(0,r.unref)(n).processing}]),disabled:(0,r.unref)(n).processing}," Save ",10,h)]),(0,r.createElementVNode)("div",null,[(0,r.createVNode)(l.Z)])])])}}};var m=n(83004);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(){v=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",y="completed",m={};function w(){}function b(){}function x(){}var E={};l(E,a,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(D([])));k&&k!==n&&r.call(k,a)&&(E=k);var N=x.prototype=w.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==g(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=P(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?y:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(g(t)+" is not iterable")}return b.prototype=x,o(N,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},C(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(N),l(N,c,"Generator"),l(N,a,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function w(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,s,"next",e)}function s(e){w(i,r,o,a,s,"throw",e)}a(void 0)}))}}var x={key:0};const E={__name:"NewsRestoreCachedContent",setup:function(e){var t=(0,r.defineAsyncComponent)({loader:function(){return Promise.all([n.e(8898),n.e(1041)]).then(n.bind(n,51041))},loadingComponent:{template:"<p>Loading...</p>"},errorComponent:{template:"<p>Error loading component</p>"}}),o=(0,a.useNewsStore)(),i=(0,m.useNotificationStore)();return(0,r.watch)((function(){return i.confirmation}),(function(e){null!==e&&(e&&o.initializeNewsStore(o.cachedContent),i.clearConfirmNotification(),o.showEditor=!0)})),(0,r.onMounted)(b(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.clearConfirmNotification(),o.cachedContent?i.setConfirmNotification("Confirmation Needed","You have unsaved changes from your previous session. Do you want to load them?"):o.showEditor=!0;case 2:case"end":return e.stop()}}),e)})))),function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.unref)(o).showEditor?((0,r.openBlock)(),(0,r.createElementBlock)("div",x,[(0,r.createVNode)((0,r.unref)(t))])):(0,r.createCommentVNode)("",!0)])}}};var S=n(80293),k=n(25543);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function C(){C=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:L(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",y="completed",m={};function g(){}function v(){}function w(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(D([])));E&&E!==n&&r.call(E,a)&&(b=E);var S=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==N(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=P(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?y:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(N(t)+" is not iterable")}return v.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:v,configurable:!0}),v.displayName=l(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function _(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var L={class:"w-full flex justify-between gap-2"};const P={__name:"ChangeNewsImage",setup:function(e){var t=(0,a.useNewsStore)(),n=(0,m.useNotificationStore)(),o=function(e){console.log(e),t.image=e},i=function(){var e,r=(e=C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/api/remove-image",{modelId:t.id,modelType:"newsStory",imageId:t.image.id});case 3:t.image=null,n.setToastNotification("Image removed.","info"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error removing image:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,s,"next",e)}function s(e){_(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return function(e,n){return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",L,[(0,r.createVNode)(k.Z,{image:(0,r.unref)(t).image,alt:"image",class:(0,r.normalizeClass)("skeleton max-w-20 max-h-20 object-contain")},null,8,["image"]),(0,r.unref)(t).image?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:i,class:"btn btn-danger mt-2"},"Remove Image")):(0,r.createCommentVNode)("",!0)]),((0,r.openBlock)(),(0,r.createBlock)(S.Z,{image:(0,r.unref)(t).image,modelType:"newsStory",modelId:"".concat((0,r.unref)(t).id),name:"Upload News Image",maxSize:"30MB",fileTypes:"image/jpg, image/jpeg, image/png",onImageUploaded:o,key:(0,r.unref)(t).image},null,8,["image","modelId"]))])}}};var I=function(e){return(0,r.pushScopeId)("data-v-6493ea3a"),e=e(),(0,r.popScopeId)(),e},T={class:"place-self-center flex flex-col gap-y-3"},j={key:0,class:"bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10"},D=[I((function(){return(0,r.createElementVNode)("span",{class:"loading loading-spinner text-info"},null,-1)})),I((function(){return(0,r.createElementVNode)("span",{class:"ml-4"},"Loading... please wait.",-1)}))],V={key:1,id:"topDiv",class:"bg-white text-black dark:bg-gray-800 dark:text-gray-50 p-5 mb-10"},O={class:"p-6 border-b border-gray-200"},F={class:"flex flex-wrap justify-between gap-3"},B={class:"py-4 px-6 mb-6 bg-white shadow rounded-lg"},A={class:"flex justify-end items-center"},G={key:0,class:"save-message text-xs mr-2 text-green-500"},M=["disabled"];const z={__name:"Edit",props:{newsStory:Object,cachedContent:Object,can:Object,errors:Object},setup:function(e){var t=(0,r.defineAsyncComponent)({loader:function(){return n.e(7697).then(n.bind(n,37697))},loadingComponent:{template:"<p>Loading...</p>"},errorComponent:{template:"<p>Error loading component</p>"}}),l=(0,r.defineAsyncComponent)({loader:function(){return n.e(9735).then(n.bind(n,9735))},loadingComponent:{template:"<p>Loading...</p>"},errorComponent:{template:"<p>Error loading component</p>"}});(0,o.U)("newsEdit");var u=(0,i.useAppSettingStore)(),d=(0,a.useNewsStore)(),p=e;return d.errors=p.errors,(0,r.onMounted)((function(){d.initializeNewsStore(p.newsStory),p.cachedContent&&(d.cachedContent=p.cachedContent),d.isLoading=!1})),(0,r.onUnmounted)((function(){d.reset()})),function(n,o){var i=(0,r.resolveComponent)("Head");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(i,{title:"Edit News Post"}),(0,r.createElementVNode)("div",T,[(0,r.unref)(d).isLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",j,D)):((0,r.openBlock)(),(0,r.createElementBlock)("div",V,[(0,r.unref)(u).showFlashMessage?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(c.Z),{key:0,flash:n.$page.props.flash},null,8,["flash"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)((0,r.unref)(s.Z),{class:"ml-4"}),(0,r.createVNode)(y,{can:e.can},null,8,["can"]),(0,r.createElementVNode)("div",O,[(0,r.createElementVNode)("div",F,[(0,r.createVNode)((0,r.unref)(l),{can:e.can,class:"flex-grow"},null,8,["can"]),(0,r.createVNode)(P)]),(0,r.createVNode)((0,r.unref)(t)),(0,r.createElementVNode)("div",B,[(0,r.createVNode)(E),(0,r.createElementVNode)("div",A,[(0,r.createVNode)(r.Transition,{name:"fade"},{default:(0,r.withCtx)((function(){return[(0,r.unref)(d).showSaveMessage?((0,r.openBlock)(),(0,r.createElementBlock)("div",G," Content cached ")):(0,r.createCommentVNode)("",!0)]})),_:1}),(0,r.createElementVNode)("button",{onClick:o[0]||(o[0]=function(){var e;return(0,r.unref)(d).submit&&(e=(0,r.unref)(d)).submit.apply(e,arguments)}),class:(0,r.normalizeClass)(["text-white bg-blue-700 hover:bg-blue-500 focus:outline-none font-medium rounded-lg text-sm px-5 py-2",{"opacity-25":(0,r.unref)(d).processing}]),disabled:(0,r.unref)(d).processing}," Save ",10,M),(0,r.createVNode)((0,r.unref)(s.Z),{class:"ml-4"})])])])]))])],64)}}};var R=n(93379),U=n.n(R),Z=n(14607),Y={insert:"head",singleton:!1};U()(Z.Z,Y);Z.Z.locals;const $=(0,n(83744).Z)(z,[["__scopeId","data-v-6493ea3a"]])}}]);
//# sourceMappingURL=4138.js.map